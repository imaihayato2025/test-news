
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="fd4f923d-bad4-58da-95b9-55a87cb6b19c")}catch(e){}}();
(globalThis.TURBOPACK=globalThis.TURBOPACK||[]).push(["object"==typeof document?document.currentScript:void 0,{604868:e=>{"use strict";e.s({useIsMobile:()=>r,useIsTablet:()=>a,useMediaQuery:()=>i});var t=e.i(6530772);let n=!1,i=(e,i)=>{let r=[`(max-width: ${e}px)${null!=i?",":""}`,null!=i?`(max-height: ${i}px)`:null].filter(Boolean).join(" "),[a,o]=(0,t.useState)(()=>n?window.innerWidth<=e||void 0!==i&&window.innerHeight<=i:void 0),s=(0,t.useRef)(a);return(0,t.useEffect)(()=>{s.current=a},[a]),(0,t.useEffect)(()=>{let t=()=>{o(a.matches)};void 0===s.current&&o(window.innerWidth<=e||void 0!==i&&window.innerHeight<=i),n=!0;let a=window.matchMedia(r);return a.addEventListener("change",t),a.matches&&o(!0),()=>{a.removeEventListener("change",t)}},[e,i,r]),a},r=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:600;return i(e)},a=()=>i(960)},6948956:e=>{"use strict";e.s({ArrowUp:()=>t});let t=(0,e.i(6895406).withNewIcon)('<path fill-rule="evenodd" clip-rule="evenodd" d="M8.70711 1.39644C8.31659 1.00592 7.68342 1.00592 7.2929 1.39644L2.21968 6.46966L1.68935 6.99999L2.75001 8.06065L3.28034 7.53032L7.25001 3.56065V14.25V15H8.75001V14.25V3.56065L12.7197 7.53032L13.25 8.06065L14.3107 6.99999L13.7803 6.46966L8.70711 1.39644Z" fill="currentColor"/>')},104622:e=>{"use strict";function t(){return new Promise(e=>{setTimeout(e,100),requestAnimationFrame(()=>{setTimeout(e,0)})})}e.s({awaitPaint:()=>t,withAwaitPaint:()=>i});let n=new WeakMap;function i(e){if(n.has(e))return n.get(e);let i=function(){for(var n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];t().then(()=>e(...i))};return n.set(e,i),i}},9542446:e=>{"use strict";e.s({DashboardButtonLink:()=>h,DashboardLink:()=>d,useLink:()=>u,useNavLinks:()=>f});var t=e.i(6645307),n=e.i(6530772),i=e.i(2362802),r=e.i(4564279),a=e.i(779616),o=e.i(225464),s=e.i(8436499),l=e.i(806167),c=e.i(4985295);function u(){let e=(0,a.useLinkContext)(),t=(0,n.useRef)(e);return t.current=e,(0,n.useCallback)((e,n)=>{let i=o.Routes[e]?.rewrite||e,r=[],a=i.replace(/\[(?<param>.*?)\]/g,(e,i)=>{let a=n?.params?.[i]||t.current.params[i];return a||(r.push(e),e)});return r.length?(t.current.isLoading||n?.throwOnMissingParam,""):`${a}${n?.search?`?${new URLSearchParams(n.search).toString()}`:""}${n?.hash||""}`},[])}function d(e){let{route:n,params:r,search:a,hash:o,throwOnMissingParam:s=!1,children:l,...c}=e,d=u();return(0,t.jsx)(i.Link,{href:d(n,{params:r,search:a,hash:o,throwOnMissingParam:s}),...c,children:l})}function h(e){let{route:n,params:r,search:a,hash:o,throwOnMissingParam:s=!1,children:l,...c}=e,d=u();return(0,t.jsx)(i.ButtonLink,{href:d(n,{params:r,search:a,hash:o,throwOnMissingParam:s}),...c,children:l})}function f(e,t){let i=u(),{searchParams:d}=(0,a.useLinkContext)(),{href:h,isLoading:f}=(0,c.useLinkStatus)(),m=(0,s.useVisibilityContext)(),p=(0,l.useRouteFlagPromises)(),g=t?.suspend!==!1,x=t?.preserveSearchParams||!1,v=(0,n.useRef)({});if(g)for(let t of e){let e;if((e="string"==typeof t?{route:t,meta:void 0}:t).hidden||"heading"in e)continue;let i=o.Routes[e.route];if(i&&(e.search&&(i=i.search?.[e.search]||i),e.hash&&(i=i.hash?.[e.hash]||i),i.flag)){let e=p[i.flag];e&&e instanceof Promise&&(v.current[i.flag]=(0,n.use)(e))}}let y=(0,n.useRef)(void 0);return(0,n.useMemo)(()=>{let t,n=-1,a=!1,s=!1,l=[];for(let c of e){let e;if((e="string"==typeof c?{route:c,meta:void 0}:c).hidden)continue;if("heading"in e){l.push({href:"",icon:null,label:e.heading,isActive:!1,isHeading:!0,meta:e.meta});continue}let u=o.Routes[e.route];if(!u)continue;if(e.search&&(u=u.search?.[e.search]||u),e.hash&&(u=u.hash?.[e.hash]||u),u.flag){let e=v.current[u.flag]??m.flags[u.flag];if(void 0===e&&(a=!0),!e)continue}else if(u.visible){if(!u.visible(m))continue}else a&&(s=!0);let p=e.label||u.label,g={href:i(e.route,{search:e.search||(x?d.toString():void 0),hash:e.hash})||`#${p.toLowerCase().replaceAll(" ","-")}`,icon:"icon"in e?e.icon:r.RouteIcons[p]||null,label:p,isActive:!1,isHeading:!1,meta:e.meta};u.canonical&&(g.canonical=i(u.canonical)),h&&g.href.length>(t?.href.length||0)&&(h===g.href||h===g.canonical||!f&&h.startsWith(g.href)||u.contains?.some(e=>h===i(e)))&&(t&&(t.isActive=!1),g.isActive=!0,t=g,n=l.length),l.push(g)}if(s)return{links:[],activeIndex:-1};for(let e=l.length;e--;)l[e].isHeading&&l[e+1]?.isHeading!==!1&&l.splice(e,1);return!t&&((t=y.current)?(t=l.find(e=>e.href===t?.href))&&(t.isActive=!0,n=l.indexOf(t)):n=-1),y.current=t,{links:l,activeIndex:n}},[e,i,x,d,h,m,f])}},647437:e=>{"use strict";let t;e.s({SWRAuthenticatedDeployment:()=>y,SWRAuthenticatedOwner:()=>x,SWRAuthenticatedProject:()=>v},647437);var n=e.i(6645307),i=e.i(3521787),r=e.i(7320579),a=e.i(6596127),o=e.i(3017647),s=e.i(5535439),l=e.i(5202469),c=e.i(8774211),u=(0,c.createServerReference)("7fe6c2d8da42eca4b7514df061ba9457f4dde88467",c.callServer,void 0,c.findSourceMapURL,"authenticateDeployment"),d=(0,c.createServerReference)("7fe17e59ce5e5b58be368b641ae0c87ad23ec6682b",c.callServer,void 0,c.findSourceMapURL,"authenticateOwner"),h=(0,c.createServerReference)("7f77df409d4be578f33acc8c2f067dfcc607eceb4f",c.callServer,void 0,c.findSourceMapURL,"authenticateProject");class f extends Error{scope;constructor(e){super(),this.name="AuthenticateOwnerError",this.scope=e,this.message=`Cannot authenticate owner: ${e}`}}let m=new Map,p=async(e,n)=>{let{params:i,authFn:r}=n;t||(t=(async()=>{await r(i),m.set(e,1)})(),await t,t=void 0)},g=e=>t=>{let n=(0,r.useSWRConfig)().cache,i=(0,s.useParams)(),c=(0,s.usePathname)();return(r,u,d)=>{let h=t(r,u,d);if(h.error&&403===h.error.status){let[t]=(0,a.serialize)(r);if((0,o.isLoggedIn)()&&!m.get(t))return p(t,{...e,params:i??{}}).catch(e=>{e instanceof f&&(e.scope&&(0,l.redirectToReauth)({redirect:s.redirect,scope:e.scope,next:c}),(0,l.redirectToLogin)({redirect:s.redirect,next:c}))}),{...h,...n.get(t)}}return h}};function x(e){let{children:t}=e;return(0,n.jsx)(i.SWRConfig,{value:{use:[g({authFn:d})]},children:t})}function v(e){let{children:t}=e;return(0,n.jsx)(i.SWRConfig,{value:{use:[g({authFn:h})]},children:t})}function y(e){let{children:t}=e;return(0,n.jsx)(i.SWRConfig,{value:{use:[g({authFn:u})]},children:t})}},7680023:e=>{"use strict";e.s({ClientAuthRedirect:()=>i});var t=e.i(5202469),n=e.i(5535439);function i(e){let{scope:i,isLimitedByMfa:r}=e,a=(0,n.usePathname)();return r&&(0,t.redirectToTwoFactorRequired)({redirect:n.redirect,scope:i,next:a}),i&&(0,t.redirectToReauth)({redirect:n.redirect,scope:i,next:a}),(0,t.redirectToLogin)({redirect:n.redirect,next:a}),null}},898874:e=>{"use strict";e.s({LayoutGroup:()=>l},898874);var t=e.i(6645307),n=e.i(6530772),i=e.i(6874474);let r=(0,n.createContext)(null);var a=e.i(4121889),o=e.i(2273395);let s=e=>!e.isLayoutDirty&&e.willUpdate(!1),l=e=>{let{children:l,id:c,inherit:u=!0}=e,d=(0,n.useContext)(i.LayoutGroupContext),h=(0,n.useContext)(r),[f,m]=function(){let e=function(){let e=(0,n.useRef)(!1);return(0,o.useIsomorphicLayoutEffect)(()=>(e.current=!0,()=>{e.current=!1}),[]),e}(),[t,i]=(0,n.useState)(0),r=(0,n.useCallback)(()=>{e.current&&i(t+1)},[t]);return[(0,n.useCallback)(()=>a.frame.postRender(r),[r]),t]}(),p=(0,n.useRef)(null),g=d.id||h;null===p.current&&((e=>!0==(!0===e)||"id"===e)(u)&&g&&(c=c?g+"-"+c:g),p.current={id:c,group:!0===u&&d.group||function(){let e=new Set,t=new WeakMap,n=()=>e.forEach(s);return{add:i=>{e.add(i),t.set(i,i.addEventListener("willUpdate",n))},remove:i=>{e.delete(i);let r=t.get(i);r&&(r(),t.delete(i)),n()},dirty:n}}()});let x=(0,n.useMemo)(()=>({...p.current,forceRender:f}),[m]);return(0,t.jsx)(i.LayoutGroupContext.Provider,{value:x,children:l})}},6114753:[e=>{"use strict";e.s({InternalHeading:()=>L,SubMenu:()=>j,SubMenuSkeleton:()=>k},6114753);var t=e.i(6645307),n=e.i(5610210),i=e.i(5674541),r=e.i(889716),a=e.i(4689185),o=e.i(7622263),s=e.i(2726686),l=e.i(898874),c=e.i(3454847),u=e.i(6530772),d=e.i(1164214),h=e.i(604868),f=e.i(6948956);e.s({SubMenuLink:()=>b,SubMenuLinkSkeleton:()=>S},8951662);var m=e.i(8084653),p=e.i(2769324),g=e.i(104622),x=e.i(2362802),v=e.i(6751292);let y={type:"tween",ease:"easeOut",duration:.15};function b(e){let{children:i,href:r,activeSegment:a,isActive:o,highlight:l=!1,highlightOnceKey:c,prefetch:h,prefetchStrategy:f,CustomLinkComponent:b}=e,[S,w]=(0,u.useState)(!1),j=o||S?"gray-1000":"gray-900",k="undefined"==typeof document||document.cookie.includes(`tab-${c}=1`);return(0,t.jsxs)(m.Text,{as:b??x.Link,className:(0,n.clsx)("ease-[easing-function:ease]  relative inline-block select-none px-3 py-4 no-underline",{"transition-colors duration-200":!o,'before:content-[""] before:block before:absolute before:right-[3px] before:top-3 before:w-1.5 before:h-1.5 before:rounded-[5px] before:bg-geist-link':!!(l&&!k),"before:bg-geist-error":"error"===l,"before:bg-geist-warning":"warning"===l}),style:{outlineOffset:-6},color:j,"data-active":o,"data-sub-menu-segment":a,"data-testid":a?(0,d.tid)("sub-menu-link",a):void 0,href:r,lineHeight:14,onClick:e=>{(0,v.isMac)()&&e.metaKey||e.ctrlKey||(0,g.awaitPaint)().then(()=>{l&&"undefined"!=typeof document&&c&&(document.cookie=`tab-${c}=1; path=/; max-age=7776000`)})},onPointerEnter:e=>{"mouse"===e.pointerType&&w(!0)},onPointerLeave:e=>{"mouse"===e.pointerType&&w(!1)},prefetch:void 0===h||h,prefetchStrategy:f,type:o?void 0:"secondary",children:[(0,t.jsx)(p.AnimatePresence,{children:S?(0,t.jsx)(s.m.div,{className:"contain-strict absolute inset-x-0 top-[7px] z-[-1] h-8 rounded-sm bg-gray-200",exit:{opacity:0},initial:{opacity:1},layoutId:"hover",transition:y}):null}),i]})}function S(){return(0,t.jsx)(m.Text,{as:"div",className:"ease-[easing-function:ease] outline-offset-[-6px]! relative inline-block select-none px-3 py-4 no-underline transition-colors duration-200",lineHeight:14,children:" "})}var w=e.i(4985295);function j(e){let{children:m}=e,{translateX:p}=function(){let e=(0,h.useIsMobile)(),{scrollY:t}=(0,a.useScroll)();return{translateX:(0,o.useTransform)(t,R,[0,36*!e])}}(),{scrollY:g}=(0,a.useScroll)(),[x,v]=(0,u.useState)(!1),y=(0,u.useRef)(null);return(0,c.useMotionValueEvent)(g,"change",e=>{e<300&&x?v(!1):e>300&&!x&&v(!0)}),(0,t.jsxs)(r.Stack,{align:"center",className:"sticky top-0 z-[calc(var(--header-zindex)_-_1)] -mt-2.5 touch-pan-x overflow-x-auto bg-background-100 shadow-[inset_0_-1px] shadow-gray-alpha-400 scrollbar-none","data-testid":(0,d.tid)("navbar","submenu"),direction:"row",children:[(0,t.jsxs)(s.m.div,{className:"flex h-[46px] items-center px-2 md:px-4 [&>*]:shrink-0",ref:y,style:{translateX:p},children:[(0,t.jsx)(l.LayoutGroup,{id:"tabs",children:m}),(0,t.jsx)(_,{containerRef:y})]}),(0,t.jsx)(r.Stack,{"aria-hidden":x,className:(0,n.clsx)("duration-250 ease-[easing-function:ease] ml-auto pr-6 transition-opacity max-[1100px]:hidden"),style:{opacity:+!!x,pointerEvents:x?"auto":"none"},children:(0,t.jsx)(i.Button,{"aria-label":"Scroll to top",onClick:function(){document.documentElement.scrollTo(0,0)},shape:"circle",size:"small",svgOnly:!0,type:"tertiary",tabIndex:x?0:-1,children:(0,t.jsx)(f.ArrowUp,{color:"gray-900"})})})]})}function k(){return(0,t.jsx)(r.Stack,{align:"center",className:"sticky top-0 z-[calc(var(--header-zindex)_-_1)] -mt-2.5 touch-pan-x overflow-x-auto bg-background-100 shadow-[inset_0_-1px] shadow-gray-alpha-400 scrollbar-none","data-testid":(0,d.tid)("navbar","submenu"),direction:"row",children:(0,t.jsx)(S,{})})}function L(){return(0,t.jsx)("div",{className:"mx-2 flex flex-row items-center",children:(0,t.jsx)("div",{className:"h-6 w-px flex-none bg-gray-300"})})}let R=[0,54];function _(e){let{containerRef:n}=e,{href:i,isLoading:r}=(0,w.useLinkStatus)(),a=(0,u.useRef)(null),o=(0,u.useRef)({}),s=(0,u.useCallback)((e,t)=>{o.current[e]=t;let n=a.current;n&&(n.style[e]=t)},[]);return(0,u.useEffect)(()=>{let e=n.current?.querySelector('[data-sub-menu-segment][data-active="true"]');if(!e?.parentElement)return;let t=e.parentElement.getBoundingClientRect(),i=e.getBoundingClientRect(),r=Math.round(i.width),a=i.left-t.left;s("transform",`translateX(${a}px) scaleX(${r/100})`),s("display","block")},[n,i,r,s]),(0,t.jsx)("div",{className:"absolute bottom-0 left-0 hidden h-[2px] w-[100px] origin-[0_0_0] bg-[var(--geist-foreground)] transition-transform duration-150",ref:a,style:{...o.current}})}},[8951662]],6596840:e=>{"use strict";e.s({default:()=>u});var t=e.i(6645307),n=e.i(6530772),i=e.i(2156254),r=e.i(8934201),a=e.i(584439),o=e.i(8084653),s=e.i(1183506),l=e.i(9336536),c=e.i(7315479);let u=n.default.memo(e=>{let{active:u,onClose:d,deploymentId:h,teamId:f}=e,[m,p]=(0,n.useState)(!1),g=(0,a.useToasts)(),x=(0,n.useCallback)(async()=>{if(h)try{p(!0),await (0,s.fetchAPI)(`${(0,l.API_PROJECTS_UNDELETE_DEPLOYMENT)(h)}?teamId=${encodeURIComponent(f??"")}`,{body:{},throwOnHTTPError:!0,method:"PATCH"}),await (0,i.mutate)(h),g.success("The deployment has been successfully restored."),d()}catch(t){let e=(0,c.normalizeError)(t);g.error(e.message)}finally{p(!1)}},[h,f,g,d]);return(0,t.jsxs)(r.Modal.Modal,{active:u,onClickOutside:d,width:"500px",children:[(0,t.jsxs)(r.Modal.Body,{children:[(0,t.jsx)(r.Modal.Header,{children:(0,t.jsx)(r.Modal.Title,{children:"Restore Deployment"})}),(0,t.jsx)(o.Text,{children:"Restoring a deployment is only successful, if within 30 days from deletion date."}),(0,t.jsx)(o.Text,{style:{margin:0},children:"Are you sure you want to restore this deployment?"})]}),(0,t.jsxs)(r.Modal.Actions,{children:[(0,t.jsx)(r.Modal.Action,{loading:!1,onClick:d,type:"secondary",children:"Close"}),(0,t.jsx)(r.Modal.Action,{disabled:m,loading:m,onClick:x,children:"Restore deployment"})]})]})})},5108467:e=>{"use strict";e.s({DeploymentSubMenu:()=>s});var t=e.i(6645307),n=e.i(6530772),i=e.i(6114753),r=e.i(8951662),a=e.i(9542446);function o(){let{links:e}=(0,a.useNavLinks)([{route:"/[teamSlug]/[project]/[id]",meta:{activeSegment:"(overview)"}},{route:"/[teamSlug]/[project]/[id]/logs",meta:{activeSegment:"logs"}},{route:"/[teamSlug]/[project]/[id]/resources",meta:{activeSegment:"resources"}},{route:"/[teamSlug]/[project]/[id]/source",meta:{activeSegment:"source"}},{route:"/[teamSlug]/[project]/[id]/og",meta:{activeSegment:"og"}},{heading:"Internal"},{route:"/[teamSlug]/[project]/[id]/bundle-sizes",meta:{activeSegment:"bundle-sizes"}},{route:"/[teamSlug]/[project]/[id]/routes",meta:{activeSegment:"routes"}}]);return(0,t.jsx)(i.SubMenu,{children:e.map(e=>e.isHeading?(0,t.jsx)(i.InternalHeading,{},"heading"):(0,t.jsx)(r.SubMenuLink,{activeSegment:e.meta?.activeSegment,href:e.href,isActive:e.isActive,children:e.label},e.label))})}function s(){return(0,t.jsx)(n.Suspense,{fallback:(0,t.jsx)(i.SubMenu,{}),children:(0,t.jsx)(o,{})})}},1355970:e=>{e.v({deletedBox:"retention-deleted-module__0tvHaW__deletedBox",deletedButton:"retention-deleted-module__0tvHaW__deletedButton",deletedButtons:"retention-deleted-module__0tvHaW__deletedButtons",deletedContainer:"retention-deleted-module__0tvHaW__deletedContainer",deletedDescription:"retention-deleted-module__0tvHaW__deletedDescription",deletedIcon:"retention-deleted-module__0tvHaW__deletedIcon",deletedTitle:"retention-deleted-module__0tvHaW__deletedTitle",learnMore:"retention-deleted-module__0tvHaW__learnMore"})},7573518:e=>{"use strict";e.s({ClientSideLayoutWrapper:()=>f},7573518);var t=e.i(6645307),n=e.i(5535439),i=e.i(9415891),r=e.i(6530772),a=e.i(5674541),o=e.i(889716),s=e.i(8084653),l=e.i(2362802),c=e.i(5140160),u=e.i(1355970),d=e.i(6596840);function h(e){let{deployment:i}=e,[h,f]=(0,r.useState)(!1),m=(0,n.useRouter)();return(0,t.jsxs)(o.Stack,{className:u.default.deletedContainer,children:[(0,t.jsxs)(o.Stack,{className:u.default.deletedBox,children:[(0,t.jsx)(c.Globe,{className:u.default.deletedIcon}),(0,t.jsxs)(o.Stack,{gap:4,children:[(0,t.jsxs)(o.Stack,{gap:2,children:[(0,t.jsx)(s.Text,{className:u.default.deletedTitle,children:"Deployment Not Found"}),(0,t.jsx)(s.Text,{className:u.default.deletedDescription,children:"The deployment was deleted due to this project's Deployment Retention settings"})]}),(0,t.jsxs)(o.Stack,{className:u.default.deletedButtons,children:[(0,t.jsx)(a.Button,{className:u.default.deletedButton,onClick:()=>{f(!0)},type:"secondary",children:"Restore"}),(0,t.jsx)(a.Button,{className:u.default.deletedButton,onClick:()=>{m.push("settings/security")},type:"secondary",children:"Settings"})]}),(0,t.jsxs)(l.Link,{className:u.default.learnMore,external:!0,href:"/docs/security/deployment-retention",children:[" ","Learn more"," "]})]})]}),(0,t.jsx)(d.default,{active:h,deploymentId:i.id,onClose:()=>window.location.reload(),teamId:i.ownerId})]})}function f(e){let{children:r}=e,{data:a,error:o}=(0,i.useDeploymentInterval)();return(o&&404===o.status&&(0,n.notFound)(),a?.deleted&&(0,n.notFound)(),a?.softDeletedByRetention)?(0,t.jsx)(h,{deployment:a}):r}}}]);

//# sourceMappingURL=095a7dad30d50657.js.map
//# debugId=fd4f923d-bad4-58da-95b9-55a87cb6b19c
