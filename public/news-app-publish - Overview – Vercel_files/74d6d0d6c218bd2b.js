
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="f6638d3b-2296-5ac9-95b3-5047b53628ce")}catch(e){}}();
(globalThis.TURBOPACK=globalThis.TURBOPACK||[]).push(["object"==typeof document?document.currentScript:void 0,{7738832:e=>{"use strict";e.s({Camera:()=>t});let t=(0,e.i(6895406).withNewIcon)('<path fill-rule="evenodd" clip-rule="evenodd" d="M1.5 3.5H3.5L5 1H11L12.5 3.5H14.5H16V5V12.5C16 13.8807 14.8807 15 13.5 15H2.5C1.11929 15 0 13.8807 0 12.5V5V3.5H1.5ZM4.78624 4.27174L5.84929 2.5H10.1507L11.2138 4.27174L11.6507 5H12.5H14.5V12.5C14.5 13.0523 14.0523 13.5 13.5 13.5H2.5C1.94772 13.5 1.5 13.0523 1.5 12.5V5H3.5H4.34929L4.78624 4.27174ZM9.75 8.5C9.75 9.4665 8.9665 10.25 8 10.25C7.0335 10.25 6.25 9.4665 6.25 8.5C6.25 7.5335 7.0335 6.75 8 6.75C8.9665 6.75 9.75 7.5335 9.75 8.5ZM11.25 8.5C11.25 10.2949 9.79493 11.75 8 11.75C6.20507 11.75 4.75 10.2949 4.75 8.5C4.75 6.70507 6.20507 5.25 8 5.25C9.79493 5.25 11.25 6.70507 11.25 8.5Z" fill="currentColor"/>')},216717:e=>{"use strict";function t(e){return new Promise(t=>{let i=new FileReader;i.addEventListener("load",e=>{let{target:i}=e;i?.result instanceof ArrayBuffer&&crypto.subtle.digest("SHA-1",i.result).then(e=>{t(function(e){let t=[],i=new DataView(e);for(let e=0;e<i.byteLength;e+=4){let a=i.getUint32(e).toString(16),s="00000000",n=(s+a).slice(-s.length);t.push(n)}return t.join("")}(e))}).catch(e=>console.error(e))}),i.readAsArrayBuffer(e)})}e.s({generateSHA1:()=>t},216717)},4210376:e=>{e.v({disabled:"input-module__Ogo2qq__disabled",errored:"input-module__Ogo2qq__errored",focused:"input-module__Ogo2qq__focused","has-border":"input-module__Ogo2qq__has-border",icon:"input-module__Ogo2qq__icon",input:"input-module__Ogo2qq__input","input-wrapper":"input-module__Ogo2qq__input-wrapper",right:"input-module__Ogo2qq__right",wrapper:"input-module__Ogo2qq__wrapper"})},1857280:e=>{"use strict";e.s({default:()=>l});var t=e.i(6645307),i=e.i(6530772),a=e.i(5610210),s=e.i(9362924),n=e.i(4576696),r=e.i(4210376);let l=e=>{let{autoFocus:l,children:o,disabled:d,errored:c,icon:u,iconRight:h,maxLength:m,placeholder:p,type:f,value:x,defaultValue:g,tabIndex:T,width:b,height:j,maxWidth:S,onInput:_,onKeyDown:v,margin:A,max:y,min:I,onChange:N,className:C,onPaste:w,onFocus:E,onBlur:O,readOnly:P,title:L,required:F,label:k,innerRef:R,spellCheck:G="false",border:M=!0,style:U,position:V,...D}=e,[$,H]=i.default.useState(l||!1),q=(0,s.useDisabled)(d),z=window.innerWidth<=600;return(0,t.jsxs)("div",{className:(0,a.clsx)("wrapper",r.default.wrapper,{[r.default.errored]:c,[r.default.focused]:$,[r.default.disabled]:q,[r.default["has-border"]]:M},C),style:{"--input-height":j?(0,n.px)(j):void 0,"--input-width":b?(0,n.px)(b):void 0,"--input-max-width":S?(0,n.px)(S):void 0,"--input-wrapper-margin":A||void 0,...U},...D,children:[u?(0,t.jsx)("span",{className:r.default.icon,children:u}):null,(0,t.jsxs)("div",{className:r.default["input-wrapper"],children:[(0,t.jsx)("input",{"aria-label":k||L||p,autoCapitalize:"off",autoComplete:"off",autoCorrect:"off",autoFocus:!z&&l,className:(0,a.clsx)(r.default.input),defaultValue:g,disabled:q,id:D.id,max:y,maxLength:m,min:I,onBlur:e=>{H(!1),O?.(e)},onChange:N?e=>{N?.(e.target.value)}:void 0,onFocus:e=>{H(!0),E?.(e)},onInput:_,onKeyDown:v,onPaste:w,placeholder:p,readOnly:P,ref:e=>{R&&R(e)},required:F,spellCheck:G,tabIndex:T,title:L||x?.toString()||p,type:f||"text",value:x}),o]}),h?(0,t.jsx)("span",{className:(0,a.clsx)(r.default.icon,"right"),children:h}):null]})}},1210249:e=>{e.v({input:"labeled-input-module__Kg8zea__input"})},6812185:e=>{"use strict";e.s({default:()=>l});var t=e.i(6645307),i=e.i(2531953),a=e.i(5610210),s=e.i(4576696),n=e.i(1857280),r=e.i(1210249);let l=e=>{let{className:l,label:o,labelPosition:d,labelWidth:c,position:u="left",width:h,height:m,maxWidth:p,disabled:f,maxLength:x,id:g,placeholder:T,style:b,value:j,onChange:S,..._}=e;return(0,t.jsxs)("div",{className:i.default.dynamic([["bce47b834c2e20e4",[h?(0,s.px)(h):"initial",m?(0,s.px)(m):"initial",p?`max-width: ${(0,s.px)(p)};`:"",c||"initial"]]])+" "+((0,a.clsx)("wrapper",d,l)||""),children:[(0,t.jsx)("div",{className:i.default.dynamic([["bce47b834c2e20e4",[h?(0,s.px)(h):"initial",m?(0,s.px)(m):"initial",p?`max-width: ${(0,s.px)(p)};`:"",c||"initial"]]])+" label",children:(0,t.jsx)("span",{title:o,className:i.default.dynamic([["bce47b834c2e20e4",[h?(0,s.px)(h):"initial",m?(0,s.px)(m):"initial",p?`max-width: ${(0,s.px)(p)};`:"",c||"initial"]]])+" geist-ellipsis",children:o})}),(0,t.jsx)(n.default,{..._,className:(0,a.clsx)("inner-input",r.default.input),position:u,width:h,height:m,maxWidth:p,disabled:f,maxLength:x,id:g,placeholder:T,style:b,value:j,onChange:S}),(0,t.jsx)(i.default,{id:"bce47b834c2e20e4",dynamic:[h?(0,s.px)(h):"initial",m?(0,s.px)(m):"initial",p?`max-width: ${(0,s.px)(p)};`:"",c||"initial"],children:`.wrapper.__jsx-style-dynamic-selector{width:${h?(0,s.px)(h):"initial"};height:${m?(0,s.px)(m):"initial"};${p?`max-width: ${(0,s.px)(p)};`:""};display:inline-flex}.wrapper.right.__jsx-style-dynamic-selector{flex-direction:row-reverse}.label.__jsx-style-dynamic-selector{background-color:var(--accents-1);border-style:solid;border-color:var(--accents-2);border-radius:var(--geist-radius)0 0 var(--geist-radius);color:var(--accents-4);max-width:${c||"initial"};padding:0 var(--geist-gap-half);border-width:1px 0 1px 1px;align-items:center;font-size:14px;display:flex}.wrapper.right.__jsx-style-dynamic-selector>.label.__jsx-style-dynamic-selector{border-width:1px 1px 1px 0}@media only screen and (max-device-width:780px) and (-webkit-min-device-pixel-ratio:0){.label.__jsx-style-dynamic-selector{font-size:16px}.wrapper.__jsx-style-dynamic-selector,.label.__jsx-style-dynamic-selector{height:calc(2*var(--geist-gap))}}`})]})}},9551456:e=>{"use strict";e.s({PERSONAL_ACCOUNT_SETTINGS_NAVIGATION_TITLES:()=>t,PERSONAL_ACCOUNT_SETTINGS_TITLES:()=>i});let t={general:{username:"Username",name:"Display Name",email:"Email",emailRouting:"Email Routing",avatar:"Avatar",id:"User ID",delete:"Delete Account",transfer:"Transfer"},billing:{plan:"Plan",paymentMethod:"Payment Method",remoteCaching:"Remote Caching",spendManagement:"Spend Management"}},i={general:"General",authentication:"Authentication",signInWithVercel:"Sign in with Vercel",teams:"Teams",domains:"Domains",billing:"Billing",invoices:"Invoices",tokens:"Tokens",notifications:"My Notifications",deploymentProtection:"Deployment Protection",activity:"Activity"}},9281461:e=>{"use strict";e.s({ProductionToolbarDisclaimer:()=>n});var t=e.i(6645307),i=e.i(8158100),a=e.i(8084653),s=e.i(2362802);function n(e){let{hasChanged:n,enabledInProduction:r}=e;return n||r?(0,t.jsxs)(i.Note,{fill:n,type:n?"warning":void 0,children:[n?(0,t.jsx)(a.Text,{as:"span",color:"inherit",weight:600,children:"This setting will take effect for new deployments."}):null,n&&r?" ":null,r?(0,t.jsxs)(t.Fragment,{children:["To use the toolbar in production your team members need the"," ",(0,t.jsx)(s.Link,{href:"https://chromewebstore.google.com/detail/vercel/lahhiofdgnbcgmemekkmjnpifojdaelb",variant:"blend",children:"Chrome extension"})," ","or to enable the toolbar for that domain in the toolbar menu. Learn more about using the"," ",(0,t.jsx)(s.Link,{href:"/docs/vercel-toolbar/in-production-and-localhost/add-to-production",variant:"blend",children:"toolbar in production"}),"."]}):null]}):null}},6216782:e=>{"use strict";e.s({TransferFieldset:()=>T});var t=e.i(6645307),i=e.i(6530772),a=e.i(5674541),s=e.i(6531164),n=e.i(611347),r=e.i(7238633),l=e.i(8350390),o=e.i(8084653),d=e.i(503726),c=e.i(2362802),u=e.i(3585235),h=e.i(5785123),m=e.i(260979),p=e.i(1795525),f=e.i(9551456),x=e.i(1343577),g=e.i(1155472);let T=(0,i.memo)(function(e){let{project:T,source:b}=e,{account:j,isTeam:S}=(0,d.useAccount)(),_=(0,p.useOpenTransferModal)(),{preload:v,enablePreload:A}=(0,p.usePreloadTransferModal)(),{can:y,isLoading:I}=(0,u.default)(),N=(0,i.useCallback)(()=>{_({source:b,preselectedProjects:T?[T]:void 0})},[_,T,b]),C=(0,i.useMemo)(()=>y(h.Action.Create,h.Resource.ProjectTransferOut),[y]),w=(0,i.useMemo)(()=>!!(j?.limited||!C||S&&null!=j.blocked||(T?.microfrontends?.groupIds.length??0)>0),[j,C,S,T]),E=(0,i.useMemo)(()=>(T?.microfrontends?.groupIds.length??0)>0?"You cannot transfer a project with microfrontends enabled. Please disable microfrontends before transferring.":"You need additional permissions to transfer projects.",[T]),O=(0,i.useMemo)(()=>{let e=T?"project":"projects";return S?`Transfer your ${e} to another team without downtime or workflow interruptions.`:`Get full access to collaborative features, multiple Concurrent Builds, and powerful Serverless Functions by transferring your ${e} to a Vercel Team.`},[S,T]),P=(0,i.useCallback)(()=>{v||A()},[v,A]);return!j||I?(0,t.jsx)(g.default,{height:81}):(0,t.jsx)("div",{onMouseEnter:P,children:(0,t.jsxs)(n.Fieldset,{children:[(0,t.jsxs)(s.FieldsetContent,{disabled:w,children:[(0,t.jsx)(x.FieldsetTitle,{id:S?m.TEAM_SETTINGS_NAVIGATION_TITLES.general.transfer:f.PERSONAL_ACCOUNT_SETTINGS_NAVIGATION_TITLES.general.transfer,children:S?m.TEAM_SETTINGS_NAVIGATION_TITLES.general.transfer:f.PERSONAL_ACCOUNT_SETTINGS_NAVIGATION_TITLES.general.transfer}),(0,t.jsx)(l.FieldsetSubtitle,{children:O})]}),(0,t.jsx)(r.FieldsetFooter,{highlight:w,children:w?(0,t.jsx)(o.Text,{as:"span",color:"gray-900",children:E}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(r.FieldsetFooter.Status,{children:(0,t.jsxs)("span",{children:["Learn more about"," ",(0,t.jsx)(c.Link,{external:!0,href:"/docs/projects/overview#transferring-a-project",variant:"highlight",children:"Transferring Projects"})]})}),(0,t.jsx)(r.FieldsetFooter.Actions,{children:(0,t.jsx)(a.Button,{onClick:N,size:"small",children:"Transfer"})})]})})]})})})},3396822:e=>{"use strict";e.s({default:()=>g});var t=e.i(6645307),i=e.i(6530772),a=e.i(7315479),s=e.i(6921100),n=e.i(5163670),r=e.i(8811733),l=e.i(889716),o=e.i(8084653),d=e.i(9495609),c=e.i(584439),u=e.i(2362802),h=e.i(1183506),m=e.i(9336536),p=e.i(3514588),f=e.i(6958389),x=e.i(9281461);let g=(0,i.memo)(function(e){let{error:g,isLoading:T,allowOverride:b,setAllowOverride:j,saving:S,handleSave:_,hasChangedValue:v,team:A,nextPreviewSetting:y,setNextPreviewSetting:I,nextProductionSetting:N,setNextProductionSetting:C}=function(){let{team:e,isLoading:t,mutate:s}=(0,p.useTeam)(),n=(0,c.useToasts)(),[r,l]=(0,i.useState)(!1),[o,d]=(0,i.useState)(null),u=e?.enablePreviewFeedback||"default",f=u.includes("-force")||!1,x=u.replace("-force",""),g=e?.enableProductionFeedback?.replace("-force","")||"default",[T,b]=(0,i.useState)(x),[j,S]=(0,i.useState)(g),[_,v]=(0,i.useState)(!0),A=!t&&(T!==x||j!==g);(0,i.useEffect)(()=>{v(!f)},[f]);let[y,I]=(0,i.useState)(!1);(0,i.useEffect)(()=>{t||y||(I(!0),b(x),S(g))},[t,y]);let N=async t=>{l(!0),d(null);let i="string"==typeof t?t:T,r="string"==typeof t?t:j;if(!_&&(i.endsWith("-force")||(i=`${i}-force`),r.endsWith("-force")||(r=`${r}-force`)),e)try{await (0,h.fetchAPI)(`${m.API_TEAMS}/${e.id}`,{method:"PATCH",body:{enablePreviewFeedback:i,enableProductionFeedback:r}}),s(),n.success("Updated the Vercel Toolbar setting successfully."),l(!1)}catch(e){d((0,a.normalizeError)(e))}};return{state:x,team:e,error:o,saving:r,isLoading:t,handleSave:N,hasChangedValue:A,nextPreviewSetting:T,setNextPreviewSetting:b,nextProductionSetting:j,setNextProductionSetting:S,allowOverride:_,setAllowOverride:v}}();return(0,t.jsx)("div",{id:"comments",children:(0,t.jsx)("div",{id:"toolbar",children:(0,t.jsxs)(f.ProjectSettingsFieldset,{description:"Enable the Vercel Toolbar on your Deployments.",disabled:e.disabled||!!A?.limited||T,error:g,highlightNote:e.disabled,note:e.disabled?(0,t.jsxs)(t.Fragment,{children:[" ","You need additional permissions to manage the Vercel Toolbar."]}):(0,t.jsxs)("span",{children:["Learn more about the"," ",(0,t.jsx)(u.Link,{external:!0,href:"/docs/workflow-collaboration/vercel-toolbar",variant:"highlight",children:"Vercel Toolbar"})]}),onSave:()=>_(),saveDisabled:T,saveLoading:S,title:"Vercel Toolbar",children:[(0,t.jsx)(l.Stack,{direction:{md:"row"},gap:4,children:T?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.Skeleton,{height:62,style:{flex:"1 0 0"}}),(0,t.jsx)(n.Skeleton,{height:62,style:{flex:"1 0 0"}})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{style:{flex:"1 0 0"},children:(0,t.jsxs)(s.Select,{label:"Pre-Production Deployments",onChange:e=>{I(e.target.value||"default")},value:y,children:[(0,t.jsx)("option",{value:"default",children:"Default (on)"}),(0,t.jsx)("option",{value:"on",children:"On"}),(0,t.jsx)("option",{value:"off",children:"Off"})]})}),(0,t.jsx)("div",{style:{flex:"1 0 0"},children:(0,t.jsxs)(s.Select,{label:"Production Deployments",onChange:e=>{C(e.target.value||"default")},value:N,children:[(0,t.jsx)("option",{value:"default",children:"Default (on)"}),(0,t.jsx)("option",{value:"on",children:"On"}),(0,t.jsx)("option",{value:"off",children:"Off"})]})})]})}),v||"off"!==N?(0,t.jsx)(r.Spacer,{}):null,(0,t.jsx)(x.ProductionToolbarDisclaimer,{enabledInProduction:"off"!==N,hasChanged:v}),(0,t.jsx)(r.Spacer,{}),(0,t.jsx)("div",{style:{borderBottom:"1px solid var(--accents-2)",display:"flex",width:"100%"}}),(0,t.jsx)(r.Spacer,{}),(0,t.jsx)(o.Text,{color:"gray-900",children:"Allow this setting to be overridden on the project level."}),(0,t.jsx)(r.Spacer,{y:.5}),(0,t.jsxs)("label",{style:{cursor:"pointer"},children:[(0,t.jsx)(d.Toggle,{checked:b,onChange:()=>j(!b),size:"large"}),(0,t.jsx)(r.Spacer,{inline:!0,x:.5}),(0,t.jsx)(o.Text,{as:"span",children:b?"Enabled":"Disabled"})]})]})})})})},4877110:[e=>{"use strict";e.s({default:()=>_},4877110);var t=e.i(6645307),i=e.i(2531953),a=e.i(2046740),s=e.i(6530772),n=e.i(5674541),r=e.i(6531164),l=e.i(8448595),o=e.i(611347),d=e.i(7238633),c=e.i(8350390),u=e.i(584439),h=e.i(6944370),m=e.i(9336536),p=e.i(503726),f=e.i(3904906),x=e.i(1857280),g=e.i(9551456),T=e.i(260979),b=e.i(1343577),j=e.i(1155472),S=e.i(1164214);let _=s.default.memo(function(e){let{account:i,mutate:a,isTeam:s}=(0,p.useAccount)();return!i||e.loading?(0,t.jsx)(j.default,{height:80}):(0,t.jsx)(v,{...e,account:i,disabled:e.disabled||i.limited,isTeam:s,revalidate:a})});class v extends s.PureComponent{constructor(e){super(e),this.state={error:null,value:e.isCreating?"":e.account?.name||""}}inputRef=null;onInputRef=e=>{this.inputRef=e};onSubmit=e=>{e.preventDefault(),this.setState({loading:!0,error:null}),this.props.isTeam?this.updateTeamName():this.updateUserName()};updateTeamName=()=>{(0,h.default)(`${m.API_TEAMS}/${this.props.account.id}`,{method:"PATCH",body:{name:(0,a.default)(this.state.value).replace("&#39;","'")}}).then(this.props.revalidate).then(()=>{u.toasts&&u.toasts.success("Your team's name has been updated."),this.setState({loading:!1})}).catch(e=>{this.setState({loading:!1,error:e})})};updateUserName=()=>{(0,h.default)(m.API_USER,{method:"PATCH",body:{name:(0,a.default)(this.state.value).replace("&#39;","'")}}).then(this.props.revalidate).then(()=>{u.toasts&&u.toasts.success("Your name has been updated."),this.setState({loading:!1})}).catch(e=>{this.setState({loading:!1,error:e})})};componentDidMount=()=>{this.props.autofocus&&!this.props.disabled&&this.focus()};focus=()=>{this.inputRef.focus(),this.inputRef.value.length&&this.inputRef.select()};componentDidUpdate=e=>{this.props.autofocus&&!this.props.disabled&&(!e.autofocus||e.disabled)&&this.focus()};render(){let{isTeam:e,isCreating:a,disabled:s}=this.props,{error:u}=this.state;return(0,t.jsxs)("div",{className:"jsx-6a67bb5d5c919d12",children:[(0,t.jsx)("form",{onSubmit:this.onSubmit,className:"jsx-6a67bb5d5c919d12",children:(0,t.jsxs)(o.Fieldset,{disabled:s,children:[(0,t.jsxs)(r.FieldsetContent,{children:[(0,t.jsx)(b.FieldsetTitle,{id:e||a?T.TEAM_SETTINGS_NAVIGATION_TITLES.general.name:g.PERSONAL_ACCOUNT_SETTINGS_NAVIGATION_TITLES.general.name,children:e||a?T.TEAM_SETTINGS_NAVIGATION_TITLES.general.name:g.PERSONAL_ACCOUNT_SETTINGS_NAVIGATION_TITLES.general.name}),(0,t.jsx)(c.FieldsetSubtitle,{children:e||a?`This is your team's visible name within ${f.PRODUCT}. For example, the name of your company or department.`:"Please enter your full name, or a display name you are comfortable with."}),(0,t.jsx)("div",{className:"jsx-6a67bb5d5c919d12 input",children:(0,t.jsx)(x.default,{disabled:this.state.loading,innerRef:this.onInputRef,maxLength:32,onChange:e=>this.setState({value:e}),value:this.state.value})})]}),(0,t.jsxs)(d.FieldsetFooter,{disabled:!1,highlight:s,children:[(0,t.jsx)(d.FieldsetFooter.Status,{children:u?(0,t.jsx)(l.ErrorText,{children:u.message}):s?"You need additional permissions to manage your team's name.":"Please use 32 characters at maximum."}),!s&&(0,t.jsx)(d.FieldsetFooter.Actions,{children:(0,t.jsx)(n.Button,{"data-testid":(0,S.tid)("account","name","save"),disabled:""===this.state.value.trim(),loading:this.state.loading,size:"small",children:"Save"})})]})]})}),(0,t.jsx)(i.default,{id:"6a67bb5d5c919d12",children:".input.jsx-6a67bb5d5c919d12{width:300px;max-width:100%}.input.jsx-6a67bb5d5c919d12>.wrapper{width:100%}"})]})}}e.s({SlugFieldset:()=>E},3914330);var A=e.i(5535439),y=e.i(2452546),I=e.i(1183506),N=e.i(4418725),C=e.i(909856),w=e.i(6812185);let E=(0,s.memo)(function(e){let{account:i,mutate:a,...s}=(0,p.useAccount)();if(e.teamSettings){if(!i||e.loading)return(0,t.jsx)(j.default,{height:102})}else if(!i)return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(j.default,{className:"geist-hide-on-mobile",height:80}),(0,t.jsx)(j.default,{className:"geist-show-on-mobile",height:164})]});return(0,t.jsx)(O,{...s,...e,disabled:e.disabled||i.limited,mutate:a,team:s.team??void 0,user:s.user??void 0})});function O(e){let{user:i,team:a,loading:h,disabled:p,isTeam:x,mutate:j}=e,S=(0,A.useRouter)(),_=(0,N.useTeamSlug)(),[v,E]=(0,s.useState)(a?.slug??i?.username),[O,P]=(0,s.useState)(null),[L,F]=(0,s.useState)(h||!1);return O&&"code"in O&&"too_many_requests"===O.code&&(O.message="You can only update this field three times per week. Please try again later."),(0,t.jsx)("div",{children:(0,t.jsx)("form",{onSubmit:e=>{var t,i;e.preventDefault(),F(!0),P(null);let s=v?.toLowerCase();s&&(a?(t=s,a&&(0,I.fetchAPI)(`${m.API_TEAMS}/${a.id}`,{method:"PATCH",body:JSON.stringify({slug:t}),throwOnHTTPError:!0}).then(e=>{e.slug!==_&&(window.location=`/${encodeURIComponent(e.slug)}/~/settings`),u.toasts.success("Your team's URL has been updated."),F(!1),(0,y.setScope)(t)}).catch(e=>{F(!1),P(e)})):(i=s,(0,I.fetchAPI)(m.API_USER,{method:"PATCH",body:JSON.stringify({username:i}),throwOnHTTPError:!0,wrapErrorsLegacy:!0}).then(()=>(0,C.jwtKVStoreInitialize)()).then(()=>{u.toasts.success("Your username has been updated."),F(!1)}).then(j).then(()=>S.refresh()).catch(e=>{F(!1),P(e)})))},children:(0,t.jsxs)(o.Fieldset,{disabled:!!p,children:[(0,t.jsxs)(r.FieldsetContent,{children:[(0,t.jsx)(b.FieldsetTitle,{id:x?T.TEAM_SETTINGS_NAVIGATION_TITLES.general.slug:g.PERSONAL_ACCOUNT_SETTINGS_NAVIGATION_TITLES.general.username,children:x?T.TEAM_SETTINGS_NAVIGATION_TITLES.general.slug:g.PERSONAL_ACCOUNT_SETTINGS_NAVIGATION_TITLES.general.username}),(0,t.jsx)(c.FieldsetSubtitle,{children:x?`This is your team’s URL namespace on ${f.PRODUCT}. Within it, your team can inspect their projects, check out any recent activity, or configure settings to their liking.`:`This is your URL namespace within ${f.PRODUCT}.`}),(0,t.jsx)(w.default,{className:void 0,disabled:L,label:`${f.PRODUCT_DOMAIN}/`,labelPosition:void 0,labelWidth:void 0,maxLength:48,maxWidth:"100%",onChange:e=>E(e),value:v,width:300})]}),(0,t.jsxs)(d.FieldsetFooter,{disabled:!1,highlight:!!p,children:[(0,t.jsx)(d.FieldsetFooter.Status,{children:O?(0,t.jsx)("div",{className:"md:pr-2",children:(0,t.jsx)(l.ErrorText,{children:O.message})}):(0,t.jsx)("span",{style:{textRendering:"optimizeSpeed"},children:p?"You need additional permissions to manage your team's slug.":"Please use 48 characters at maximum."})}),!p&&(0,t.jsx)(d.FieldsetFooter.Actions,{children:(0,t.jsx)(n.Button,{disabled:v?.trim()==="",loading:L,size:"small",children:"Save"})})]})]})})})}e.s({default:()=>q},3387863);var P=e.i(3336065),L=e.i(7738832),F=e.i(5163670),k=e.i(5175803),R=e.i(6143279),G=e.i(8934201),M=e.i(878537),U=e.i(216717),V=e.i(9439052);let D=(0,u.withToasts)(e=>{let{uploaded:i,onSkip:a,onUpdate:n}=e,r=(0,s.useMemo)(()=>{let e=i.width/i.height,t=(0,P.makeAspectCrop)({x:e>3?45:25,width:e>3?14:50,aspect:1},e);return t.y=e>3?0:50-t.height/2,t},[i]),l=(0,u.useToasts)(),o=(0,s.useRef)(!1),d=(0,s.useRef)(null),c=(0,s.useRef)(!1),[f,x]=(0,s.useState)(!1),[g,T]=(0,s.useState)(r),{team:b,loading:j}=(0,p.useAccount)();(0,s.useEffect)(()=>(o.current=!0,()=>o.current=!1),[]);let S=(0,s.useCallback)(e=>{l.error(e)},[l]),_=(0,s.useCallback)(async e=>{try{let t=await e();if(!o.current)return!1;return t}catch(e){if(!o.current)return!1;return x(!1),e.toString().toLowerCase().includes("failed to fetch")?S("A network error has occurred."):S(e.toString()),!1}},[S]),v=(0,s.useCallback)(async e=>{if(!o.current)return;let t=await (0,U.generateSHA1)(e);if(!o.current)return;let i=await _(()=>fetch(`${m.API_AVATARS}/${t}?head=1`));if(!1===i||!i.ok&&await _(()=>(0,h.default)(m.API_FILES_V2,{method:"POST",headers:{"Content-Type":"application/octet-stream","Content-Length":e.size,"x-now-digest":t,"x-now-size":e.size},body:e}))===!1)return;let a=b?`${m.API_TEAMS}/${b.id}`:m.API_USER;await _(()=>(0,h.default)(a,{method:"PATCH",body:JSON.stringify({avatar:t})}))!==!1&&(n&&(n(),l.success("Avatar has been updated.")),x(!1))},[b,n,l,_]),A=(0,s.useCallback)(()=>{!function(e,t,i){let a=Math.round(e.naturalWidth*(t.x/100)),s=Math.round(e.naturalHeight*(t.y/100)),n=Math.round(e.naturalWidth*(t.width/100)),r=Math.round(e.naturalHeight*(t.height/100)),l=document.createElement("canvas");l.width=n,l.height=r,l.getContext("2d").drawImage(e,a,s,n,r,0,0,n,r),l.toBlob(i)}(d.current,g,v)},[g,v]),y=(0,s.useCallback)(e=>{d.current=e,c.current&&(A(),c.current=!1)},[A]),I=(0,s.useCallback)(()=>{x(!0),d.current?A():c.current=!0},[A]);return(0,t.jsx)(R.Keyboard,{handlers:{ENTER:I},useKeys:!0,children:(0,t.jsxs)(G.Modal,{active:!0,onClickOutside:a,children:[(0,t.jsxs)(G.Modal.Body,{children:[(0,t.jsx)(P.default,{crop:g,disabled:f,keepSelection:!0,onChange:T,onImageLoaded:y,src:i.dataURL}),(0,t.jsx)(V.default,{})]}),(0,t.jsxs)(G.Modal.Actions,{children:[(0,t.jsx)(G.Modal.Action,{onClick:a,type:"ghost",children:"Cancel"}),(0,t.jsx)(G.Modal.Action,{disabled:j||f,loading:f,onClick:I,children:"Set Avatar"})]})]})})}),$=s.default.memo(D),H=s.default.memo(e=>{let{size:a=80,isCreating:n,disabled:r,loading:l}=e,o=(0,s.useRef)(!1),d=(0,s.useRef)(),[c,u]=(0,s.useState)(null),[h,m]=(0,s.useState)(!1),{user:f,team:x,account:g,mutate:T}=(0,p.useAccount)();(0,s.useEffect)(()=>(o.current=!0,()=>o.current=!1),[]);let b=(0,s.useCallback)(e=>{let[t]=e.target.files,i=new FileReader;i.addEventListener("load",()=>{if(!o.current)return;let e=i.result,t=new Image;t.src=e,t.onload=()=>{if(!o.current)return;let{height:i,width:a}=t;u({dataURL:e,width:a,height:i}),m(!0)}}),window.DataTransferItem&&t instanceof DataTransferItem&&(t=t.getAsFile()),i.readAsDataURL(t)},[]),j=(0,s.useCallback)(()=>{d.current&&(d.current.value=""),u(null),m(!1)},[]),S=(0,s.useMemo)(()=>n?(0,t.jsx)(M.default,{center:!0,style:{width:a,height:a,borderRadius:"50%",border:"1px solid var(--accents-2)",background:"var(--geist-background)"},children:(0,t.jsx)(L.Camera,{})}):!g||l?(0,t.jsx)(F.Skeleton,{height:a,rounded:!0,width:a}):(0,t.jsx)(k.Avatar,{hash:g.avatar,size:a,teamId:x?.id,title:g.name||g.slug||g.username||g.email,uid:f?.uid}),[n,l,f,x,g,a]),_=(0,s.useCallback)(e=>{e.preventDefault(),!r&&d.current&&d.current.click()},[r]);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("button",{disabled:r,onClick:_,tabIndex:"0",className:i.default.dynamic([["55f3ef6886ebc12f",[r?"not-allowed":"pointer",r?`
              pointer-events: none;
              filter: saturate(0);
              opacity: 0.3;
            `:""]]])+" geist-reset",children:[S,(0,t.jsx)(i.default,{id:"55f3ef6886ebc12f",dynamic:[r?"not-allowed":"pointer",r?`
              pointer-events: none;
              filter: saturate(0);
              opacity: 0.3;
            `:""],children:`button.__jsx-style-dynamic-selector{cursor:${r?"not-allowed":"pointer"};${r?`
              pointer-events: none;
              filter: saturate(0);
              opacity: 0.3;
            `:""};border-radius:50%;font-size:0;transition:all .2s;display:inline-block;overflow:visible}button.__jsx-style-dynamic-selector:hover{filter:brightness(.9)}button.__jsx-style-dynamic-selector:focus{box-shadow:0 0 0 2px var(--accents-4);outline:none}`})]}),(0,t.jsx)("input",{accept:"image/png,image/jpeg","aria-label":"Upload Avatar",className:"geist-visually-hidden",onChange:b,ref:d,type:"file"}),h&&c?(0,t.jsx)($,{onSkip:j,onUpdate:()=>{T(),j()},uploaded:c}):null]})}),q=s.default.memo(function(e){let{isCreating:a,loading:s,disabled:n,...l}=e,{account:u,isTeam:h,isLoading:m}=(0,p.useAccount)();return m||s?(0,t.jsx)(j.default,{height:55}):(0,t.jsxs)(o.Fieldset,{disabled:n||!!u?.limited,children:[(0,t.jsxs)(r.FieldsetContent,{children:[(0,t.jsxs)("div",{className:"jsx-bb8dccab58423263 avatar",children:[(0,t.jsx)(H,{disabled:n,isCreating:a,loading:l.loading}),(0,t.jsx)(i.default,{id:"bb8dccab58423263",children:".avatar.jsx-bb8dccab58423263{float:right;display:flex}"})]}),(0,t.jsx)(b.FieldsetTitle,{id:h||a?T.TEAM_SETTINGS_NAVIGATION_TITLES.general.avatar:g.PERSONAL_ACCOUNT_SETTINGS_NAVIGATION_TITLES.general.avatar,children:h||a?T.TEAM_SETTINGS_NAVIGATION_TITLES.general.avatar:g.PERSONAL_ACCOUNT_SETTINGS_NAVIGATION_TITLES.general.avatar}),(0,t.jsxs)(c.FieldsetSubtitle,{children:[h||a?"This is your team's avatar. ":"This is your avatar. ",(0,t.jsx)("br",{}),"Click on the avatar to upload a custom one from your files."]})]}),(0,t.jsx)(d.FieldsetFooter,{disabled:!1,highlight:n,children:(0,t.jsx)(d.FieldsetFooter.Status,{children:n?"You need additional permissions to manage your team's avatar.":"An avatar is optional but strongly recommended."})})]})});e.s({IdFieldset:()=>B},2079938);var z=e.i(209032);let B=(0,s.memo)(function(e){let{id:i}=e,{account:a,isTeam:s}=(0,p.useAccount)();return a?(0,t.jsxs)(o.Fieldset,{disabled:a.limited,children:[(0,t.jsxs)(r.FieldsetContent,{children:[(0,t.jsx)(b.FieldsetTitle,{id:s?T.TEAM_SETTINGS_NAVIGATION_TITLES.general.id:g.PERSONAL_ACCOUNT_SETTINGS_NAVIGATION_TITLES.general.id,children:s?T.TEAM_SETTINGS_NAVIGATION_TITLES.general.id:g.PERSONAL_ACCOUNT_SETTINGS_NAVIGATION_TITLES.general.id}),(0,t.jsx)(c.FieldsetSubtitle,{children:s?`This is your team's ID within ${f.PRODUCT}.`:`This is your user ID within ${f.PRODUCT}.`}),(0,t.jsx)(z.Snippet,{prompt:!1,text:i})]}),(0,t.jsx)(d.FieldsetFooter,{children:(0,t.jsxs)(d.FieldsetFooter.Status,{children:["Used when interacting with the ",f.PRODUCT," API."]})})]}):(0,t.jsx)(j.default,{height:81})})},[3914330,3387863,2079938]],5444345:e=>{"use strict";e.s({transform:()=>i});var t=e.i(7315479);let i=e=>{if(void 0===e)return{reasons:[]};let i=e.fields,a=[];return i.forEach(e=>{switch(e.type){case"select":a.push(...function(e){let t=[];for(let i of e)if(i.selected){if("other"===i.id&&i.reveals?.value){t.push({slug:i.id,description:i.reveals.value});continue}if("other"===i.id)continue;t.push({slug:i.id,description:i.label})}return t}(e.options));break;case"text":if(!e.value)break;a.push({slug:e.id,description:e.value});break;default:(0,t.exhaustivenessCheck)(e)}}),{reasons:a}}},7388120:e=>{"use strict";function t(e){let{user:t,teams:i}=e;return t?.version==="northstar"&&1===i.length&&i[0].billing?.plan==="hobby"}function i(e){let{team:t,teams:i}=e,a=i.filter(e=>e.billing?.plan==="hobby");return 1===a.length&&a[0].id===t.id}e.s({isTeamLastHobbyTeam:()=>i,onlyTeamIsHobbyTeam:()=>t})}}]);

//# sourceMappingURL=f99a8a6a9be854a3.js.map
//# debugId=f6638d3b-2296-5ac9-95b3-5047b53628ce
