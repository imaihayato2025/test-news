
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="56e8375c-81e9-5592-aa36-b4963d748b59")}catch(e){}}();
(globalThis.TURBOPACK=globalThis.TURBOPACK||[]).push(["object"==typeof document?document.currentScript:void 0,{4594552:e=>{"use strict";e.s({useProjectAvatar:()=>i});var t=e.i(6530772),r=e.i(1686832),n=e.i(9415891),a=e.i(1000331);function i(e,i,o){let{data:u=o?.project,mutate:s,isLoading:l,isValidating:c}=(0,a.useDashboardProject)({teamSlug:e,projectSlug:i}),{data:d,isLoading:f}=(0,n.useDeploymentInterval)({keepPreviousData:!0}),m=(0,t.useRef)(void 0),p=!f&&d?.public&&d.project?{...d.project,productionDeployment:{id:d.id}}:u;return(0,t.useEffect)(()=>{if(d?.readyState){if(!m.current){m.current=d.readyState;return}"production"===d.target&&"READY"===d.readyState&&"READY"!==m.current&&s(),m.current=d.readyState}},[d?.readyState,d?.target,s]),{data:(0,r.getProjectAvatar)(p),isLoading:l,isValidating:c,error:void 0,mutate:async()=>{let e=await s();return(0,r.getProjectAvatar)(e)}}}},5261442:e=>{"use strict";e.s({default:()=>i,useFaviconDataURL:()=>o});var t=e.i(3514588),r=e.i(3521787),n=e.i(4594552);let a=e=>{let{teamId:r,project:a}=e,{team:i}=(0,t.useTeam)(),{data:o,isLoading:u,isValidating:s,mutate:l,...c}=(0,n.useProjectAvatar)(r??i?.slug,a?.id),{src:d}=o??{};return{data:d?{src:d,isSquare:!1}:null,isLoading:u,isValidating:s,error:c.error,mutate:()=>l().then(e=>e?.src?{src:e.src,isSquare:!1}:null)}},i=a;function o(e){let{teamId:t,project:n}=e,{data:i}=a({teamId:t,project:n}),o=i?.src;return(0,r.default)(o?["favicon-data-uri",o]:null,e=>{let[,t]=e,r=new Image;return new Promise((e,n)=>{r.addEventListener("load",()=>{let t=document.createElement("canvas");t.width=r.width,t.height=r.height;let a=t.getContext("2d");if(!a)return void n(Error("Could not get canvas context"));a.drawImage(r,0,0),e(t.toDataURL())}),r.addEventListener("error",()=>{n(Error("Could not load image"))}),r.src=t})},{revalidateOnFocus:!1,revalidateIfStale:!1,revalidateOnReconnect:!1})}},1686832:e=>{"use strict";e.s({getProjectAvatar:()=>r});var t=e.i(6649026);function r(e){if(e&&e.id)return"productionDeployment"in e&&e.productionDeployment?{src:`/api/v0/deployments/${e.productionDeployment.id}/favicon${(0,t.encode)({teamId:e.accountId,project:e.name,readyState:e.productionDeployment.readyState})}`}:"targets"in e&&e.targets?.production?{src:`/api/v0/deployments/${e.targets.production.id}/favicon${(0,t.encode)({teamId:e.accountId,project:e.name,readyState:e.targets.production.readyState})}`}:{src:`/api/v0/deployments/${e.id}/favicon${(0,t.encode)({projectFramework:e.framework})}`}}},5355940:e=>{"use strict";e.s({useDashboardDeployment:()=>n},5355940);var t=e.i(3345839),r=e.i(6649026);function n(e,n){let{deploymentId:a,teamSlug:i,projectName:o}=e,u=a&&i&&o?function(e){let{deploymentId:t,teamSlug:n,projectName:a}=e;return`/v1/dashboard/deployments/${t}${(0,r.encode)({teamId:n,projectName:a,includeDeleted:!0})}`}({deploymentId:a.startsWith("dpl_")?a:`dpl_${a}`,teamSlug:i,projectName:o}):null;return(0,t.useIsomorphicSWR)(u,async(e,t)=>{var r;return(r=await t(e)).host=r.url,r},n)}},9415891:e=>{"use strict";e.s({useDeploymentInterval:()=>i,withThrottle:()=>u});var t=e.i(6530772),r=e.i(5535439),n=e.i(5355940),a=e.i(6676545);function i(e){let[i,o]=(0,t.useState)(0),[s,l]=(0,t.useState)(!1),c=(0,t.useRef)(!1),{teamSlug:d,project:f,id:m=""}=(0,r.useParams)()??{},p=(0,n.useDashboardDeployment)({deploymentId:m,teamSlug:d,projectName:f},{refreshInterval:i,revalidateOnFocus:s,...e}),{data:g,mutate:h}=p,v=g?.readyState,I=g?.aliasAssigned&&g.buildContainerFinishedAt||"ERROR"===v||"CANCELED"===v,P=(0,t.useMemo)(()=>u(m,()=>{h()}),[m,h]),{isListening:y}=(0,a.useDeploymentStatusPing)(I?void 0:g,P),S=!g||I||y;return(0,t.useEffect)(()=>{!y||I||c.current||(c.current=!0,P())},[I,y,P]),(0,t.useEffect)(()=>{o(3e3*!S)},[S]),(0,t.useEffect)(()=>{l(!I)},[I]),p}let o=new Map;function u(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100;return function(){for(var n=arguments.length,a=Array(n),i=0;i<n;i++)a[i]=arguments[i];if(!o.get(e))return o.set(e,!0),setTimeout(()=>{o.delete(e)},r),t(...a)}}},1902201:[e=>{"use strict";e.s({useAsyncValue:()=>i},1902201);var t=e.i(6530772),r=e.i(2505357);let n={data:void 0,isLoading:!0},a={data:void 0,isLoading:!1};function i(e,i){if(e)return i?n:a;let[o,u]=(0,t.useState)(i?n:a);return(0,t.useEffect)(()=>{if(!i)return;let e=!0;return i.then(t=>{e&&((0,r.isStreamError)(t)?u({data:void 0,error:t,isLoading:!1}):u({data:t,isLoading:!1}))},()=>{u(a)}),()=>{e=!1}},[i]),i?o:a}e.s({withThrottle:()=>u},6168322);let o=new Map;function u(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:500;return function(){for(var n=arguments.length,a=Array(n),i=0;i<n;i++)a[i]=arguments[i];if(!o.get(e))return o.set(e,!0),setTimeout(()=>{o.delete(e)},r),t(...a)}}},[6168322]],3345839:e=>{"use strict";e.s({useIsomorphicSWR:()=>l});var t=e.i(6530772),r=e.i(3521787),n=e.i(7320579),a=e.i(1497618),i=e.i(7631057),o=e.i(1902201),u=e.i(6168322),s=e.i(7244164);function l(e,l,d){let{isServer:f,config:m,fetcher:p,fallbackSource:g}=(0,a.useIsomorphicSwrContext)(!0),h=(0,t.useMemo)(()=>"function"==typeof l?(e,t)=>l(e,t):c,[l]),v=(0,t.useMemo)(()=>e=>{if(f)throw Error("useSWR: swrFetcher is not available on server");return h(e,p)},[f,h,p]),I="object"==typeof l?l:d,{ssr:P,...y}=I??{},S=g(e,h,(0,i.mergeConfig)(m,I),!1),{data:R,isLoading:A,error:E}=(0,o.useAsyncValue)(f,S),{cache:w}=(0,n.useSWRConfig)(),D=!!(e&&w.get(e)),T=(0,r.default)(!A||f||D?e:null,v,{...y,suspense:!1,fallback:{[(0,r.unstable_serialize)(e)]:R},revalidateOnMount:!f&&(y.revalidateOnMount??(!R&&!A))}),{mutate:C,isLoading:O,data:$}=T,b=(0,t.useMemo)(()=>(0,u.withThrottle)(e,()=>{(0,s.debug)(`Client fallback data fetch for ${e}`),C()},2e3),[e,C]);return(0,t.useEffect)(()=>{!E||O||$||b()},[E,b,O,$]),{...T,data:void 0!==T.data?T.data:R,isLoading:T.isLoading&&void 0===T.data||A&&!D||f}}function c(e,t){return t(e)}},6880253:e=>{"use strict";e.s({cache:()=>t.c});var t=e.i(1296944)},7095283:e=>{"use strict";e.s({default:()=>w,unstable_serialize:()=>A});var t=e.i(6530772),r=e.i(3521787),n=e.i(7320579),a=e.i(4024218),i=e.i(6880253),o=e.i(8885159),u=e.i(4880408),s=e.i(3970932),l=e.i(6960952),c=e.i(4092353),d=e.i(6596127),f=e.i(7543983),m=e.i(9709035);let p=()=>{},g=p(),h=Object,v=e=>e===g,I=new WeakMap,P=(e,t)=>h.prototype.toString.call(e)===`[object ${t}]`,y=0,S=e=>{let t,r,n=typeof e,a=P(e,"Date"),i=P(e,"RegExp"),o=P(e,"Object");if(h(e)!==e||a||i)t=a?e.toJSON():"symbol"==n?e.toString():"string"==n?JSON.stringify(e):""+e;else{if(t=I.get(e))return t;if(t=++y+"~",I.set(e,t),Array.isArray(e)){for(r=0,t="@";r<e.length;r++)t+=S(e[r])+",";I.set(e,t)}if(o){t="#";let n=h.keys(e).sort();for(;!v(r=n.pop());)v(e[r])||(t+=r+":"+S(e[r])+",");I.set(e,t)}}return t},R=e=>(e=>{if("function"==typeof e)try{e=e()}catch(t){e=""}let t=e;return[e="string"==typeof e?e:(Array.isArray(e)?e.length:e)?S(e):"",t]})(e?e(0,null):null)[0],A=e=>o.INFINITE_PREFIX+R(e),E=Promise.resolve(),w=(0,n.withMiddleware)(r.default,e=>(r,n,p)=>{let g,h=(0,t.useRef)(!1),{cache:v,initialSize:I=1,revalidateAll:P=!1,persistSize:y=!1,revalidateFirstPage:S=!0,revalidateOnMount:A=!1,parallel:w=!1}=p,[,,,D]=a.SWRGlobalState.get(i.cache);try{(g=R(r))&&(g=o.INFINITE_PREFIX+g)}catch(e){}let[T,C,O]=(0,u.createCacheHelper)(v,g),$=(0,t.useCallback)(()=>(0,s.isUndefined)(T()._l)?I:T()._l,[v,g,I]);(0,m.useSyncExternalStore)((0,t.useCallback)(e=>g?O(g,()=>{e()}):()=>{},[v,g]),$,$);let b=(0,t.useCallback)(()=>{let e=T()._l;return(0,s.isUndefined)(e)?I:e},[g,I]),_=(0,t.useRef)(b());(0,l.useIsomorphicLayoutEffect)(()=>{if(!h.current){h.current=!0;return}g&&C({_l:y?_.current:b()})},[g,v]);let L=A&&!h.current,j=e(g,async e=>{let t=T()._i,a=T()._r;C({_r:c.UNDEFINED});let i=[],o=b(),[l]=(0,u.createCacheHelper)(v,e),f=l().data,m=[],g=null;for(let e=0;e<o;++e){let[o,l]=(0,d.serialize)(r(e,w?null:g));if(!o)break;let[c,h]=(0,u.createCacheHelper)(v,o),I=c().data,y=P||t||(0,s.isUndefined)(I)||S&&!e&&!(0,s.isUndefined)(f)||L||f&&!(0,s.isUndefined)(f[e])&&!p.compare(f[e],I);if(n&&("function"==typeof a?a(I,l):y)){let t=async()=>{if(o in D){let e=D[o];delete D[o],I=await e}else I=await n(l);h({data:I,_k:l}),i[e]=I};w?m.push(t):await t()}else i[e]=I;w||(g=I)}return w&&await Promise.all(m.map(e=>e())),C({_i:c.UNDEFINED}),i},p),N=(0,t.useCallback)(function(e,t){let r="boolean"==typeof t?{revalidate:t}:t||{},n=!1!==r.revalidate;return g?(n&&((0,s.isUndefined)(e)?C({_i:!0,_r:r.revalidate}):C({_i:!1,_r:r.revalidate})),arguments.length?j.mutate(e,{...r,revalidate:n}):j.mutate()):E},[g,v]),U=(0,t.useCallback)(e=>{let t;if(!g)return E;let[,n]=(0,u.createCacheHelper)(v,g);if((0,f.isFunction)(e)?t=e(b()):"number"==typeof e&&(t=e),"number"!=typeof t)return E;n({_l:t}),_.current=t;let a=[],[i]=(0,u.createCacheHelper)(v,g),o=null;for(let e=0;e<t;++e){let[t]=(0,d.serialize)(r(e,o)),[n]=(0,u.createCacheHelper)(v,t),l=t?n().data:c.UNDEFINED;if((0,s.isUndefined)(l))return N(i().data);a.push(l),o=l}return N(a)},[g,v,N,b]);return{size:b(),setSize:U,mutate:N,get data(){return j.data},get error(){return j.error},get isValidating(){return j.isValidating},get isLoading(){return j.isLoading}}})},9505396:[e=>{"use strict";e.s({useBestProductionDomain:()=>g,useProjectDomain:()=>f,useProjectDomains:()=>m,useProjectDomainsInfinite:()=>p},9505396);var t=e.i(6530772),r=e.i(3521787),n=e.i(7095283),a=e.i(6649026),i=e.i(1183506),o=e.i(9336536),u=e.i(3514588);function s(e){return e.startsWith("*.")}function l(e){return[...e||[]].filter(c).sort((e,t)=>d(e.name,t.name))}function c(e){return!e.redirect}function d(e,t){if(e.endsWith(".now.sh")&&!t.endsWith(".now.sh"))return 1;if(!e.endsWith(".now.sh")&&t.endsWith(".now.sh"))return -1;if(s(e)&&!s(t))return 1;if(!s(e)&&s(t))return -1;if(e.endsWith(".vercel.app")&&!t.endsWith(".vercel.app"))return 1;if(!e.endsWith(".vercel.app")&&t.endsWith(".vercel.app"))return -1;let r=e.length-t.length;return 0!==r?r:e.localeCompare(t)}function f(e,t){let{isReady:n,team:s}=(0,u.useTeam)();return(0,r.default)(e&&n?`${(0,o.API_PROJECTS_DOMAINS_VERSION)("v9")}/${e.projectId}/domains/${e.name}${(0,a.encode)({teamId:s?.id})}`:null,e=>(0,i.fetchAPI)(e,{throwOnHTTPError:!0}),t)}function m(e){let{limit:t=10,gitBranch:n,production:s,target:l,redirect:c,redirects:d,verified:f,order:m}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{isReady:p,team:g}=(0,u.useTeam)();return(0,r.default)(e&&p?`${(0,o.API_PROJECTS_DOMAINS_VERSION)("v9")}/${e}/domains${(0,a.encode)({limit:t,gitBranch:n,production:s,target:l,redirects:d,redirect:c,verified:f,order:m,teamId:g?.id})}`:null,async e=>(await (0,i.fetchAPI)(e,{throwOnHTTPError:!0})).domains)}function p(e){let{limit:r=20,gitBranch:s,production:l,redirect:c,redirects:d}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},f=arguments.length>2?arguments[2]:void 0,{isReady:m,team:p}=(0,u.useTeam)(),g=(0,n.default)((t,n)=>{if(!e||!m)return null;let i=`${(0,o.API_PROJECTS_DOMAINS_VERSION)("v9")}/${e}/domains`;if(!t)return`${i}${(0,a.encode)({limit:r+1,gitBranch:s,production:l,redirect:c,redirects:d,teamId:p?.id})}`;let u=(n?.domains?.length||0)>r?n?.domains[r-1].createdAt:null;return u?`${i}${(0,a.encode)({limit:r+1,gitBranch:s,production:l,redirects:d,teamId:p?.id,until:u})}`:null},async e=>(0,i.fetchAPI)(e,{throwOnHTTPError:!0}),f),h=(0,t.useMemo)(()=>g.data?[].concat(...g.data.map(e=>e.domains.slice(0,r))):[],[g.data,r]),v=!!g.data,I=v&&0===h.length,P=g.data&&g.size>g.data.length,y=g.data&&g.data[g.data.length-1]?.domains.length<=r;return[g,{domains:h,initialDataLoaded:v,isEmpty:I,loadMore:()=>g.setSize(e=>e+1),isLoadingMore:P,isReachingEnd:y,isLoading:g.isLoading}]}function g(e){let{data:t,...r}=m(e,{limit:10,production:"true",redirects:"false",verified:"true",order:"ASC"}),[n=null]=l(t);return{domain:n,loaded:!!(r.error||t),...r}}e.s({domainStringCompare:()=>d,getSortedNonRedirectDomains:()=>l},1049058),e.s({default:()=>s},1922196)},[1922196,1049058]],5751047:e=>{"use strict";e.s({useFrameworks:()=>a});var t=e.i(4355604),r=e.i(1183506),n=e.i(9336536);function a(){return(0,t.default)(n.API_FRAMEWORKS,e=>(0,r.fetchAPI)(e,{throwOnHTTPError:!0}))}},1389821:e=>{"use strict";e.s({getProductionDeployment:()=>l,useFramework:()=>c,useIsExternal:()=>s,useProjectIdOrName:()=>o,useProjectUrl:()=>u});var t=e.i(5535439),r=e.i(3514588),n=e.i(5454140),a=e.i(5751047),i=e.i(9505396);let o=()=>{let{project:e}=(0,t.useParams)()||{};return e||""},u=e=>{let{isReady:t,team:a}=(0,r.useTeam)(),{user:i}=(0,n.useUser)();if(!e)return null;if(t){if(a)return`/${a.slug}/${e.name}`;if(i)return`/${i.username}/${e.name}`}return null},s=e=>{let{data:t}=(0,i.useProjectDomains)(e,{limit:1});return t?0===t.length:void 0},l=e=>e?.targets?.production,c=e=>{let{data:t}=(0,a.useFrameworks)();return e&&t?.find(t=>t.slug===(e.framework||null))||null}},6676545:[e=>{"use strict";let t;e.s({useDeploymentStatusPing:()=>c,useDeploymentsStatusPing:()=>d},6676545);var r=e.i(6530772);e.s({usePusherEvent:()=>u,usePusherEventForChannels:()=>s},8285977);var n=e.i(3521787);e.i(442955);let a={deployments:{key:"cc61219ae8995e7ecacc",cluster:"us3"}},i=new Map;function o(e){if(!e)return;let r=i.get(e);if(r)return r;let n=a[e];if(!n||!t)return;let o=new t(n.key,{cluster:n.cluster});o.connectionCount=0;let u=new Proxy(o,{get:(t,r,n)=>"subscribe"===r?function(e){return t.connectionCount++,Reflect.apply(t.subscribe,t,[e])}:"unsubscribe"===r?function(r){return t.connectionCount--,0===t.connectionCount&&setTimeout(()=>{0===t.connectionCount&&(t.disconnect(),i.delete(e))},1e3),Reflect.apply(t.unsubscribe,t,[r])}:Reflect.get(t,r,n)});return i.set(e,u),o}function u(e,t,r,n,a){return s(e,t?[t]:[],r,n,a)}function s(i){let u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],s=arguments.length>2?arguments[2]:void 0,l=arguments.length>3?arguments[3]:void 0,{idlePingInterval:c=0}=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},[d,f]=(0,r.useState)(!1),m=!!l,p=function(n){let[i,u]=(0,r.useState)(()=>o(n));return(0,r.useEffect)(()=>{!i&&n&&a[n]&&e.r(5170824)(e.i).then(e=>{t=e.default,u(o(n))})},[i,n]),i}(m&&u.length&&s?i:void 0),g=(0,r.useRef)(l);return(0,r.useEffect)(()=>{g.current=l},[l]),(0,r.useEffect)(()=>{let e;if(!p||!m||!u.length||!s)return;function t(){e&&clearInterval(e),c&&(e=setInterval(()=>{g.current?.()},c))}let r=u.map(e=>{let r=p.subscribe(e);return r.subscribed&&f(!0),r.bind("pusher:subscription_succeeded",()=>{f(!0)}),t(),r.bind(s,e=>{g.current?.(e),t()}),{channel:e,channelInstance:r}});return()=>{for(let{channel:e,channelInstance:t}of r)t.unbind_all(),p.unsubscribe(e);f(!1)}},[p,(0,n.unstable_serialize)(u),s,m]),{isListening:d}}function l(e){return e.aliasAssigned||["ERROR","CANCELED"].includes(e.readyState)}function c(e,t){return u("deployments",e&&!l(e)?`${e.ownerId}-${e.id}`:void 0,"status",t)}function d(e,t){return s("deployments",(0,r.useMemo)(()=>e.filter(e=>!l(e)).map(e=>`${e.ownerId}-${e.id}`),[e]),"status",t)}},[8285977]],1000331:e=>{"use strict";e.s({useDashboardProject:()=>i});var t=e.i(5535439),r=e.i(6649026),n=e.i(3521787),a=e.i(1183506);function i(e){var i,o;let u=(0,t.useParams)(),s=e?.teamSlug??u?.teamSlug,l=e?.projectSlug??u?.project;return(0,n.default)(s&&l?(i=s,o=l,`/v1/dashboard/projects/${o}${(0,r.encode)({teamId:i})}`):null,()=>(0,a.fetchAPI)(`/v1/dashboard/projects/${l}${(0,r.encode)({teamId:s})}`,{throwOnHTTPError:!1}))}},44994:e=>{"use strict";e.s({getProjectKey:()=>a,revalidateProject:()=>o,transformDeploymentOverviewProject:()=>i});var t=e.i(6649026),r=e.i(2361612),n=e.i(9336536);function a(e,r){let{latestDeployments:a=0,activeBranches:i,apiVersion:o,teamId:u,fetchParams:s={}}=r;return`${o?(0,n.API_PROJECTS_VERSION)(o):n.API_PROJECTS}/${function(e){try{return encodeURIComponent(decodeURIComponent(e||""))}catch(t){return e||""}}(e||"")}${(0,t.encode)({teamId:u,latestDeployments:a,activeBranches:i?1:void 0,...s})}`}function i(e){return(0,r.default)(e,["crons","env","security"])}function o(e,t){let r=`/projects/${encodeURIComponent(decodeURIComponent(t.name))}?`,n=`/projects/${encodeURIComponent(decodeURIComponent(t.id))}?`;return e(e=>"string"==typeof e&&(e.includes(r)||e.includes(n)))}},2240289:e=>{"use strict";e.s({useProject:()=>s,useProjectV8:()=>l,useProjectWithLatestDeployment:()=>f,useProjects:()=>c,useTeamProjects:()=>d},2240289);var t=e.i(3521787),r=e.i(6649026),n=e.i(1183506),a=e.i(9336536),i=e.i(4418725),o=e.i(3345839),u=e.i(44994);function s(e){let{latestDeployments:t=0,activeBranches:r,config:n,apiVersion:a,fetchOptions:s,fetchParams:l={}}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=arguments.length>2?arguments[2]:void 0,d=(0,i.useTeamSlug)(),f=c??d,m=f&&e?(0,u.getProjectKey)(e,{teamId:f,apiVersion:a,latestDeployments:t,activeBranches:r,fetchParams:l}):null;return(0,o.useIsomorphicSWR)(m,(e,t)=>t(e,{throwOnScopeAuthError:s?.throwOnScopeAuthError}),n)}function l(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;return s(e,{...t,apiVersion:"v8"},r)}function c(e){let{config:o,throwOnHTTPError:u=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=(0,i.useTeamSlug)();return(0,t.default)(Array.isArray(e)?e.map(e=>e?`${(0,a.API_PROJECTS_VERSION)("v8")}/${encodeURIComponent(function(e){try{return decodeURIComponent(e)}catch(t){return e}}(e))}${(0,r.encode)({teamId:s})}`:null).filter(Boolean):[],async e=>0===e.length?[]:(await Promise.all(e.map(e=>(0,n.fetchAPI)(e,{throwOnHTTPError:u})))).filter(e=>!e.error),o)}function d(){let e=(0,i.useTeamSlug)(),r=e?new URLSearchParams({teamId:e}):null;return(0,t.default)(r?`/v10/projects?${r.toString()}`:null,async e=>(await (0,n.fetchAPI)(e)).projects)}function f(e,t){return s(e,{latestDeployments:1,config:t})}},7916122:e=>{"use strict";e.s({ChevronRight:()=>t});let t=(0,e.i(6895406).withNewIcon)('<path fill-rule="evenodd" clip-rule="evenodd" d="M5.50001 1.93933L6.03034 2.46966L10.8536 7.29288C11.2441 7.68341 11.2441 8.31657 10.8536 8.7071L6.03034 13.5303L5.50001 14.0607L4.43935 13L4.96968 12.4697L9.43935 7.99999L4.96968 3.53032L4.43935 2.99999L5.50001 1.93933Z" fill="currentColor" />')},3431702:[e=>{"use strict";e.s({default:()=>p,preloadProjectListInfinite:()=>f,useProjectListInfinite:()=>m},3431702);var t=e.i(6530772),r=e.i(3521787),n=e.i(7095283),a=e.i(7766186),i=e.i(6649026),o=e.i(1183506),u=e.i(9336536),s=e.i(4418725),l=e.i(5454140);function c(e){let{version:t,until:r,limit:n,latestDeployments:a,search:o,slug:s,excludeRepos:l,edgeConfigId:c,edgeConfigTokenId:d,connectConfigurationId:f}=e;return`${(0,u.API_PROJECTS_VERSION)(t)}${(0,i.encode)({until:r,limit:n,latestDeployments:a,search:o,slug:s,excludeRepos:l,edgeConfigId:c,edgeConfigTokenId:d,connectConfigurationId:f})}`}e.s({getProjectListInfiniteKey:()=>c},405917);let d=null;function f(e,t){let{limit:r=8,latestDeployments:n=3,excludeReposRef:a}=e,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"v9",l=`${(0,u.API_PROJECTS_VERSION)(s)}${(0,i.encode)({limit:r,latestDeployments:n,slug:t,excludeRepos:a?.current[0]??null})}`;d=[l,(0,o.fetchAPI)(l)]}function m(){let{fetchEnabled:e=!0,limit:i=8,latestDeployments:u=3,search:l,excludeReposRef:f,revalidateFirstPage:m=!0,edgeConfigId:p,edgeConfigTokenId:g,connectConfigurationId:h,version:v="v9",slug:I}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},P=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},y=arguments.length>2&&void 0!==arguments[2]&&arguments[2],S=arguments.length>3&&void 0!==arguments[3]&&arguments[3],R=(0,a.useRouter)(),A=(0,s.useTeamSlug)(),E=I||A,w=(0,n.default)((t,r)=>{if(!e||R&&!R.isReady)return null;if(!t)return c({version:v,limit:i,latestDeployments:u,search:l,slug:E,excludeRepos:f?.current[0]??null,edgeConfigId:p,edgeConfigTokenId:g,connectConfigurationId:h});let n=r?.pagination.next?r.pagination.next:null;return n?c({version:v,until:n,limit:i,latestDeployments:u,search:l,slug:E,excludeRepos:f?.current[t]??null,edgeConfigId:p,edgeConfigTokenId:g,connectConfigurationId:h}):null},async e=>{if(d&&d[0]===e){let e=await d[1];return d=null,e}return(0,o.fetchAPI)(e,{throwOnHTTPError:!0})},{...P,keepPreviousData:S,revalidateFirstPage:m,persistSize:!0}),D=!!w.data,T=(w.data?.[w.data.length-1]?.projects.length??0)<i,C=(0,t.useMemo)(()=>w.data?w.data.flatMap(e=>e.projects):[],[w.data]),O=D&&0===C.length,$=!!(w.data&&w.size>w.data.length);return(0,r.default)(()=>{if(y||!w.data||T)return null;let e=w.data[w.data.length-1];return c({version:v,until:e?.pagination.next?e.pagination.next:null,limit:i,latestDeployments:u,search:l,slug:E,excludeRepos:f?.current[0]??null,edgeConfigId:p,edgeConfigTokenId:g,connectConfigurationId:h})},e=>(0,o.fetchAPI)(e,{throwOnHTTPError:!0})),[w,{projects:C,initialDataLoaded:D,isEmpty:O,loadMore:()=>w.setSize(e=>e+1),isLoadingMore:$,isReachingEnd:T,isValidating:w.isValidating}]}function p(){let{fetchEnabled:e=!0,limit:n,from:c,linked:d,search:f,hasProductionDomains:m,domain:p,latestDeployments:g=3,deploymentInfo:h,includePermissions:v=!1,edgeConfigId:I,edgeConfigTokenId:P,connectConfigurationId:y,excludeConnectConfigurationId:S,teamId:R}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},A=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},E=arguments.length>2?arguments[2]:void 0,w=arguments.length>3?arguments[3]:void 0,D=(0,s.useTeamSlug)(),T=(0,a.useRouter)(),{user:C,isNorthstar:O}=(0,l.useUser)(),[$,b]=(0,t.useState)(f);return(0,t.useEffect)(()=>{b(e=>e===f?e:f)},[f]),{...(0,r.default)(()=>e&&(!T||T.isReady)&&C&&(!O||C.defaultTeamId||R)?`${(0,u.API_PROJECTS_VERSION)("v8")}${(0,i.encode)({from:c||null,limit:n,linked:!!d||null,search:$,hasProductionDomains:m?"1":null,domain:p,latestDeployments:void 0===g?null:g,deploymentInfo:h||null,slug:E||D,includePermissions:v,edgeConfigId:I,edgeConfigTokenId:P,connectConfigurationId:y,excludeConnectConfigurationId:S,teamId:R||null})}`:null,e=>(0,o.fetchAPI)(e,{throwOnHTTPError:!0,throwOnScopeAuthError:w?.throwOnScopeAuthError}),A),updateSearch:b,search:$}}},[405917]],8955572:e=>{"use strict";e.s({default:()=>s,getUseProjectEnvsSWRKey:()=>l});var t=e.i(3521787),r=e.i(6649026),n=e.i(1183506),a=e.i(9336536),i=e.i(3514588),o=e.i(3585235),u=e.i(5785123);function s(e,r,a){let{isReady:s,team:c}=(0,i.useTeam)(a),{can:d,isLoading:f}=(0,o.default)(),m=d(u.Action.Read,u.Resource.ProjectEnvVars),p=e&&s&&!f&&m;return(0,t.default)(()=>p?l(e,c?.id):"",e=>(0,n.fetchAPI)(e,{throwOnHTTPError:!0}),r)}function l(e,t){return`${(0,a.API_PROJECTS_VERSION)("v9")}/${encodeURIComponent(e)}/env${(0,r.encode)({teamId:t})}`}},3959726:e=>{"use strict";e.s({useIntegrationPermissions:()=>n});var t=e.i(3585235),r=e.i(5785123);function n(){let{can:e,isLoading:n}=(0,t.default)(),a=e(r.Action.Read,r.Resource.IntegrationConfigurationProjects);return{canReadProjects:a,canUpdateIntegrationConfiguration:e(r.Action.Update,r.Resource.IntegrationConfiguration),canCreateIntegrationConfiguration:e(r.Action.Create,r.Resource.IntegrationConfiguration),isLoading:n}}},5006659:e=>{"use strict";e.s({useLogDrains:()=>g,useLogDrainsOperations:()=>h});var t=e.i(6530772),r=e.i(6649026),n=e.i(1183506),a=e.i(9336536),i=e.i(503726),o=e.i(3585235),u=e.i(5785123),s=e.i(4922888),l=e.i(6532952),c=e.i(3345839),d=e.i(7320579),f=e.i(3959726);e.i(7196151);var m=e.i(1915818);let p=new Set;function g(e){let{projectSlug:r,teamSlug:n,...i}=e,o=n?((e,t)=>{let r=new URLSearchParams;r.set("limit","20"),e&&r.set("teamId",e),t&&r.set("projectIdOrName",t);let n=`${a.API_LOG_DRAINS}?${r.toString()}&includes[]=integration&includes[]=project`;return p.add(n),n})(n,r):null,u=(0,c.useIsomorphicSWR)(o,(e,t)=>t(e),i),s=(0,t.useMemo)(()=>({selfServed:u.data?.filter(e=>"self-served"===e.createdFrom)??[],integrations:u.data?.filter(e=>"integration"===e.createdFrom)??[],active:u.data?.filter(e=>"disabled"!==e.status)??[],stopped:u.data?.filter(e=>"disabled"===e.status)??[]}),[u.data]);return{...u,logDrainsGroups:s}}function h(e){let{teamSlug:t}=e,{can:c,isLoading:g}=(0,o.default)(),h=(0,f.useIntegrationPermissions)(),{permissions:v}=(0,m.useResourcePermissions)(),I={list:c(u.Action.List,u.Resource.LogDrains),create:c(u.Action.Create,u.Resource.LogDrains),remove:c(u.Action.Delete,u.Resource.LogDrains),update:c(u.Action.Update,u.Resource.LogDrains),read:c(u.Action.Read,u.Resource.LogDrains),integration:{readProjects:h.canReadProjects,create:h.canCreateIntegrationConfiguration,update:h.canUpdateIntegrationConfiguration},resource:{read:v.read,create:v.create,update:v.update,remove:v.remove},isLoading:g},P=(0,r.encode)({teamId:t}),{team:y,user:S}=(0,i.useAccount)(),{mutate:R}=(0,d.useSWRConfig)(),A=()=>Promise.all(Array.from(p).map(e=>R(e)));return{deleteLogDrain:async e=>{let{id:t}=e,r=await (0,n.fetchAPI)(`${a.API_LOG_DRAINS}/${t}${P}`,{method:"DELETE",throwOnHTTPError:!0,returnStatus:!0});return await A(),r},createLogDrain:async e=>{let{deliveryFormat:t,sources:r,projectIds:i,url:o,headers:u,environments:s,branch:l,secret:c,samplingRate:d,name:f}=e,m=await (0,n.fetchAPI)(`${a.API_LOG_DRAINS}${P}`,{method:"POST",throwOnHTTPError:!0,body:{deliveryFormat:t,sources:r,projectIds:i,url:o,headers:u,environments:s,branch:l,secret:c,samplingRate:d,name:f}});return await A(),m},testLogDrain:async e=>{let t;return t="id"in e?{id:e.id}:{deliveryFormat:e.deliveryFormat,sources:e.sources,url:e.url,headers:e.headers,secret:e.secret},(0,n.fetchAPI)(`${a.API_LOG_DRAINS}/sample-test${P}`,{method:"POST",body:t,throwOnHTTPError:!0})},updateLogDrainStatus:async e=>{let{id:t,status:r}=e,i=await (0,n.fetchAPI)(`${a.API_LOG_DRAINS}/update-status${P}`,{method:"POST",body:JSON.stringify({id:t,status:r,disabledAt:"disabled"===r?Date.now():void 0,disabledReason:"disabled"===r?"disabled-by-owner":void 0}),throwOnHTTPError:!0});return(0,l.trackInSnowflake)(s.Topic.VercelAppV0LogDrainToggle,{event_time:Date.now(),user_id:null!==S?S.uid:"",team_id:null!==y?y.id:"",log_drain_id:t,enabled:"enabled"===r},"vercel-app"),await A(),i},permissions:I,updateLogDrain:async e=>{let t=await (0,n.fetchAPI)(`${a.API_LOG_DRAINS}/update${P}`,{method:"PATCH",body:JSON.stringify({...e}),throwOnHTTPError:!0});return await A(),t},checkLogDrainPermissions:(e,t)=>{if("integration"===e.createdFrom&&!t)return{isLoading:g,canRemove:I.remove&&I.integration.update,canUpdate:I.integration.update&&I.update,canRead:I.read&&I.integration.readProjects};let r=t?I.remove&&I.resource.remove:I.remove;return{isLoading:g,canRemove:r,canUpdate:t?I.update&&I.resource.update:I.update,canRead:t?I.read&&I.resource.read:I.read}},mutateLogDrains:A}}}}]);

//# sourceMappingURL=0dd29d132bc588c3.js.map
//# debugId=56e8375c-81e9-5592-aa36-b4963d748b59
