
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="cd915837-28c1-5afd-9b88-fd1ffad27bdc")}catch(e){}}();
(globalThis.TURBOPACK=globalThis.TURBOPACK||[]).push(["object"==typeof document?document.currentScript:void 0,{4157564:e=>{e.v({dimensionsContainer:"tooltip-module__r4tAyG__dimensionsContainer",locked:"tooltip-module__r4tAyG__locked",tooltip:"tooltip-module__r4tAyG__tooltip",tooltipDate:"tooltip-module__r4tAyG__tooltipDate"})},8330948:e=>{e.v({colorIndicator:"list-tooltip-module__V7_y4G__colorIndicator",date:"list-tooltip-module__V7_y4G__date",highlightedItem:"list-tooltip-module__V7_y4G__highlightedItem",itemName:"list-tooltip-module__V7_y4G__itemName",itemValue:"list-tooltip-module__V7_y4G__itemValue",list:"list-tooltip-module__V7_y4G__list",listItem:"list-tooltip-module__V7_y4G__listItem",productListTooltip:"list-tooltip-module__V7_y4G__productListTooltip",title:"list-tooltip-module__V7_y4G__title"})},888211:e=>{e.v({bar:"bars-module__iDDfzW__bar",barOverlay:"bars-module__iDDfzW__barOverlay",barOverlaySelected:"bars-module__iDDfzW__barOverlaySelected",barSelected:"bars-module__iDDfzW__barSelected"})},8293392:e=>{e.v({autoVisibility:"body-module__gZgq1G__autoVisibility",chartAxis:"body-module__gZgq1G__chartAxis",chartContainer:"body-module__gZgq1G__chartContainer"})},6273319:e=>{e.v({container:"legend-module__CCQ9Ya__container",hasMore:"legend-module__CCQ9Ya__hasMore",legendRow:"legend-module__CCQ9Ya__legendRow",showMore:"legend-module__CCQ9Ya__showMore",total:"legend-module__CCQ9Ya__total"})},3236721:e=>{e.v({container:"styles-module__NIZ89G__container",content:"styles-module__NIZ89G__content",disabled:"styles-module__NIZ89G__disabled",expanded:"styles-module__NIZ89G__expanded",header:"styles-module__NIZ89G__header"})},5390614:e=>{e.v({emptyChart:"empty-body-module__Ajv2NW__emptyChart",emptyDescription:"empty-body-module__Ajv2NW__emptyDescription"})},154011:e=>{"use strict";e.s({Body:()=>sh,BodySkeleton:()=>sm,CollapsibleChart:()=>sx,CollapsibleChartSkeleton:()=>sy,EmptyBody:()=>sf,LegendEnt:()=>sp,LegendPro:()=>sg,LegendSkeleton:()=>sv,Root:()=>sd,useUsageTimeseriesChart:()=>sc},154011);var t,i,s,a=e.i(6645307),n=e.i(6530772),r=e.i(8666290);function l(e){let{children:t,className:i,minHeight:s=360}=e,[r,l]=(0,n.useState)(!1),[o,u]=(0,n.useState)(s),c=(0,n.useRef)(null);return(0,n.useEffect)(()=>{let e=c.current;if(!e)return;let t=new IntersectionObserver(t=>{let[i=null]=t;if(!i)return;let s=!1;l(e=>(s=e&&!i.isIntersecting,i.isIntersecting)),s&&u(e.clientHeight)},{rootMargin:"800px 0px"});return t.observe(e),()=>t.disconnect()},[]),(0,a.jsx)("div",{className:i,ref:c,style:r?{minHeight:s,transition:"opacity 0.1s"}:{height:o,minHeight:s,opacity:0},children:r?t:null})}let o={defaultColors:["var(--ds-blue-700)","var(--ds-amber-700)","var(--ds-green-700)","var(--ds-teal-700)","var(--ds-purple-700)","var(--ds-pink-700)","var(--ds-red-700)","var(--ds-gray-700)","var(--ds-blue-600)","var(--ds-amber-600)","var(--ds-green-600)","var(--ds-teal-600)","var(--ds-purple-600)","var(--ds-pink-600)","var(--ds-red-600)","var(--ds-gray-600)","var(--ds-blue-400)","var(--ds-amber-400)","var(--ds-green-400)","var(--ds-teal-400)","var(--ds-purple-400)","var(--ds-pink-400)","var(--ds-red-400)","var(--ds-gray-400)"],namedColors:{success:["var(--ds-blue-700)","var(--ds-blue-500)","var(--ds-blue-200)","var(--ds-blue-1000)"],error:["var(--ds-red-800)","var(--ds-red-500)","var(--ds-red-200)","var(--ds-red-1000)"],warning:["var(--ds-amber-700)","var(--ds-amber-500)","var(--ds-amber-200)","var(--ds-amber-1000)"]}};var u=e.i(8117139),c=e.i(6101805),d=e.i(6781187),h=e.i(6102013),f=e.i(2419587),m=e.i(6041174),p=e.i(889716),g=Object.defineProperty,v={};((e,t)=>{for(var i in t)g(e,i,{get:t[i],enumerable:!0})})(v,{assign:()=>Q,colors:()=>W,createStringInterpolator:()=>t,skipAnimation:()=>H,to:()=>i,willAdvance:()=>q});var x=E(),y=e=>I(e,x),b=E();y.write=e=>I(e,b);var w=E();y.onStart=e=>I(e,w);var _=E();y.onFrame=e=>I(e,_);var j=E();y.onFinish=e=>I(e,j);var S=[];y.setTimeout=(e,t)=>{let i=y.now()+t,s=()=>{let e=S.findIndex(e=>e.cancel==s);~e&&S.splice(e,1),T-=!!~e},a={time:i,handler:e,cancel:s};return S.splice(k(i),0,a),T+=1,M(),a};var k=e=>~(~S.findIndex(t=>t.time>e)||~S.length);y.cancel=e=>{w.delete(e),_.delete(e),j.delete(e),x.delete(e),b.delete(e)},y.sync=e=>{P=!0,y.batchedUpdates(e),P=!1},y.throttle=e=>{let t;function i(){try{e(...t)}finally{t=null}}function s(){for(var e=arguments.length,s=Array(e),a=0;a<e;a++)s[a]=arguments[a];t=s,y.onStart(i)}return s.handler=e,s.cancel=()=>{w.delete(i),t=null},s};var C="undefined"!=typeof window?window.requestAnimationFrame:()=>{};y.use=e=>C=e,y.now="undefined"!=typeof performance?()=>performance.now():Date.now,y.batchedUpdates=e=>e(),y.catch=console.error,y.frameLoop="always",y.advance=()=>{"demand"!==y.frameLoop?console.warn("Cannot call the manual advancement of rafz whilst frameLoop is not set as demand"):U()};var A=-1,T=0,P=!1;function I(e,t){P?(t.delete(e),e(0)):(t.add(e),M())}function M(){A<0&&(A=0,"demand"!==y.frameLoop&&C(N))}function N(){~A&&(C(N),y.batchedUpdates(U))}function U(){let e=A,t=k(A=y.now());if(t&&(R(S.splice(0,t),e=>e.handler()),T-=t),!T)return void(A=-1);w.flush(),x.flush(e?Math.min(64,A-e):16.667),_.flush(),b.flush(),j.flush()}function E(){let e=new Set,t=e;return{add(i){T+=+!(t!=e||e.has(i)),e.add(i)},delete:i=>(T-=t==e&&e.has(i)?1:0,e.delete(i)),flush(i){t.size&&(e=new Set,T-=t.size,R(t,t=>t(i)&&e.add(t)),T+=e.size,t=e)}}}function R(e,t){e.forEach(e=>{try{t(e)}catch(e){y.catch(e)}})}function V(){}var O={arr:Array.isArray,obj:e=>!!e&&"Object"===e.constructor.name,fun:e=>"function"==typeof e,str:e=>"string"==typeof e,num:e=>"number"==typeof e,und:e=>void 0===e};function F(e,t){if(O.arr(e)){if(!O.arr(t)||e.length!==t.length)return!1;for(let i=0;i<e.length;i++)if(e[i]!==t[i])return!1;return!0}return e===t}var L=(e,t)=>e.forEach(t);function B(e,t,i){if(O.arr(e)){for(let s=0;s<e.length;s++)t.call(i,e[s],`${s}`);return}for(let s in e)e.hasOwnProperty(s)&&t.call(i,e[s],s)}var $=e=>O.und(e)?[]:O.arr(e)?e:[e];function D(e,t){if(e.size){let i=Array.from(e);e.clear(),L(i,t)}}var z=function(e){for(var t=arguments.length,i=Array(t>1?t-1:0),s=1;s<t;s++)i[s-1]=arguments[s];return D(e,e=>e(...i))},G=()=>"undefined"==typeof window||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),W=null,H=!1,q=V,Q=e=>{e.to&&(i=e.to),e.now&&(y.now=e.now),void 0!==e.colors&&(W=e.colors),null!=e.skipAnimation&&(H=e.skipAnimation),e.createStringInterpolator&&(t=e.createStringInterpolator),e.requestAnimationFrame&&y.use(e.requestAnimationFrame),e.batchedUpdates&&(y.batchedUpdates=e.batchedUpdates),e.willAdvance&&(q=e.willAdvance),e.frameLoop&&(y.frameLoop=e.frameLoop)},K=new Set,Z=[],X=[],J=0,Y={get idle(){return!K.size&&!Z.length},start(e){J>e.priority?(K.add(e),y.onStart(ee)):(et(e),y(es))},advance:es,sort(e){if(J)y.onFrame(()=>Y.sort(e));else{let t=Z.indexOf(e);~t&&(Z.splice(t,1),ei(e))}},clear(){Z=[],K.clear()}};function ee(){K.forEach(et),K.clear(),y(es)}function et(e){Z.includes(e)||ei(e)}function ei(e){Z.splice(function(e,t){let i=e.findIndex(t);return i<0?e.length:i}(Z,t=>t.priority>e.priority),0,e)}function es(e){let t=X;for(let i=0;i<Z.length;i++){let s=Z[i];J=s.priority,!s.idle&&(q(s),s.advance(e),s.idle||t.push(s))}return J=0,(X=Z).length=0,(Z=t).length>0}var ea="[-+]?\\d*\\.?\\d+",en=ea+"%";function er(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];return"\\(\\s*("+t.join(")\\s*,\\s*(")+")\\s*\\)"}var el=RegExp("rgb"+er(ea,ea,ea)),eo=RegExp("rgba"+er(ea,ea,ea,ea)),eu=RegExp("hsl"+er(ea,en,en)),ec=RegExp("hsla"+er(ea,en,en,ea)),ed=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,eh=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,ef=/^#([0-9a-fA-F]{6})$/,em=/^#([0-9a-fA-F]{8})$/;function ep(e,t,i){return(i<0&&(i+=1),i>1&&(i-=1),i<1/6)?e+(t-e)*6*i:i<.5?t:i<2/3?e+(t-e)*(2/3-i)*6:e}function eg(e,t,i){let s=i<.5?i*(1+t):i+t-i*t,a=2*i-s,n=ep(a,s,e+1/3);return Math.round(255*n)<<24|Math.round(255*ep(a,s,e))<<16|Math.round(255*ep(a,s,e-1/3))<<8}function ev(e){let t=parseInt(e,10);return t<0?0:t>255?255:t}function ex(e){return(parseFloat(e)%360+360)%360/360}function ey(e){let t=parseFloat(e);return t<0?0:t>1?255:Math.round(255*t)}function eb(e){let t=parseFloat(e);return t<0?0:t>100?1:t/100}function ew(e){let t,i="number"==typeof e?e>>>0===e&&e>=0&&e<=0xffffffff?e:null:(t=ef.exec(e))?parseInt(t[1]+"ff",16)>>>0:W&&void 0!==W[e]?W[e]:(t=el.exec(e))?(ev(t[1])<<24|ev(t[2])<<16|ev(t[3])<<8|255)>>>0:(t=eo.exec(e))?(ev(t[1])<<24|ev(t[2])<<16|ev(t[3])<<8|ey(t[4]))>>>0:(t=ed.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+"ff",16)>>>0:(t=em.exec(e))?parseInt(t[1],16)>>>0:(t=eh.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+t[4]+t[4],16)>>>0:(t=eu.exec(e))?(255|eg(ex(t[1]),eb(t[2]),eb(t[3])))>>>0:(t=ec.exec(e))?(eg(ex(t[1]),eb(t[2]),eb(t[3]))|ey(t[4]))>>>0:null;if(null===i)return e;let s=(0xff000000&(i=i||0))>>>24,a=(0xff0000&i)>>>16,n=(65280&i)>>>8,r=(255&i)/255;return`rgba(${s}, ${a}, ${n}, ${r})`}var e_=(e,i,s)=>{if(O.fun(e))return e;if(O.arr(e))return e_({range:e,output:i,extrapolate:s});if(O.str(e.output[0]))return t(e);let a=e.output,n=e.range||[0,1],r=e.extrapolateLeft||e.extrapolate||"extend",l=e.extrapolateRight||e.extrapolate||"extend",o=e.easing||(e=>e);return t=>{let i=function(e,t){for(var i=1;i<t.length-1&&!(t[i]>=e);++i);return i-1}(t,n);return function(e,t,i,s,a,n,r,l,o){let u=o?o(e):e;if(u<t)if("identity"===r)return u;else"clamp"===r&&(u=t);if(u>i)if("identity"===l)return u;else"clamp"===l&&(u=i);return s===a?s:t===i?e<=t?s:a:(t===-1/0?u=-u:i===1/0?u-=t:u=(u-t)/(i-t),u=n(u),s===-1/0?u=-u:a===1/0?u+=s:u=u*(a-s)+s,u)}(t,n[i],n[i+1],a[i],a[i+1],o,r,l,e.map)}},ej=Symbol.for("FluidValue.get"),eS=Symbol.for("FluidValue.observers"),ek=e=>!!(e&&e[ej]),eC=e=>e&&e[ej]?e[ej]():e,eA=e=>e[eS]||null;function eT(e,t){let i=e[eS];i&&i.forEach(e=>{e.eventObserved?e.eventObserved(t):e(t)})}var eP=class{constructor(e){if(!e&&!(e=this.get))throw Error("Unknown getter");eI(this,e)}},eI=(e,t)=>eU(e,ej,t);function eM(e,t){if(e[ej]){let i=e[eS];i||eU(e,eS,i=new Set),!i.has(t)&&(i.add(t),e.observerAdded&&e.observerAdded(i.size,t))}return t}function eN(e,t){let i=e[eS];if(i&&i.has(t)){let s=i.size-1;s?i.delete(t):e[eS]=null,e.observerRemoved&&e.observerRemoved(s,t)}}var eU=(e,t,i)=>Object.defineProperty(e,t,{value:i,writable:!0,configurable:!0}),eE=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,eR=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,eV=RegExp(`(${eE.source})(%|[a-z]+)`,"i"),eO=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,eF=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/,eL=e=>{let[t,i]=eB(e);if(!t||G())return e;let s=window.getComputedStyle(document.documentElement).getPropertyValue(t);if(s)return s.trim();if(i&&i.startsWith("--")){let e=window.getComputedStyle(document.documentElement).getPropertyValue(i);if(e)return e}else if(i&&eF.test(i))return eL(i);else if(i)return i;return e},eB=e=>{let t=eF.exec(e);if(!t)return[,];let[,i,s]=t;return[i,s]},e$=(e,t,i,s,a)=>`rgba(${Math.round(t)}, ${Math.round(i)}, ${Math.round(s)}, ${a})`,eD=e=>{s||(s=W?RegExp(`(${Object.keys(W).join("|")})(?!\\w)`,"g"):/^\b$/);let t=e.output.map(e=>eC(e).replace(eF,eL).replace(eR,ew).replace(s,ew)),i=t.map(e=>e.match(eE).map(Number)),a=i[0].map((e,t)=>i.map(e=>{if(!(t in e))throw Error('The arity of each "output" value must be equal');return e[t]})).map(t=>e_({...e,output:t}));return e=>{let i=!eV.test(t[0])&&t.find(e=>eV.test(e))?.replace(eE,""),s=0;return t[0].replace(eE,()=>`${a[s++](e)}${i||""}`).replace(eO,e$)}},ez="react-spring: ",eG=e=>{let t=!1;if("function"!=typeof e)throw TypeError(`${ez}once requires a function parameter`);return function(){for(var i=arguments.length,s=Array(i),a=0;a<i;a++)s[a]=arguments[a];t||(e(...s),t=!0)}},eW=eG(console.warn),eH=eG(console.warn);function eq(e){return O.str(e)&&("#"==e[0]||/\d/.test(e)||!G()&&eF.test(e)||e in(W||{}))}var eQ=G()?n.useEffect:n.useLayoutEffect;function eK(){let e=(0,n.useState)()[1],t=(()=>{let e=(0,n.useRef)(!1);return eQ(()=>(e.current=!0,()=>{e.current=!1}),[]),e})();return()=>{t.current&&e(Math.random())}}var eZ=e=>(0,n.useEffect)(e,eX),eX=[];function eJ(e){let t=(0,n.useRef)();return(0,n.useEffect)(()=>{t.current=e}),t.current}var eY=Symbol.for("Animated:node"),e0=e=>e&&e[eY],e1=(e,t)=>Object.defineProperty(e,eY,{value:t,writable:!0,configurable:!0}),e2=e=>e&&e[eY]&&e[eY].getPayload(),e9=class{constructor(){e1(this,this)}getPayload(){return this.payload||[]}},e5=class extends e9{constructor(e){super(),this._value=e,this.done=!0,this.durationProgress=0,O.num(this._value)&&(this.lastPosition=this._value)}static create(e){return new e5(e)}getPayload(){return[this]}getValue(){return this._value}setValue(e,t){return O.num(e)&&(this.lastPosition=e,t&&(e=Math.round(e/t)*t,this.done&&(this.lastPosition=e))),this._value!==e&&(this._value=e,!0)}reset(){let{done:e}=this;this.done=!1,O.num(this._value)&&(this.elapsedTime=0,this.durationProgress=0,this.lastPosition=this._value,e&&(this.lastVelocity=null),this.v0=null)}},e6=class extends e5{constructor(e){super(0),this._string=null,this._toString=e_({output:[e,e]})}static create(e){return new e6(e)}getValue(){let e=this._string;return null==e?this._string=this._toString(this._value):e}setValue(e){if(O.str(e)){if(e==this._string)return!1;this._string=e,this._value=1}else{if(!super.setValue(e))return!1;this._string=null}return!0}reset(e){e&&(this._toString=e_({output:[this.getValue(),e]})),this._value=0,super.reset()}},e3={dependencies:null},e4=class extends e9{constructor(e){super(),this.source=e,this.setValue(e)}getValue(e){let t={};return B(this.source,(i,s)=>{i&&i[eY]===i?t[s]=i.getValue(e):ek(i)?t[s]=eC(i):e||(t[s]=i)}),t}setValue(e){this.source=e,this.payload=this._makePayload(e)}reset(){this.payload&&L(this.payload,e=>e.reset())}_makePayload(e){if(e){let t=new Set;return B(e,this._addToPayload,t),Array.from(t)}}_addToPayload(e){e3.dependencies&&ek(e)&&e3.dependencies.add(e);let t=e2(e);t&&L(t,e=>this.add(e))}},e8=class extends e4{constructor(e){super(e)}static create(e){return new e8(e)}getValue(){return this.source.map(e=>e.getValue())}setValue(e){let t=this.getPayload();return e.length==t.length?t.map((t,i)=>t.setValue(e[i])).some(Boolean):(super.setValue(e.map(e7)),!0)}};function e7(e){return(eq(e)?e6:e5).create(e)}function te(e){let t=e0(e);return t?t.constructor:O.arr(e)?e8:eq(e)?e6:e5}var tt=(e,t)=>{let i=!O.fun(e)||e.prototype&&e.prototype.isReactComponent;return(0,n.forwardRef)((s,a)=>{let r=(0,n.useRef)(null),l=i&&(0,n.useCallback)(e=>{r.current=function(e,t){return e&&(O.fun(e)?e(t):e.current=t),t}(a,e)},[a]),[o,u]=function(e,t){let i=new Set;return e3.dependencies=i,e.style&&(e={...e,style:t.createAnimatedStyle(e.style)}),e=new e4(e),e3.dependencies=null,[e,i]}(s,t),c=eK(),d=()=>{let e=r.current;(!i||e)&&!1===(!!e&&t.applyAnimatedValues(e,o.getValue(!0)))&&c()},h=new ti(d,u),f=(0,n.useRef)();eQ(()=>(f.current=h,L(u,e=>eM(e,h)),()=>{f.current&&(L(f.current.deps,e=>eN(e,f.current)),y.cancel(f.current.update))})),(0,n.useEffect)(d,[]),eZ(()=>()=>{let e=f.current;L(e.deps,t=>eN(t,e))});let m=t.getComponentProps(o.getValue());return n.createElement(e,{...m,ref:l})})},ti=class{constructor(e,t){this.update=e,this.deps=t}eventObserved(e){"change"==e.type&&y.write(this.update)}},ts=Symbol.for("AnimatedComponent"),ta=e=>O.str(e)?e:e&&O.str(e.displayName)?e.displayName:O.fun(e)&&e.name||null;function tn(e){for(var t=arguments.length,i=Array(t>1?t-1:0),s=1;s<t;s++)i[s-1]=arguments[s];return O.fun(e)?e(...i):e}var tr=(e,t)=>!0===e||!!(t&&e&&(O.fun(e)?e(t):$(e).includes(t))),tl=(e,t)=>O.obj(e)?t&&e[t]:e,to=(e,t)=>!0===e.default?e[t]:e.default?e.default[t]:void 0,tu=e=>e,tc=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:tu,i=td;e.default&&!0!==e.default&&(i=Object.keys(e=e.default));let s={};for(let a of i){let i=t(e[a],a);O.und(i)||(s[a]=i)}return s},td=["config","onProps","onStart","onChange","onPause","onResume","onRest"],th={config:1,from:1,to:1,ref:1,loop:1,reset:1,pause:1,cancel:1,reverse:1,immediate:1,default:1,delay:1,onProps:1,onStart:1,onChange:1,onPause:1,onResume:1,onRest:1,onResolve:1,items:1,trail:1,sort:1,expires:1,initial:1,enter:1,update:1,leave:1,children:1,onDestroyed:1,keys:1,callId:1,parentId:1};function tf(e){let t=function(e){let t={},i=0;if(B(e,(e,s)=>{!th[s]&&(t[s]=e,i++)}),i)return t}(e);if(t){let i={to:t};return B(e,(e,s)=>s in t||(i[s]=e)),i}return{...e}}function tm(e){return e=eC(e),O.arr(e)?e.map(tm):eq(e)?v.createStringInterpolator({range:[0,1],output:[e,e]})(1):e}function tp(e){return O.fun(e)||O.arr(e)&&O.obj(e[0])}var tg={tension:170,friction:26,mass:1,damping:1,easing:e=>e,clamp:!1},tv=class{constructor(){this.velocity=0,Object.assign(this,tg)}};function tx(e,t){if(O.und(t.decay)){let i=!O.und(t.tension)||!O.und(t.friction);!i&&O.und(t.frequency)&&O.und(t.damping)&&O.und(t.mass)||(e.duration=void 0,e.decay=void 0),i&&(e.frequency=void 0)}else e.duration=void 0}var ty=[],tb=class{constructor(){this.changed=!1,this.values=ty,this.toValues=null,this.fromValues=ty,this.config=new tv,this.immediate=!1}};function tw(e,t){let{key:i,props:s,defaultProps:a,state:n,actions:r}=t;return new Promise((t,l)=>{let o,u,c=tr(s.cancel??a?.cancel,i);if(c)f();else{O.und(s.pause)||(n.paused=tr(s.pause,i));let e=a?.pause;!0!==e&&(e=n.paused||tr(e,i)),o=tn(s.delay||0,i),e?(n.resumeQueue.add(h),r.pause()):(r.resume(),h())}function d(){n.resumeQueue.add(h),n.timeouts.delete(u),u.cancel(),o=u.time-y.now()}function h(){o>0&&!v.skipAnimation?(n.delayed=!0,u=y.setTimeout(f,o),n.pauseQueue.add(d),n.timeouts.add(u)):f()}function f(){n.delayed&&(n.delayed=!1),n.pauseQueue.delete(d),n.timeouts.delete(u),e<=(n.cancelId||0)&&(c=!0);try{r.start({...s,callId:e,cancel:c},t)}catch(e){l(e)}}})}var t_=(e,t)=>1==t.length?t[0]:t.some(e=>e.cancelled)?tk(e.get()):t.every(e=>e.noop)?tj(e.get()):tS(e.get(),t.every(e=>e.finished)),tj=e=>({value:e,noop:!0,finished:!0,cancelled:!1}),tS=function(e,t){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{value:e,finished:t,cancelled:i}},tk=e=>({value:e,cancelled:!0,finished:!1});function tC(e,t,i,s){let{callId:a,parentId:n,onRest:r}=t,{asyncTo:l,promise:o}=i;return n||e!==l||t.reset?i.promise=(async()=>{let u,c,d;i.asyncId=a,i.asyncTo=e;let h=tc(t,(e,t)=>"onRest"===t?void 0:e),f=new Promise((e,t)=>(u=e,c=t)),m=e=>{let t=a<=(i.cancelId||0)&&tk(s)||a!==i.asyncId&&tS(s,!1);if(t)throw e.result=t,c(e),e},p=(e,t)=>{let n=new tT,r=new tP;return(async()=>{if(v.skipAnimation)throw tA(i),r.result=tS(s,!1),c(r),r;m(n);let l=O.obj(e)?{...e}:{...t,to:e};l.parentId=a,B(h,(e,t)=>{O.und(l[t])&&(l[t]=e)});let o=await s.start(l);return m(n),i.paused&&await new Promise(e=>{i.resumeQueue.add(e)}),o})()};if(v.skipAnimation)return tA(i),tS(s,!1);try{let t;t=O.arr(e)?(async e=>{for(let t of e)await p(t)})(e):Promise.resolve(e(p,s.stop.bind(s))),await Promise.all([t.then(u),f]),d=tS(s.get(),!0,!1)}catch(e){if(e instanceof tT)d=e.result;else if(e instanceof tP)d=e.result;else throw e}finally{a==i.asyncId&&(i.asyncId=n,i.asyncTo=n?l:void 0,i.promise=n?o:void 0)}return O.fun(r)&&y.batchedUpdates(()=>{r(d,s,s.item)}),d})():o}function tA(e,t){D(e.timeouts,e=>e.cancel()),e.pauseQueue.clear(),e.resumeQueue.clear(),e.asyncId=e.asyncTo=e.promise=void 0,t&&(e.cancelId=t)}var tT=class extends Error{constructor(){super("An async animation has been interrupted. You see this error because you forgot to use `await` or `.catch(...)` on its returned promise.")}},tP=class extends Error{constructor(){super("SkipAnimationSignal")}},tI=1,tM=class extends eP{constructor(){super(...arguments),this.id=tI++,this._priority=0}get priority(){return this._priority}set priority(e){this._priority!=e&&(this._priority=e,this._onPriorityChange(e))}get(){let e=e0(this);return e&&e.getValue()}to(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];return v.to(this,t)}interpolate(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];return eW(`${ez}The "interpolate" function is deprecated in v9 (use "to" instead)`),v.to(this,t)}toJSON(){return this.get()}observerAdded(e){1==e&&this._attach()}observerRemoved(e){0==e&&this._detach()}_attach(){}_detach(){}_onChange(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];eT(this,{type:"change",parent:this,value:e,idle:t})}_onPriorityChange(e){this.idle||Y.sort(this),eT(this,{type:"priority",parent:this,priority:e})}},tN=Symbol.for("SpringPhase"),tU=e=>(1&e[tN])>0,tE=e=>(2&e[tN])>0,tR=e=>(4&e[tN])>0,tV=(e,t)=>t?e[tN]|=3:e[tN]&=-3,tO=(e,t)=>t?e[tN]|=4:e[tN]&=-5,tF=class extends tM{constructor(e,t){if(super(),this.animation=new tb,this.defaultProps={},this._state={paused:!1,delayed:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._pendingCalls=new Set,this._lastCallId=0,this._lastToId=0,this._memoizedDuration=0,!O.und(e)||!O.und(t)){let i=O.obj(e)?{...e}:{...t,from:e};O.und(i.default)&&(i.default=!0),this.start(i)}}get idle(){return!(tE(this)||this._state.asyncTo)||tR(this)}get goal(){return eC(this.animation.to)}get velocity(){let e=e0(this);return e instanceof e5?e.lastVelocity||0:e.getPayload().map(e=>e.lastVelocity||0)}get hasAnimated(){return tU(this)}get isAnimating(){return tE(this)}get isPaused(){return tR(this)}get isDelayed(){return this._state.delayed}advance(e){let t=!0,i=!1,s=this.animation,{toValues:a}=s,{config:n}=s,r=e2(s.to);!r&&ek(s.to)&&(a=$(eC(s.to))),s.values.forEach((l,o)=>{if(l.done)return;let u=l.constructor==e6?1:r?r[o].lastPosition:a[o],c=s.immediate,d=u;if(!c){let t;if(d=l.lastPosition,n.tension<=0){l.done=!0;return}let i=l.elapsedTime+=e,a=s.fromValues[o],r=null!=l.v0?l.v0:l.v0=O.arr(n.velocity)?n.velocity[o]:n.velocity,h=n.precision||(a==u?.005:Math.min(1,.001*Math.abs(u-a)));if(O.und(n.duration))if(n.decay){let e=!0===n.decay?.998:n.decay,s=Math.exp(-(1-e)*i);d=a+r/(1-e)*(1-s),c=Math.abs(l.lastPosition-d)<=h,t=r*s}else{t=null==l.lastVelocity?r:l.lastVelocity;let i=n.restVelocity||h/10,s=n.clamp?0:n.bounce,o=!O.und(s),f=a==u?l.v0>0:a<u,m=Math.ceil(e/1);for(let e=0;e<m&&!(!(Math.abs(t)>i)&&(c=Math.abs(u-d)<=h));++e){o&&(d==u||d>u==f)&&(t=-t*s,d=u);let e=(-(1e-6*n.tension)*(d-u)+-(.001*n.friction)*t)/n.mass;t+=+e,d+=+t}}else{let s=1;n.duration>0&&(this._memoizedDuration!==n.duration&&(this._memoizedDuration=n.duration,l.durationProgress>0&&(l.elapsedTime=n.duration*l.durationProgress,i=l.elapsedTime+=e)),l.durationProgress=s=(s=(n.progress||0)+i/this._memoizedDuration)>1?1:s<0?0:s),t=((d=a+n.easing(s)*(u-a))-l.lastPosition)/e,c=1==s}l.lastVelocity=t,Number.isNaN(d)&&(console.warn("Got NaN while animating:",this),c=!0)}r&&!r[o].done&&(c=!1),c?l.done=!0:t=!1,l.setValue(d,n.round)&&(i=!0)});let l=e0(this),o=l.getValue();if(t){let e=eC(s.to);(o!==e||i)&&!n.decay?(l.setValue(e),this._onChange(e)):i&&n.decay&&this._onChange(o),this._stop()}else i&&this._onChange(o)}set(e){return y.batchedUpdates(()=>{this._stop(),this._focus(e),this._set(e)}),this}pause(){this._update({pause:!0})}resume(){this._update({pause:!1})}finish(){if(tE(this)){let{to:e,config:t}=this.animation;y.batchedUpdates(()=>{this._onStart(),t.decay||this._set(e,!1),this._stop()})}return this}update(e){return(this.queue||(this.queue=[])).push(e),this}start(e,t){let i;return O.und(e)?(i=this.queue||[],this.queue=[]):i=[O.obj(e)?e:{...t,to:e}],Promise.all(i.map(e=>this._update(e))).then(e=>t_(this,e))}stop(e){let{to:t}=this.animation;return this._focus(this.get()),tA(this._state,e&&this._lastCallId),y.batchedUpdates(()=>this._stop(t,e)),this}reset(){this._update({reset:!0})}eventObserved(e){"change"==e.type?this._start():"priority"==e.type&&(this.priority=e.priority+1)}_prepareNode(e){let t=this.key||"",{to:i,from:s}=e;(null==(i=O.obj(i)?i[t]:i)||tp(i))&&(i=void 0),null==(s=O.obj(s)?s[t]:s)&&(s=void 0);let a={to:i,from:s};return!tU(this)&&(e.reverse&&([i,s]=[s,i]),s=eC(s),O.und(s)?e0(this)||this._set(i):this._set(s)),a}_update(e,t){let{...i}=e,{key:s,defaultProps:a}=this;i.default&&Object.assign(a,tc(i,(e,t)=>/^on/.test(t)?tl(e,s):e)),tG(this,i,"onProps"),tW(this,"onProps",i,this);let n=this._prepareNode(i);if(Object.isFrozen(this))throw Error("Cannot animate a `SpringValue` object that is frozen. Did you forget to pass your component to `animated(...)` before animating its props?");let r=this._state;return tw(++this._lastCallId,{key:s,props:i,defaultProps:a,state:r,actions:{pause:()=>{tR(this)||(tO(this,!0),z(r.pauseQueue),tW(this,"onPause",tS(this,tL(this,this.animation.to)),this))},resume:()=>{tR(this)&&(tO(this,!1),tE(this)&&this._resume(),z(r.resumeQueue),tW(this,"onResume",tS(this,tL(this,this.animation.to)),this))},start:this._merge.bind(this,n)}}).then(e=>{if(i.loop&&e.finished&&!(t&&e.noop)){let e=tB(i);if(e)return this._update(e,!0)}return e})}_merge(e,t,i){if(t.cancel)return this.stop(!0),i(tk(this));let s=!O.und(e.to),a=!O.und(e.from);if(s||a)if(!(t.callId>this._lastToId))return i(tk(this));else this._lastToId=t.callId;let{key:n,defaultProps:r,animation:l}=this,{to:o,from:u}=l,{to:c=o,from:d=u}=e;a&&!s&&(!t.default||O.und(c))&&(c=d),t.reverse&&([c,d]=[d,c]);let h=!F(d,u);h&&(l.from=d),d=eC(d);let f=!F(c,o);f&&this._focus(c);let m=tp(t.to),{config:p}=l,{decay:g,velocity:v}=p;(s||a)&&(p.velocity=0),t.config&&!m&&function(e,t,i){for(let s in i&&(tx(i={...i},t),t={...i,...t}),tx(e,t),Object.assign(e,t),tg)null==e[s]&&(e[s]=tg[s]);let{frequency:s,damping:a}=e,{mass:n}=e;O.und(s)||(s<.01&&(s=.01),a<0&&(a=0),e.tension=Math.pow(2*Math.PI/s,2)*n,e.friction=4*Math.PI*a*n/s)}(p,tn(t.config,n),t.config!==r.config?tn(r.config,n):void 0);let x=e0(this);if(!x||O.und(c))return i(tS(this,!0));let b=O.und(t.reset)?a&&!t.default:!O.und(d)&&tr(t.reset,n),w=b?d:this.get(),_=tm(c),j=O.num(_)||O.arr(_)||eq(_),S=!m&&(!j||tr(r.immediate||t.immediate,n));if(f){let e=te(c);if(e!==x.constructor)if(S)x=this._set(_);else throw Error(`Cannot animate between ${x.constructor.name} and ${e.name}, as the "to" prop suggests`)}let k=x.constructor,C=ek(c),A=!1;if(!C){let e=b||!tU(this)&&h;(f||e)&&(C=!(A=F(tm(w),_))),(F(l.immediate,S)||S)&&F(p.decay,g)&&F(p.velocity,v)||(C=!0)}if(A&&tE(this)&&(l.changed&&!b?C=!0:C||this._stop(o)),!m&&((C||ek(o))&&(l.values=x.getPayload(),l.toValues=ek(c)?null:k==e6?[1]:$(_)),l.immediate!=S&&(l.immediate=S,S||b||this._set(o)),C)){let{onRest:e}=l;L(tz,e=>tG(this,t,e));let s=tS(this,tL(this,o));z(this._pendingCalls,s),this._pendingCalls.add(i),l.changed&&y.batchedUpdates(()=>{l.changed=!b,e?.(s,this),b?tn(r.onRest,s):l.onStart?.(s,this)})}b&&this._set(w),m?i(tC(t.to,t,this._state,this)):C?this._start():tE(this)&&!f?this._pendingCalls.add(i):i(tj(w))}_focus(e){let t=this.animation;e!==t.to&&(eA(this)&&this._detach(),t.to=e,eA(this)&&this._attach())}_attach(){let e=0,{to:t}=this.animation;ek(t)&&(eM(t,this),t instanceof tM&&(e=t.priority+1)),this.priority=e}_detach(){let{to:e}=this.animation;ek(e)&&eN(e,this)}_set(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1],i=eC(e);if(!O.und(i)){let e=e0(this);if(!e||!F(i,e.getValue())){let s=te(i);e&&e.constructor==s?e.setValue(i):e1(this,s.create(i)),e&&y.batchedUpdates(()=>{this._onChange(i,t)})}}return e0(this)}_onStart(){let e=this.animation;e.changed||(e.changed=!0,tW(this,"onStart",tS(this,tL(this,e.to)),this))}_onChange(e,t){t||(this._onStart(),tn(this.animation.onChange,e,this)),tn(this.defaultProps.onChange,e,this),super._onChange(e,t)}_start(){let e=this.animation;e0(this).reset(eC(e.to)),e.immediate||(e.fromValues=e.values.map(e=>e.lastPosition)),!tE(this)&&(tV(this,!0),tR(this)||this._resume())}_resume(){v.skipAnimation?this.finish():Y.start(this)}_stop(e,t){if(tE(this)){tV(this,!1);let i=this.animation;L(i.values,e=>{e.done=!0}),i.toValues&&(i.onChange=i.onPause=i.onResume=void 0),eT(this,{type:"idle",parent:this});let s=t?tk(this.get()):tS(this.get(),tL(this,e??i.to));z(this._pendingCalls,s),i.changed&&(i.changed=!1,tW(this,"onRest",s,this))}}};function tL(e,t){let i=tm(t);return F(tm(e.get()),i)}function tB(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.loop,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.to,s=tn(t);if(s){let a=!0!==s&&tf(s),n=(a||e).reverse,r=!a||a.reset;return t$({...e,loop:t,default:!1,pause:void 0,to:!n||tp(i)?i:void 0,from:r?e.from:void 0,reset:r,...a})}}function t$(e){let{to:t,from:i}=e=tf(e),s=new Set;return O.obj(t)&&tD(t,s),O.obj(i)&&tD(i,s),e.keys=s.size?Array.from(s):null,e}function tD(e,t){B(e,(e,i)=>null!=e&&t.add(i))}var tz=["onStart","onRest","onChange","onPause","onResume"];function tG(e,t,i){e.animation[i]=t[i]!==to(t,i)?tl(t[i],e.key):void 0}function tW(e,t){for(var i=arguments.length,s=Array(i>2?i-2:0),a=2;a<i;a++)s[a-2]=arguments[a];e.animation[t]?.(...s),e.defaultProps[t]?.(...s)}var tH=["onStart","onChange","onRest"],tq=1,tQ=class{constructor(e,t){this.id=tq++,this.springs={},this.queue=[],this._lastAsyncId=0,this._active=new Set,this._changed=new Set,this._started=!1,this._state={paused:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._events={onStart:new Map,onChange:new Map,onRest:new Map},this._onFrame=this._onFrame.bind(this),t&&(this._flush=t),e&&this.start({default:!0,...e})}get idle(){return!this._state.asyncTo&&Object.values(this.springs).every(e=>e.idle&&!e.isDelayed&&!e.isPaused)}get item(){return this._item}set item(e){this._item=e}get(){let e={};return this.each((t,i)=>e[i]=t.get()),e}set(e){for(let t in e){let i=e[t];O.und(i)||this.springs[t].set(i)}}update(e){return e&&this.queue.push(t$(e)),this}start(e){let{queue:t}=this;return(e?t=$(e).map(t$):this.queue=[],this._flush)?this._flush(this,t):(t1(this,t),tK(this,t))}stop(e,t){if(!!e!==e&&(t=e),t){let i=this.springs;L($(t),t=>i[t].stop(!!e))}else tA(this._state,this._lastAsyncId),this.each(t=>t.stop(!!e));return this}pause(e){if(O.und(e))this.start({pause:!0});else{let t=this.springs;L($(e),e=>t[e].pause())}return this}resume(e){if(O.und(e))this.start({pause:!1});else{let t=this.springs;L($(e),e=>t[e].resume())}return this}each(e){B(this.springs,e)}_onFrame(){let{onStart:e,onChange:t,onRest:i}=this._events,s=this._active.size>0,a=this._changed.size>0;(s&&!this._started||a&&!this._started)&&(this._started=!0,D(e,e=>{let[t,i]=e;i.value=this.get(),t(i,this,this._item)}));let n=!s&&this._started,r=a||n&&i.size?this.get():null;a&&t.size&&D(t,e=>{let[t,i]=e;i.value=r,t(i,this,this._item)}),n&&(this._started=!1,D(i,e=>{let[t,i]=e;i.value=r,t(i,this,this._item)}))}eventObserved(e){if("change"==e.type)this._changed.add(e.parent),e.idle||this._active.add(e.parent);else{if("idle"!=e.type)return;this._active.delete(e.parent)}y.onFrame(this._onFrame)}};function tK(e,t){return Promise.all(t.map(t=>tZ(e,t))).then(t=>t_(e,t))}async function tZ(e,t,i){let{keys:s,to:a,from:n,loop:r,onRest:l,onResolve:o}=t,u=O.obj(t.default)&&t.default;r&&(t.loop=!1),!1===a&&(t.to=null),!1===n&&(t.from=null);let c=O.arr(a)||O.fun(a)?a:void 0;c?(t.to=void 0,t.onRest=void 0,u&&(u.onRest=void 0)):L(tH,i=>{let s=t[i];if(O.fun(s)){let a=e._events[i];t[i]=e=>{let{finished:t,cancelled:i}=e,n=a.get(s);n?(t||(n.finished=!1),i&&(n.cancelled=!0)):a.set(s,{value:null,finished:t||!1,cancelled:i||!1})},u&&(u[i]=t[i])}});let d=e._state;!d.paused===t.pause?(d.paused=t.pause,z(t.pause?d.pauseQueue:d.resumeQueue)):d.paused&&(t.pause=!0);let h=(s||Object.keys(e.springs)).map(i=>e.springs[i].start(t)),f=!0===t.cancel||!0===to(t,"cancel");(c||f&&d.asyncId)&&h.push(tw(++e._lastAsyncId,{props:t,state:d,actions:{pause:V,resume:V,start(t,i){f?(tA(d,e._lastAsyncId),i(tk(e))):(t.onRest=l,i(tC(c,t,d,e)))}}})),d.paused&&await new Promise(e=>{d.resumeQueue.add(e)});let m=t_(e,await Promise.all(h));if(r&&m.finished&&!(i&&m.noop)){let i=tB(t,r,a);if(i)return t1(e,[i]),tZ(e,i,!0)}return o&&y.batchedUpdates(()=>o(m,e,e.item)),m}function tX(e,t){let i={...e.springs};return t&&L($(t),e=>{O.und(e.keys)&&(e=t$(e)),O.obj(e.to)||(e={...e,to:void 0}),t0(i,e,e=>tY(e))}),tJ(e,i),i}function tJ(e,t){B(t,(t,i)=>{e.springs[i]||(e.springs[i]=t,eM(t,e))})}function tY(e,t){let i=new tF;return i.key=e,t&&eM(i,t),i}function t0(e,t,i){t.keys&&L(t.keys,s=>{(e[s]||(e[s]=i(s)))._prepareNode(t)})}function t1(e,t){L(t,t=>{t0(e.springs,t,t=>tY(t,e))})}var t2=e=>{let{children:t,...i}=e,s=(0,n.useContext)(t9),a=i.pause||!!s.pause,r=i.immediate||!!s.immediate;i=function(e,t){let[i]=(0,n.useState)(()=>({inputs:t,result:e()})),s=(0,n.useRef)(),a=s.current,r=a;return r?t&&r.inputs&&function(e,t){if(e.length!==t.length)return!1;for(let i=0;i<e.length;i++)if(e[i]!==t[i])return!1;return!0}(t,r.inputs)||(r={inputs:t,result:e()}):r=i,(0,n.useEffect)(()=>{s.current=r,a==i&&(i.inputs=i.result=void 0)},[r]),r.result}(()=>({pause:a,immediate:r}),[a,r]);let{Provider:l}=t9;return n.createElement(l,{value:i},t)},t9=function(e,t){return Object.assign(e,n.createContext(t)),e.Provider._context=e,e.Consumer._context=e,e}(t2,{});t2.Provider=t9.Provider,t2.Consumer=t9.Consumer;var t5=class extends tM{constructor(e,t){super(),this.source=e,this.idle=!0,this._active=new Set,this.calc=e_(...t);let i=this._get();e1(this,te(i).create(i))}advance(e){let t=this._get();F(t,this.get())||(e0(this).setValue(t),this._onChange(t,this.idle)),!this.idle&&t3(this._active)&&t4(this)}_get(){let e=O.arr(this.source)?this.source.map(eC):$(eC(this.source));return this.calc(...e)}_start(){this.idle&&!t3(this._active)&&(this.idle=!1,L(e2(this),e=>{e.done=!1}),v.skipAnimation?(y.batchedUpdates(()=>this.advance()),t4(this)):Y.start(this))}_attach(){let e=1;L($(this.source),t=>{ek(t)&&eM(t,this),t instanceof tM&&(t.idle||this._active.add(t),e=Math.max(e,t.priority+1))}),this.priority=e,this._start()}_detach(){L($(this.source),e=>{ek(e)&&eN(e,this)}),this._active.clear(),t4(this)}eventObserved(e){"change"==e.type?e.idle?this.advance():(this._active.add(e.parent),this._start()):"idle"==e.type?this._active.delete(e.parent):"priority"==e.type&&(this.priority=$(this.source).reduce((e,t)=>Math.max(e,(t instanceof tM?t.priority:0)+1),0))}};function t6(e){return!1!==e.idle}function t3(e){return!e.size||Array.from(e).every(t6)}function t4(e){e.idle||(e.idle=!0,L(e2(e),e=>{e.done=!0}),eT(e,{type:"idle",parent:e}))}v.assign({createStringInterpolator:eD,to:(e,t)=>new t5(e,t)}),Y.advance;var t8=e.i(2250501),t7=/^--/,ie={},it={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ii=["Webkit","Ms","Moz","O"];it=Object.keys(it).reduce((e,t)=>(ii.forEach(i=>e[((e,t)=>e+t.charAt(0).toUpperCase()+t.substring(1))(i,t)]=e[t]),e),it);var is=/^(matrix|translate|scale|rotate|skew)/,ia=/^(translate)/,ir=/^(rotate|skew)/,il=(e,t)=>O.num(e)&&0!==e?e+t:e,io=(e,t)=>O.arr(e)?e.every(e=>io(e,t)):O.num(e)?e===t:parseFloat(e)===t,iu=class extends e4{constructor({x:e,y:t,z:i,...s}){let a=[],n=[];(e||t||i)&&(a.push([e||0,t||0,i||0]),n.push(e=>[`translate3d(${e.map(e=>il(e,"px")).join(",")})`,io(e,0)])),B(s,(e,t)=>{if("transform"===t)a.push([e||""]),n.push(e=>[e,""===e]);else if(is.test(t)){if(delete s[t],O.und(e))return;let i=ia.test(t)?"px":ir.test(t)?"deg":"";a.push($(e)),n.push("rotate3d"===t?e=>{let[t,s,a,n]=e;return[`rotate3d(${t},${s},${a},${il(n,i)})`,io(n,0)]}:e=>[`${t}(${e.map(e=>il(e,i)).join(",")})`,io(e,+!!t.startsWith("scale"))])}}),a.length&&(s.transform=new ic(a,n)),super(s)}},ic=class extends eP{constructor(e,t){super(),this.inputs=e,this.transforms=t,this._value=null}get(){return this._value||(this._value=this._get())}_get(){let e="",t=!0;return L(this.inputs,(i,s)=>{let a=eC(i[0]),[n,r]=this.transforms[s](O.arr(a)?a:i.map(eC));e+=" "+n,t=t&&r}),t?"none":e}observerAdded(e){1==e&&L(this.inputs,e=>L(e,e=>ek(e)&&eM(e,this)))}observerRemoved(e){0==e&&L(this.inputs,e=>L(e,e=>ek(e)&&eN(e,this)))}eventObserved(e){"change"==e.type&&(this._value=null),eT(this,e)}};v.assign({batchedUpdates:t8.unstable_batchedUpdates,createStringInterpolator:eD,colors:{transparent:0,aliceblue:0xf0f8ffff,antiquewhite:0xfaebd7ff,aqua:0xffffff,aquamarine:0x7fffd4ff,azure:0xf0ffffff,beige:0xf5f5dcff,bisque:0xffe4c4ff,black:255,blanchedalmond:0xffebcdff,blue:65535,blueviolet:0x8a2be2ff,brown:0xa52a2aff,burlywood:0xdeb887ff,burntsienna:0xea7e5dff,cadetblue:0x5f9ea0ff,chartreuse:0x7fff00ff,chocolate:0xd2691eff,coral:0xff7f50ff,cornflowerblue:0x6495edff,cornsilk:0xfff8dcff,crimson:0xdc143cff,cyan:0xffffff,darkblue:35839,darkcyan:9145343,darkgoldenrod:0xb8860bff,darkgray:0xa9a9a9ff,darkgreen:6553855,darkgrey:0xa9a9a9ff,darkkhaki:0xbdb76bff,darkmagenta:0x8b008bff,darkolivegreen:0x556b2fff,darkorange:0xff8c00ff,darkorchid:0x9932ccff,darkred:0x8b0000ff,darksalmon:0xe9967aff,darkseagreen:0x8fbc8fff,darkslateblue:0x483d8bff,darkslategray:0x2f4f4fff,darkslategrey:0x2f4f4fff,darkturquoise:0xced1ff,darkviolet:0x9400d3ff,deeppink:0xff1493ff,deepskyblue:0xbfffff,dimgray:0x696969ff,dimgrey:0x696969ff,dodgerblue:0x1e90ffff,firebrick:0xb22222ff,floralwhite:0xfffaf0ff,forestgreen:0x228b22ff,fuchsia:0xff00ffff,gainsboro:0xdcdcdcff,ghostwhite:0xf8f8ffff,gold:0xffd700ff,goldenrod:0xdaa520ff,gray:0x808080ff,green:8388863,greenyellow:0xadff2fff,grey:0x808080ff,honeydew:0xf0fff0ff,hotpink:0xff69b4ff,indianred:0xcd5c5cff,indigo:0x4b0082ff,ivory:0xfffff0ff,khaki:0xf0e68cff,lavender:0xe6e6faff,lavenderblush:0xfff0f5ff,lawngreen:0x7cfc00ff,lemonchiffon:0xfffacdff,lightblue:0xadd8e6ff,lightcoral:0xf08080ff,lightcyan:0xe0ffffff,lightgoldenrodyellow:0xfafad2ff,lightgray:0xd3d3d3ff,lightgreen:0x90ee90ff,lightgrey:0xd3d3d3ff,lightpink:0xffb6c1ff,lightsalmon:0xffa07aff,lightseagreen:0x20b2aaff,lightskyblue:0x87cefaff,lightslategray:0x778899ff,lightslategrey:0x778899ff,lightsteelblue:0xb0c4deff,lightyellow:0xffffe0ff,lime:0xff00ff,limegreen:0x32cd32ff,linen:0xfaf0e6ff,magenta:0xff00ffff,maroon:0x800000ff,mediumaquamarine:0x66cdaaff,mediumblue:52735,mediumorchid:0xba55d3ff,mediumpurple:0x9370dbff,mediumseagreen:0x3cb371ff,mediumslateblue:0x7b68eeff,mediumspringgreen:0xfa9aff,mediumturquoise:0x48d1ccff,mediumvioletred:0xc71585ff,midnightblue:0x191970ff,mintcream:0xf5fffaff,mistyrose:0xffe4e1ff,moccasin:0xffe4b5ff,navajowhite:0xffdeadff,navy:33023,oldlace:0xfdf5e6ff,olive:0x808000ff,olivedrab:0x6b8e23ff,orange:0xffa500ff,orangered:0xff4500ff,orchid:0xda70d6ff,palegoldenrod:0xeee8aaff,palegreen:0x98fb98ff,paleturquoise:0xafeeeeff,palevioletred:0xdb7093ff,papayawhip:0xffefd5ff,peachpuff:0xffdab9ff,peru:0xcd853fff,pink:0xffc0cbff,plum:0xdda0ddff,powderblue:0xb0e0e6ff,purple:0x800080ff,rebeccapurple:0x663399ff,red:0xff0000ff,rosybrown:0xbc8f8fff,royalblue:0x4169e1ff,saddlebrown:0x8b4513ff,salmon:0xfa8072ff,sandybrown:0xf4a460ff,seagreen:0x2e8b57ff,seashell:0xfff5eeff,sienna:0xa0522dff,silver:0xc0c0c0ff,skyblue:0x87ceebff,slateblue:0x6a5acdff,slategray:0x708090ff,slategrey:0x708090ff,snow:0xfffafaff,springgreen:0xff7fff,steelblue:0x4682b4ff,tan:0xd2b48cff,teal:8421631,thistle:0xd8bfd8ff,tomato:0xff6347ff,turquoise:0x40e0d0ff,violet:0xee82eeff,wheat:0xf5deb3ff,white:0xffffffff,whitesmoke:0xf5f5f5ff,yellow:0xffff00ff,yellowgreen:0x9acd32ff}});var id=function(e){let{applyAnimatedValues:t=()=>!1,createAnimatedStyle:i=e=>new e4(e),getComponentProps:s=e=>e}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a={applyAnimatedValues:t,createAnimatedStyle:i,getComponentProps:s},n=e=>{let t=ta(e)||"Anonymous";return(e=O.str(e)?n[e]||(n[e]=tt(e,a)):e[ts]||(e[ts]=tt(e,a))).displayName=`Animated(${t})`,e};return B(e,(t,i)=>{O.arr(e)&&(i=ta(t)),n[i]=n(t)}),{animated:n}}(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],{applyAnimatedValues:function(e,t){if(!e.nodeType||!e.setAttribute)return!1;let i="filter"===e.nodeName||e.parentNode&&"filter"===e.parentNode.nodeName,{style:s,children:a,scrollTop:n,scrollLeft:r,viewBox:l,...o}=t,u=Object.values(o),c=Object.keys(o).map(t=>i||e.hasAttribute(t)?t:ie[t]||(ie[t]=t.replace(/([A-Z])/g,e=>"-"+e.toLowerCase())));for(let t in void 0!==a&&(e.textContent=a),s)if(s.hasOwnProperty(t)){var d;let i=null==(d=s[t])||"boolean"==typeof d||""===d?"":"number"!=typeof d||0===d||t7.test(t)||it.hasOwnProperty(t)&&it[t]?(""+d).trim():d+"px";t7.test(t)?e.style.setProperty(t,i):e.style[t]=i}c.forEach((t,i)=>{e.setAttribute(t,u[i])}),void 0!==n&&(e.scrollTop=n),void 0!==r&&(e.scrollLeft=r),void 0!==l&&e.setAttribute("viewBox",l)},createAnimatedStyle:e=>new iu(e),getComponentProps:e=>{let{scrollTop:t,scrollLeft:i,...s}=e;return s}}).animated;e.i(6289897),e.i(6112807),e.i(4212425),e.i(5693874),e.i(4157564);var ih=e.i(5610210);let im=(0,u.createUnitFormatter)({style:"long"}),ip=(0,u.createUnitFormatter)({style:"short"}),ig=new Intl.NumberFormat("en-US",{notation:"compact",maximumFractionDigits:0}),iv=new Intl.NumberFormat("en-US",{maximumFractionDigits:0}),ix=new Intl.NumberFormat("en-US",{currency:"USD",style:"currency",maximumFractionDigits:2});function iy(e,t,i){if(null===t)return ib(e,i);if("custom"===t.kind){let s=t.plural;return(1===e&&(s=t.singular),["dollar","dollars"].includes(s))?`${ix.format(e)}`:`${ib(e,i)} ${s}`}return`${ib(e,i)}`}function ib(e,t){return"short"===t.style?ig.format(e):iv.format(e)}function iw(e,t){let i=e.split(",")[0]?.trim()||e;return t.includes(i)}var i_=e.i(8330948);function ij(e){let{open:t,data:i,...s}=e;return t&&i?(0,a.jsx)(iS,{...s,data:i}):null}function iS(e){let{containerWidth:t,data:i,left:s,chartData:r,isProjectView:l,colorsScale:o,granularity:u,hoveredSegmentKey:c,valuesUnit:d,staticItems:h}=e,f=function(e){let{left:t,containerWidth:i}=e,s=20,a="0";{let{innerWidth:e}=window;e<i+400&&(s=10),t>.75*i&&(s=-20,a="-100%")}return{...function(e,t){let i=O.fun(e),[[s],a]=function(e,t,i){let s=O.fun(t)&&t;s&&!i&&(i=[]);let a=(0,n.useMemo)(()=>s||3==arguments.length?(()=>{let e=[],t=function(t){eH(`${ez}Directly calling start instead of using the api object is deprecated in v9 (use ".start" instead), this will be removed in later 0.X.0 versions`);let s=[];return L(e,(e,a)=>{if(O.und(t))s.push(e.start());else{let n=i(t,e,a);n&&s.push(e.start(n))}}),s};t.current=e,t.add=function(t){e.includes(t)||e.push(t)},t.delete=function(t){let i=e.indexOf(t);~i&&e.splice(i,1)},t.pause=function(){return L(e,e=>e.pause(...arguments)),this},t.resume=function(){return L(e,e=>e.resume(...arguments)),this},t.set=function(t){L(e,(e,i)=>{let s=O.fun(t)?t(i,e):t;s&&e.set(s)})},t.start=function(t){let i=[];return L(e,(e,s)=>{if(O.und(t))i.push(e.start());else{let a=this._getProps(t,e,s);a&&i.push(e.start(a))}}),i},t.stop=function(){return L(e,e=>e.stop(...arguments)),this},t.update=function(t){return L(e,(e,i)=>e.update(this._getProps(t,e,i))),this};let i=function(e,t,i){return O.fun(e)?e(i,t):e};return t._getProps=i,t})():void 0,[]),r=(0,n.useRef)(0),l=eK(),o=(0,n.useMemo)(()=>({ctrls:[],queue:[],flush(e,t){let i=tX(e,t);return!(r.current>0)||o.queue.length||Object.keys(i).some(t=>!e.springs[t])?new Promise(s=>{tJ(e,i),o.queue.push(()=>{s(tK(e,t))}),l()}):tK(e,t)}}),[]),u=(0,n.useRef)([...o.ctrls]),c=[],d=eJ(e)||0;function h(e,i){for(let a=e;a<i;a++){let e=u.current[a]||(u.current[a]=new tQ(null,o.flush)),i=s?s(a,e):t[a];i&&(c[a]=function(e){let t=t$(e);return O.und(t.default)&&(t.default=tc(t)),t}(i))}}(0,n.useMemo)(()=>{L(u.current.slice(e,d),e=>{e.ref?.delete(e),a?.delete(e),e.stop(!0)}),u.current.length=e,h(d,e)},[e]),(0,n.useMemo)(()=>{h(0,Math.min(d,e))},i);let f=u.current.map((e,t)=>tX(e,c[t])),m=(0,n.useContext)(t2),p=eJ(m),g=m!==p&&function(e){for(let t in e)return!0;return!1}(m);eQ(()=>{r.current++,o.ctrls=u.current;let{queue:e}=o;e.length&&(o.queue=[],L(e,e=>e())),L(u.current,(e,t)=>{a?.add(e),g&&e.start({default:m});let i=c[t];if(i){var s;(s=i.ref)&&e.ref!==s&&(e.ref?.delete(e),s.add(e),e.ref=s),e.ref?e.queue.push(i):e.start(i)}})}),eZ(()=>()=>{L(o.ctrls,e=>e.stop(!0))});let v=f.map(e=>({...e}));return a?[v,a]:v}(1,i?e:[e],i?t||[]:t);return i||2==arguments.length?[s,a]:s}({left:t+s,top:10,translateX:a,config:{mass:.05,tension:400,friction:30}})}}({left:s,containerWidth:t}),m=i.values.map((e,t)=>{let i=e.value[0]||0;return{name:function(e,t,i){if(i&&e.project){let i=e.project;if(t.dimensionsMeta.project){let e=t.dimensionsMeta.project;if(e.values[i])return e.values[i].title||i}if(t.projectMeta?.values[i]){let e=t.projectMeta.values[i];if(e.title)return e.title}return i}for(let i of Object.keys(e)){let s=e[i];if(s){let e=t.dimensionsMeta[i];if(e?.values[s])return e.values[s].title||s;return s}}return"Unknown"}(e.dimensionValues,r,l),value:i,color:o(t),index:t}}).filter(e=>!(!l&&iw(e.name,h??[]))&&Math.abs(e.value)>0);if(m.sort((e,t)=>t.value-e.value),0===m.length)return null;let p=ik(i.timestamp,u);return(0,a.jsxs)(id.div,{className:i_.default.productListTooltip,style:f,children:[(0,a.jsx)("ul",{className:i_.default.list,children:m.map(e=>(0,a.jsxs)("li",{className:i_.default.listItem,children:[(0,a.jsx)("div",{className:i_.default.colorIndicator,style:{backgroundColor:e.color}}),(0,a.jsx)("div",{className:(0,ih.clsx)(i_.default.itemName,void 0!==c&&e.index===c&&i_.default.highlightedItem),children:e.name}),(0,a.jsx)("div",{className:(0,ih.clsx)(i_.default.itemValue,void 0!==c&&e.index===c&&i_.default.highlightedItem),children:iy(e.value,d,{style:"long",valuesUnit:d})})]},e.index))}),(0,a.jsx)("div",{className:i_.default.date,children:p})]})}let ik=(e,t)=>{let i=new Date(e);switch(t.unit){case"hour":return(0,m.format)(i,"MMM d HH:mm");case"week":return(0,m.format)(i,"MMM d");default:return(0,m.format)(i,"MMM d, y")}};var iC=e.i(8874729),iA=e.i(7036948);function iT(e,t,i){return 0===t.length?"Total":new Intl.ListFormat("en-US",{style:"long"}).format(t.map(t=>{let s=e.dimensionValues[t];if(null==s)return"Unknown";let a=i[t]?.values[s];return a?a.title:s}))}var iP=e.i(888211);let iI=(0,n.memo)(function(e){let{handle:t,timeseries:i,isProjectView:s,staticItems:r}=e,l=(0,n.useMemo)(()=>Array.from({length:t.view.results.length},(e,t)=>t),[t.view.results.length]),o=(0,n.useMemo)(()=>s?l.map(()=>!0):l.map(e=>{let i=t.view.results[e];return!!i&&!iw(iT(i,t.view.groupBy,t.data.dimensionsMeta),r??[])}),[l,t.view.results,t.view.groupBy,t.data.dimensionsMeta,s,r]),u=(e,s,a)=>{let n=t.data.timestamps[e.bar.data];if(void 0!==n){let r=Math.round(e.x+e.width/2),l=i.getDatum(e.bar.data);s?t.chartInteraction.click({datum:l,left:r,hoveredSegmentKey:a}):t.chartInteraction.willHoverChange(n,a)&&t.chartInteraction.hover({datum:l,left:r,hoveredSegmentKey:a})}};return(0,a.jsx)(iC.BarStack,{color:e=>s||t.view.results[e]?t.colorsScale(e):t.colorsScale(0),data:i.indices,keys:l,order:"descending",value:(e,i)=>{if(!o[i])return 0;let s=t.view.results[i];return s?.values[e]?s.values[e][0]??0:0},x:e=>t.data.timestamps[e]??0,xScale:i.timestampsScale,yScale:i.valuesScale,children:e=>[e[e.length-1]?.bars.map(s=>{let n=t.chartInteraction.isClicked&&t.chartInteraction.activeItem?.datum.timestamp===t.data.timestamps[s.bar.data];return(0,a.jsx)("rect",{className:(0,ih.clsx)(iP.default.barOverlay,n&&iP.default.barOverlaySelected),height:i.valuesScale(0),onMouseMove:()=>{u(s,!1,void 0)},onClick:()=>{u(s,!0,void 0)},onKeyDown:e=>{("Enter"===e.key||" "===e.key)&&u(s,!0,void 0)},onTouchMove:t=>{let{x:i}=(0,iA.localPoint)(t)??{x:0},a=Math.floor(i/(s.width/.5625)),n=e[e.length-1]?.bars[a];n&&u(n,!1)},onTouchEnd:t=>{let{x:i}=(0,iA.localPoint)(t)??{x:0},a=Math.floor(i/(s.width/.5625)),n=e[e.length-1]?.bars[a];n&&u(n,!0)},width:s.width/.5625,x:s.x-.4375*s.width*.5/.5625,y:0,pointerEvents:"none"},`bar-stack-${s.index}-overlay`)})??[],...e.map((e,i)=>e.bars.map(s=>{if(s.height<=0)return null;let n=t.chartInteraction.isClicked&&t.chartInteraction.activeItem?.datum.timestamp===t.data.timestamps[s.bar.data];return(0,a.jsx)("rect",{className:(0,ih.clsx)(iP.default.bar,n&&iP.default.barSelected),fill:s.color,height:s.height,width:s.width,x:s.x,y:s.y,"data-stack-index":i,"data-bar-index":s.index,onMouseEnter:e=>{e.stopPropagation(),u(s,!1,i)},onFocus:()=>{u(s,!1,i)},onClick:e=>{e.stopPropagation(),u(s,!0,i)},onKeyDown:e=>{("Enter"===e.key||" "===e.key)&&u(s,!0,i)}},`bar-stack-${e.key}-${s.index}`)}).filter(Boolean))]})});var iM=e.i(9304191),iN=e.i(5919491),iU=e.i(1799819);let iE=(0,n.memo)(function(e){let{timeseries:t,handle:i}=e,s=(0,n.useMemo)(()=>(function(e){let t=e.domain(),i=e(t[0]??0)??0,s=e.step();return e=>Math.max(0,Math.min(Math.round((e-i)/s),t.length-1))})(t.timestampsScale),[t.timestampsScale]),r=(0,n.useCallback)(e=>{let{x:a}=(0,iA.localPoint)(e)||{x:0},n=s(a),r=i.data.timestamps[n];if(void 0!==r&&i.chartInteraction.willHoverChange(r)){let e=t.getDatum(n);i.chartInteraction.hover({datum:e,left:t.timestampsScale(e.timestamp)??0})}},[t,i.chartInteraction,i.data.timestamps,s]);return(0,a.jsxs)(a.Fragment,{children:[i.chartInteraction.activeItem?(0,a.jsx)(iN.Line,{from:{x:i.chartInteraction.activeItem.left,y:0},pointerEvents:"none",stroke:"var(--accents-2)",strokeWidth:1,to:{x:i.chartInteraction.activeItem.left,y:200}}):null,t.dimensionKeys.map(e=>(0,a.jsxs)(n.default.Fragment,{children:[(0,a.jsx)(iU.LinePath,{curve:iM.curveLinear,data:t.indices,stroke:i.colorsScale(e),strokeWidth:2,x:e=>t.timestampsScale(i.data.timestamps[e]??0)??0,y:s=>t.valuesScale(i.view.results[e]?.values[s]?.[0]??0)}),i.chartInteraction.activeItem?(0,a.jsx)("circle",{cx:i.chartInteraction.activeItem.left,cy:t.valuesScale(i.chartInteraction.activeItem.datum.values[e]?.value[0]??0),fill:i.colorsScale(e),pointerEvents:"none",r:4,stroke:"white",strokeWidth:2}):null]},e)),(0,a.jsx)("rect",{fill:"transparent",height:200,onMouseMove:r,onTouchMove:r,rx:0,width:i.containerWidth,x:0,y:0})]})});var iR=e.i(2120451),iV=e.i(7517602),iO=e.i(9939347),iF=e.i(8293392);function iL(e){let{handle:t,style:i,isProjectView:s=!1,staticItems:r}=e,l=(0,n.useRef)(null),o=6e4*new Date().getTimezoneOffset(),m=(0,u.createUnitFormatter)({style:"short"}),p=function(e){let{data:t,view:i,style:s,containerWidth:a}=e;return(0,n.useMemo)(()=>{let e,n;e="bar"===s?(0,iR.scaleBand)({domain:t.timestamps,range:[0,a-50],padding:.4375,paddingOuter:.3}):(0,iO.scalePoint)({domain:t.timestamps,range:[0,a-36],padding:.3});let r=function(e,t,i){let s=8;t<480?s=3:t<720?s=4:"hour"===i.unit&&1===i.step&&(s=4);let a=Math.round(e.length/s);return e.length<=3?e:e.filter((e,t)=>t%a==a>>1)}(t.timestamps,a,t.granularity);0===(n="bar"===s?t.timestamps.reduce((e,i,s)=>Math.max(e,t.totalValues[s]??0),0):i.results.reduce((e,t)=>Math.max(e,t.values.reduce((e,t)=>Math.max(e,t[0]??0),0)),0))&&(n=100);let l=(0,iV.scaleLinear)({domain:[0,n],range:[200,0],clamp:!0}),o=function(e){let t=Math.pow(10,Math.floor(Math.log10(e))),i=t/10*Math.ceil(e/(t/10))/5;return[0,i,2*i,3*i,4*i,5*i]}(n),u=function(e){let t=[];for(let i=0;i<e.length;i++)t.push(i);return t}(i.results);return{indices:t.timestamps.map((e,t)=>t),getDatum:e=>({timestamp:t.timestamps[e]??0,totalValue:t.totalValues[e]??0,values:i.results.map(t=>({dimensionValues:t.dimensionValues,value:t.values[e]??[0,0]}))}),dimensionKeys:u,timestampsScale:e,timestampsTicks:r,valuesScale:l,valuesTicks:o}},[a,t.granularity,t.timestamps,t.totalValues,s,i.results])}({containerWidth:t.containerWidth,data:{...t.data,dimensionsMeta:s&&t.data.dimensionsMeta.project?{project:t.data.dimensionsMeta.project}:t.data.dimensionsMeta},style:i,view:t.view}),g=function(e){let{containerWidth:t,granularity:i,chartInteraction:s}=e,[a,r]=(0,n.useState)(null);return(0,n.useEffect)(()=>s.subscribeToChange(e=>{r(e)}),[s]),{left:(a?.left??0)+50,open:null!==a,data:a?.datum,containerWidth:t,granularity:i}}({containerWidth:t.containerWidth,granularity:t.data.granularity,chartInteraction:t.chartInteraction});return(0,a.jsxs)("figure",{className:iF.default.chartContainer,onMouseLeave:()=>{t.chartInteraction.blur()},ref:t.chartRef,style:{visibility:t.containerWidth?"visible":"hidden"},children:[(0,a.jsxs)("div",{className:iF.default.autoVisibility,children:[(0,a.jsx)("svg",{className:iF.default.chartAxis,height:227,width:50,children:(0,a.jsx)(c.AxisLeft,{hideAxisLine:!0,hideTicks:!0,left:8,scale:p.valuesScale,tickFormat:e=>(e=>{let i=m(e,t.data.valuesUnit);return t.data.valuesUnit?.kind==="custom"?i.split(" ")[0]??"":i})(e),tickLabelProps:()=>({fill:"var(--accents-5)",fontSize:14,textAnchor:"start"}),tickValues:p.valuesTicks,top:5})}),(0,a.jsxs)("svg",{className:iF.default.chartAxis,height:227,ref:l,width:"calc(100% - 50px)",children:[(0,a.jsx)(d.AxisBottom,{hideAxisLine:!0,hideTicks:!0,scale:p.timestampsScale,tickFormat:e=>iB(e+o,t.data.granularity),tickLabelProps:()=>({fill:"var(--accents-5)",fontSize:14,textAnchor:"middle"}),tickValues:p.timestampsTicks,top:200}),(0,a.jsx)(h.GridRows,{scale:p.valuesScale,stroke:"var(--accents-2)",tickValues:p.valuesTicks,width:l.current?l.current.clientWidth:400}),(0,a.jsx)(f.Group,{children:"bar"===i?(0,a.jsx)(iI,{handle:t,timeseries:p,isProjectView:s,staticItems:r}):(0,a.jsx)(iE,{handle:t,timeseries:p})})]})]}),(0,a.jsx)(ij,{containerWidth:t.containerWidth,open:g.open,data:g.data,left:g.left,chartData:t.data,isProjectView:s,colorsScale:t.colorsScale,granularity:t.data.granularity,hoveredSegmentKey:t.chartInteraction.activeItem?.hoveredSegmentKey,valuesUnit:t.data.valuesUnit,staticItems:r})]})}let iB=(e,t)=>{let i=new Date(e);switch(t.unit){case"hour":return(0,m.format)(i,"MMM d HH:mm");case"week":default:return(0,m.format)(i,"MMM d");case"month":return(0,m.format)(i,"MMM d, y")}};var i$=e.i(8084653),iD=e.i(6530145),iz=e.i(6096189),iG=e.i(4377543),iW=e.i(5859416),iH=e.i(6649026);function iq(e){let{invoiceItems:t,type:i,used:s}=e,a=t[i],n=a?.batch??null,r=a?.price??null,l=a?.threshold??null;l&&"artifacts"===i&&(l=null);let o=0;null!==l&&s>l&&l>0&&(o=Math.abs(l-s)),s>o&&(null===l||0===l)&&(o=s);let u=null!==l&&l>0?Math.ceil(s/l*100):null;return{exceeded:o,increment:n,limit:l,percentage:u?u/100:null,used:null!==l?0:s,pricePerIncrement:r}}function iQ(e){let{maxRows:t,data:i,view:s,chartInteraction:a,colorsScale:r,billableItemToChartMap:l,teamSlug:o,queryParams:u,isProjectView:c,staticItems:d,invoiceItems:h}=e,[f,m]=(0,n.useState)(!1),p=null!==t?Math.min(t,s.results.length):s.results.length,g=(0,n.useCallback)((e,t)=>{let a;if(0===s.results.length)return{value:0,usageValue:0,percent:0,percentage:0,exceeded:0};let n=s.results[e];if(!n)return{value:0,usageValue:0,percent:0,percentage:0,exceeded:0};let r=iw(iT(n,s.groupBy,i.dimensionsMeta),d??[]),l=!r&&t?.values[e]?.value?t.values[e]?.value:s.results[e]?.totalValue??[0,0];a=0===s.results.length?0:!r&&t?t.values.reduce((e,t)=>e+(t.value[0]??0),0):s.results.reduce((e,t)=>e+(t.totalValue[0]??0),0);let o=l[0]??0,u=l[1]??0,c=iq({invoiceItems:h??{},type:Object.values(n.dimensionValues)[0]??"",used:u});return{value:o,usageValue:u,percent:0===a?0:o/a,percentage:c.percentage??0,exceeded:c.exceeded}},[s.results,s.groupBy,i.dimensionsMeta,d,h]),{rows:v,totalValue:x}=(0,n.useMemo)(()=>{let e=[],t=0;if(0===s.results.length)e.push({title:"No Usage",subtitle:null,color:r(0),value:new tF(0),usageValue:new tF(0),percent:new tF(0),percentage:null,slug:void 0,exceeded:new tF(0)}),t=0;else for(let a=0;a<p;a++){let n=s.results[a];if(!n)continue;let f=Object.values(n.dimensionValues)[0],m=iT(n,s.groupBy,i.dimensionsMeta),p=function(e,t,i){let s=t[0];if(!s)return null;let a=e.dimensionValues[s];if(!a)return null;let n=i[s]?.values[a];return n?n.subtitle??null:null}(n,s.groupBy,i.dimensionsMeta),{value:v,percent:x,usageValue:y}=g(a,null),b=iq({invoiceItems:h??{},type:f??"",used:y});iw(m,d??[])||(t+=v);let w="";if(f&&l?.[f]){let{product:e,products:t,...i}=u??{};w=`/${o??""}/~/usage/${l[f]}${(0,iH.encode)(i)}`}else c&&(w=`/${o??""}/${m}/observability`);e.push({title:m,subtitle:p,color:r(a),value:new tF(v),percent:new tF(x),usageValue:new tF(y),slug:f??void 0,usagePath:w,percentage:new tF(b.percentage??0),exceeded:new tF(b.exceeded),limit:b.limit??void 0,pricePerIncrement:b.pricePerIncrement??void 0,increment:b.increment??void 0,used:b.used})}return{rows:e,totalValue:new tF(t)}},[i.dimensionsMeta,p,s.results,s.groupBy,g,r,o,l,u,c,d,h]),y=(()=>{let[e,t]=(0,n.useState)(null);return eQ(()=>{let e=window.matchMedia("(prefers-reduced-motion)"),i=e=>{t(e.matches),Q({skipAnimation:e.matches})};return i(e),e.addEventListener("change",i),()=>{e.removeEventListener("change",i)}},[]),e})()??!1,b=(0,n.useCallback)((e,t)=>{let i=0;for(let s=0;s<v.length;s++){let{value:a,usageValue:n,percent:r,percentage:l,exceeded:o}=g(s,e),u=v[s];u&&(u.value.goal!==a&&u.value.start(a,{config:{duration:200},immediate:t??y}),u.percent.goal!==r&&u.percent.start(r,{config:{duration:200,bounce:0},immediate:t??y}),u.usageValue.goal!==n&&u.usageValue.start(n,{config:{duration:200},immediate:t??y}),u.percentage&&u.percentage.goal!==l&&u.percentage.start(l,{config:{duration:200},immediate:t??y}),u.exceeded.goal!==o&&u.exceeded.start(o,{config:{duration:200},immediate:t??y}),iw(u.title,d??[])||(i+=a))}x.start(i,{config:{duration:200},immediate:t??y})},[x,v,g,y,d]);return(0,n.useEffect)(()=>a.subscribeToChange(e=>{let t=e?.datum??null;b(t),(0,n.startTransition)(()=>{m(null!==t)})}),[a,b]),{rows:v,isFocused:f,totalValue:x}}var iK=e.i(6273319),iZ=e.i(684229),iX=e.i(3162912),iJ=e.i(664635),iY=e.i(7573892),i0=e.i(9802771);let i1=new Intl.NumberFormat("en-US",{style:"percent",minimumFractionDigits:1});function i2(e){let{isFocused:t,row:i,handle:s,isProjectView:n,isMobile:r,mobileValueMode:l,showProgressBar:o=!1,isInBillingCycle:u=!0}=e,c=i.usagePath;if("ent"===e.variant){let{showPercentage:u}=e;return r?"value"===l?(0,a.jsx)(i5,{colSpan:4,isFocused:t,rightAligned:!0,row:i,valuesUnit:s.data.valuesUnit,hideUsage:n,tableCellLink:c,plan:"enterprise"}):(0,a.jsx)(i3,{colSpan:4,isFocused:t,rightAligned:!0,row:i,showProgressBar:o,tableCellLink:c,plan:"enterprise"}):u?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(i5,{colSpan:2,isFocused:t,row:i,usageUnit:s.data.metrics.find(e=>e.title===i.title.split(",")[0])?.unit,hideUsage:n,tableCellLink:c,plan:"enterprise"}),(0,a.jsx)(i3,{colSpan:2,isFocused:t,rightAligned:!0,row:i,showProgressBar:o,tableCellLink:c,plan:"enterprise"}),(0,a.jsx)(i5,{colSpan:2,isFocused:t,row:i,tableCellLink:c,hideUsage:n,valuesUnit:s.data.metrics.find(e=>"gross_cost"===e.slug)?.unit,plan:"enterprise"})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(i3,{colSpan:2,isFocused:t,rightAligned:!0,row:i,showProgressBar:!1,tableCellLink:c,plan:"enterprise"}),(0,a.jsx)(i5,{colSpan:2,isFocused:t,row:i,tableCellLink:c,hideUsage:n,valuesUnit:s.data.metrics.find(e=>"gross_cost"===e.slug)?.unit,plan:"enterprise"})]})}return r?n?(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(i6,{colSpan:1,isFocused:t,rightAligned:!0,row:i,tableCellLink:c,valuesUnit:s.data.metrics.find(e=>"gross_cost"===e.slug)?.unit,plan:"pro"})}):"value"===l?(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(i4,{colSpan:2,isFocused:t,rightAligned:!0,row:i,usageUnit:s.data.valuesUnit,tableCellLink:c,plan:"pro",isMobile:r})}):(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(i6,{colSpan:1,isFocused:t,rightAligned:!0,row:i,tableCellLink:c,valuesUnit:s.data.metrics.find(e=>"gross_cost"===e.slug)?.unit,plan:"pro"})}):n?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(se,{colSpan:1}),(0,a.jsx)(i3,{colSpan:1,isFocused:t,row:i,showProgressBar:o,tableCellLink:c,plan:"pro"}),(0,a.jsx)(i6,{colSpan:1,isFocused:t,rightAligned:!0,row:i,tableCellLink:c,valuesUnit:s.data.metrics.find(e=>"gross_cost"===e.slug)?.unit,plan:"pro"})]}):(0,a.jsxs)(a.Fragment,{children:[u?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(i4,{colSpan:1,isFocused:t,row:i,usageUnit:s.data.metrics.find(e=>e.title===i.title.split(",")[0])?.unit,tableCellLink:c,plan:"pro"}),(0,a.jsx)(i8,{colSpan:1,isFocused:t,row:i,usageUnit:s.data.metrics.find(e=>e.title===i.title.split(",")[0])?.unit,tableCellLink:c,plan:"pro"})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(se,{colSpan:1}),(0,a.jsx)(i7,{colSpan:1,isFocused:t,row:i,usageUnit:s.data.metrics.find(e=>e.title===i.title.split(",")[0])?.unit,tableCellLink:c,plan:"pro"})]}),(0,a.jsx)(i6,{colSpan:1,isFocused:t,rightAligned:!0,row:i,tableCellLink:c,valuesUnit:s.data.metrics.find(e=>"gross_cost"===e.slug)?.unit,plan:"pro"})]})}function i9(e){let{row:t,colSpan:i,tableCellLink:s,plan:n}=e,r=(0,a.jsxs)(p.Stack,{align:"center",direction:"row",gap:3,paddingX:1,children:[(0,a.jsx)(iJ.Status,{style:{color:t.color}}),(0,a.jsx)(i$.Text,{color:"gray-1000",weight:500,children:t.title.split(",")[0]}),t.subtitle?(0,a.jsxs)(a.Fragment,{children:[" ",(0,a.jsx)(i$.Text,{color:"gray-900",weight:400,children:t.subtitle})]}):null]});return(0,a.jsx)(iD.Table.Cell,{colSpan:i,children:s?(0,a.jsx)(p.Stack,{as:iD.Table.CellLink,onClick:()=>{s&&(t.title&&s.includes("/observability")?iY.analytics.track(i0.AnalyticsEvent.USAGE_PROJECT_ROW_CLICKED,{projectId:t.title||"unknown",plan:n}):iY.analytics.track(i0.AnalyticsEvent.USAGE_METRIC_ROW_CLICKED,{rowKey:t.title||"unknown",plan:n}))},href:s,children:r}):r})}function i5(e){let{row:t,valuesUnit:i,usageUnit:s,colSpan:r,rightAligned:l,isFocused:o,tableCellLink:u,hideUsage:c,plan:d}=e,h=(0,n.useMemo)(()=>e=>s?.kind==="custom"?im(e,{...s,singular:"",plural:""}):im(e,s),[s]),f=(0,a.jsxs)("div",{className:(0,ih.clsx)("tabular-nums","whitespace-nowrap","font-normal",{"text-right":l}),color:o?"gray-1000":"gray-900",children:[i?(0,a.jsx)(id.span,{children:t.value.to(e=>iy(e,i,{style:"long",valuesUnit:i}))}):null,s&&!c?(0,a.jsxs)(p.Stack,{direction:"row",gap:1,align:"center",children:[(0,a.jsx)(id.span,{children:t.usageValue.to(h)}),t.limit?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(i$.Text,{color:"gray-900",children:"/"}),(0,a.jsx)(i$.Text,{color:"gray-900",children:h(t.limit)})]}):null]}):null]});return(0,a.jsx)(iD.Table.Cell,{colSpan:r,children:u?(0,a.jsx)(p.Stack,{as:iD.Table.CellLink,href:u,onClick:()=>{u&&(t.title&&u.includes("/observability")?iY.analytics.track(i0.AnalyticsEvent.USAGE_PROJECT_ROW_CLICKED,{projectId:t.title.split(",")[0]||"unknown",plan:d}):iY.analytics.track(i0.AnalyticsEvent.USAGE_METRIC_ROW_CLICKED,{rowKey:t.title||"unknown",plan:d}))},children:f}):f})}function i6(e){let{row:t,valuesUnit:i,usageUnit:s,colSpan:r,rightAligned:l,isFocused:o,tableCellLink:u,hideUsage:c,plan:d}=e,h=(0,n.useMemo)(()=>e=>s?.kind==="custom"?im(e,{...s,singular:"",plural:""}):im(e,s),[s]),f=(0,a.jsxs)("div",{className:(0,ih.clsx)("tabular-nums","whitespace-nowrap","font-normal",{"text-right":l}),color:o?"gray-1000":"gray-900",children:[i&&t.value.get()>0?(0,a.jsx)(id.span,{children:t.value.to(e=>iy(e,i,{style:"long",valuesUnit:i}))}):"-",s&&!c?(0,a.jsxs)(p.Stack,{direction:"row",gap:1,align:"center",children:[(0,a.jsx)(id.span,{children:t.usageValue.to(h)}),t.limit?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(i$.Text,{color:"gray-900",children:"/"}),(0,a.jsx)(i$.Text,{color:"gray-900",children:h(t.limit)})]}):null]}):null]});return(0,a.jsx)(iD.Table.Cell,{colSpan:r,children:u?(0,a.jsx)(p.Stack,{as:iD.Table.CellLink,href:u,onClick:()=>{u&&(t.title&&u.includes("/observability")?iY.analytics.track(i0.AnalyticsEvent.USAGE_PROJECT_ROW_CLICKED,{projectId:t.title.split(",")[0]||"unknown",plan:d}):iY.analytics.track(i0.AnalyticsEvent.USAGE_METRIC_ROW_CLICKED,{rowKey:t.title||"unknown",plan:d}))},children:f}):f})}function i3(e){let{row:t,colSpan:i,rightAligned:s,isFocused:n,showProgressBar:r,tableCellLink:l}=e,o=(0,a.jsxs)(p.Stack,{direction:"row",align:"center",gap:2,children:[r?(0,a.jsx)(iZ.Progress,{colors:{0:"var(--ds-blue-700)"},width:60,max:1,value:t.percent.goal}):null,(0,a.jsx)(i$.Text,{className:(0,ih.clsx)("tabular-nums whitespace-nowrap",{"text-right":s}),color:n?"gray-1000":"gray-900",weight:400,children:(0,a.jsx)(id.span,{children:t.percent.to(e=>i1.format(e))})})]});return(0,a.jsx)(iD.Table.Cell,{colSpan:i,children:l?(0,a.jsx)(p.Stack,{as:iD.Table.CellLink,href:l,children:o}):o})}function i4(e){let{row:t,usageUnit:i,colSpan:s,rightAligned:r,isFocused:l,tableCellLink:o,isMobile:u}=e,[c,d]=(0,n.useState)(t.percentage?.get()??0),h=(0,n.useRef)(t.percentage);(0,n.useEffect)(()=>{h.current=t.percentage},[t.percentage]),(0,n.useEffect)(()=>{if(!h.current)return;let e=()=>{d(h.current?.get()??0)};e();let t=setInterval(e,16);return()=>clearInterval(t)},[t.percentage]);let f=(0,n.useMemo)(()=>e=>i?.kind==="custom"?ip(e,{...i,singular:"",plural:""}):ip(e,i),[i]),m=(0,a.jsx)(p.Stack,{direction:"row",gap:2,align:"center",className:"pl-2",children:(0,a.jsx)("span",{children:"-"})});t.limit&&t.percentage?m=u?(0,a.jsxs)(p.Stack,{direction:"row",gap:1,children:[(0,a.jsx)(id.span,{children:t.usageValue.to(f)}),(0,a.jsx)("span",{children:"/"}),(0,a.jsx)("span",{children:f(t.limit??0)})]}):(0,a.jsxs)(p.Stack,{direction:"row",gap:1,align:"center",children:[(0,a.jsx)(iX.Gauge,{className:(0,ih.clsx)(t.limit?void 0:"opacity-0","mr-1"),colors:{primary:"var(--ds-blue-700)"},size:"tiny",value:100*c}),(0,a.jsxs)("span",{style:{whiteSpace:"normal"},children:[(0,a.jsx)(id.span,{children:t.usageValue.to(f)}),(0,a.jsx)("wbr",{})," / ",(0,a.jsx)("span",{children:f(t.limit??0)})]})]}):t.limit&&(m=(0,a.jsxs)(p.Stack,{direction:"row",gap:2,align:"center",children:[(0,a.jsx)(iX.Gauge,{className:(0,ih.clsx)(t.limit?void 0:"opacity-0"),colors:{primary:"var(--ds-blue-700)"},size:"tiny",value:0}),(0,a.jsx)(id.span,{children:t.usageValue.to(f)})]}));let g=(0,a.jsx)("div",{className:(0,ih.clsx)("tabular-nums","font-normal",{"text-right":r}),color:l?"gray-1000":"gray-900",children:m});return(0,a.jsx)(iD.Table.Cell,{colSpan:s,children:o?(0,a.jsx)(p.Stack,{as:iD.Table.CellLink,href:o,children:g}):g})}function i8(e){let{row:t,usageUnit:i,colSpan:s,rightAligned:r,isFocused:l,tableCellLink:o}=e,u=(0,n.useMemo)(()=>e=>i?.kind==="custom"?ip(e,{...i,singular:"",plural:""}):ip(e,i),[i]),c=(0,a.jsx)("div",{className:(0,ih.clsx)("tabular-nums","whitespace-nowrap","font-normal","text-right",{"text-right":r}),color:l?"gray-1000":"gray-900",children:(0,a.jsx)(id.span,{children:t.exceeded.to(e=>0===e?"-":`${t.limit?"+":""}${u(e)}`)})});return(0,a.jsx)(iD.Table.Cell,{colSpan:s,children:o?(0,a.jsx)(p.Stack,{as:iD.Table.CellLink,href:o,children:c}):c})}function i7(e){let{row:t,usageUnit:i,colSpan:s,rightAligned:r,isFocused:l,tableCellLink:o}=e,u=(0,n.useMemo)(()=>e=>i?.kind==="custom"?ip(e,{...i,singular:"",plural:""}):ip(e,i),[i]),c=(0,a.jsx)("div",{className:(0,ih.clsx)("tabular-nums","whitespace-nowrap","font-normal",{"text-right":r}),color:l?"gray-1000":"gray-900",children:(0,a.jsx)(id.span,{children:t.usageValue.to(u)})});return(0,a.jsx)(iD.Table.Cell,{colSpan:s,children:o?(0,a.jsx)(p.Stack,{as:iD.Table.CellLink,href:o,children:c}):c})}function se(e){let{colSpan:t}=e;return(0,a.jsx)(iD.Table.Cell,{colSpan:t})}function st(e){let{category:t,colSpans:i,rows:s,rowsPerCategory:r,isMobile:l,mobileValueMode:o,isFocused:u,showPercentage:c,showProgressBar:d=!1,handle:h,selectedProductAndCategory:f,isProjectView:m}=e,p=(0,n.useMemo)(()=>{if("No Usage"===t){let e=s.find(e=>"No Usage"===e.title);return e&&f?.product?[{...e,title:f.product}]:s.filter(e=>"No Usage"===e.title)}let e=s;if(r&&t&&(e=s.filter(e=>r[t]?.includes(e.title.split(",")[0]??""))).length>0&&r[t]){let i=r[t];e.sort((e,t)=>i.indexOf(e.title)-i.indexOf(t.title))}return(e=e.filter(e=>0!==e.value.goal||0!==e.usageValue.goal)).length>0?[...e].sort((e,t)=>t.value.goal-e.value.goal):[...e]},[s,r,t,f]),g=(0,n.useMemo)(()=>"No Usage"===t&&f?.category?f.category:t,[t,f]);return(0,a.jsxs)(a.Fragment,{children:[g&&"No Usage"!==g?(0,a.jsx)(iD.Table.Row,{children:(0,a.jsx)(iD.Table.Cell,{className:"border-b",colSpan:l?10:i+2,style:{textAlign:"left",paddingLeft:"1rem"},children:(0,a.jsx)(i$.Text,{color:"gray-1000",children:g})})}):null,p.map((e,t)=>{let i=i2({variant:"ent",isFocused:u,row:e,handle:h,isProjectView:m,isMobile:l,mobileValueMode:o,showPercentage:c,showProgressBar:d});return(0,a.jsxs)(iD.Table.Row,{className:iK.default.legendRow,children:[(0,a.jsx)(i9,{colSpan:6,row:e,tableCellLink:e.usagePath,isProjectView:m,plan:"enterprise"}),i]},t)})]})}iz.Hash,iG.Percentage;var si=e.i(8169983);e.i(4946541),e.i(555528);var ss=e.i(1164214);e.i(6128663);var sa=e.i(5163670),sn=e.i(3236721),sr=e.i(5390614);function sl(e){let{rows:t,rowsPerCategory:i,isMobile:s,mobileValueMode:r,isFocused:l,showProgressBar:o=!1,handle:u,selectedProductAndCategory:c,isProjectView:d,category:h,showHeader:f=!0,isInBillingCycle:m=!0}=e,p=(0,n.useMemo)(()=>{if("No Usage"===h){let e=t.find(e=>"No Usage"===e.title);return e&&c?.product?[{...e,title:c.product}]:t.filter(e=>"No Usage"===e.title)}let e=t;if(i&&h&&(e=t.filter(e=>i[h]?.includes(e.title.split(",")[0]??""))).length>0&&i[h]){let t=i[h];e.sort((e,i)=>t.indexOf(e.title)-t.indexOf(i.title))}return(e=e.filter(e=>0!==e.value.goal||0!==e.usageValue.goal)).length>0?[...e].sort((e,t)=>t.value.goal-e.value.goal):[...e]},[t,i,h,c]),g=(0,n.useMemo)(()=>"No Usage"===h&&c?.category?c.category:h,[h,c]);return(0,a.jsxs)(a.Fragment,{children:[f?(0,a.jsx)(iD.Table.Header,{className:"geist-hide-on-mobile",children:(0,a.jsxs)(iD.Table.Row,{children:[(0,a.jsx)(iD.Table.Head,{children:"Product"}),m?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(iD.Table.Head,{children:"Included"}),(0,a.jsx)(iD.Table.Head,{children:"On-demand"})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(iD.Table.Head,{}),(0,a.jsx)(iD.Table.Head,{children:"Usage"})]}),(0,a.jsx)(iD.Table.Head,{children:"Charge"})]})}):null,g&&"No Usage"!==g?(0,a.jsx)(iD.Table.Row,{children:(0,a.jsx)(iD.Table.Cell,{className:"border-b",colSpan:s?4:5,style:{textAlign:"left",paddingLeft:"1rem"},children:(0,a.jsx)(i$.Text,{color:"gray-1000",children:g})})}):null,p.map((e,t)=>{let i=i2({variant:"pro",row:e,isFocused:l,handle:u,isProjectView:d,isMobile:s,mobileValueMode:r,showProgressBar:o,isInBillingCycle:m});return(0,a.jsxs)(iD.Table.Row,{className:iK.default.legendRow,children:[(0,a.jsx)(i9,{colSpan:s?1:2,row:e,tableCellLink:e.usagePath,plan:"pro"}),i]},t)})]})}var so=e.i(7916122),su=e.i(4237550);function sc(e){let{timeseriesResults:t,metrics:i,intitialViewKey:s,mode:a="daily"}=e,[l,{width:u}]=(0,r.default)(),c=(0,n.useMemo)(()=>{let e=Date.now(),s="daily"===a?-1:t.times.findIndex(t=>Date.parse(t)>e),n=Object.entries(t.views).map(e=>{let[t,i]=e,n="daily"===a?i.results:i.results.reduce((e,t)=>{let i=t.values[0]??[0,0],a=t.values.map((e,t)=>0===t?e:s>0&&t>=s?[0,0]:i=[(i[0]??0)+(e[0]??0),(i[1]??0)+(e[1]??0)]);return e.push({...t,values:a}),e},[]);return{key:t,groupBy:i.groupBy,results:n}}),r=t.times.map((e,t)=>{let i=n[0]?.results;return i?.length?i.reduce((e,i)=>{let s=i.values[t];return s?Array.isArray(s)?e+(s[0]||0):e+("number"==typeof s?s:0):e},0):0}),l=i[0]?.unit??null;return{dimensionsMeta:t.dimensionsMeta,granularity:t.granularity,timestamps:t.times.map(e=>Date.parse(e)),totalValue:r.reduce((e,t)=>e+t,0),totalValues:r,views:n,metrics:i,valuesUnit:l}},[i,t.dimensionsMeta,t.granularity,t.times,t.views,a]),[d,h]=(0,n.useState)(s??c.views[0]?.key??""),f=c.views.find(e=>e.key===d);if(!f)throw Error(`No view with key ${d}`);let m=function(e){let{groups:t,colorPalette:i}=e;return(0,n.useMemo)(()=>{let e=[],s=[];for(let i=0;i<t.length;i++){e.push(i);let a=t[i],n=a?.totalValue[0]??0;s.push({key:i,total:n})}s.sort((e,t)=>t.total-e.total);let a=new Map;s.forEach((e,t)=>{let{key:i}=e;a.set(i,t)});let n=(0,si.scaleOrdinal)({domain:e,range:i.defaultColors});return e=>n(a.get(e)??0)},[i.defaultColors,t])}({groups:f.results,colorPalette:o});return{data:c,chartInteraction:function(){let[e,t]=(0,n.useState)(null),[i,s]=(0,n.useState)(!1),a=(0,n.useRef)(null),r=(0,n.useRef)([]),l=e=>{for(let t of r.current)t(e)},o=()=>{a.current&&(clearTimeout(a.current),a.current=null),(0,n.startTransition)(()=>{s(!1),t(null)}),l(null)};return{subscribeToChange:e=>(r.current.push(e),()=>{r.current=r.current.filter(t=>t!==e)}),willHoverChange:(t,i)=>{let s=null===e||e.datum.timestamp!==t,n=!s&&e.hoveredSegmentKey!==i;return s||n||null!==a.current},hover:s=>{if(a.current&&(clearTimeout(a.current),a.current=null),i&&e?.datum.timestamp===s.datum.timestamp){let i={...e,hoveredSegmentKey:s.hoveredSegmentKey};(0,n.startTransition)(()=>{t(i)}),l(i);return}i||((0,n.startTransition)(()=>{t(s)}),l(s))},blur:()=>{if(i){if(e&&void 0!==e.hoveredSegmentKey){let i={...e,hoveredSegmentKey:void 0};(0,n.startTransition)(()=>{t(i)}),l(i)}return}a.current&&clearTimeout(a.current),a.current=window.setTimeout(()=>{a.current=null,(0,n.startTransition)(()=>{t(null)}),l(null)},50)},click:a=>{i&&e?.datum.timestamp===a.datum.timestamp?o():((0,n.startTransition)(()=>{s(!0),t(a)}),l(a))},clear:o,activeItem:e,isClicked:i}}(),colorsScale:m,chartRef:l,containerWidth:u,setViewKey:e=>(0,n.startTransition)(()=>h(e)),view:f}}let sd=function(e){let{className:t,children:i,minHeight:s}=e;return(0,a.jsx)(l,{className:t,minHeight:s,children:i})},sh=iL,sf=function(e){let{title:t,description:i,className:s}=e;return(0,a.jsxs)("div",{className:(0,ih.clsx)(sr.default.emptyChart,s),"data-testid":(0,ss.tid)("usage","metric","empty-state"),children:[(0,a.jsx)(i$.Text,{as:"div",size:14,weight:500,children:t??"No data"}),(0,a.jsx)(i$.Text,{as:"div",className:sr.default.emptyDescription,size:14,weight:400,children:i||"There's no data available for your selection."})]})},sm=function(){return(0,a.jsx)(sa.Skeleton,{height:227,style:{marginTop:"var(--geist-gap)"},width:"100%"})},sp=function(e){let{handle:t,maxRows:i,showPercentage:s,showProgressBar:r,categories:l,rowsPerCategory:o,showTotal:u=!1,teamSlug:c,queryParams:d,billableItemToChartMap:h,selectedProductAndCategory:f,isProjectView:m=!1,staticItems:g}=e,{isFocused:v,rows:x,totalValue:y}=iQ({view:t.view,data:t.data,chartInteraction:t.chartInteraction,maxRows:i,colorsScale:t.colorsScale,teamSlug:c,queryParams:d,billableItemToChartMap:h,isProjectView:m,staticItems:g,invoiceItems:void 0}),b=(0,iW.useIsMobile)(),[w,_]=(0,n.useState)("value"),j=(0,n.useMemo)(()=>x[0]?.title==="No Usage"&&1===x.length?["No Usage"]:l&&o?l.filter(e=>{if(!e)return!1;let t=o[e]||[],i=x.filter(e=>{let i=e.title.split(",")[0];return i&&t.includes(i)}),s=i.some(e=>0!==e.value.goal||0!==e.usageValue.goal);return i.length>0&&s}):l,[l,o,x]);return(0,a.jsxs)(p.Stack,{className:(0,ih.clsx)(iK.default.container),gap:2,paddingTop:0,children:[(0,a.jsxs)(iD.Table,{style:{tableLayout:"fixed",width:"100%"},children:[(0,a.jsx)(iD.Table.Colgroup,{children:Array.from({length:b?1:12}).map((e,t)=>{let i=0===t?{width:"10%",minWidth:"100px"}:{width:"10%",minWidth:"60px"};return(0,a.jsx)(iD.Table.Col,{style:i},t)})}),(0,a.jsx)(iD.Table.Body,{striped:!0,children:j?j.map(e=>(0,a.jsx)(st,{category:e,colSpans:10,rows:x,rowsPerCategory:o,isMobile:b,mobileValueMode:w,isFocused:v,showPercentage:s,handle:t,selectedProductAndCategory:f,isProjectView:m,showProgressBar:r},e)):(0,a.jsx)(st,{colSpans:10,rows:x,rowsPerCategory:o,isMobile:b,mobileValueMode:w,isFocused:v,showPercentage:s,handle:t,selectedProductAndCategory:f,isProjectView:m,showProgressBar:r})})]}),u?(0,a.jsxs)(p.Stack,{className:iK.default.total,direction:"row",gap:.5,justify:"flex-end",children:[(0,a.jsx)(i$.Text,{className:"mt-2",children:"Total: "}),(0,a.jsx)(i$.Text,{className:"mt-2",children:(0,a.jsx)(id.span,{children:y.to(e=>iy(e,t.data.valuesUnit,{style:"long",valuesUnit:t.data.valuesUnit}))})})]}):null]})},sg=function(e){let{handle:t,maxRows:i,showProgressBar:s,categories:r,rowsPerCategory:l,showTotal:o=!1,teamSlug:u,queryParams:c,billableItemToChartMap:d,selectedProductAndCategory:h,isProjectView:f=!1,invoiceItems:m,staticItems:g,isInBillingCycle:v=!0}=e,{isFocused:x,rows:y,totalValue:b}=iQ({view:t.view,data:t.data,chartInteraction:t.chartInteraction,maxRows:i,colorsScale:t.colorsScale,teamSlug:u,queryParams:c,billableItemToChartMap:d,isProjectView:f,staticItems:g,invoiceItems:m}),w=(0,iW.useIsMobile)(),[_,j]=(0,n.useState)("value"),S=(0,n.useMemo)(()=>y[0]?.title==="No Usage"&&1===y.length?["No Usage"]:r&&l?r.filter(e=>{if(!e)return!1;let t=l[e]||[],i=y.filter(e=>{let i=e.title.split(",")[0];return i&&t.includes(i)}),s=i.some(e=>0!==e.value.goal||0!==e.usageValue.goal);return i.length>0&&s}):r,[r,l,y]);return(0,a.jsxs)(p.Stack,{className:(0,ih.clsx)(iK.default.container),gap:2,paddingTop:0,children:[(0,a.jsxs)(iD.Table,{style:{tableLayout:"fixed",width:"100%"},children:[(0,a.jsx)(iD.Table.Colgroup,{children:Array.from({length:w?2:5}).map((e,t)=>{let i=w?[70,30]:[35,20,25,10,10],s={width:`${i[t]}%`,minWidth:0===t?"200px":"100px"};return(0,a.jsx)(iD.Table.Col,{style:s},t)})}),(0,a.jsx)(iD.Table.Header,{className:"geist-hide-on-mobile",children:(0,a.jsx)(iD.Table.Row,{children:f?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(iD.Table.Head,{children:"Project"}),(0,a.jsx)(iD.Table.Head,{}),(0,a.jsx)(iD.Table.Head,{}),(0,a.jsx)(iD.Table.Head,{}),(0,a.jsx)(iD.Table.Head,{children:"Charge"})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(iD.Table.Head,{children:"Product"}),(0,a.jsx)(iD.Table.Head,{}),v?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(iD.Table.Head,{children:"Included"}),(0,a.jsx)(iD.Table.Head,{style:{textAlign:"right"},children:"On-demand"})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(iD.Table.Head,{}),(0,a.jsx)(iD.Table.Head,{children:"Usage"})]}),(0,a.jsx)(iD.Table.Head,{children:"Charge"})]})})}),(0,a.jsx)(iD.Table.Body,{interactive:!0,striped:!0,children:S?S.map(e=>(0,a.jsx)(sl,{category:e,rows:y,rowsPerCategory:l,isMobile:w,mobileValueMode:_,isFocused:x,handle:t,selectedProductAndCategory:h,isProjectView:f,showProgressBar:s,showHeader:!1,isInBillingCycle:v},e)):(0,a.jsx)(sl,{rows:y,rowsPerCategory:l,isMobile:w,mobileValueMode:_,isFocused:x,handle:t,selectedProductAndCategory:h,isProjectView:f,showProgressBar:s,showHeader:!1,isInBillingCycle:v})})]}),o&&!w?(0,a.jsxs)(p.Stack,{className:iK.default.total,direction:"row",gap:.5,justify:"flex-end",children:[(0,a.jsx)(i$.Text,{className:"mt-2",children:"Total: "}),(0,a.jsx)(i$.Text,{className:"mt-2",children:b.goal>0?(0,a.jsx)(id.span,{children:b.to(e=>iy(e,t.data.valuesUnit,{style:"long",valuesUnit:t.data.valuesUnit}))}):(0,a.jsx)("span",{children:"$0.00"})})]}):null]})},sv=function(e){let{rows:t}=e;return(0,a.jsx)(p.Stack,{gap:3,paddingTop:4,children:Array.from({length:t??2}).map((e,t)=>(0,a.jsxs)(p.Stack,{direction:"row",justify:"space-between",paddingX:2,children:[(0,a.jsx)(sa.Skeleton,{height:20,width:152-t%2*32}),(0,a.jsxs)(p.Stack,{direction:"row",flex:"0 0 50%",justify:"flex-end",children:[(0,a.jsx)(p.Stack,{align:"flex-end",className:"geist-hide-on-mobile",flex:"0 0 50%",children:(0,a.jsx)(sa.Skeleton,{height:20,width:64+t%2*20})}),(0,a.jsx)(p.Stack,{align:"flex-end",flex:"0 0 20%",children:(0,a.jsx)(sa.Skeleton,{height:20,width:64+t%2*20})}),(0,a.jsx)(p.Stack,{align:"flex-end",flex:"0 0 20%",children:(0,a.jsx)(sa.Skeleton,{height:20,width:64+t%2*20})}),(0,a.jsx)(p.Stack,{align:"flex-end",flex:"0 0 20%",children:(0,a.jsx)(sa.Skeleton,{height:20,width:64+t%2*20})})]})]},t))})},sx=function(e){let{handle:t,style:i,isProjectView:s=!1,isEmpty:r=!1,isExpanded:l,staticItems:o}=e,[u,c]=(0,n.useState)(l??!1),d=(0,n.useMemo)(()=>s||!o?.length?t.data.totalValue:t.view.results.reduce((e,i)=>iw(iT(i,t.view.groupBy,t.data.dimensionsMeta),o)?e:e+(i.totalValue[0]??0),0),[t.view,t.data,s,o]),h=d>0;return(0,a.jsxs)("div",{className:sn.default.container,children:[(0,a.jsxs)(p.Stack,{direction:"row",justify:"space-between",align:"center",className:(0,ih.clsx)(sn.default.header,!h&&sn.default.disabled),onClick:h?()=>{if(!h)return;let e=!u;c(e),e?iY.analytics.track(i0.AnalyticsEvent.USAGE_CHART_EXPANDED,{plan:"pro"}):iY.analytics.track(i0.AnalyticsEvent.USAGE_CHART_COLLAPSED,{plan:"pro"});let t=new URL(window.location.href);u?t.searchParams.delete("chartExpanded"):t.searchParams.set("chartExpanded","true"),window.history.pushState({},"",t)}:void 0,children:[(0,a.jsxs)(p.Stack,{direction:"row",align:"center",gap:3,className:"pl-2",children:[h&&u?(0,a.jsx)(su.ChevronDown,{size:16,color:"gray-900"}):null,h&&!u?(0,a.jsx)(so.ChevronRight,{size:16,color:"gray-900"}):null,(0,a.jsx)(i$.Text,{children:"On-demand Charges"})]}),(0,a.jsx)(i$.Text,{className:"pr-4",children:iy(d,{kind:"custom",singular:"dollar",plural:"dollars"},{style:"long",valuesUnit:t.data.valuesUnit})})]}),h?(0,a.jsx)("div",{className:(0,ih.clsx)(sn.default.content,u&&sn.default.expanded),children:u&&!r?(0,a.jsx)(iL,{handle:t,style:i,isProjectView:s,staticItems:o}):null}):null]})},sy=function(){return(0,a.jsx)("div",{className:sn.default.container,children:(0,a.jsxs)(p.Stack,{direction:"row",justify:"space-between",align:"center",className:sn.default.header,children:[(0,a.jsx)(p.Stack,{direction:"row",align:"center",gap:3,className:"pl-2",children:(0,a.jsx)(sa.Skeleton,{height:20,width:150})}),(0,a.jsx)(sa.Skeleton,{height:20,width:80,className:"pr-4"})]})})}},9597255:e=>{"use strict";e.s({useCostMetrics:()=>l},9597255);var t=e.i(584439),i=e.i(3521787),s=e.i(1183506),a=e.i(2158583),n=e.i(9336536),r=e.i(6649026);function l(e,l){let{teamId:o,skip:u,...c}=e,d=(0,t.useToasts)();return(0,i.default)(()=>!u&&o&&c.from?function(e){let{teamId:t,...i}=e;return[`${n.API_COST_USAGE_METRICS}${(0,r.encode)({teamId:t})}&${new URLSearchParams({from:i.from,to:i.to??""}).toString()}`,{...i}]}({...c,teamId:o,from:c.from}):null,async e=>{let[t,i]=e,a=await (0,s.fetchAPI)(t,{throwOnHTTPError:!0,method:"POST",body:JSON.stringify(i),headers:{"Cache-Control":"private, max-age=7200"}});if("string"==typeof a)throw Error();return a},{...(0,a.useUsageConfig)(d),...l})}},3456273:e=>{"use strict";e.s({MetricChart:()=>y},3456273);var t=e.i(6645307),i=e.i(6530772),s=e.i(154011),a=e.i(663357),n=e.i(5819787),r=e.i(9597255),l=e.i(3673393),o=e.i(7945022),u=e.i(503726);e.i(6117582);var c=e.i(2365581),d=e.i(1593544),h=e.i(3423557);function f(e,t){return{index:e,values:Array.from({length:t.length},()=>[0,0]),totalValue:[0,0],metrics:["gross_cost"]}}function m(e,t,i){let s=new Map;return e.results.forEach(e=>{let a=t(e);if(!a)return;s.has(a)||s.set(a,i(e,s.size));let n=s.get(a);if(!n)return;let r=e.values.reduce((e,t,i)=>{let[s,a]=Array.isArray(t)?t:[Number(t),0];return e[i]||(e[i]=[0,0]),e[i][0]+=s,e[i][1]+=a,e},[]);n.values=n.values.map((e,t)=>[e[0]+(r[t]?.[0]||0),e[1]+(r[t]?.[1]||0)]),Array.isArray(e.totalValue)&&(n.totalValue[0]+=e.totalValue[0],n.totalValue[1]+=e.totalValue[1])}),Array.from(s.values()).sort((e,t)=>e.index-t.index)}let p=["Fluid Active CPU","Fluid Provisioned Memory"],g=e=>{if(0===e.length)return 0;let t=[...e].sort((e,t)=>e-t),i=Math.floor(t.length/2);return t.length%2==0?(t[i-1]+t[i])/2:t[i]};var v=e.i(3268942),x=e.i(9566284);function y(e){let{views:s,style:a,className:n,teamId:f,teamSlug:m,team:y,chartRenderers:_,useValueBasedFiltering:j=!1}=e,[{from:S,to:k,mode:C,products:A,range:T,projectId:P,chartExpanded:I,groupBy:M}]=(0,l.useUsageQueryState)(),N=(0,u.useAccount)(),{setProjects:U,setIsProjectsLoading:E}=(0,h.useProjectActions)(),{setProducts:R,setIsProductsLoading:V}=(0,h.useProductActions)(),{setFluidMetrics:O}=(0,h.useFluidActions)(),{from:F,to:L}=(0,i.useMemo)(()=>{let e,t,i=new Date().toISOString();if(S)e=new Date(S).toISOString(),t=k?new Date(k).toISOString():i;else{let{start:i,end:s}=(0,o.getBillingRange)(N.team);if(!i&&!s)return{from:e=(0,v.createDefaultCalendarPresets)("America/Los_Angeles")[x.DATE_RANGE_PRESETS.LAST_30_DAYS].start.toISOString(),to:t=v.endOfToday.toISOString()};e=i?new Date(i).toISOString():"",t=s?new Date(s).toISOString():""}let s=c.DateTime.fromISO(t).setZone("America/Los_Angeles");return s.toISOTime()!==s.startOf("day").toISOTime()&&(t=s.plus({day:1}).startOf("day").toISO()),{from:e,to:t}},[S,k,N.team]),B=(0,i.useMemo)(()=>"current-billing-cycle"===T||"previous-billing-cycle"===T||!S&&!k,[T,S,k]),$=(0,r.useCostMetrics)({teamId:f,from:F||"",to:L||"",format:"timeseries",views:Object.fromEntries(s.map(e=>{let{key:t,groupBy:i}=e;return[t,{groupBy:i}]})),userAgent:`vercel-site.metric-chart-${y.billing?.plan??"unknown"}`});(0,i.useEffect)(()=>{if($.data&&!$.isLoading){let e=new Map,t=new Map,s=$.data.results.dimensionsMeta.project?.values,a=$.data.results.dimensionsMeta.product?.values;$.data.results.views.byProductRegionProject.results.forEach(i=>{let n=0,r=0;Array.isArray(i.totalValue)&&(n=i.totalValue[0],r=i.totalValue[1]);let l=i.dimensionValues.project,o=i.dimensionValues.product;if(l){let t=s?.[l],i=t?.title||l;if(e.has(l)){let t=e.get(l);t&&e.set(l,{...t,cost:t.cost+n,value:t.value+r})}else e.set(l,{id:l,name:i,cost:n,value:r})}if(o){let e=a?.[o],i=e?.title||o;if(t.has(o)){let e=t.get(o);e&&t.set(o,{...e,cost:e.cost+n,value:e.value+r})}else t.set(o,{id:o,name:i,cost:n,value:r})}});let n=Array.from(e.values()).sort((e,t)=>t.cost-e.cost).filter(e=>j?e.value>0:e.cost>0),r=Array.from(t.values()).sort((e,t)=>t.cost-e.cost).filter(e=>j?e.value>0&&!d.EXCLUDED_FILTERED_PRODUCTS.includes(e.name):e.cost>0),l=function(e,t){if(t)return{percentage:null,isFluidEnabled:!1,pivotPoint:null};let i=Object.values(d.ROWS_IN_CATEGORIES).flat(),s=e.results.views.byProductRegionProject,a=e.results.times,n=e.results.dimensionsMeta.product?.values;if(!s.results||!n||a.length<6)return{percentage:null,isFluidEnabled:!1,pivotPoint:null};let r=s.results.filter(e=>{let t=e.dimensionValues.product;if(!t)return!1;let i=n[t];if(!i)return!1;let s=i.title||t;return p.includes(s)}),l=s.results.filter(e=>{let t=e.dimensionValues.product;if(!t)return!1;let s=n[t];if(!s)return!1;let a=s.title||t;return i.includes(a)});if(0===r.length)return{percentage:null,isFluidEnabled:!1,pivotPoint:null};let o=a.map((e,t)=>r.reduce((e,i)=>{let s=i.values[t];return s&&Array.isArray(s)?e+(s[0]??0):e},0)),u=a.map((e,t)=>l.reduce((e,i)=>{let s=i.values[t];return s&&Array.isArray(s)?e+(s[0]??0):e},0)),c=o.findIndex(e=>e>1);if(-1===c)return{percentage:null,isFluidEnabled:!1,pivotPoint:null};let h=u.findIndex(e=>e>0);if(c<=h||c>=a.length-1)return{percentage:null,isFluidEnabled:!0,pivotPoint:c};let f=Math.min(c-h,a.length-(c+1));if(f<2)return{percentage:null,isFluidEnabled:!0,pivotPoint:c};let m=g(u.slice(c-f,c)),v=g(u.slice(c+1,c+1+f)),x=null;return m>0&&(x=(m-v)/m*100),{percentage:x,isFluidEnabled:!0,pivotPoint:c}}($.data,"project"===M);(0,i.startTransition)(()=>{U(n),E(!1),R(r),V(!1),O({percentage:l.percentage,isFluidEnabled:l.isFluidEnabled})})}},[$.data,$.isLoading,U,E,R,V,O,j,M]);let D=(0,i.useMemo)(()=>{if(!$.data||!A&&!P)return $.data;let e=[];A&&(e=Array.isArray(A)?A:[A]);let t=[];return P&&"all"!==P&&(t=P.includes(",")?P.split(","):[P]),{...$.data,results:{...$.data.results,views:Object.fromEntries(Object.entries($.data.results.views).map(i=>{let[s,a]=i;return[s,{...a,results:a.results.filter(i=>{let s=i.dimensionValues?.product;if(s){let e=$.data?.results.dimensionsMeta.product?.values[s],t=e?.title||s;if(d.ROWS_IN_CATEGORIES["Subscription Licenses"].includes(t))return!1}if(P&&"all"!==P){let e=i.dimensionValues?.project;if(!e||!t.includes(e))return!1}if(e.length>0){if(!s)return!1;let t=$.data?.results.dimensionsMeta.product?.values[s],i=t?.title||s;if(!e.some(e=>s===e||(0,d.toUrlFormat)(i)===e))return!1}return!0})}]}))}}},[$.data,A,P]);return!$.isLoading&&F&&L?$.error||!$.data?(0,t.jsx)(w,{className:n}):(0,t.jsx)(b,{className:n,mode:C,queryResponse:D||$.data,queryParams:{from:S?Number(S):void 0,to:k?Number(k):void 0,range:T,products:A},style:a,team:y,teamSlug:m,views:s,chartExpanded:I,chartRenderers:_,isInBillingCycle:B}):(0,t.jsx)(_.skeleton,{})}function b(e){let{className:a,queryResponse:n,queryParams:r,views:o,style:u,teamSlug:c,mode:h,team:p,chartExpanded:g,chartRenderers:v,isInBillingCycle:x}=e,y=(0,i.useMemo)(()=>void 0===r.products?null:Array.isArray(r.products)?r.products:[r.products],[r.products]),[{groupBy:b}]=(0,l.useUsageQueryState)(),w=(0,i.useMemo)(()=>y&&0!==y.length?(0,d.getProductAndCategory)(y[0]):{category:null,product:null},[y]),_="project"===b,j=(0,i.useMemo)(()=>{var e,t;let i={...n.results,views:{...n.results.views}},s=n.results.views.byProductRegionProject,a=_?function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20;return m(e,e=>e.dimensionValues.project||"",(e,t)=>({...f(t,e.values),dimensionValues:{project:e.dimensionValues.project||""}})).sort((e,t)=>t.totalValue[0]-e.totalValue[0]).slice(0,t)}(s):(e=n.results.dimensionsMeta,m(s,t=>(function(e,t){let i=e.dimensionValues.product;if(!i)return;let s=t.product?.values[i];return s?.title||i})(t,e),(e,t)=>({...f(t,e.values),dimensionValues:{product:e.dimensionValues.product||""}})));return t=_?["project"]:["product"],{...i,views:{...i.views,byProductRegionProject:{...s,groupBy:t,results:a}}}},[_,n.results]),S=(0,s.useUsageTimeseriesChart)({metrics:n.metrics,timeseriesResults:j,intitialViewKey:o[0]?.key,mode:h}),k={handle:S,style:u,isProjectView:_,isEmpty:0===n.results.times.length,isExpanded:g,staticItems:d.ROWS_IN_CATEGORIES["Subscription Licenses"]},C={handle:S,teamSlug:c,queryParams:r,selectedProductAndCategory:w,isProjectView:_,billableItemToChartMap:d.billableItemToChartMap,team:p,staticItems:d.ROWS_IN_CATEGORIES["Subscription Licenses"],isInBillingCycle:x};return(0,t.jsxs)(s.Root,{className:a,minHeight:160,children:[v.body(k),v.legend(C)]})}function w(e){let{className:i}=e;return(0,t.jsx)(s.Root,{className:i,children:(0,t.jsx)("div",{className:"flex h-full min-h-[160px] items-center justify-center",children:(0,t.jsx)(a.EmptyState.Root,{icon:(0,t.jsx)(a.EmptyState.Icon,{icon:(0,t.jsx)(n.ChartBarPeak,{size:32})}),title:"Usage data is currently not available"})})})}},9130923:e=>{"use strict";e.s({UsageBlockBody:()=>d,UsageBlockBox:()=>m,UsageBlockManagement:()=>h,UsageBlockOnDemand:()=>c,UsageBlockRoot:()=>o,UsageBlockTitle:()=>u});var t=e.i(6645307),i=e.i(9443759),s=e.i(684229),a=e.i(5163670),n=e.i(4448805),r=e.i(5054575);let l=(0,n.cva)(["material-base","w-full"],{variants:{variant:{usage:["px-6","py-5","space-y-2.5"],chart:["px-6","pt-6","mb-6","w-full","material-base","space-y-6","pb-6"]}},defaultVariants:{variant:"chart"}});function o(e){let{className:s,...a}=e;return(0,t.jsx)("div",{className:(0,i.cn)("flex","gap-4","w-full","flex-col","md:flex-row","mb-4","mt-4","[&>div:first-child]:flex-1","md:[&>div:last-child:not(:only-child)]:flex-1","md:[&>div:last-child:not(:only-child)]:max-w-48",s),...a})}function u(e){let{className:s,...a}=e;return(0,t.jsx)("strong",{className:(0,i.cn)("label-14","font-medium",s),...a})}function c(e){let{className:s,...a}=e;return(0,t.jsx)("div",{className:(0,i.cn)("text-heading-32",s),...a})}function d(e){let{className:s,...a}=e;return(0,t.jsx)("div",{className:(0,i.cn)("space-y-2",s),...a})}function h(e){if(e.isLoading)return(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsxs)("div",{className:"flex h-5 items-center justify-between",children:[(0,t.jsx)("div",{className:"flex items-center",children:(0,t.jsx)(a.Skeleton,{children:(0,t.jsx)("div",{className:"h-3 w-16"})})}),(0,t.jsx)(a.Skeleton,{children:(0,t.jsx)("div",{className:"h-3 w-20"})})]}),(0,t.jsx)("div",{className:"relative",children:(0,t.jsx)(a.Skeleton,{children:(0,t.jsx)("div",{className:"h-2.5 w-full"})})})]});let{available:i,forecast:n,total:r,used:l,type:o="miu"}=e;return(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"text-label-14",children:[(0,t.jsx)(f,{type:o,value:l}),(0,t.jsx)("span",{children:" / "}),(0,t.jsx)(f,{className:"text-gray-900",type:o,value:r})]}),void 0!==i?(0,t.jsxs)("div",{className:"text-gray-900",children:[(0,t.jsx)(f,{type:o,value:i}),(0,t.jsx)("span",{children:" available"})]}):(0,t.jsx)("div",{})]}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(s.Progress,{type:"success",value:l/r*100}),n?(0,t.jsx)("div",{className:"absolute -inset-y-0.5 w-0.5 bg-gray-500",style:{left:`${n/r*100}%`}}):null]})]})}function f(e){let{value:s,type:a="miu",className:n}=e;return"usd"===a?(0,t.jsx)("span",{className:(0,i.cn)(n),children:(0,r.formatNumberUsd)(s)}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("span",{className:(0,i.cn)("geist-hide-on-mobile",n),children:(0,r.formatNumber)(s)}),(0,t.jsx)("span",{className:(0,i.cn)("geist-show-on-mobile",n),children:(0,r.formatNumberCompact)(s)})]})}function m(e){let{className:i,variant:s,...a}=e;return(0,t.jsx)("div",{className:l({className:i,variant:s}),...a})}},3923993:e=>{"use strict";e.s({EntChartBody:()=>c,EntLegend:()=>d,EntSkeletonContent:()=>h,ProChartBody:()=>l,ProLegend:()=>o,ProSkeletonContent:()=>u},3923993);var t=e.i(6645307),i=e.i(154011),s=e.i(9443759);let a=(0,e.i(6530772).forwardRef)(function(e,i){let{className:a,...n}=e;return(0,t.jsx)("div",{className:"-ml-6 w-[calc(100%+48px)] overflow-auto",children:(0,t.jsx)("div",{className:(0,s.cn)("px-6",a),ref:i,...n})})});var n=e.i(9130923),r=e.i(1593544);function l(e){let{handle:s,style:a,isProjectView:n,isEmpty:r,isExpanded:l,staticItems:o}=e;return(0,t.jsx)(i.CollapsibleChart,{handle:s,style:a,isProjectView:n,isEmpty:r,isExpanded:l,staticItems:o})}function o(e){let{handle:s,teamSlug:l,queryParams:o,selectedProductAndCategory:u,isProjectView:c,billableItemToChartMap:d,team:h,staticItems:f,isInBillingCycle:m=!0}=e;return(0,t.jsx)(n.UsageBlockBox,{variant:"chart",children:(0,t.jsx)(a,{style:{marginTop:"0px"},children:(0,t.jsx)(i.LegendPro,{handle:s,maxRows:null,showPercentage:!0,showProgressBar:!0,categories:c?void 0:r.CATEGORIES,rowsPerCategory:c?void 0:r.ROWS_IN_CATEGORIES,showTotal:!0,teamSlug:l,queryParams:o,selectedProductAndCategory:u,isProjectView:c,billableItemToChartMap:d,invoiceItems:h.billing?.invoiceItems,staticItems:f,isInBillingCycle:m})})})}function u(){return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(i.CollapsibleChartSkeleton,{}),(0,t.jsx)(n.UsageBlockBox,{variant:"chart",children:(0,t.jsx)(a,{style:{marginTop:"0px"},children:(0,t.jsx)(i.LegendSkeleton,{})})})]})}function c(e){let{handle:s,style:a,isProjectView:n,isEmpty:r,staticItems:l}=e;return r?(0,t.jsx)(i.EmptyBody,{}):(0,t.jsx)(i.Body,{handle:s,style:a,isProjectView:n,staticItems:l})}function d(e){let{handle:s,teamSlug:n,queryParams:l,selectedProductAndCategory:o,isProjectView:u,billableItemToChartMap:c}=e;return(0,t.jsx)(a,{style:{marginTop:"20px"},children:(0,t.jsx)(i.LegendEnt,{handle:s,maxRows:null,showPercentage:!0,showProgressBar:!0,categories:u?void 0:r.CATEGORIES,rowsPerCategory:u?void 0:r.ROWS_IN_CATEGORIES,showTotal:!0,teamSlug:n,queryParams:l,selectedProductAndCategory:o,isProjectView:u,billableItemToChartMap:c})})}function h(){return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(i.BodySkeleton,{}),(0,t.jsx)(i.LegendSkeleton,{})]})}},5878074:e=>{"use strict";e.s({BlockTitleDescription:()=>n,BlockTitleHeading:()=>a,BlockTitleRoot:()=>s});var t=e.i(6645307),i=e.i(9443759);function s(e){let{className:s,...a}=e;return(0,t.jsx)("div",{className:(0,i.cn)("space-y-2",s),...a})}function a(e){let{className:s,...a}=e;return(0,t.jsx)("h2",{className:(0,i.cn)("text-heading-20","m-0",s),...a})}function n(e){let{className:s,...a}=e;return(0,t.jsx)("p",{className:(0,i.cn)("label-14","text-gray-900","mt-2","mb-0",s),...a})}},1433953:e=>{"use strict";e.s({MetricChartModes:()=>o,MetricChartTitle:()=>u});var t=e.i(6645307),i=e.i(4946541),s=e.i(3673393),a=e.i(5878074),n=e.i(7573892),r=e.i(9802771),l=e.i(503726);function o(){let[{mode:e},a]=(0,s.useUsageQueryState)(),{team:o}=(0,l.useAccount)(),u=e=>{a({mode:e},!0),n.analytics.track(r.AnalyticsEvent.USAGE_CHART_MODE_SWITCHED,{mode:e,plan:o?.billing?.plan})};return(0,t.jsxs)(i.Switch,{className:"w-25",size:"small",children:[(0,t.jsx)(i.Switch.Control,{checked:(e??"daily")==="daily",label:"Daily",onChange:()=>u("daily"),value:"daily"},"daily"),(0,t.jsx)(i.Switch.Control,{checked:(e??"daily")==="cumulative",label:"Cumulative",onChange:()=>u("cumulative"),value:"cumulative"},"cumulative")]})}function u(){let[{mode:e}]=(0,s.useUsageQueryState)();return(0,t.jsxs)(a.BlockTitleRoot,{children:[(0,t.jsx)(a.BlockTitleHeading,{children:"cumulative"===e?"Cumulative Consumption Breakdown":"Daily Consumption Breakdown"}),(0,t.jsx)(a.BlockTitleDescription,{children:"Explore consumption of your Managed Infrastructure products"})]})}},7323197:e=>{"use strict";e.s({UsageOverview:()=>C},7323197);var t=e.i(6645307),i=e.i(6530772),s=e.i(5163670),a=e.i(889716),n=e.i(9443759);function r(e){let{className:i,...s}=e;return(0,t.jsx)("h2",{className:(0,n.cn)("text-heading-20","mb-0","mt-2",i),...s})}function l(e){let{className:i,...s}=e;return(0,t.jsx)("div",{className:(0,n.cn)("space-y-2","mb-0",i),...s})}var o=e.i(5878074),u=e.i(5674541),c=e.i(3821772),d=e.i(8084653),h=e.i(555528),f=e.i(9912720),m=e.i(8117139);function p(e){let{response:a,teamId:n,plan:r}=e,[l,o]=(0,i.useState)(!1),p=!n||!a||l,g=(0,t.jsx)(u.Button,{disabled:p,onClick:()=>{if(a&&!l){o(!0);try{(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"vercel-costs.csv",i=new Blob([String(e)],{type:"text/csv"}),s=URL.createObjectURL(i),a=document.createElement("a");a.href=s,a.download=t,document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(s)})(function(e,t){let i=[],s=e.results.views.byProductRegionProject,a=(0,m.createUnitFormatter)({style:"long"});i.push(["ChargePeriodStartTimestamp","ChargePeriodStartDate","Metric","ProjectId","ProjectName","ent"===t?"MIUs":"Charges (USD)","Usage","Formatted Usage"].map(e=>JSON.stringify(e)).join(","));let n=new Map;for(let e of s.results){let t=e.dimensionValues.product,i=e.dimensionValues.project,s=e.metrics[1];if(!t)continue;let a=`${t}-${i||""}`;n.has(a)||n.set(a,{productId:t,projectId:i||"",values:e.values.map(()=>[0,0]),metric:s});let r=n.get(a);r&&e.values.forEach((e,t)=>{let[i,s]=Array.isArray(e)?e:[e,0];r.values[t][0]+=i||0,r.values[t][1]+=s||0})}for(let[t,s]of Object.entries(e.results.times)){let r=Number(t);for(let t of n.values()){let{productId:n,projectId:l,metric:o}=t,u=e.results.dimensionsMeta.product?.values[n],c=l?e.results.dimensionsMeta.project?.values[l]:null,d=u?.title||n,h=c?.title||l||"",[f,m]=t.values[r],p=new Date(s).toISOString().split("T")[0],g=o?e.metrics.find(e=>e.slug===o):null,v=g?.unit?a(m,g.unit):"";i.push([s,p,d,l,h,f,m,v].map(e=>JSON.stringify(e)).join(","))}}return i.join("\n")}(a,r)),(()=>o(!1))()}finally{o(!1)}}},type:"secondary","aria-label":"Download CSV",svgOnly:!0,children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[l?(0,t.jsx)(c.Spinner,{className:"w-50px"}):(0,t.jsx)(f.Download,{className:"w-50px"}),(0,t.jsx)(d.Text,{children:"Export CSV"})]})});return(0,t.jsx)(i.Suspense,{fallback:(0,t.jsx)(s.Skeleton,{height:40,width:100}),children:p?(0,t.jsx)(h.Tooltip,{text:"Your CSV may take time to generate.",children:g}):g})}var g=e.i(3921802),v=e.i(8122082),x=e.i(3423557),y=e.i(3673393);function b(){let e=(0,x.useFluidMetrics)(),[,i]=(0,y.useUsageQueryState)();if(!e.isFluidEnabled||null===e.percentage||e.percentage<=5)return null;let s=e.percentage,a=`${s.toFixed(1)}% savings with Fluid`;return(0,t.jsx)(h.Tooltip,{text:"Average saved in total bill when Fluid was enabled.",className:"inline-flex md:mt-2 md:ml-2",children:(0,t.jsxs)(g.Badge,{variant:"blue-subtle",size:"sm",className:"flex items-center gap-1 cursor-pointer normal-case p-1",onClick:()=>{i({products:["function-duration","fluid-provisioned-memory","fluid-active-cpu"]})},children:[(0,t.jsx)(v.Fluid,{size:12}),a]})})}e.i(6117582);var w=e.i(2365581),_=e.i(2158583),j=e.i(9597255),S=e.i(7945022),k=e.i(503726);function C(e){let{plan:n}=e,[{range:u,from:c,to:d}]=(0,y.useUsageQueryState)(),{data:h}=(0,_.useBillingCycles)(),f=(0,i.useMemo)(()=>{if(!h||"string"==typeof h)return"";if((u||c||d)&&"current-billing-cycle"!==u){if("previous-billing-cycle"===u){let e=A(h.previous.start),t=A(h.previous.end);return`Previous Billing Cycle: ${e} - ${t}`}}else{let e=A(h.current.start),t=A(h.current.end);return`Current Billing Cycle: ${e} - ${t}`}let e=c?A(new Date(c)):A(new Date),t=d?A(new Date(d)):A(new Date);return`${e} - ${t}`},[h,u,c,d]),m=(0,k.useAccount)(),{from:g,to:v}=(0,i.useMemo)(()=>{let e,t,i=new Date().toISOString();if(c)e=new Date(c).toISOString(),t=d?new Date(d).toISOString():i;else{let{start:i,end:s}=(0,S.getBillingRange)(m.team);e=i?new Date(i).toISOString():"",t=s?new Date(s).toISOString():""}let s=w.DateTime.fromISO(t).setZone("America/Los_Angeles");return s.toISOTime()!==s.startOf("day").toISOTime()&&(t=s.plus({day:1}).startOf("day").toISO()),{from:e,to:t}},[c,d,m.team]),x=(0,j.useCostMetrics)({teamId:m.team?.id,from:g||"",to:v||"",format:"timeseries",views:Object.fromEntries([{key:"byProductRegionProject",groupBy:["product","region","project"]}].map(e=>{let{key:t,groupBy:i}=e;return[t,{groupBy:i}]})),userAgent:`vercel-site.usage-overview-${m.team?.billing?.plan??"unknown"}`});return(0,t.jsx)(i.Suspense,{fallback:(0,t.jsx)(s.Skeleton,{height:40,width:"100%",children:(0,t.jsxs)(a.Stack,{direction:"row",gap:4,justify:"space-between",children:[(0,t.jsxs)(a.Stack,{direction:"column",children:[(0,t.jsx)(s.Skeleton,{height:20,width:200}),(0,t.jsx)(s.Skeleton,{height:16,width:450})]}),(0,t.jsx)(s.Skeleton,{height:40,width:100})]})}),children:(0,t.jsxs)(a.Stack,{direction:"row",gap:4,justify:"space-between",children:[(0,t.jsxs)(a.Stack,{direction:"column",children:[(0,t.jsx)(r,{children:"Usage Overview"}),(0,t.jsx)(l,{children:(0,t.jsxs)(a.Stack,{direction:"column",gap:0,className:"md:flex-row md:items-center",children:[(0,t.jsx)(o.BlockTitleDescription,{className:"min-h-[24px]",children:f}),(0,t.jsx)(b,{})]})})]}),(0,t.jsx)("div",{className:"flex items-center gap-3",children:(0,t.jsx)(p,{response:x.data,teamId:m.team?.id,plan:n})})]})})}function A(e){return w.DateTime.fromJSDate(new Date(e)).toLocaleString(w.DateTime.DATE_FULL)}},6110765:e=>{"use strict";let t;e.s({UsageAllocationSection:()=>Y,UsageAllocationSectionSkeleton:()=>ee},6110765);var i=e.i(6645307),s=e.i(9130923);function a(e){let{upcomingCommitmentUsage:t}=e;if(!t||0===t.creditLedgers.length)return(0,i.jsxs)(s.UsageBlockBox,{variant:"usage",children:[(0,i.jsx)(s.UsageBlockTitle,{children:"Included Allocation (MIU)"}),(0,i.jsx)(s.UsageBlockBody,{children:(0,i.jsx)(s.UsageBlockManagement,{available:0,total:0,type:"miu",used:0})})]});let{total:a,remaining:n,currency:r}=t.creditLedgers[0],[l,o,u]=[Math.round(a-n),Math.round(a),Math.round(n)],c="";return c="annual"===t.cadence?"Annual Commitment":"monthly"===t.cadence?"Monthly Commitment":"Included Allocation",(0,i.jsxs)(s.UsageBlockBox,{variant:"usage",children:[(0,i.jsxs)(s.UsageBlockTitle,{children:[c," (MIU)"]}),(0,i.jsx)(s.UsageBlockBody,{children:(0,i.jsx)(s.UsageBlockManagement,{available:u,total:o,type:r,used:l})})]})}function n(){return(0,i.jsxs)(s.UsageBlockBox,{variant:"usage",children:[(0,i.jsx)(s.UsageBlockTitle,{children:"Included Allocation (MIU)"}),(0,i.jsx)(s.UsageBlockBody,{className:"pt-1",children:(0,i.jsx)(s.UsageBlockManagement,{isLoading:!0})})]})}var r=e.i(1330899),l=e.i(6530772);let o=(e,t,i)=>{let s=document.createElement(e),[a,n]=Array.isArray(t)?[void 0,t]:[t,i];return a&&Object.assign(s,a),null==n||n.forEach(e=>s.appendChild(e)),s},u=(String.raw,String.raw),c="u">typeof CSS&&CSS.supports&&CSS.supports("animation-timing-function","linear(1,2)"),d="u">typeof CSS&&CSS.supports&&CSS.supports("line-height","mod(1,1)"),h="u">typeof matchMedia?matchMedia("(prefers-reduced-motion: reduce)"):null,f="--_number-flow-d-opacity",m="--_number-flow-d-width",p="--_number-flow-dx",g="--_number-flow-d",v=(()=>{try{return CSS.registerProperty({name:f,syntax:"<number>",inherits:!1,initialValue:"0"}),CSS.registerProperty({name:p,syntax:"<length>",inherits:!0,initialValue:"0px"}),CSS.registerProperty({name:m,syntax:"<number>",inherits:!1,initialValue:"0"}),CSS.registerProperty({name:g,syntax:"<number>",inherits:!0,initialValue:"0"}),!0}catch{return!1}})(),x="var(--number-flow-char-height, 1em)",y="var(--number-flow-mask-height, 0.25em)",b=`calc(${y} / 2)`,w="var(--number-flow-mask-width, 0.5em)",_=`calc(${w} / var(--scale-x))`,j="#000 0, transparent 71%",S=u`:host{display:inline-block;direction:ltr;white-space:nowrap;isolation:isolate;line-height:${x} !important}.number,.number__inner{display:inline-block;transform-origin:left top}:host([data-will-change]) :is(.number,.number__inner,.section,.digit,.digit__num,.symbol){will-change:transform}.number{--scale-x:calc(1 + var(${m}) / var(--width));transform:translateX(var(${p})) scaleX(var(--scale-x));margin:0 calc(-1 * ${w});position:relative;-webkit-mask-image:linear-gradient(to right,transparent 0,#000 ${_},#000 calc(100% - ${_}),transparent ),linear-gradient(to bottom,transparent 0,#000 ${y},#000 calc(100% - ${y}),transparent 100% ),radial-gradient(at bottom right,${j}),radial-gradient(at bottom left,${j}),radial-gradient(at top left,${j}),radial-gradient(at top right,${j});-webkit-mask-size:100% calc(100% - ${y} * 2),calc(100% - ${_} * 2) 100%,${_} ${y},${_} ${y},${_} ${y},${_} ${y};-webkit-mask-position:center,center,top left,top right,bottom right,bottom left;-webkit-mask-repeat:no-repeat}.number__inner{padding:${b} ${w};transform:scaleX(calc(1 / var(--scale-x))) translateX(calc(-1 * var(${p})))}:host > :not(.number){z-index:5}.section,.symbol{display:inline-block;position:relative;isolation:isolate}.section::after{content:'\200b';display:inline-block}.section--justify-left{transform-origin:center left}.section--justify-right{transform-origin:center right}.section__exiting,.symbol__exiting{margin:0 !important;position:absolute !important;z-index:-1}.digit{display:inline-block;position:relative;--c:var(--current) + var(${g})}.digit__num,.number .section::after{padding:${b} 0}.digit__num{display:inline-block;--offset-raw:mod(var(--length) + var(--n) - mod(var(--c),var(--length)),var(--length));--offset:calc( var(--offset-raw) - var(--length) * round(down,var(--offset-raw) / (var(--length) / 2),1) );--y:clamp(-100%,var(--offset) * 100%,100%);transform:translateY(var(--y))}.digit__num:not(.is-current){position:absolute;top:0;left:50%;transform:translateX(-50%) translateY(var(--y))}.digit:not(.is-spinning) .digit__num:not(.is-current){display:none}.symbol__value{display:inline-block;mix-blend-mode:plus-lighter;white-space:pre}.section--justify-left .symbol__exiting{left:0}.section--justify-right .symbol__exiting{right:0}.animate-presence{opacity:calc(1 + var(${f}))}`,k=HTMLElement,C=(u`:host{display:inline-block;direction:ltr;white-space:nowrap;line-height:${x} !important}span{display:inline-block}:host([data-will-change]) span{will-change:transform}.number,.digit{padding:${b} 0}.symbol{white-space:pre}`,d&&c&&v);class A extends k{constructor(){super(),this.created=!1,this.manual=!1;let{animated:e,...t}=this.constructor.defaultProps;this._animated=this.computedAnimated=e,Object.assign(this,t)}get animated(){return this._animated}set animated(e){var t;this.animated!==e&&(this._animated=e,null==(t=this.shadowRoot)||t.getAnimations().forEach(e=>e.finish()))}set data(e){if(null==e)return;let{pre:i,integer:s,fraction:a,post:n,value:r}=e;if(this.created){let t=this._data;if(this._data=e,this.computedTrend="function"==typeof this.trend?this.trend(t.value,r):this.trend,this.startingPos=void 0,this.computedTrend&&this.continuous){let i,s,a=t.integer.concat(t.fraction).filter(e=>"integer"===e.type||"fraction"===e.type),n=e.integer.concat(e.fraction).filter(e=>"integer"===e.type||"fraction"===e.type),r=a.find(e=>!n.find(t=>t.pos===e.pos&&t.value===e.value)),l=n.find(e=>!a.find(t=>e.pos===t.pos&&e.value===t.value));this.startingPos=(i=null==r?void 0:r.pos,s=null==l?void 0:l.pos,null==i?s:null==s?i:Math.max(i,s))}this.computedAnimated=C&&this._animated&&(!this.respectMotionPreference||!(null!=h&&h.matches))&&this.offsetWidth>0&&this.offsetHeight>0,this.manual||this.willUpdate(),this._pre.update(i),this._num.update({integer:s,fraction:a}),this._post.update(n),this.manual||this.didUpdate()}else{if(this._data=e,this.attachShadow({mode:"open"}),"u">typeof CSSStyleSheet&&this.shadowRoot.adoptedStyleSheets)t||(t=new CSSStyleSheet).replaceSync(S),this.shadowRoot.adoptedStyleSheets=[t];else{let e=document.createElement("style");e.textContent=S,this.shadowRoot.appendChild(e)}this._pre=new M(this,i,{justify:"right",part:"left"}),this.shadowRoot.appendChild(this._pre.el),this._num=new T(this,s,a),this.shadowRoot.appendChild(this._num.el),this._post=new M(this,n,{justify:"left",part:"right"}),this.shadowRoot.appendChild(this._post.el)}this.created=!0}willUpdate(){this._pre.willUpdate(),this._num.willUpdate(),this._post.willUpdate()}didUpdate(){if(!this.computedAnimated)return;this._abortAnimationsFinish?this._abortAnimationsFinish.abort():this.dispatchEvent(new Event("animationsstart")),this._pre.didUpdate(),this._num.didUpdate(),this._post.didUpdate();let e=new AbortController;Promise.all(this.shadowRoot.getAnimations().map(e=>e.finished)).then(()=>{e.signal.aborted||(this.dispatchEvent(new Event("animationsfinish")),this._abortAnimationsFinish=void 0)}),this._abortAnimationsFinish=e}}A.defaultProps={transformTiming:{duration:900,easing:"linear(0,.005,.019,.039,.066,.096,.129,.165,.202,.24,.278,.316,.354,.39,.426,.461,.494,.526,.557,.586,.614,.64,.665,.689,.711,.731,.751,.769,.786,.802,.817,.831,.844,.856,.867,.877,.887,.896,.904,.912,.919,.925,.931,.937,.942,.947,.951,.955,.959,.962,.965,.968,.971,.973,.976,.978,.98,.981,.983,.984,.986,.987,.988,.989,.99,.991,.992,.992,.993,.994,.994,.995,.995,.996,.996,.9963,.9967,.9969,.9972,.9975,.9977,.9979,.9981,.9982,.9984,.9985,.9987,.9988,.9989,1)"},spinTiming:void 0,opacityTiming:{duration:450,easing:"ease-out"},animated:!0,trend:(e,t)=>Math.sign(t-e),continuous:!1,respectMotionPreference:!0,digits:void 0};class T{constructor(e,t,i,{className:s,...a}={}){this.flow=e,this._integer=new I(e,t,{justify:"right",part:"integer"}),this._fraction=new I(e,i,{justify:"left",part:"fraction"}),this._inner=o("span",{className:"number__inner"},[this._integer.el,this._fraction.el]),this.el=o("span",{...a,part:"number",className:`number ${s??""}`},[this._inner])}willUpdate(){this._prevWidth=this.el.offsetWidth,this._prevLeft=this.el.getBoundingClientRect().left,this._integer.willUpdate(),this._fraction.willUpdate()}update(e){let{integer:t,fraction:i}=e;this._integer.update(t),this._fraction.update(i)}didUpdate(){let e=this.el.getBoundingClientRect();this._integer.didUpdate(),this._fraction.didUpdate();let t=this._prevLeft-e.left,i=this.el.offsetWidth,s=this._prevWidth-i;this.el.style.setProperty("--width",String(i)),this.el.animate({[p]:[`${t}px`,"0px"],[m]:[s,0]},{...this.flow.transformTiming,composite:"accumulate"})}}class P{constructor(e,t,{justify:i,className:s,...a},n){this.flow=e,this.children=new Map,this.onCharRemove=e=>()=>{this.children.delete(e)},this.justify=i;let r=t.map(e=>this.addChar(e).el);this.el=o("span",{...a,className:`section section--justify-${i} ${s??""}`},n?n(r):r)}addChar(e){let{startDigitsAtZero:t=!1,...i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s="integer"===e.type||"fraction"===e.type?new E(this,e.type,t?0:e.value,e.pos,{...i,onRemove:this.onCharRemove(e.key)}):new R(this,e.type,e.value,{...i,onRemove:this.onCharRemove(e.key)});return this.children.set(e.key,s),s}unpop(e){e.el.classList.remove("section__exiting"),e.el.style.top="",e.el.style[this.justify]=""}pop(e){e.forEach(e=>{var t,i;e.el.style.top=`${e.el.offsetTop}px`,e.el.style[this.justify]=`${t=e.el,"left"===this.justify?t.offsetLeft:((null==(i=t.offsetParent instanceof HTMLElement?t.offsetParent:null)?void 0:i.offsetWidth)??0)-t.offsetWidth-t.offsetLeft}px`}),e.forEach(e=>{e.el.classList.add("section__exiting"),e.present=!1})}addNewAndUpdateExisting(e){let t=new Map,i=new Map,s="left"===this.justify,a=s?"prepend":"append";if(function(e,t){let{reverse:i=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=e.length;for(let a=i?s-1:0;i?a>=0:a<s;i?a--:a++)t(e[a],a)}(e,e=>{let s;this.children.has(e.key)?(s=this.children.get(e.key),i.set(e,s),this.unpop(s),s.present=!0):(s=this.addChar(e,{startDigitsAtZero:!0,animateIn:!0}),t.set(e,s)),this.el[a](s.el)},{reverse:s}),this.flow.computedAnimated){let e=this.el.getBoundingClientRect();t.forEach(t=>{t.willUpdate(e)})}t.forEach((e,t)=>{e.update(t.value)}),i.forEach((e,t)=>{e.update(t.value)})}willUpdate(){let e=this.el.getBoundingClientRect();this._prevOffset=e[this.justify],this.children.forEach(t=>t.willUpdate(e))}didUpdate(){let e=this.el.getBoundingClientRect();this.children.forEach(t=>t.didUpdate(e));let t=e[this.justify],i=this._prevOffset-t;i&&this.children.size&&this.el.animate({transform:[`translateX(${i}px)`,"none"]},{...this.flow.transformTiming,composite:"accumulate"})}}class I extends P{update(e){let t=new Map;this.children.forEach((i,s)=>{e.find(e=>e.key===s)||t.set(s,i),this.unpop(i)}),this.addNewAndUpdateExisting(e),t.forEach(e=>{e instanceof E&&e.update(0)}),this.pop(t)}}class M extends P{update(e){let t=new Map;this.children.forEach((i,s)=>{e.find(e=>e.key===s)||t.set(s,i)}),this.pop(t),this.addNewAndUpdateExisting(e)}}class N{constructor(e,t,{onRemove:i,animateIn:s=!1}={}){this.flow=e,this.el=t,this._present=!0,this._remove=()=>{var e;this.el.remove(),null==(e=this._onRemove)||e.call(this)},this.el.classList.add("animate-presence"),this.flow.computedAnimated&&s&&this.el.animate({[f]:[-.9999,0]},{...this.flow.opacityTiming,composite:"accumulate"}),this._onRemove=i}get present(){return this._present}set present(e){if(this._present!==e){if(this._present=e,!this.flow.computedAnimated){e||this._remove();return}this.el.style.setProperty("--_number-flow-d-opacity",e?"0":"-.999"),this.el.animate({[f]:e?[-.9999,0]:[.999,0]},{...this.flow.opacityTiming,composite:"accumulate"}),e?this.flow.removeEventListener("animationsfinish",this._remove):this.flow.addEventListener("animationsfinish",this._remove,{once:!0})}}}class U extends N{constructor(e,t,i,s){super(e.flow,i,s),this.section=e,this.value=t,this.el=i}}class E extends U{constructor(e,t,i,s,a){var n,r;let l=((null==(r=null==(n=e.flow.digits)?void 0:n[s])?void 0:r.max)??9)+1,u=Array.from({length:l}).map((e,t)=>{let s=o("span",{className:`digit__num${t===i?" is-current":""}`},[document.createTextNode(String(t))]);return s.style.setProperty("--n",String(t)),s}),c=o("span",{part:`digit ${t}-digit`,className:"digit"},u);c.style.setProperty("--current",String(i)),c.style.setProperty("--length",String(l)),super(e,i,c,a),this.pos=s,this._onAnimationsFinish=()=>{this.el.classList.remove("is-spinning")},this._numbers=u,this._length=l}willUpdate(e){let t=this.el.getBoundingClientRect();this._prevValue=this.value;let i=t[this.section.justify]-e[this.section.justify],s=t.width/2;this._prevCenter="left"===this.section.justify?i+s:i-s}update(e){var t,i;null==(t=this._numbers[this.value])||t.classList.remove("is-current"),this.el.style.setProperty("--current",String(e)),null==(i=this._numbers[e])||i.classList.add("is-current"),this.value=e}didUpdate(e){let t=this.el.getBoundingClientRect(),i=t[this.section.justify]-e[this.section.justify],s=t.width/2,a="left"===this.section.justify?i+s:i-s,n=this._prevCenter-a;n&&this.el.animate({transform:[`translateX(${n}px)`,"none"]},{...this.flow.transformTiming,composite:"accumulate"});let r=this.diff;r&&(this.el.classList.add("is-spinning"),this.el.animate({[g]:[-r,0]},{...this.flow.spinTiming??this.flow.transformTiming,composite:"accumulate"}),this.flow.addEventListener("animationsfinish",this._onAnimationsFinish,{once:!0}))}get diff(){let e=this.flow.computedTrend,t=this.value-this._prevValue;return!t&&null!=this.flow.startingPos&&this.flow.startingPos>=this.pos?this._length*e:(e||(e=Math.sign(t)),e<0&&this.value>this._prevValue?this.value-this._length-this._prevValue:e>0&&this.value<this._prevValue?this._length-this._prevValue+this.value:t)}}class R extends U{constructor(e,t,i,s){let a=o("span",{className:"symbol__value",textContent:i});super(e,i,o("span",{part:`symbol ${t}`,className:"symbol"},[a]),s),this.type=t,this._children=new Map,this._onChildRemove=e=>()=>{this._children.delete(e)},this._children.set(i,new N(this.flow,a,{onRemove:this._onChildRemove(i)}))}willUpdate(e){if("decimal"===this.type)return;let t=this.el.getBoundingClientRect();this._prevOffset=t[this.section.justify]-e[this.section.justify]}update(e){if(this.value!==e){let t=this._children.get(this.value);if(t.present=!1,t.el.classList.add("symbol__exiting"),this._children.has(e)){let t=this._children.get(e);t.present=!0,t.el.classList.remove("symbol__exiting")}else{let t=o("span",{className:"symbol__value",textContent:e});this.el.appendChild(t),this._children.set(e,new N(this.flow,t,{animateIn:!0,onRemove:this._onChildRemove(e)}))}}this.value=e}didUpdate(e){if("decimal"===this.type)return;let t=this.el.getBoundingClientRect()[this.section.justify]-e[this.section.justify],i=this._prevOffset-t;i&&this.el.animate({transform:[`translateX(${i}px)`,"none"]},{...this.flow.transformTiming,composite:"accumulate"})}}var V=parseInt(l.version.match(/^(\d+)\./)?.[1])>=19,O=class extends A{attributeChangedCallback(e,t,i){this[e]=JSON.parse(i)}};O.observedAttributes=V?[]:["data","digits"],((e,t)=>{customElements.get(e)!==t&&customElements.define(e,t)})("number-flow-react",O);var F={},L=V?e=>e:JSON.stringify;function B(e){let{transformTiming:t,spinTiming:i,opacityTiming:s,animated:a,respectMotionPreference:n,trend:r,continuous:l,...o}=e;return[{transformTiming:t,spinTiming:i,opacityTiming:s,animated:a,respectMotionPreference:n,trend:r,continuous:l},o]}var $=class extends l.Component{constructor(e){super(e),this.handleRef=this.handleRef.bind(this)}updateProperties(e){if(!this.el)return;this.el.manual=!this.props.isolate;let[t]=B(this.props);Object.entries(t).forEach(e=>{let[t,i]=e;this.el[t]=i??O.defaultProps[t]}),e?.onAnimationsStart&&this.el.removeEventListener("animationsstart",e.onAnimationsStart),this.props.onAnimationsStart&&this.el.addEventListener("animationsstart",this.props.onAnimationsStart),e?.onAnimationsFinish&&this.el.removeEventListener("animationsfinish",e.onAnimationsFinish),this.props.onAnimationsFinish&&this.el.addEventListener("animationsfinish",this.props.onAnimationsFinish)}componentDidMount(){this.updateProperties(),V&&this.el&&(this.el.digits=this.props.digits,this.el.data=this.props.data)}getSnapshotBeforeUpdate(e){if(this.updateProperties(e),e.data!==this.props.data){if(this.props.group)return this.props.group.willUpdate(),()=>this.props.group?.didUpdate();if(!this.props.isolate)return this.el?.willUpdate(),()=>this.el?.didUpdate()}return null}componentDidUpdate(e,t,i){i?.()}handleRef(e){this.props.innerRef&&(this.props.innerRef.current=e),this.el=e}render(){let[e,{innerRef:t,className:i,data:s,willChange:a,isolate:n,group:r,digits:o,onAnimationsStart:u,onAnimationsFinish:c,...d}]=B(this.props);return l.createElement("number-flow-react",{ref:this.handleRef,"data-will-change":a?"":void 0,class:i,"aria-label":s.valueAsString,...d,role:"img",dangerouslySetInnerHTML:{__html:""},suppressHydrationWarning:!0,digits:L(o),data:L(s)})}},D=l.forwardRef(function(e,t){let{value:i,locales:s,format:a,prefix:n,suffix:r,...o}=e;l.useImperativeHandle(t,()=>u.current,[]);let u=l.useRef(),c=l.useContext(z);c?.useRegister(u);let d=l.useMemo(()=>s?JSON.stringify(s):"",[s]),h=l.useMemo(()=>a?JSON.stringify(a):"",[a]),f=l.useMemo(()=>(function(e,t,i,s){let a=t.formatToParts(e);i&&a.unshift({type:"prefix",value:i}),s&&a.push({type:"suffix",value:s});let n=[],r=[],l=[],o=[],u={},c=e=>`${e}:${u[e]=(u[e]??-1)+1}`,d="",h=!1,f=!1;for(let e of a){d+=e.value;let t="minusSign"===e.type||"plusSign"===e.type?"sign":e.type;"integer"===t?(h=!0,r.push(...e.value.split("").map(e=>({type:t,value:parseInt(e)})))):"group"===t?r.push({type:t,value:e.value}):"decimal"===t?(f=!0,l.push({type:t,value:e.value,key:c(t)})):"fraction"===t?l.push(...e.value.split("").map(e=>({type:t,value:parseInt(e),key:c(t),pos:-1-u[t]}))):(h||f?o:n).push({type:t,value:e.value,key:c(t)})}let m=[];for(let e=r.length-1;e>=0;e--){let t=r[e];m.unshift("integer"===t.type?{...t,key:c(t.type),pos:u[t.type]}:{...t,key:c(t.type)})}return{pre:n,integer:m,fraction:l,post:o,valueAsString:d,value:"string"==typeof e?parseFloat(e):e}})(i,F[`${d}:${h}`]??=new Intl.NumberFormat(s,a),n,r),[i,d,h,n,r]);return l.createElement($,{...o,group:c,data:f,innerRef:u})}),z=l.createContext(void 0),G=e.i(889716),W=e.i(8084653);function H(e){let{value:t,currency:s}=e;return null===t?(0,i.jsx)(i.Fragment,{children:""}):(0,i.jsxs)(G.Stack,{direction:"row",gap:1,children:[(0,i.jsx)(D,{value:Math.floor(t)}),(0,i.jsx)(W.Text,{className:"mt-5",weight:500,children:s})]})}var q=e.i(5163670);function Q(e){let{invoice:t}=e;return(0,i.jsxs)(s.UsageBlockBox,{variant:"usage",children:[(0,i.jsx)(s.UsageBlockTitle,{className:"md:text-center",children:"On-demand Charges"}),(0,i.jsx)(s.UsageBlockOnDemand,{className:"pt-1",children:t&&(0,r.filterInvoiceItems)(t).length>0?(0,i.jsx)(H,{value:Number(t.total),currency:"MIU"}):(0,i.jsx)(i.Fragment,{children:""})})]})}function K(){return(0,i.jsxs)(s.UsageBlockBox,{variant:"usage",children:[(0,i.jsx)(s.UsageBlockTitle,{className:"md:text-center",children:"On-demand Charges"}),(0,i.jsx)(s.UsageBlockOnDemand,{className:"pt-3",children:(0,i.jsx)(q.Skeleton,{children:(0,i.jsx)("div",{className:"h-10 w-full"})})})]})}var Z=e.i(3673393),X=e.i(5878074),J=e.i(3423557);function Y(e){let{upcomingCommitmentUsage:t,invoice:n}=e,[{range:r,to:l,from:o}]=(0,Z.useUsageQueryState)(),u=(0,J.usePresets)(),c=(0,i.jsxs)(s.UsageBlockRoot,{children:[(0,i.jsx)(a,{upcomingCommitmentUsage:t}),(0,i.jsx)(Q,{invoice:n})]}),d=(0,i.jsx)(X.BlockTitleDescription,{className:"mt-0 min-h-[24px]",children:"Included allocation and on-demand charges are only available for the current billing cycle."});return null===t||void 0===n?null:void 0===r&&void 0===o&&void 0===l||"current-billing-cycle"===r||o===u[0]?.start&&l===u[0]?.end?c:d}function ee(){return(0,i.jsxs)(s.UsageBlockRoot,{children:[(0,i.jsx)(n,{}),(0,i.jsx)(K,{})]})}}}]);

//# sourceMappingURL=a1b55ebf7f82df8f.js.map
//# debugId=cd915837-28c1-5afd-9b88-fd1ffad27bdc
