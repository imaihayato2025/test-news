
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="b25d80bd-2a52-5833-be0b-3eeca441fbb5")}catch(e){}}();
(globalThis.TURBOPACK=globalThis.TURBOPACK||[]).push(["object"==typeof document?document.currentScript:void 0,{148388:e=>{"use strict";e.s({useToolbarComments:()=>s});var a=e.i(7095283),t=e.i(6530772),n=e.i(6649026),i=e.i(1183506),o=e.i(9336536),r=e.i(3514588);function s(){let{type:e="all",fetchEnabled:s=!0,...l}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{isReady:u,team:d}=(0,r.useTeam)(),g=(0,a.default)((a,t)=>{if(!s||!u||0===l.limit||t&&!t.pagination?.next)return null;let i="all"===e?o.API_TOOLBAR_COMMENTS:`${o.API_TOOLBAR_COMMENTS}/inbox`;return`${i}${(0,n.encode)({teamId:"all"===e?d?.id:void 0,...l,offset:t?.pagination?.next})}`},a=>{let{status:t}=l,r=`${o.API_TOOLBAR_COMMENTS}/inbox/count${(0,n.encode)({teamId:d?.id,status:t})}`,{searchParams:s}=new URL(a,"https://vercel.com"),c=!s.has("offset");return Promise.all([(0,i.fetchAPI)(a,{throwOnHTTPError:!0}).then(e=>{if(!e)throw Error("A network error has occurred.");return e}),"inbox"===e&&c?(0,i.fetchAPI)(r,{throwOnHTTPError:!0}):Promise.resolve({unread:0})]).then(e=>{let[a,t]=e;return{...a,unreadCount:t.unread}})},c),f=(0,t.useMemo)(()=>g.data?g.data.flatMap(e=>e.threads??[]):null,[g.data]),m=(0,t.useMemo)(()=>g.data?g.data[0].unreadCount:0,[g.data]),[h,b]=(0,t.useState)(f);g.data&&!h&&b(f);let v=void 0===g.error&&!!g.data,p=(f?.length??0)===0,C=v&&g.data&&g.size>g.data.length,w=v&&g.data&&!g.data[g.data.length-1]?.pagination?.next;return{threads:f??[],unreadCount:m,initialDataLoaded:v,isEmpty:p,isLoading:g.isLoading,loadMore:()=>g.setSize(e=>e+1),isLoadingMore:C,isReachingEnd:w,mutate:g.mutate,isStale:!1,viewFreshData:()=>b(f)}}},3124255:e=>{"use strict";e.s({CommentFilterContextProvider:()=>c,useCommentFilters:()=>u},3124255);var a=e.i(6645307),t=e.i(6530772),n=e.i(5535439),i=e.i(1094487),o=e.i(7573892),r=e.i(3514588);let s=[{name:"following",default:[]},{name:"author",default:[]},{name:"status",default:[]},{name:"project",default:[]},{name:"page",default:[]},{name:"pageRegex",default:[]},{name:"branch",default:[]},{name:"group",default:["none"]},{name:"q",default:[]}],l=(0,t.createContext)(null);function c(e){let{children:c,type:u="page"}=e,[d,g]=(0,t.useState)(Object.fromEntries(s.map(e=>[e.name,e.default]))),[f,m]=(0,t.useState)(!0),h=(0,n.useSearchParams)(),b=(0,n.useRouter)(),v=(0,n.usePathname)(),[,p]=(0,t.useTransition)(),{team:C}=(0,r.useTeam)(),w=(0,t.useMemo)(()=>e=>{if(!v||!h)return;let a=new URLSearchParams(Object.entries(e).reduce((e,a)=>{let[t,n]=a;for(let a of n)("status"!==t||0!==a.length)&&("group"!==t||"none"!==a)&&("q"!==t||0!==a.length)&&("following"!==t||0!==a.length)&&e.push([t,a]);return e},[]));p(()=>{b.replace(`${v}?${a.toString()}`)})},[v,b,h]),S=(0,t.useMemo)(()=>e=>{let{value:a,replace:t=!1,filter:n}=e,r=e=>{let a={...d,[n]:e};g(a),"page"===u&&w(a)},s=d[n];if(t){r([a]),o.analytics.track(i.VercelSpecificAnalyticsEvent.NOTIFICATIONS_COMMENTS_ADD_FILTER,{teamId:C?.id,filter:n,value:a});return}s.includes(a)?(r(s.filter(e=>e!==a)),o.analytics.track(i.VercelSpecificAnalyticsEvent.NOTIFICATIONS_COMMENTS_CLEAR_FILTER,{teamId:C?.id,filter:n,value:a})):r([a,...s])},[d,u,w,C?.id]),A=(0,t.useMemo)(()=>e=>{let a=Array.isArray(e)?e:[e],t=Object.fromEntries(a.map(e=>[e,s.find(a=>a.name===e)?.default??[]])),n={...d,...t};g(n),o.analytics.track(i.VercelSpecificAnalyticsEvent.NOTIFICATIONS_COMMENTS_CLEAR_FILTER,{teamId:C?.id,filter:a.join(),value:a.flatMap(e=>d[e]).join()}),"page"===u&&w(n)},[d,C?.id,u,w]),R=(0,t.useMemo)(()=>()=>{let e=Object.fromEntries(s.map(e=>"group"===e.name?["group",d.group]:[e.name,e.default]));g(e),o.analytics.track(i.VercelSpecificAnalyticsEvent.NOTIFICATIONS_COMMENTS_CLEAR_ALL_FILTERS,{teamId:C?.id}),"page"===u&&w(e)},[C?.id,u,d.group,w]),O=(0,t.useCallback)(e=>e?"page"===e?d[e].length>0||d.pageRegex.length>0:d[e].length>0:d.author.length>0||d.status.length>0||d.project.length>0||d.page.length>0||d.pageRegex.length>0||d.branch.length>0||d.following.length>0,[d]),k=(0,t.useMemo)(()=>({filterValues:d,toggleValue:S,clearFilter:A,clearAllFilters:R,hasSelectedFilters:O}),[d,S,A,R,O]);return(0,t.useEffect)(()=>{"modal"!==u&&f&&(m(!1),g(Object.fromEntries(s.map(e=>{if("following"===e.name){let a=h?.get(e.name);if(a&&["is-following","not-following"].includes(a))return[e.name,[a]]}if("status"===e.name){let a=h?.get(e.name);if(a&&["unresolved","resolved"].includes(a))return[e.name,[a]]}else if("group"===e.name){let a=h?.get(e.name);if(a&&["author","status","project"].includes(a))return[e.name,[a]]}else if("q"===e.name){let a=h?.get(e.name);if(a)return[e.name,[a]]}else{let a=h?.getAll(e.name);if(a&&a.length>0){let t=[...new Set(a.filter(e=>e.length>0))];return[e.name,t]}}return[e.name,e.default]}))))},[f,h,g,u]),(0,a.jsx)(l.Provider,{value:k,children:c})}function u(){let e=(0,t.useContext)(l);if(null===e)throw Error("useCommentFilters must be used inside a DiscussionFilterContext.Provider");return e}l.displayName="CommentFilterContext"},3974870:e=>{"use strict";e.s({CategoryStack:()=>l,CategoryText:()=>o,ChannelStack:()=>s,ChannelText:()=>i,ItemStack:()=>c,ItemText:()=>r});var a=e.i(6645307),t=e.i(889716),n=e.i(8084653);function i(e){let{children:t,...i}=e;return(0,a.jsx)(n.Text,{size:20,...i,children:t})}function o(e){let{children:t,...i}=e;return(0,a.jsx)(n.Text,{color:"gray-1000",size:16,weight:600,...i,children:t})}function r(e){let{children:t,...i}=e;return(0,a.jsx)(n.Text,{color:"gray-900",lineHeight:20,size:14,weight:400,...i,children:t})}function s(e){let{children:n,...i}=e;return(0,a.jsx)(t.Stack,{align:"center",direction:"row",justify:"space-between",style:{padding:"var(--geist-space)",width:"100%"},...i,children:n})}function l(e){let{children:n,...i}=e;return(0,a.jsx)(t.Stack,{direction:"row",...i,children:n})}function c(e){let{children:n,...i}=e;return(0,a.jsx)(t.Stack,{style:{width:"100%",padding:"var(--geist-space-2x)"},...i,children:n})}},8214218:[e=>{"use strict";e.s({allChannels:()=>b,getAmountForOveragePercent:()=>A,getMergedOveragePreference:()=>w,getOverageCategories:()=>p,getOveragePreferences:()=>C,getPreferenceSettingValue:()=>S,savePreferenceChange:()=>v,viewInstances:()=>h},8214218);var a=e.i(584439),t=e.i(7573892),n=e.i(9802771);e.s({OVERAGE_DEFAULTS:()=>r,OVERAGE_TIER_DEFAULTS:()=>s,UNBUNDLED_WORKFLOW_IDS:()=>g,WORKFLOW_IDS:()=>d,createNotificationsView:()=>m,getTierForOverageItem:()=>l,getWorkflowIdDisplayName:()=>u},1060912);var i=e.i(5785123),o=e.i(2013047);let r={serverlessFunctionExecution:[75,100,125,200,300,500,1e3],bandwidth:[75,100,125,200,300,500,1e3],edgeConfigReads:[75,100,1600,3300],edgeConfigWrites:[75,100,1600,3300],edgeFunctionExecutionUnits:[75,100,3e3,5e3],edgeMiddlewareInvocations:[75,100,1e4,2e4,5e4,1e5],sourceImages:[75,100,500,1e3,3e3],imageOptimizationTransformation:[75,100,1e4,2e4],imageOptimizationCacheRead:[75,100,2e4,4e4],imageOptimizationCacheWrite:[75,100,6e3,12e3],artifacts:[75,100,1e3,3e3],monitoringMetric:[100,4400,8800,17600,26400,44400],observabilityEvent:[75,100,300,500,1e3],logDrainsUsage:[75,100,600,1100,5100,10100],spendManagement:[50,75,100],miuCreditsUsage:[75,100],devexCreditsUsage:[75,100],fastDataTransfer:[75,100,130,150,200],fastOriginTransfer:[75,100,300,600,1100],edgeRequest:[75,100,300,600,1100],edgeRequestAdditionalCpuDuration:[75,100,3100,5100,10100,50100,100100],functionDuration:[75,100,110,150,250,500,750,1e3],functionInvocation:[75,100,10100,30100,50100,100100],dataCacheRead:[75,100,400,1100,2100],dataCacheWrite:[75,100,400,600,1100,2100,5100],edgeConfigRead:[75,100,1600,3300],edgeConfigWrite:[75,100,1600,3300],storageRedisTotalCommands:[75,100,9624,19148],storageRedisTotalBandwidthInBytes:[75,100,97756,195413],storageRedisTotalDailyAvgStorageInBytes:[75,100,39163,78225],postgresComputeTime:[75,100,600,1100],postgresWrittenData:[75,100,101825,203551],postgresDataStorage:[75,100,81480,162860],postgresDataTransfer:[75,100,108607,217114]},s={webAnalyticsEvent:{2:[75,100,1500,2e3],3:[75,100,400,1e3,2e3,3e3,4e3]}},l=(e,a)=>{if("webAnalyticsEvent"===a)return e.billing?.invoiceItems?.webAnalytics?.tier||2;throw Error(`Unknown resource: ${a}`)},c={"daily-usage-overage-summary":"Daily","weekly-usage-overage-summary":"Weekly"};function u(e){return c[e]??(0,o.default)(e.replace("-",""))}let d={serverlessFunctionExecution:"usage-overage-serverless-functions",bandwidth:"usage-overage-bandwidth",edgeConfigReads:"usage-overage-edge-config-reads",edgeConfigWrites:"usage-overage-edge-config-writes",edgeFunctionExecutionUnits:"usage-overage-edge-function-executions",edgeMiddlewareInvocations:"usage-overage-edge-middleware-invocations",sourceImages:"usage-overage-source-images",artifacts:"usage-overage-artifacts",monitoringMetric:"usage-overage-monitoring",observabilityEvent:"usage-observability-events",webAnalyticsEvent:"usage-overage-web-analytics",logDrainsUsage:"usage-overage-log-drains",entCreditsUsage:"ent-usage-notifications",spendManagement:"budget-reached"},g={fastDataTransfer:"usage-overage-fast-data-transfer",fastOriginTransfer:"usage-overage-fast-origin-transfer",edgeRequest:"usage-overage-edge-request",edgeRequestAdditionalCpuDuration:"usage-overage-edge-request-cpu-duration",functionDuration:"usage-overage-function-duration",functionInvocation:"usage-overage-function-invocations",edgeMiddlewareInvocations:"usage-overage-edge-middleware-invocations-unbundled",dataCacheRead:"usage-overage-data-cache-unbundled",dataCacheWrite:"usage-overage-data-cache-unbundled",sourceImages:"usage-overage-source-images-unbundled",imageOptimizationTransformation:"usage-overage-image-transformation-unbundled",imageOptimizationCacheRead:"usage-overage-image-cache-read-unbundled",imageOptimizationCacheWrite:"usage-overage-image-cache-write-unbundled",artifacts:"usage-overage-artifacts-unbundled",monitoringMetric:"usage-overage-monitoring-unbundled",edgeConfigRead:"usage-overage-edge-config-reads-unbundled",edgeConfigWrite:"usage-overage-edge-config-writes-unbundled",webAnalyticsEvent:"usage-overage-web-analytics-unbundled",edgeFunctionExecutionUnits:"usage-overage-edge-function-executions-unbundled",storageRedisTotalCommands:"usage-overage-kv-unbundled",storageRedisTotalBandwidthInBytes:"usage-overage-kv-unbundled",storageRedisTotalDailyAvgStorageInBytes:"usage-overage-kv-unbundled",postgresComputeTime:"usage-overage-postgres-unbundled",postgresWrittenData:"usage-overage-postgres-unbundled",postgresDataStorage:"usage-overage-postgres-unbundled",postgresDataTransfer:"usage-overage-postgres-unbundled",blobTotalAdvancedRequests:"usage-overage-blob",blobTotalSimpleRequests:"usage-overage-blob",blobTotalAvgSizeInBytes:"usage-overage-blob",blobTotalGetResponseObjectSizeInBytes:"usage-overage-blob",entCreditsUsage:"ent-usage-notifications",spendManagement:"budget-reached"};function f(e){return e.sort((e,a)=>e.name.localeCompare(a.name))}function m(e,a){var t;let n=[];for(let[o,r]of Object.entries((t=a.isUnbundledPricingEnabled?g:d,{testing:{name:"Testing",availableOnSMS:!0,groups:{"test-notifications":{name:"Test notifications",configurable:!1,hasAdditionalCharge:!1,availableOnSMS:!0,workflows:{"mvp-stub-notifications":{resource:i.Resource.Project}}}}},deployments:{name:"Deployments",availableOnSMS:!1,groups:{"deployments-failed":{name:"Deployment failures",configurable:!1,hasAdditionalCharge:!1,availableOnSMS:!1,workflows:{"deployment-failed":{resource:i.Resource.NotificationDeploymentFailed}}}}},usage:{name:"Usage",availableOnSMS:!1,groups:{"usage-warnings":{name:"Warnings",configurable:!1,hasAdditionalCharge:!1,availableOnSMS:!1,workflows:{"usage-increased":{resource:i.Resource.NotificationUsageAlert}}},serverlessFunctionExecution:{name:"Serverless Function Execution",configurable:!0,hasAdditionalCharge:!0,availableOnSMS:!1,legacyProduct:!0,workflows:{[d.serverlessFunctionExecution]:{resource:i.Resource.NotificationUsageAlert}}},bandwidth:{name:"Bandwidth",configurable:!0,hasAdditionalCharge:!0,availableOnSMS:!1,legacyProduct:!0,workflows:{[d.bandwidth]:{resource:i.Resource.NotificationUsageAlert}}},artifacts:{name:"Remote Cache Artifact Downloads",configurable:!0,hasAdditionalCharge:!0,availableOnSMS:!1,workflows:{[t.artifacts]:{resource:i.Resource.NotificationUsageAlert}}},edgeConfigReads:{name:"Edge Config Reads",configurable:!0,hasAdditionalCharge:!0,availableOnSMS:!1,legacyProduct:!0,workflows:{[d.edgeConfigReads]:{resource:i.Resource.NotificationUsageAlert}}},edgeConfigRead:{name:"Edge Config Reads",configurable:!0,hasAdditionalCharge:!0,availableOnSMS:!1,unbundledProduct:!0,workflows:{[g.edgeConfigRead]:{resource:i.Resource.NotificationUsageAlert}}},edgeConfigWrites:{name:"Edge Config Writes",configurable:!0,hasAdditionalCharge:!0,availableOnSMS:!1,legacyProduct:!0,workflows:{[d.edgeConfigWrites]:{resource:i.Resource.NotificationUsageAlert}}},edgeConfigWrite:{name:"Edge Config Writes",configurable:!0,hasAdditionalCharge:!0,availableOnSMS:!1,unbundledProduct:!0,workflows:{[g.edgeConfigWrite]:{resource:i.Resource.NotificationUsageAlert}}},edgeMiddlewareInvocations:{name:"Edge Middleware",configurable:!0,hasAdditionalCharge:!0,availableOnSMS:!1,workflows:{[t.edgeMiddlewareInvocations]:{resource:i.Resource.NotificationUsageAlert}}},edgeFunctionExecutionUnits:{name:"Edge Functions",configurable:!0,hasAdditionalCharge:!0,availableOnSMS:!1,workflows:{[t.edgeFunctionExecutionUnits]:{resource:i.Resource.NotificationUsageAlert}}},sourceImages:{name:"Image Optimization - Source Images",configurable:!0,hasAdditionalCharge:!0,availableOnSMS:!1,workflows:{[t.sourceImages]:{resource:i.Resource.NotificationUsageAlert}}},monitoringMetric:{name:"Monitoring",configurable:!0,hasAdditionalCharge:!0,availableOnSMS:!1,workflows:{[t.monitoringMetric]:{resource:i.Resource.NotificationUsageAlert}}},observabilityEvent:{name:"Observability Events",configurable:!0,hasAdditionalCharge:!0,availableOnSMS:!1,workflows:{[d.observabilityEvent]:{resource:i.Resource.NotificationUsageAlert}}},webAnalyticsEvent:{name:"Web Analytics",configurable:!0,hasAdditionalCharge:!0,availableOnSMS:!1,workflows:{[t.webAnalyticsEvent]:{resource:i.Resource.NotificationUsageAlert}}},logDrainsUsage:{name:"Log Drains",configurable:!0,hasAdditionalCharge:!0,availableOnSMS:!1,legacyProduct:!0,workflows:{[d.logDrainsUsage]:{resource:i.Resource.NotificationUsageAlert}}},fastDataTransfer:{name:"Fast Data Transfer",configurable:!0,hasAdditionalCharge:!1,availableOnSMS:!1,unbundledProduct:!0,workflows:{[g.fastDataTransfer]:{resource:i.Resource.NotificationUsageAlert}}},fastOriginTransfer:{name:"Fast Origin Transfer",configurable:!0,hasAdditionalCharge:!1,availableOnSMS:!1,unbundledProduct:!0,workflows:{[g.fastOriginTransfer]:{resource:i.Resource.NotificationUsageAlert}}},edgeRequest:{name:"Edge Requests",configurable:!0,hasAdditionalCharge:!1,availableOnSMS:!1,unbundledProduct:!0,workflows:{[g.edgeRequest]:{resource:i.Resource.NotificationUsageAlert}}},edgeRequestAdditionalCpuDuration:{name:"Edge Requests Additional CPU",configurable:!0,hasAdditionalCharge:!1,availableOnSMS:!1,unbundledProduct:!0,workflows:{[g.edgeRequestAdditionalCpuDuration]:{resource:i.Resource.NotificationUsageAlert}}},functionDuration:{name:"Function Duration",configurable:!0,hasAdditionalCharge:!0,availableOnSMS:!1,unbundledProduct:!0,workflows:{[g.functionDuration]:{resource:i.Resource.NotificationUsageAlert}}},functionInvocation:{name:"Function Invocations",configurable:!0,hasAdditionalCharge:!0,availableOnSMS:!1,unbundledProduct:!0,workflows:{[g.functionInvocation]:{resource:i.Resource.NotificationUsageAlert}}},imageOptimizationTransformation:{name:"Image Optimization - Image Transformations",configurable:!0,hasAdditionalCharge:!0,availableOnSMS:!1,unbundledProduct:!0,workflows:{[g.imageOptimizationTransformation]:{resource:i.Resource.NotificationUsageAlert}}},imageOptimizationCacheRead:{name:"Image Optimization - Image Cache Reads",configurable:!0,hasAdditionalCharge:!0,availableOnSMS:!1,unbundledProduct:!0,workflows:{[g.imageOptimizationCacheRead]:{resource:i.Resource.NotificationUsageAlert}}},imageOptimizationCacheWrite:{name:"Image Optimization - Image Cache Writes",configurable:!0,hasAdditionalCharge:!0,availableOnSMS:!1,unbundledProduct:!0,workflows:{[g.imageOptimizationCacheWrite]:{resource:i.Resource.NotificationUsageAlert}}},dataCacheRead:{name:"ISR Reads",configurable:!0,hasAdditionalCharge:!1,availableOnSMS:!1,unbundledProduct:!0,workflows:{[g.dataCacheRead]:{resource:i.Resource.NotificationUsageAlert}}},dataCacheWrite:{name:"ISR Writes",configurable:!0,hasAdditionalCharge:!1,availableOnSMS:!1,unbundledProduct:!0,workflows:{[g.dataCacheWrite]:{resource:i.Resource.NotificationUsageAlert}}},storageRedisTotalCommands:{name:"KV Requests",configurable:!0,hasAdditionalCharge:!0,availableOnSMS:!1,unbundledProduct:!0,workflows:{[g.storageRedisTotalCommands]:{resource:i.Resource.NotificationUsageAlert}}},storageRedisTotalBandwidthInBytes:{name:"KV Bandwidth",configurable:!0,hasAdditionalCharge:!0,availableOnSMS:!1,unbundledProduct:!0,workflows:{[g.storageRedisTotalBandwidthInBytes]:{resource:i.Resource.NotificationUsageAlert}}},storageRedisTotalDailyAvgStorageInBytes:{name:"KV Storage",configurable:!0,hasAdditionalCharge:!0,availableOnSMS:!1,unbundledProduct:!0,workflows:{[g.storageRedisTotalDailyAvgStorageInBytes]:{resource:i.Resource.NotificationUsageAlert}}},postgresComputeTime:{name:"Postgres Compute Time",configurable:!0,hasAdditionalCharge:!0,availableOnSMS:!1,unbundledProduct:!0,workflows:{[g.postgresComputeTime]:{resource:i.Resource.NotificationUsageAlert}}},postgresWrittenData:{name:"Postgres Written Data",configurable:!0,hasAdditionalCharge:!0,availableOnSMS:!1,unbundledProduct:!0,workflows:{[g.postgresWrittenData]:{resource:i.Resource.NotificationUsageAlert}}},postgresDataStorage:{name:"Postgres Storage",configurable:!0,hasAdditionalCharge:!0,availableOnSMS:!1,unbundledProduct:!0,workflows:{[g.postgresDataStorage]:{resource:i.Resource.NotificationUsageAlert}}},postgresDataTransfer:{name:"Postgres Data Transfer",configurable:!0,hasAdditionalCharge:!0,availableOnSMS:!1,unbundledProduct:!0,workflows:{[g.postgresDataTransfer]:{resource:i.Resource.NotificationUsageAlert}}}}},team:{name:"Team",availableOnSMS:!0,groups:{"access-requests":{name:"Team join requests",configurable:!1,hasAdditionalCharge:!1,availableOnSMS:!1,workflows:{"team-access-requested":{action:i.Action.Update,resource:i.Resource.TeamFellowMembership}}},spendManagement:{name:"Spend Management",configurable:!0,configurationLink:"/[teamSlug]/~/settings/billing#spend-management",hasAdditionalCharge:!1,availableOnSMS:!0,workflows:{"budget-reached":{resource:i.Resource.Budget}}}}},integrations:{name:"Integrations",availableOnSMS:!1,groups:{"integration-updates":{name:"Integration updates",configurable:!1,hasAdditionalCharge:!1,availableOnSMS:!1,workflows:{"integration-configuration-disabled":{action:i.Action.Update,resource:i.Resource.IntegrationConfiguration},"integration-scope-change":{resource:i.Resource.IntegrationConfiguration}}}}},edgeConfig:{name:"Edge Config",availableOnSMS:!1,groups:{"edge-config-alerts":{name:"Size Limit Alerts",configurable:!1,hasAdditionalCharge:!1,availableOnSMS:!1,workflows:{"edge-config-size-limit-reached":{resource:i.Resource.EdgeConfigItem,action:i.Action.Update}}},"edge-config-schema-validation":{name:"Schema Validation Errors",configurable:!1,hasAdditionalCharge:!1,availableOnSMS:!1,workflows:{"edge-config-schema-mismatch":{resource:i.Resource.EdgeConfigItem,action:i.Action.Update}}}}},domains:{name:"Domains",availableOnSMS:!1,groups:{"domain-configuration":{name:"Configuration",configurable:!1,hasAdditionalCharge:!1,availableOnSMS:!1,workflows:{"domain-configured":{resource:i.Resource.NotificationDomainConfiguration},"domain-misconfigured-mvp":{resource:i.Resource.NotificationDomainConfiguration},"cert-renewal-failed":{resource:i.Resource.NotificationDomainConfiguration}}},"domain-renewals":{name:"Renewals",configurable:!1,hasAdditionalCharge:!1,availableOnSMS:!1,workflows:{"domain-renewed":{resource:i.Resource.NotificationDomainRenewal},"domain-expired":{resource:i.Resource.NotificationDomainExpire},"domain-will-expire":{resource:i.Resource.NotificationDomainExpire},"domain-no-payment-source":{resource:i.Resource.NotificationPaymentFailed},"domain-payment-failure":{resource:i.Resource.NotificationPaymentFailed},"domain-will-be-renewed":{resource:i.Resource.NotificationDomainRenewal}}},"domain-transfers":{name:"Transfers",configurable:!1,hasAdditionalCharge:!1,availableOnSMS:!1,workflows:{"domain-move-completed":{resource:i.Resource.NotificationDomainMove},"domain-move-requested":{resource:i.Resource.NotificationDomainMove},"domain-transfer-initiated":{resource:i.Resource.NotificationDomainTransfer},"domain-transfer-cancelled":{resource:i.Resource.NotificationDomainTransfer},"domain-transfer-complete":{resource:i.Resource.NotificationDomainTransfer},"domain-transfer-pending-approval":{resource:i.Resource.NotificationDomainTransfer}}}}},usageV2:{name:"Usage",availableOnSMS:!1,groups:{"usage-threshold-warning":{name:"75% of included usage",description:"Only sent if you did not have on-demand usage in the previous cycle.",configurable:!1,hasAdditionalCharge:!1,availableOnSMS:!1,workflows:{"usage-threshold-warning":{resource:i.Resource.NotificationUsageAlert}}},"usage-overage-summary":{name:"On-Demand Usage Summary",configurable:!0,hasAdditionalCharge:!1,availableOnSMS:!1,workflows:{"daily-usage-overage-summary":{resource:i.Resource.NotificationUsageAlert},"weekly-usage-overage-summary":{resource:i.Resource.NotificationUsageAlert}}}}}}))){if("Testing"===r.name&&!a.showTestButton||a.usageSummaryEmailsEnabled&&"usage"===o||!a.usageSummaryEmailsEnabled&&"usageV2"===o)continue;let t={name:r.name,availableOnSMS:r.availableOnSMS,groups:[]};for(let n of f(Object.entries(r.groups).map(e=>{let[a,t]=e;return{...t,uri:a}})))if(Object.values(n.workflows).some(a=>e(a.action||i.Action.Read,a.resource))&&(!a.usageItemDetails||"usage-warnings"!==n.uri)&&(a.showMonitoring||"monitoringMetric"!==n.uri)&&(a.isLogDrainsGaEnabled||"logDrainsUsage"!==n.uri)&&(a.isSpendManagementEnabled||"spendManagement"!==n.uri)&&(a.isEntUnbundledPricingEnabled||"miuCreditsUsage"!==n.uri&&"devexCreditsUsage"!==n.uri)&&(!a.isEntUnbundledPricingEnabled||"usage-warnings"!==n.uri)&&(!a.isUnbundledPricingEnabled||!n.legacyProduct)&&(a.isUnbundledPricingEnabled||!n.unbundledProduct)){if(n.configurable&&a.team){let e=a.team.billing?.plan==="pro",t=a.team.billing?.plan==="enterprise",i=!!n.isEnterpriseOnly;if(!e||!t&&i)continue}t.groups.push({uri:n.uri,name:n.name,description:n.description,configurable:n.configurable,configurationLink:n.configurationLink,availableOnSMS:n.availableOnSMS,hasAdditionalCharge:n.hasAdditionalCharge,isEnterpriseOnly:n.isEnterpriseOnly,workflowIds:Object.keys(n.workflows)})}0!==t.groups.length&&n.push(t)}return f(n)}let h=[{name:"Web",channel:"in_app_feed"},{name:"Email",channel:"email"},{name:"SMS",channel:"sms"}],b=h.map(e=>e.channel);function v(e,i,o,r,s,l){s.setGroup({uri:r,channels:[i],enabled:!o}).then(()=>{a.toasts.success("Change saved")}).catch(()=>{a.toasts.error("Error saving change")}),t.analytics.track(n.AnalyticsEvent.NOTIFICATIONS_PREF_CHANGED,{channel:i,action:o?"disable":"enable",uri:r,category:e,teamId:l??"none"})}function p(e){return e.filter(e=>["Usage","Team"].includes(e.name)).flatMap(e=>e.groups.filter(e=>e.configurable))}function C(e){let{userData:a,categories:t,team:n}=e,i=!1,o={};return t.forEach(e=>{h.forEach(t=>{let c=n?function(e,a){let{group:t,channel:n,tenant:i}=a;return e[`overage_${t.uri}_${n}_${i}`]}(a,{group:e,channel:t.channel,tenant:n.id}):void 0;if(c)o[`${e.uri}_${t.channel}`]=c;else{if(n?.billing?.invoiceItems&&e.uri in s){o[`${e.uri}_${t.channel}`]=s[e.uri][l(n,e.uri)],i=!0;return}o[`${e.uri}_${t.channel}`]=r[e.uri],i=!0}})}),{overagePreferences:o,requiresUpdate:i}}function w(e,a){let t=new Set;for(let n of b.filter(e=>"sms"!==e||a.availableOnSMS)){let i=function(e,a){let{group:t,channel:n}=a;return e[`${t.uri}_${n}`]}(e,{group:a,channel:n});if(i)for(let e of i)t.add(e)}return Array.from(t)}function S(e){let{setting:a,channel:t}=e;return!!a&&"boolean"!=typeof a&&(a.channel_types[t]??!1)}function A(e){let{invoiceItem:a,percent:t}=e;return a?Math.abs(Math.ceil((t<100?0:t/100*a.threshold-a.threshold)/a.batch)*a.price/100):null}},[1060912]],5870342:e=>{e.v({categoryName:"preferences-module__hiKgcq__categoryName",checkboxItem:"preferences-module__hiKgcq__checkboxItem",checkboxList:"preferences-module__hiKgcq__checkboxList",detailPreferenceGearBtn:"preferences-module__hiKgcq__detailPreferenceGearBtn",entCustomCopy:"preferences-module__hiKgcq__entCustomCopy",modalBody:"preferences-module__hiKgcq__modalBody",modalText:"preferences-module__hiKgcq__modalText",modalTitle:"preferences-module__hiKgcq__modalTitle",overageNotifyText:"preferences-module__hiKgcq__overageNotifyText",overageRow:"preferences-module__hiKgcq__overageRow",overageRowBorder:"preferences-module__hiKgcq__overageRowBorder",overageTitle:"preferences-module__hiKgcq__overageTitle",rowGroup:"preferences-module__hiKgcq__rowGroup",section:"preferences-module__hiKgcq__section",warningCircle:"preferences-module__hiKgcq__warningCircle"})},6498840:e=>{"use strict";e.s({BellOff:()=>a});let a=(0,e.i(6895406).withNewIcon)('<path fill-rule="evenodd" clip-rule="evenodd" d="M4.53698 3.47633L11.5607 10.5H12H12.98C12.36 9.91233 12 9.09029 12 8.22059V5.5075C12 3.29422 10.2058 1.5 7.99249 1.5C6.52159 1.5 5.23456 2.29232 4.53698 3.47633ZM13.0607 12L15.2803 14.2197L15.8107 14.75L14.75 15.8107L14.2197 15.2803L0.719661 1.78033L0.189331 1.25L1.24999 0.18934L1.78032 0.71967L3.45132 2.39067C4.44349 0.947794 6.10679 0 7.99249 0C11.0342 0 13.5 2.46579 13.5 5.5075V8.22059C13.5 8.76913 13.7741 9.28137 14.2305 9.58565L14.666 9.87596L15 10.0986V10.5V11.25V12H14.25H13.0607ZM3.98499 7.75V7H2.48499V7.75V8.22669C2.48499 8.77318 2.2132 9.28388 1.75991 9.58912L1.33107 9.8779L0.999991 10.1009V10.5V11.25V12H1.74999H6.74999H7.49999V10.5H6.74999H3.01223C3.62798 9.91235 3.98499 9.09303 3.98499 8.22669V7.75ZM9.16777 13.5H10.7486L10.5867 13.9867C10.3988 14.5516 10.0074 15.0152 9.5148 15.3226C9.07839 15.5949 8.55541 15.75 8.00001 15.75C7.4446 15.75 6.92163 15.5949 6.48522 15.3226C5.99262 15.0152 5.60125 14.5516 5.41334 13.9867L5.25143 13.5H6.83224L6.83665 13.5133C6.90411 13.716 7.05457 13.9098 7.27935 14.0501C7.4766 14.1732 7.72425 14.25 8.00001 14.25C8.27577 14.25 8.52342 14.1732 8.72066 14.0501C8.94545 13.9098 9.0959 13.716 9.16336 13.5133L9.16777 13.5Z" fill="currentColor"/>')},7848711:[e=>{"use strict";e.s({},7848711);var a=e.i(6645307),t=e.i(6530772),n=e.i(2052446),i=e.i(3974870),o=e.i(8214218),r=e.i(5870342);e.s({CheckboxItem:()=>h,CheckboxItemSkeleton:()=>b},4085793);var s=e.i(6498840),l=e.i(1085429),c=e.i(8084653),u=e.i(8247297),d=e.i(555528),g=e.i(8934201),f=e.i(5163670),m=e.i(9443759);function h(e){let{text:f,uri:h,channel:b,category:v,teamId:p,tooltip:C,isOwner:w,preventAutoDisable:S=!1,className:A}=e,R=(0,n.usePreferences)(),O=R.isGroupEnabled(h,b),k="Domains"===v,y="in_app_feed"===b?"email":"in_app_feed",T=!R.isGroupEnabled(h,y)||!R.isChannelEnabled(y),M=!S&&w&&O&&T&&!k,[E,_]=(0,t.useState)(!1),I=(0,t.useCallback)(()=>_(!0),[]),N=(0,t.useCallback)(()=>_(!1),[]),x=(0,t.useCallback)(()=>{(0,o.savePreferenceChange)(v,b,O,h,R,p),N()},[v,b,O,R,h,p,N]),D="";if(k)switch(f){case"Configuration":D="if there are misconfigured domains";break;case"Renewals":D="about domain renewals";break;case"Transfers":D="if there are domain transfers";break;default:D=`about Domains > ${f}`}let U=(0,t.useCallback)(()=>{w&&O&&T&&k?I():(0,o.savePreferenceChange)(v,b,O,h,R,p)},[v,b,O,R,h,p,k,w,T,I]),P=C;return M&&(P=[C,"Cannot disable this notification because it is disabled on all other channels."].filter(Boolean).join(" ")),(0,a.jsxs)("label",{className:(0,m.cn)(r.default.checkboxItem,A),children:[(0,a.jsx)(u.Checkbox,{checked:O,disabled:M,onChange:U}),f?(0,a.jsx)(i.ItemText,{children:f}):null,P?(0,a.jsx)(d.Tooltip,{text:P,children:(0,a.jsx)(l.Question,{color:"gray-600"})}):null,k?(0,a.jsxs)(g.Modal.Modal,{active:E,onClickOutside:N,children:[(0,a.jsx)(g.Modal.Body,{children:(0,a.jsxs)("div",{className:r.default.modalBody,children:[(0,a.jsx)("div",{className:r.default.warningCircle,children:(0,a.jsx)(s.BellOff,{className:"text-[#fff]",size:20})}),(0,a.jsx)(c.Text,{align:"center",className:r.default.modalTitle,size:20,weight:600,children:"Notification Warning"}),(0,a.jsxs)(c.Text,{align:"center",className:r.default.modalText,children:["You're turning off notifications across all channels, and we'll have no way to notify you ",D,"."]})]})}),(0,a.jsxs)(g.Modal.Actions,{children:[(0,a.jsx)(g.Modal.Action,{onClick:N,type:"secondary",children:"Cancel"}),(0,a.jsx)(g.Modal.Action,{onClick:x,children:"Turn off notifications"})]})]}):null]})}function b(){return(0,a.jsxs)("div",{className:r.default.checkboxItem,children:[(0,a.jsx)(u.Checkbox,{checked:!1,disabled:!0}),(0,a.jsx)(f.Skeleton,{width:120,height:16,boxHeight:20,vcenter:!0})]})}},[4085793]],6514339:e=>{"use strict";e.s({NotificationContext:()=>b,useNotifications:()=>C,useNotificationsVisibility:()=>p},6514339);var a=e.i(6530772),t=e.i(1094487),n=e.i(7573892),i=e.i(503726);e.i(442955),e.i(8891599);var o=e.i(8878140),r=e.i(5799063),r=r,s=e.i(9653067),s=s,l=e.i(5535439);let c={"mvp-stub-notifications":(e,a,t,n)=>!1,"deployment-failed"(e,a,t,n){let{teamSlug:i,project:o,id:r}=t;return!!(i&&o&&r&&e===`/${i}/${o}/${r}`||e.startsWith("/new/import/"))&&!![...a.getAll("id"),...a.getAll("deploymentIds")].find(e=>{if(e)return(n.data?.actionUrl||"").includes(e.replace("dpl_",""))})}};function u(e){let t=(0,o.useAuthenticatedKnockClient)("pk_cBlwgRRBkMc-3KKgA0J7W-q7LbxjyDuL1u3XXU164p4",e.userId,e.userToken),n=(0,r.default)(t,"6f1dd852-e25d-4cb7-b99c-6b0acc743109",{page_size:e.pageSize||10,tenant:e.tenant,archived:"archived"===e.tab?"only":"exclude"});if(!n)throw Error("expected feed");let[i,u]=(0,a.useState)(),d=(0,l.usePathname)(),g=(0,l.useSearchParams)(),f=(0,l.useParams)();(0,a.useEffect)(()=>{if("inbox"!==e.tab)return;let a=e=>{d&&g&&f&&function(e,a,t,n,i){let o=i.filter(n=>!!(!n.seen_at&&1===n.total_activities&&n.source.key in c&&c[n.source.key](e,a,t,n)));o.length&&n.markAsSeen(o)}(d,g,f,n,e.items)};return n.on("items.received.*",a),()=>n.off("items.received.*",a)},[n,f,d,e.tab,g]),(0,a.useEffect)(()=>{if(e.userId)try{let a=new BroadcastChannel(`__notifier_feed${e.userId}${e.tenant??""}`);a.addEventListener("message",a=>{let{data:t}=a;if("inbox"===e.tab&&(n.getState().setMetadata(t.state.metadata),n.store.setState({items:t.state.items})),"archived"===e.tab&&("markAsArchived"===t.method||"markAllAsArchived"===t.method)){let e=new Date().toISOString();t.changes.forEach(a=>{a.archived_at=e}),n.store.setState({items:t.changes.concat(n.store.getState().items)})}});let t=async e=>{let t=await n.markAsArchived(e),i=Array.isArray(e)?e:[e],{items:o,metadata:r}=n.getState();return a.postMessage({state:{items:o,metadata:r},method:"markAsArchived",changes:i}),t},i=async()=>{let{items:e,metadata:t}=n.store.getState(),i=n.markAllAsArchived();return a.postMessage({state:{items:e,metadata:t},method:"markAllAsArchived",changes:e}),i};return u({markAsArchived:t,markAllAsArchived:i}),()=>{u(void 0),a.close()}}catch(e){}},[n,e.tab,e.tenant,e.userId]);let{loading:m,items:h,metadata:b}=(0,s.default)(n),v=(0,a.useCallback)(async e=>{if(i?.markAsArchived)return void await i.markAsArchived(e);await n.markAsArchived(e)},[n,i]),p=(0,a.useCallback)(async()=>{if(i?.markAllAsArchived)return void await i.markAllAsArchived();await n.markAllAsArchived()},[n,i]);return{loading:m,items:h??[],metadata:b??{},feed:n,markAsArchived:v,markAllAsArchived:p}}var d=e.i(9802771),g=e.i(8747443),f=e.i(148388),m=e.i(3124255),h=e.i(1850076);let b=(0,a.createContext)(null);b.displayName="NotificationContext";let v=/vtest314-[^@]+@zeit\.pub/;function p(){let{user:e,team:a,isLoading:t}=(0,i.useAccount)(),{isLoading:n,token:o}=(0,g.useKnockToken)({});if(!t&&!a)return{state:null,isLoading:!1};let r=!!(t||n);return t||(e?.limited!==!0||a)&&(!a||!0!==a.limited)?o?{state:"full",tenant:a?.id,isLoading:r}:e?{state:"placeholder",tenant:a?.id,isLoading:r}:{state:null,isLoading:r}:{state:"limited",tenant:a?.id,isLoading:r}}function C(e){let{tenant:o}=e,r=(0,a.useRef)(0),s=p(),{account:l,user:c,team:b}=(0,i.useAccount)(),{token:C}=(0,g.useKnockToken)({}),[w,S]=(0,a.useState)(!1),[A,R]=(0,a.useState)("inbox");if(!c)throw Error("User not available");let O=v.exec(c.email)?"vtest314":c.uid,k=function(e){let{feed:t,items:i,metadata:o,loading:r,onArchiveAll:s,markAsArchived:l,markAllAsArchived:c}=e,u=(0,a.useRef)(!1);(0,a.useEffect)(()=>{u.current||(u.current=!0,t.fetch())},[t]);let g=(0,a.useCallback)(()=>{let e=i.filter(e=>null===e.seen_at);if(0!==e.length)return t.markAsSeen(e)},[t,i]),f=(0,a.useCallback)(()=>{c(),s()},[s,c]),m=(0,a.useCallback)(async(e,a)=>{let t=Date.now(),i=new Date(e.inserted_at).getTime();n.analytics.track(d.AnalyticsEvent.NOTIFICATIONS_ENGAGEMENT,{uid:e.id,workflow:a??"none",action:"archive",messageTs:i,actionTs:t,timeToAction:t-i}),await l(e)},[l]),h=(0,a.useCallback)(async(e,a)=>{let i=Date.now(),o=new Date(e.inserted_at).getTime();n.analytics.track(d.AnalyticsEvent.NOTIFICATIONS_ENGAGEMENT,{uid:e.id,workflow:a??"none",action:"read",messageTs:o,actionTs:i,timeToAction:i-o}),await t.markAsSeen(e).then(()=>t.markAsRead(e))},[t]),b=(0,a.useCallback)(()=>{i.length<o.total_count&&t.fetchNextPage()},[i.length,o.total_count,t]);return{items:i,loading:r,unseen:o.unseen_count,archiveItem:m,readItem:h,markAllSeen:g,markAllArchived:f,fetchNextPage:b}}({onArchiveAll:()=>{r.current=Date.now()},...u({tab:"inbox",userToken:C,userId:O,tenant:o})}),y=function(e){let{fetchEnabled:t,feed:n,items:i,metadata:o,loading:r}=e,[s,l]=(0,a.useState)(!1);(0,a.useEffect)(()=>{t&&!s&&(n.fetch(),l(!0))},[t,n,i,s]);let c=(0,a.useCallback)(()=>{i.length<o.total_count&&n.fetchNextPage()},[i.length,o.total_count,n]);return{loading:r,items:i,fetchNextPage:c,feed:n}}({fetchEnabled:w,...u({tab:"archived",userToken:C,userId:O,tenant:o})}),{filterValues:T}=(0,m.useCommentFilters)(),M="resolved"===T.status[0]||"unresolved"===T.status[0]?T.status[0]:void 0,E=(0,h.getIfNotEmpty)(T.q),_=(0,h.getIfNotEmpty)(T.project),I=(0,h.getIfNotEmpty)(T.author),N=(0,h.getIfNotEmpty)(T.page),x=(0,h.getIfNotEmpty)(T.pageRegex),D=(0,h.getIfNotEmpty)(T.branch),U=(0,f.useToolbarComments)({type:"inbox",q:E&&E[0].length>0?E[0]:void 0,teamId:b?.id,status:M,projectId:_,author:I,page:N,pageGlob:x,branch:D,limit:20,searchHeaderOnly:1}),P=(0,a.useCallback)(()=>y.feed.fetch(),[y.feed]);(0,a.useEffect)(()=>{"archived"===A&&Date.now()-r.current<3e4&&P()},[A,P]);let L={as:b?.slug?`/${b.slug}/~/settings/notifications`:"/account/notifications",href:b?.slug?"/teams/[teamSlug]/settings/notifications":"/account/notifications"},j="inbox"===A?k:y,F=(0,a.useCallback)(e=>{R(e),n.analytics.track(t.VercelSpecificAnalyticsEvent.NOTIFICATIONS_TAB_CHANGE,{tab:A,teamId:b?.id,commentsEnabled:l?.enablePreviewFeedback!=="off"})},[A,b?.id,l?.enablePreviewFeedback]);return{visibility:s,hasOpened:w,setHasOpened:S,tab:A,setTab:F,inbox:k,archive:y,comments:U,settingsLink:L,activeFeed:j}}}}]);

//# sourceMappingURL=370bb1cdcc2367a5.js.map
//# debugId=b25d80bd-2a52-5833-be0b-3eeca441fbb5
