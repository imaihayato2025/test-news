
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="525dfc8e-de93-5f1b-b7eb-4f5fcab9bea4")}catch(e){}}();
(globalThis.TURBOPACK=globalThis.TURBOPACK||[]).push(["object"==typeof document?document.currentScript:void 0,{7101239:[e=>{"use strict";let t;e.s({Do:()=>iv,allocate:()=>nb,append:()=>nx,appendAll:()=>nT,bind:()=>ik,bindTo:()=>iI,cartesian:()=>iE,cartesianWith:()=>iO,chop:()=>aw,chunksOf:()=>aP,contains:()=>aA,containsWith:()=>aI,copy:()=>aT,countBy:()=>aa,dedupe:()=>im,dedupeAdjacent:()=>i_,dedupeAdjacentWith:()=>iy,dedupeWith:()=>ig,difference:()=>aG,differenceWith:()=>aW,drop:()=>n4,dropRight:()=>n9,dropWhile:()=>n7,empty:()=>a$,ensure:()=>nk,every:()=>ii,extend:()=>is,filter:()=>a3,filterMap:()=>aZ,filterMapWhile:()=>aX,findFirst:()=>ar,findFirstIndex:()=>ae,findLast:()=>an,findLastIndex:()=>at,flatMap:()=>aY,flatMapNullable:()=>ir,flatten:()=>aK,forEach:()=>ip,fromIterable:()=>nv,fromNullable:()=>ie,fromOption:()=>nN,fromRecord:()=>nI,get:()=>nW,getEquivalence:()=>id,getLefts:()=>a2,getOrder:()=>ih,getRights:()=>a1,getSomes:()=>a0,group:()=>aU,groupBy:()=>aq,groupWith:()=>aL,head:()=>nH,headNonEmpty:()=>nY,init:()=>n0,initNonEmpty:()=>n2,insertAt:()=>ai,intersection:()=>aB,intersectionWith:()=>aV,intersperse:()=>ab,isArray:()=>nF,isEmptyArray:()=>nL,isEmptyReadonlyArray:()=>nU,isNonEmptyArray:()=>nq,isNonEmptyReadonlyArray:()=>nJ,join:()=>ib,last:()=>nK,lastNonEmpty:()=>nZ,length:()=>nD,let:()=>iN,liftEither:()=>ia,liftNullable:()=>it,liftOption:()=>a7,liftPredicate:()=>a9,make:()=>n_,makeBy:()=>nS,map:()=>aH,mapAccum:()=>iS,match:()=>nA,matchLeft:()=>nw,matchRight:()=>nC,max:()=>iu,min:()=>io,modify:()=>ao,modifyNonEmptyHead:()=>aS,modifyNonEmptyLast:()=>aE,modifyOption:()=>au,of:()=>az,pad:()=>aj,partition:()=>a6,partitionMap:()=>aQ,prepend:()=>nM,prependAll:()=>nR,range:()=>nO,reduce:()=>a8,reduceRight:()=>a4,remove:()=>ac,removeOption:()=>af,replace:()=>al,replaceOption:()=>as,replicate:()=>nE,reverse:()=>ah,rotate:()=>ak,scan:()=>nj,scanRight:()=>nP,separate:()=>a5,setNonEmptyHead:()=>aO,setNonEmptyLast:()=>av,some:()=>il,sort:()=>ad,sortBy:()=>ag,sortWith:()=>ap,span:()=>n8,split:()=>aR,splitAt:()=>aC,splitNonEmptyAt:()=>aM,splitWhere:()=>ax,tail:()=>nX,tailNonEmpty:()=>nQ,take:()=>n1,takeRight:()=>n3,takeWhile:()=>n6,unappend:()=>nz,unfold:()=>ic,union:()=>aD,unionWith:()=>aJ,unprepend:()=>n$,unsafeGet:()=>nG,unzip:()=>a_,window:()=>aF,zip:()=>am,zipWith:()=>ay},7101239),e.s({TypeId:()=>tv,all:()=>tB,fromOption:()=>tN,getEquivalence:()=>tT,getLeft:()=>tx,getOrThrow:()=>tD,getOrThrowWith:()=>tJ,getRight:()=>tR,isEither:()=>tw,isLeft:()=>tC,isRight:()=>tM,left:()=>tI,liftPredicate:()=>tU,map:()=>tF,mapBoth:()=>tj,mapLeft:()=>tP,match:()=>tL,merge:()=>tq,right:()=>tk,try:()=>tA},2063008),e.s({Date:()=>c,array:()=>h,bigint:()=>o,boolean:()=>s,make:()=>n,mapInput:()=>u,number:()=>l,string:()=>i,struct:()=>d,tuple:()=>f},7202060);var r=e.i(4013421);let n=e=>(t,r)=>t===r||e(t,r),a=(e,t)=>e===t,i=a,l=a,s=a,o=a,u=(0,r.dual)(2,(e,t)=>n((r,n)=>e(t(r),t(n)))),c=u(l,e=>e.getTime()),f=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return n((e,r)=>{let n=Math.min(e.length,r.length),a=0;for(let i of t){if(a>=n)break;if(!i(e[a],r[a]))return!1;a++}return!0})},h=e=>n((t,r)=>{if(t.length!==r.length)return!1;for(let n=0;n<t.length;n++)if(!e(t[n],r[n]))return!1;return!0}),d=e=>{let t=Object.keys(e);return n((r,n)=>{for(let a of t)if(!e[a](r[a],n[a]))return!1;return!0})};e.s({bind:()=>m,bindTo:()=>g,let_:()=>p},4268340);let p=e=>(0,r.dual)(3,(t,r,n)=>e(t,e=>({...e,[r]:n(e)}))),g=e=>(0,r.dual)(2,(t,r)=>e(t,e=>({[r]:e}))),m=(e,t)=>(0,r.dual)(3,(r,n,a)=>t(r,t=>e(a(t),e=>({...t,[n]:e}))));e.s({equals:()=>eE,equivalence:()=>eI,isEqual:()=>ek,symbol:()=>eO},2191438),e.s({array:()=>eb,cached:()=>eS,combine:()=>ed,hash:()=>ef,number:()=>em,random:()=>eh,string:()=>ey,structure:()=>e_,symbol:()=>ec},9214235),e.s({globalValue:()=>b},8166160),e.s({getCurrentVersion:()=>y},1981218);let y=()=>"3.16.14",_=`effect/GlobalValue/globalStoreId/${y()}`,b=(e,r)=>(t||(globalThis[_]??=new Map,t=globalThis[_]),t.has(e)||t.set(e,r()),t.get(e));e.s({hasProperty:()=>F,isBigInt:()=>N,isBoolean:()=>I,isDate:()=>D,isFunction:()=>w,isIterable:()=>V,isMap:()=>E,isNever:()=>T,isNotNull:()=>x,isNotNullable:()=>q,isNotUndefined:()=>M,isNull:()=>R,isNullable:()=>U,isNumber:()=>k,isObject:()=>P,isPromiseLike:()=>W,isRecord:()=>B,isRecordOrArray:()=>j,isRegExp:()=>G,isSet:()=>O,isString:()=>v,isSymbol:()=>A,isTagged:()=>L,isTruthy:()=>S,isUint8Array:()=>J,isUndefined:()=>C,or:()=>$},6701858);let S=e=>!!e,O=e=>e instanceof Set,E=e=>e instanceof Map,v=e=>"string"==typeof e,k=e=>"number"==typeof e,I=e=>"boolean"==typeof e,N=e=>"bigint"==typeof e,A=e=>"symbol"==typeof e,w=r.isFunction,C=e=>void 0===e,M=e=>void 0!==e,R=e=>null===e,x=e=>null!==e,T=e=>!1,j=e=>"object"==typeof e&&null!==e,P=e=>j(e)||w(e),F=(0,r.dual)(2,(e,t)=>P(e)&&t in e),L=(0,r.dual)(2,(e,t)=>F(e,"_tag")&&e._tag===t),U=e=>null==e,q=e=>null!=e,J=e=>e instanceof Uint8Array,D=e=>e instanceof Date,V=e=>F(e,Symbol.iterator),B=e=>j(e)&&!Array.isArray(e),W=e=>F(e,"then")&&w(e.then),G=e=>e instanceof RegExp,$=(0,r.dual)(2,(e,t)=>r=>e(r)||t(r));e.s({PCGRandom:()=>Q,SingleShotGen:()=>Z,YieldWrap:()=>er,adapter:()=>X,internalCall:()=>el,isGenKind:()=>Y,isGeneratorFunction:()=>eo,structuralRegionState:()=>ea,yieldWrapGet:()=>en},9964691),e.s({getBugErrorMessage:()=>z},2762021);let z=e=>`BUG: ${e} - please report an issue at https://github.com/Effect-TS/effect/issues`,H=Symbol.for("effect/Gen/GenKind"),Y=e=>P(e)&&H in e;class K{value;constructor(e){this.value=e}get _F(){return r.identity}get _R(){return e=>e}get _O(){return e=>e}get _E(){return e=>e}[H]=H;[Symbol.iterator](){return new Z(this)}}class Z{self;called=!1;constructor(e){this.self=e}next(e){return this.called?{value:e,done:!0}:(this.called=!0,{value:this.self,done:!1})}return(e){return{value:e,done:!0}}throw(e){throw e}[Symbol.iterator](){return new Z(this.self)}}let X=()=>function(){let e=arguments[0];for(let t=1;t<arguments.length;t++)e=arguments[t](e);return new K(e)};class Q{_state;constructor(e,t,r,n){return U(t)&&U(e)?(t=0xffffffff*Math.random()>>>0,e=0):U(t)&&(t=e,e=0),U(n)&&U(r)?(n=this._state?this._state[3]:0xf767814f,r=this._state?this._state[2]:0x14057b7e):U(n)&&(n=r,r=0),this._state=new Int32Array([0,0,r>>>0,(1|(n||0))>>>0]),this._next(),ee(this._state,this._state[0],this._state[1],e>>>0,t>>>0),this._next(),this}getState(){return[this._state[0],this._state[1],this._state[2],this._state[3]]}setState(e){this._state[0]=e[0],this._state[1]=e[1],this._state[2]=e[2],this._state[3]=1|e[3]}integer(e){return Math.round(this.number()*Number.MAX_SAFE_INTEGER)%e}number(){return(0x8000000*((0x3ffffff&this._next())*1)+(0x7ffffff&this._next())*1)/0x20000000000000}_next(){var e,t,r,n;let a,i,l,s,o=this._state[0]>>>0,u=this._state[1]>>>0;e=this._state,t=o,n=0x4c957f2d,a=((r=u)>>>16)*32557>>>0,i=(65535&r)*(n>>>16)>>>0,l=(65535&r)*(65535&n)>>>0,s=(r>>>16)*(n>>>16)+((i>>>16)+(a>>>16))>>>0,(l=l+(i=i<<16>>>0)>>>0)>>>0<i>>>0&&(s=s+1>>>0),(l=l+(a=a<<16>>>0)>>>0)>>>0<a>>>0&&(s=s+1>>>0),s=(s=s+Math.imul(r,0x5851f42d)>>>0)+Math.imul(t,n)>>>0,e[0]=s,e[1]=l,ee(this._state,this._state[0],this._state[1],this._state[2],this._state[3]);let c=o>>>18,f=(u>>>18|o<<14)>>>0;c=(c^o)>>>0;let h=((f=(f^u)>>>0)>>>27|c<<5)>>>0,d=o>>>27;return(h>>>d|h<<((-d>>>0&31)>>>0))>>>0}}function ee(e,t,r,n,a){let i=t+n>>>0,l=r+a>>>0;l>>>0<r>>>0&&(i=i+1|0),e[0]=i,e[1]=l}let et=Symbol.for("effect/Utils/YieldWrap");class er{#e;constructor(e){this.#e=e}[et](){return this.#e}}function en(e){if("object"==typeof e&&null!==e&&et in e)return e[et]();throw Error(z("yieldWrapGet"))}let ea=b("effect/Utils/isStructuralRegion",()=>({enabled:!1,tester:void 0})),ei={effect_internal_function:e=>e()},el=ei.effect_internal_function(()=>Error().stack)?.includes("effect_internal_function")===!0?ei.effect_internal_function:e=>e(),es=(function*(){}).constructor,eo=e=>P(e)&&e.constructor===es,eu=b(Symbol.for("effect/Hash/randomHashCache"),()=>new WeakMap),ec=Symbol.for("effect/Hash"),ef=e=>{if(!0===ea.enabled)return 0;switch(typeof e){case"number":return em(e);case"bigint":return ey(e.toString(10));case"boolean":case"symbol":return ey(String(e));case"string":return ey(e);case"undefined":return ey("undefined");case"function":case"object":if(null===e)return ey("null");if(e instanceof Date)return ef(e.toISOString());if(e instanceof URL)return ef(e.href);else if(eg(e))return e[ec]();else return eh(e);default:throw Error(`BUG: unhandled typeof ${typeof e} - please report an issue at https://github.com/Effect-TS/effect/issues`)}},eh=e=>(eu.has(e)||eu.set(e,em(Math.floor(Math.random()*Number.MAX_SAFE_INTEGER))),eu.get(e)),ed=e=>t=>53*t^e,ep=e=>0xbfffffff&e|e>>>1&0x40000000,eg=e=>F(e,ec),em=e=>{if(e!=e||e===1/0)return 0;let t=0|e;for(t!==e&&(t^=0xffffffff*e);e>0xffffffff;)t^=e/=0xffffffff;return ep(t)},ey=e=>{let t=5381,r=e.length;for(;r;)t=33*t^e.charCodeAt(--r);return ep(t)},e_=e=>((e,t)=>{let n=12289;for(let a=0;a<t.length;a++)n^=(0,r.pipe)(ey(t[a]),ed(ef(e[t[a]])));return ep(n)})(e,Object.keys(e)),eb=e=>{let t=6151;for(let n=0;n<e.length;n++)t=(0,r.pipe)(t,ed(ef(e[n])));return ep(t)},eS=function(){if(1==arguments.length){let e=arguments[0];return function(t){return Object.defineProperty(e,ec,{value:()=>t,enumerable:!1}),t}}let e=arguments[0],t=arguments[1];return Object.defineProperty(e,ec,{value:()=>t,enumerable:!1}),t},eO=Symbol.for("effect/Equal");function eE(){return 1==arguments.length?e=>ev(e,arguments[0]):ev(arguments[0],arguments[1])}function ev(e,t){if(e===t)return!0;let r=typeof e;if(r!==typeof t)return!1;if("object"===r||"function"===r){if(null!==e&&null!==t){if(ek(e)&&ek(t))if(ef(e)===ef(t)&&e[eO](t))return!0;else return!!ea.enabled&&!!ea.tester&&ea.tester(e,t);else if(e instanceof Date&&t instanceof Date)return e.toISOString()===t.toISOString();else if(e instanceof URL&&t instanceof URL)return e.href===t.href}if(ea.enabled){if(Array.isArray(e)&&Array.isArray(t))return e.length===t.length&&e.every((e,r)=>ev(e,t[r]));if(Object.getPrototypeOf(e)===Object.prototype&&Object.getPrototypeOf(e)===Object.prototype){let r=Object.keys(e),n=Object.keys(t);if(r.length===n.length){for(let n of r)if(!(n in t&&ev(e[n],t[n])))return!!ea.tester&&ea.tester(e,t);return!0}}return!!ea.tester&&ea.tester(e,t)}}return!!ea.enabled&&!!ea.tester&&ea.tester(e,t)}let ek=e=>F(e,eO),eI=()=>eE;e.s({BaseProto:()=>eC,Class:()=>eM,NodeInspectSymbol:()=>eN,format:()=>ew,redact:()=>eL,stringifyCircular:()=>ex,symbolRedactable:()=>eT,toJSON:()=>eA,toStringUnknown:()=>eR,withRedactableContext:()=>eF},1010922);let eN=Symbol.for("nodejs.util.inspect.custom"),eA=e=>{try{if(F(e,"toJSON")&&w(e.toJSON)&&0===e.toJSON.length)return e.toJSON();if(Array.isArray(e))return e.map(eA)}catch{return{}}return eL(e)},ew=e=>JSON.stringify(e,null,2),eC={toJSON(){return eA(this)},[eN](){return this.toJSON()},toString(){return ew(this.toJSON())}};class eM{[eN](){return this.toJSON()}toString(){return ew(this.toJSON())}}let eR=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if("string"==typeof e)return e;try{return"object"==typeof e?ex(e,t):String(e)}catch{return String(e)}},ex=(e,t)=>{let r=[],n=JSON.stringify(e,(e,t)=>"object"==typeof t&&null!==t?r.includes(t)?void 0:r.push(t)&&(void 0!==eP.fiberRefs&&ej(t)?t[eT](eP.fiberRefs):t):t,t);return r=void 0,n},eT=Symbol.for("effect/Inspectable/Redactable"),ej=e=>"object"==typeof e&&null!==e&&eT in e,eP=b("effect/Inspectable/redactableState",()=>({fiberRefs:void 0})),eF=(e,t)=>{let r=eP.fiberRefs;eP.fiberRefs=e;try{return t()}finally{eP.fiberRefs=r}},eL=e=>ej(e)&&void 0!==eP.fiberRefs?e[eT](eP.fiberRefs):e;e.s({Base:()=>e7,ChannelTypeId:()=>e3,CommitPrototype:()=>e4,EffectPrototype:()=>e5,EffectTypeId:()=>e0,SinkTypeId:()=>e1,StreamTypeId:()=>e2,StructuralBase:()=>te,StructuralCommitPrototype:()=>e9,StructuralPrototype:()=>e8,effectVariance:()=>e6},1002943),e.s({pipeArguments:()=>eU},7519752);let eU=(e,t)=>{switch(t.length){case 0:return e;case 1:return t[0](e);case 2:return t[1](t[0](e));case 3:return t[2](t[1](t[0](e)));case 4:return t[3](t[2](t[1](t[0](e))));case 5:return t[4](t[3](t[2](t[1](t[0](e)))));case 6:return t[5](t[4](t[3](t[2](t[1](t[0](e))))));case 7:return t[6](t[5](t[4](t[3](t[2](t[1](t[0](e)))))));case 8:return t[7](t[6](t[5](t[4](t[3](t[2](t[1](t[0](e))))))));case 9:return t[8](t[7](t[6](t[5](t[4](t[3](t[2](t[1](t[0](e)))))))));default:{let r=e;for(let e=0,n=t.length;e<n;e++)r=t[e](r);return r}}};e.s({OP_ASYNC:()=>eq,OP_COMMIT:()=>eJ,OP_FAILURE:()=>eD,OP_ITERATOR:()=>eK,OP_ON_FAILURE:()=>eV,OP_ON_SUCCESS:()=>eB,OP_ON_SUCCESS_AND_FAILURE:()=>eW,OP_REVERT_FLAGS:()=>eQ,OP_SUCCESS:()=>eG,OP_SYNC:()=>e$,OP_TAG:()=>ez,OP_UPDATE_RUNTIME_FLAGS:()=>eH,OP_WHILE:()=>eY,OP_WITH_RUNTIME:()=>eZ,OP_YIELD:()=>eX},577118);let eq="Async",eJ="Commit",eD="Failure",eV="OnFailure",eB="OnSuccess",eW="OnSuccessAndFailure",eG="Success",e$="Sync",ez="Tag",eH="UpdateRuntimeFlags",eY="While",eK="Iterator",eZ="WithRuntime",eX="Yield",eQ="RevertFlags",e0=Symbol.for("effect/Effect"),e2=Symbol.for("effect/Stream"),e1=Symbol.for("effect/Sink"),e3=Symbol.for("effect/Channel"),e6={_R:e=>e,_E:e=>e,_A:e=>e,_V:y()},e5={[e0]:e6,[e2]:e6,[e1]:{_A:e=>e,_In:e=>e,_L:e=>e,_E:e=>e,_R:e=>e},[e3]:{_Env:e=>e,_InErr:e=>e,_InElem:e=>e,_InDone:e=>e,_OutErr:e=>e,_OutElem:e=>e,_OutDone:e=>e},[eO](e){return this===e},[ec](){return eS(this,eh(this))},[Symbol.iterator](){return new Z(new er(this))},pipe(){return eU(this,arguments)}},e8={[ec](){return eS(this,e_(this))},[eO](e){let t=Object.keys(this),r=Object.keys(e);if(t.length!==r.length)return!1;for(let r of t)if(!(r in e&&eE(this[r],e[r])))return!1;return!0}},e4={...e5,_op:eJ},e9={...e4,...e8},e7=function(){function e(){}return e.prototype=e4,e}(),te=function(){function e(){}return e.prototype=e9,e}();e.s({isNone:()=>ts,isOption:()=>tl,isSome:()=>to,none:()=>tu,some:()=>tc},6821391);let tt=Symbol.for("effect/Option"),tr={...e5,[tt]:{_A:e=>e},[eN](){return this.toJSON()},toString(){return ew(this.toJSON())}},tn=Object.assign(Object.create(tr),{_tag:"Some",_op:"Some",[eO](e){return tl(e)&&to(e)&&eE(this.value,e.value)},[ec](){return eS(this,ed(ef(this._tag))(ef(this.value)))},toJSON(){return{_id:"Option",_tag:this._tag,value:eA(this.value)}}}),ta=ef("None"),ti=Object.assign(Object.create(tr),{_tag:"None",_op:"None",[eO]:e=>tl(e)&&ts(e),[ec]:()=>ta,toJSON(){return{_id:"Option",_tag:this._tag}}}),tl=e=>F(e,tt),ts=e=>"None"===e._tag,to=e=>"Some"===e._tag,tu=Object.create(ti),tc=e=>{let t=Object.create(tn);return t.value=e,t},tf=Symbol.for("effect/Either"),th={...e5,[tf]:{_R:e=>e},[eN](){return this.toJSON()},toString(){return ew(this.toJSON())}},td=Object.assign(Object.create(th),{_tag:"Right",_op:"Right",[eO](e){return tg(e)&&ty(e)&&eE(this.right,e.right)},[ec](){return ed(ef(this._tag))(ef(this.right))},toJSON(){return{_id:"Either",_tag:this._tag,right:eA(this.right)}}}),tp=Object.assign(Object.create(th),{_tag:"Left",_op:"Left",[eO](e){return tg(e)&&tm(e)&&eE(this.left,e.left)},[ec](){return ed(ef(this._tag))(ef(this.left))},toJSON(){return{_id:"Either",_tag:this._tag,left:eA(this.left)}}}),tg=e=>F(e,tf),tm=e=>"Left"===e._tag,ty=e=>"Right"===e._tag,t_=e=>{let t=Object.create(tp);return t.left=e,t},tb=e=>{let t=Object.create(td);return t.right=e,t},tS=e=>ty(e)?tu:tc(e.left),tO=e=>tm(e)?tu:tc(e.right),tE=(0,r.dual)(2,(e,t)=>ts(e)?t_(t()):tb(e.value)),tv=tf,tk=tb,tI=t_,tN=tE,tA=e=>{if(w(e))try{return tk(e())}catch(e){return tI(e)}try{return tk(e.try())}catch(t){return tI(e.catch(t))}},tw=tg,tC=tm,tM=ty,tR=tO,tx=tS,tT=e=>{let{left:t,right:r}=e;return n((e,n)=>tC(e)?tC(n)&&t(e.left,n.left):tM(n)&&r(e.right,n.right))},tj=(0,r.dual)(2,(e,t)=>{let{onLeft:r,onRight:n}=t;return tC(e)?tI(r(e.left)):tk(n(e.right))}),tP=(0,r.dual)(2,(e,t)=>tC(e)?tI(t(e.left)):tk(e.right)),tF=(0,r.dual)(2,(e,t)=>tM(e)?tk(t(e.right)):tI(e.left)),tL=(0,r.dual)(2,(e,t)=>{let{onLeft:r,onRight:n}=t;return tC(e)?r(e.left):n(e.right)}),tU=(0,r.dual)(3,(e,t,r)=>t(e)?tk(e):tI(r(e))),tq=tL({onLeft:r.identity,onRight:r.identity});r.constNull,r.constUndefined;let tJ=(0,r.dual)(2,(e,t)=>{if(tM(e))return e.right;throw t(e.left)}),tD=tJ(()=>Error("getOrThrow called on a Left")),tV=(0,r.dual)(2,(e,t)=>tC(e)?tI(e.left):t(e.right)),tB=((e,t,r)=>tV(e,e=>tF(t,t=>r(e,t))),e=>{if(Symbol.iterator in e){let t=[];for(let r of e){if(tC(r))return r;t.push(r.right)}return tk(t)}let t={};for(let r of Object.keys(e)){let n=e[r];if(tC(n))return n;t[r]=n.right}return tk(t)});e.s({isNonEmptyArray:()=>tW},3203720);let tW=e=>e.length>0;e.s({empty:()=>nr,filter:()=>nl,findFirst:()=>r7,head:()=>r4,reduce:()=>ns,unsafeHead:()=>r9},4601101),e.s({Do:()=>r2,TypeId:()=>re,all:()=>rL,andThen:()=>rw,ap:()=>rq,as:()=>rk,asVoid:()=>rI,bind:()=>r0,bindTo:()=>rX,composeK:()=>rT,contains:()=>rK,containsWith:()=>rY,exists:()=>rZ,filter:()=>rW,filterMap:()=>rB,firstSomeOf:()=>rg,flatMap:()=>rA,flatMapNullable:()=>rC,flatten:()=>rM,fromIterable:()=>ro,fromNullable:()=>rm,gen:()=>r3,getEquivalence:()=>rG,getLeft:()=>rc,getOrElse:()=>rf,getOrNull:()=>r_,getOrThrow:()=>rE,getOrThrowWith:()=>rO,getOrUndefined:()=>rb,getOrder:()=>r$,getRight:()=>ru,isNone:()=>ra,isOption:()=>rn,isSome:()=>ri,let:()=>rQ,lift2:()=>rz,liftNullable:()=>ry,liftPredicate:()=>rH,liftThrowable:()=>rS,map:()=>rv,match:()=>rl,mergeWith:()=>r6,none:()=>rt,orElse:()=>rh,orElseEither:()=>rp,orElseSome:()=>rd,partitionMap:()=>rV,product:()=>rP,productMany:()=>rF,reduceCompact:()=>rJ,some:()=>rr,tap:()=>rj,toArray:()=>rD,toRefinement:()=>rs,void:()=>rN,zipLeft:()=>rx,zipRight:()=>rR,zipWith:()=>rU},2798460),e.s({array:()=>t0,between:()=>t7,bigint:()=>tY,boolean:()=>tH,clamp:()=>t9,combineAll:()=>tZ,greaterThan:()=>t3,greaterThanOrEqualTo:()=>t5,lessThan:()=>t1,lessThanOrEqualTo:()=>t6,make:()=>tG,mapInput:()=>tX,max:()=>t4,min:()=>t8,number:()=>tz,string:()=>t$,struct:()=>t2,tuple:()=>tQ},482600);let tG=e=>(t,r)=>t===r?0:e(t,r),t$=tG((e,t)=>e<t?-1:1),tz=tG((e,t)=>e<t?-1:1),tH=tG((e,t)=>e<t?-1:1),tY=tG((e,t)=>e<t?-1:1),tK=(0,r.dual)(2,(e,t)=>tG((r,n)=>{let a=e(r,n);if(0!==a)return a;for(let e of t)if(0!==(a=e(r,n)))break;return a})),tZ=e=>tK(tG(()=>0),e),tX=(0,r.dual)(2,(e,t)=>tG((r,n)=>e(t(r),t(n)))),tQ=function(){let e;for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return e=r,tG((t,r)=>{let n=Math.min(t.length,r.length),a=0;for(let i of e){if(a>=n)break;let e=i(t[a],r[a]);if(0!==e)return e;a++}return 0})},t0=e=>tG((t,r)=>{let n=t.length,a=r.length,i=Math.min(n,a);for(let n=0;n<i;n++){let a=e(t[n],r[n]);if(0!==a)return a}return tz(n,a)}),t2=e=>{let t=Object.keys(e);return tG((r,n)=>{for(let a of t){let t=e[a](r[a],n[a]);if(0!==t)return t}return 0})},t1=e=>(0,r.dual)(2,(t,r)=>-1===e(t,r)),t3=e=>(0,r.dual)(2,(t,r)=>1===e(t,r)),t6=e=>(0,r.dual)(2,(t,r)=>1!==e(t,r)),t5=e=>(0,r.dual)(2,(t,r)=>-1!==e(t,r)),t8=e=>(0,r.dual)(2,(t,r)=>t===r||1>e(t,r)?t:r),t4=e=>(0,r.dual)(2,(t,r)=>t===r||e(t,r)>-1?t:r),t9=e=>(0,r.dual)(2,(t,r)=>t8(e)(r.maximum,t4(e)(r.minimum,t))),t7=e=>(0,r.dual)(2,(t,r)=>!t1(e)(t,r.minimum)&&!t3(e)(t,r.maximum)),re=Symbol.for("effect/Option"),rt=()=>tu,rr=tc,rn=tl,ra=ts,ri=to,rl=(0,r.dual)(2,(e,t)=>{let{onNone:r,onSome:n}=t;return ra(e)?r():n(e.value)}),rs=e=>t=>ri(e(t)),ro=e=>{for(let t of e)return rr(t);return rt()},ru=tO,rc=tS,rf=(0,r.dual)(2,(e,t)=>ra(e)?t():e.value),rh=(0,r.dual)(2,(e,t)=>ra(e)?t():e),rd=(0,r.dual)(2,(e,t)=>ra(e)?rr(t()):e),rp=(0,r.dual)(2,(e,t)=>ra(e)?rv(t(),tb):rv(e,t_)),rg=e=>{let t=rt();for(t of e)if(ri(t))break;return t},rm=e=>null==e?rt():rr(e),ry=e=>function(){for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return rm(e(...r))},r_=rf(r.constNull),rb=rf(r.constUndefined),rS=e=>function(){for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];try{return rr(e(...r))}catch{return rt()}},rO=(0,r.dual)(2,(e,t)=>{if(ri(e))return e.value;throw t()}),rE=rO(()=>Error("getOrThrow called on a None")),rv=(0,r.dual)(2,(e,t)=>ra(e)?rt():rr(t(e.value))),rk=(0,r.dual)(2,(e,t)=>rv(e,()=>t)),rI=rk(void 0),rN=rr(void 0),rA=(0,r.dual)(2,(e,t)=>ra(e)?rt():t(e.value)),rw=(0,r.dual)(2,(e,t)=>rA(e,e=>{let n=(0,r.isFunction)(t)?t(e):t;return rn(n)?n:rr(n)})),rC=(0,r.dual)(2,(e,t)=>ra(e)?rt():rm(t(e.value))),rM=rA(r.identity),rR=(0,r.dual)(2,(e,t)=>rA(e,()=>t)),rx=(0,r.dual)(2,(e,t)=>rj(e,()=>t)),rT=(0,r.dual)(2,(e,t)=>r=>rA(e(r),t)),rj=(0,r.dual)(2,(e,t)=>rA(e,e=>rv(t(e),()=>e))),rP=(e,t)=>ri(e)&&ri(t)?rr([e.value,t.value]):rt(),rF=(e,t)=>{if(ra(e))return rt();let r=[e.value];for(let e of t){if(ra(e))return rt();r.push(e.value)}return rr(r)},rL=e=>{if(Symbol.iterator in e){let t=[];for(let r of e){if(ra(r))return rt();t.push(r.value)}return rr(t)}let t={};for(let r of Object.keys(e)){let n=e[r];if(ra(n))return rt();t[r]=n.value}return rr(t)},rU=(0,r.dual)(3,(e,t,r)=>rv(rP(e,t),e=>{let[t,n]=e;return r(t,n)})),rq=(0,r.dual)(2,(e,t)=>rU(e,t,(e,t)=>e(t))),rJ=(0,r.dual)(3,(e,t,r)=>{let n=t;for(let t of e)ri(t)&&(n=r(n,t.value));return n}),rD=e=>ra(e)?[]:[e.value],rV=(0,r.dual)(2,(e,t)=>{if(ra(e))return[rt(),rt()];let r=t(e.value);return tm(r)?[rr(r.left),rt()]:[rt(),rr(r.right)]}),rB=rA,rW=(0,r.dual)(2,(e,t)=>rB(e,e=>t(e)?tc(e):tu)),rG=e=>n((t,r)=>ra(t)?ra(r):!ra(r)&&e(t.value,r.value)),r$=e=>tG((t,r)=>ri(t)?ri(r)?e(t.value,r.value):1:-1),rz=e=>(0,r.dual)(2,(t,r)=>rU(t,r,e)),rH=(0,r.dual)(2,(e,t)=>t(e)?rr(e):rt()),rY=e=>(0,r.dual)(2,(t,r)=>!ra(t)&&e(t.value,r)),rK=rY(eI()),rZ=(0,r.dual)(2,(e,t)=>!ra(e)&&t(e.value)),rX=g(rv),rQ=p(rv),r0=m(rv,rA),r2=rr({}),r1=X(),r3=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];let n=(1===t.length?t[0]:t[1].bind(t[0]))(r1),a=n.next();for(;!a.done;){let e=Y(a.value)?a.value.value:en(a.value);if(ra(e))return e;a=n.next(e.value)}return rr(a.value)},r6=e=>(t,r)=>ra(t)?r:ra(r)?t:rr(e(t.value,r.value));e.s({make:()=>r5},666059);let r5=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t},r8=((e,t)=>r8(t,e),(0,r.dual)(2,(e,t)=>({[Symbol.iterator](){let r,n=e[Symbol.iterator](),a=!1;return{next(){if(!a){let e=n.next();return e.done?(a=!0,(r=t[Symbol.iterator]()).next()):e}return r.next()}}}}))),r4=e=>{let t=e[Symbol.iterator]().next();return t.done?rt():rr(t.value)},r9=e=>{let t=e[Symbol.iterator]().next();if(t.done)throw Error("unsafeHead: empty iterable");return t.value},r7=(0,r.dual)(2,(e,t)=>{let r=0;for(let n of e){let e=t(n,r);if(I(e)){if(e)return rr(n)}else if(ri(e))return e;r++}return rt()});(e,t,r)=>({[Symbol.iterator](){let n=e[Symbol.iterator](),a=t[Symbol.iterator]();return{next(){let e=n.next(),t=a.next();return e.done||t.done?{done:!0,value:void 0}:{done:!1,value:r(e.value,t.value)}}}}});let ne={[Symbol.iterator]:()=>nt},nt={next:()=>({done:!0,value:void 0})},nr=()=>ne,nn=(0,r.dual)(2,(e,t)=>({[Symbol.iterator](){let r=e[Symbol.iterator](),n=0;return{next(){let e=r.next();return e.done?{done:!0,value:void 0}:{done:!1,value:t(e.value,n++)}}}}})),na=(0,r.dual)(2,(e,t)=>ni(nn(e,t))),ni=e=>({[Symbol.iterator](){let t,r=e[Symbol.iterator]();return{next:function e(){if(void 0===t){let e=r.next();if(e.done)return e;t=e.value[Symbol.iterator]()}let n=t.next();return n.done?(t=void 0,e()):n}}}});(e,t)=>({[Symbol.iterator](){let r=e[Symbol.iterator](),n=0;return{next(){let e=r.next();for(;!e.done;){let a=t(e.value,n++);if(ri(a))return{done:!1,value:a.value};e=r.next()}return{done:!0,value:void 0}}}}}),r.identity;let nl=(0,r.dual)(2,(e,t)=>({[Symbol.iterator](){let r=e[Symbol.iterator](),n=0;return{next(){let e=r.next();for(;!e.done;){if(t(e.value,n++))return{done:!1,value:e.value};e=r.next()}return{done:!0,value:void 0}}}}})),ns=(0,r.dual)(3,(e,t,r)=>{if(Array.isArray(e))return e.reduce(r,t);let n=0,a=t;for(let t of e)a=r(a,t,n++);return a});(e,t,r)=>na(e,e=>nn(t,t=>r(e,t))),e.s({get:()=>nh,getEquivalence:()=>ny,isEmptyRecord:()=>nu,map:()=>np,remove:()=>nd,set:()=>nm,toEntries:()=>nc},4091993);let no=()=>({}),nu=e=>0===ng(e).length;Object.fromEntries;let nc=(0,r.dual)(2,(e,t)=>{let r=[];for(let n of ng(e))r.push(t(n,e[n]));return r})((e,t)=>[e,t]),nf=(0,r.dual)(2,(e,t)=>Object.prototype.hasOwnProperty.call(e,t)),nh=(0,r.dual)(2,(e,t)=>nf(e,t)?rr(e[t]):rt()),nd=((e,t,r)=>nf(e,t)?rr({...e,[t]:r(e[t])}):rt(),(0,r.dual)(2,(e,t)=>{if(!nf(e,t))return{...e};let r={...e};return delete r[t],r})),np=(0,r.dual)(2,(e,t)=>{let r={...e};for(let n of ng(e))r[n]=t(e[n],n);return r});r.identity,r.identity;let ng=e=>Object.keys(e),nm=(0,r.dual)(3,(e,t,r)=>({...e,[t]:r})),ny=e=>{let t=(0,r.dual)(2,(t,r)=>{for(let n of ng(t))if(!nf(r,n)||!e(t[n],r[n]))return!1;return!0});return(e,r)=>t(e,r)&&t(r,e)},n_=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t},nb=e=>Array(e),nS=(0,r.dual)(2,(e,t)=>{let r=Math.max(1,Math.floor(e)),n=Array(r);for(let e=0;e<r;e++)n[e]=t(e);return n}),nO=(e,t)=>e<=t?nS(t-e+1,t=>e+t):[e],nE=(0,r.dual)(2,(e,t)=>nS(t,()=>e)),nv=e=>Array.isArray(e)?e:Array.from(e),nk=e=>Array.isArray(e)?e:[e],nI=nc,nN=rD,nA=(0,r.dual)(2,(e,t)=>{let{onEmpty:r,onNonEmpty:n}=t;return nJ(e)?n(e):r()}),nw=(0,r.dual)(2,(e,t)=>{let{onEmpty:r,onNonEmpty:n}=t;return nJ(e)?n(nY(e),nQ(e)):r()}),nC=(0,r.dual)(2,(e,t)=>{let{onEmpty:r,onNonEmpty:n}=t;return nJ(e)?n(n2(e),nZ(e)):r()}),nM=(0,r.dual)(2,(e,t)=>[t,...e]),nR=(0,r.dual)(2,(e,t)=>nv(t).concat(nv(e))),nx=(0,r.dual)(2,(e,t)=>[...e,t]),nT=(0,r.dual)(2,(e,t)=>nv(e).concat(nv(t))),nj=(0,r.dual)(3,(e,t,r)=>{let n=[t],a=0;for(let t of e)n[a+1]=r(n[a],t),a++;return n}),nP=(0,r.dual)(3,(e,t,r)=>{let n=nv(e),a=Array(n.length+1);a[n.length]=t;for(let e=n.length-1;e>=0;e--)a[e]=r(a[e+1],n[e]);return a}),nF=Array.isArray,nL=e=>0===e.length,nU=nL,nq=tW,nJ=tW,nD=e=>e.length,nV=(e,t)=>e<0||e>=t.length,nB=(e,t)=>Math.floor(Math.min(Math.max(0,e),t.length)),nW=(0,r.dual)(2,(e,t)=>{let r=Math.floor(t);return nV(r,e)?rt():rr(e[r])}),nG=(0,r.dual)(2,(e,t)=>{let r=Math.floor(t);if(nV(r,e))throw Error(`Index ${r} out of bounds`);return e[r]}),n$=e=>[nY(e),nQ(e)],nz=e=>[n2(e),nZ(e)],nH=nW(0),nY=nG(0),nK=e=>nJ(e)?rr(nZ(e)):rt(),nZ=e=>e[e.length-1],nX=e=>{let t=nv(e);return nJ(t)?rr(nQ(t)):rt()},nQ=e=>e.slice(1),n0=e=>{let t=nv(e);return nJ(t)?rr(n2(t)):rt()},n2=e=>e.slice(0,-1),n1=(0,r.dual)(2,(e,t)=>{let r=nv(e);return r.slice(0,nB(t,r))}),n3=(0,r.dual)(2,(e,t)=>{let r=nv(e),n=nB(t,r);return 0===n?[]:r.slice(-n)}),n6=(0,r.dual)(2,(e,t)=>{let r=0,n=[];for(let a of e){if(!t(a,r))break;n.push(a),r++}return n}),n5=(e,t)=>{let r=0;for(let n of e){if(!t(n,r))break;r++}return r},n8=(0,r.dual)(2,(e,t)=>aC(e,n5(e,t))),n4=(0,r.dual)(2,(e,t)=>{let r=nv(e);return r.slice(nB(t,r),r.length)}),n9=(0,r.dual)(2,(e,t)=>{let r=nv(e);return r.slice(0,r.length-nB(t,r))}),n7=(0,r.dual)(2,(e,t)=>nv(e).slice(n5(e,t))),ae=(0,r.dual)(2,(e,t)=>{let r=0;for(let n of e){if(t(n,r))return rr(r);r++}return rt()}),at=(0,r.dual)(2,(e,t)=>{let r=nv(e);for(let e=r.length-1;e>=0;e--)if(t(r[e],e))return rr(e);return rt()}),ar=r7,an=(0,r.dual)(2,(e,t)=>{let r=nv(e);for(let e=r.length-1;e>=0;e--){let n=r[e],a=t(n,e);if(I(a)){if(a)return rr(n)}else if(ri(a))return a}return rt()}),aa=(0,r.dual)(2,(e,t)=>{let r=0,n=nv(e);for(let e=0;e<n.length;e++)t(n[e],e)&&r++;return r}),ai=(0,r.dual)(3,(e,t,r)=>{let n=Array.from(e);return t<0||t>n.length?rt():(n.splice(t,0,r),rr(n))}),al=(0,r.dual)(3,(e,t,r)=>ao(e,t,()=>r)),as=(0,r.dual)(3,(e,t,r)=>au(e,t,()=>r)),ao=(0,r.dual)(3,(e,t,r)=>{let n=Array.from(e);if(nV(t,n))return n;let a=r(n[t]);return n[t]=a,n}),au=(0,r.dual)(3,(e,t,r)=>{let n=nv(e);if(nV(t,n))return rt();let a=Array.isArray(e)?e.slice():n,i=r(n[t]);return a[t]=i,rr(a)}),ac=(0,r.dual)(2,(e,t)=>{let r=Array.from(e);return nV(t,r)||r.splice(t,1),r}),af=(0,r.dual)(2,(e,t)=>{let r=nv(e);if(nV(t,r))return rt();let n=Array.isArray(e)?e.slice():r;return n.splice(t,1),rr(n)}),ah=e=>Array.from(e).reverse(),ad=(0,r.dual)(2,(e,t)=>{let r=Array.from(e);return r.sort(t),r}),ap=(0,r.dual)(3,(e,t,r)=>Array.from(e).map(e=>[e,t(e)]).sort((e,t)=>{let[,n]=e,[,a]=t;return r(n,a)}).map(e=>{let[t]=e;return t})),ag=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];let n=ad(tZ(t));return e=>{let t=nv(e);return nJ(t)?n(t):[]}},am=(0,r.dual)(2,(e,t)=>ay(e,t,r5)),ay=(0,r.dual)(3,(e,t,r)=>{let n=nv(e),a=nv(t);if(nJ(n)&&nJ(a)){let e=[r(nY(n),nY(a))],t=Math.min(n.length,a.length);for(let i=1;i<t;i++)e[i]=r(n[i],a[i]);return e}return[]}),a_=e=>{let t=nv(e);if(nJ(t)){let e=[t[0][0]],r=[t[0][1]];for(let n=1;n<t.length;n++)e[n]=t[n][0],r[n]=t[n][1];return[e,r]}return[[],[]]},ab=(0,r.dual)(2,(e,t)=>{let r=nv(e);if(nJ(r)){let e=[nY(r)],n=nQ(r);for(let r=0;r<n.length;r++)r<n.length&&e.push(t),e.push(n[r]);return e}return[]}),aS=(0,r.dual)(2,(e,t)=>[t(nY(e)),...nQ(e)]),aO=(0,r.dual)(2,(e,t)=>aS(e,()=>t)),aE=(0,r.dual)(2,(e,t)=>nx(n2(e),t(nZ(e)))),av=(0,r.dual)(2,(e,t)=>aE(e,()=>t)),ak=(0,r.dual)(2,(e,t)=>{let r=nv(e);if(nJ(r)){let n=r.length,a=Math.round(t)%n;if(nV(Math.abs(a),r)||0===a)return aT(r);if(!(a<0))return ak(e,a-n);{let[e,t]=aM(r,-a);return nT(t,e)}}return[]}),aI=e=>(0,r.dual)(2,(t,r)=>{for(let n of t)if(e(r,n))return!0;return!1}),aN=eI(),aA=aI(aN),aw=(0,r.dual)(2,(e,t)=>{let r=nv(e);if(nJ(r)){let[e,n]=t(r),a=[e],i=n;for(;tW(i);){let[e,r]=t(i);a.push(e),i=r}return a}return[]}),aC=(0,r.dual)(2,(e,t)=>{let r=Array.from(e),n=Math.floor(t);return nJ(r)?n>=1?aM(r,n):[[],r]:[r,[]]}),aM=(0,r.dual)(2,(e,t)=>{let r=Math.max(1,Math.floor(t));return r>=e.length?[aT(e),[]]:[nM(e.slice(1,r),nY(e)),e.slice(r)]}),aR=(0,r.dual)(2,(e,t)=>{let r=nv(e);return aP(r,Math.ceil(r.length/Math.floor(t)))}),ax=(0,r.dual)(2,(e,t)=>n8(e,(e,r)=>!t(e,r))),aT=e=>e.slice(),aj=(0,r.dual)(3,(e,t,r)=>e.length>=t?n1(e,t):nT(e,nS(t-e.length,()=>r))),aP=(0,r.dual)(2,(e,t)=>{let r=nv(e);return nJ(r)?aw(r,aM(t)):[]}),aF=(0,r.dual)(2,(e,t)=>{let r=nv(e);return t>0&&nJ(r)?Array.from({length:r.length-(t-1)},(e,n)=>r.slice(n,n+t)):[]}),aL=(0,r.dual)(2,(e,t)=>aw(e,e=>{let r=nY(e),n=[r],a=1;for(;a<e.length;a++){let i=e[a];if(t(i,r))n.push(i);else break}return[n,e.slice(a)]})),aU=aL(eI()),aq=(0,r.dual)(2,(e,t)=>{let r={};for(let n of e){let e=t(n);Object.prototype.hasOwnProperty.call(r,e)?r[e].push(n):r[e]=[n]}return r}),aJ=(0,r.dual)(3,(e,t,r)=>{let n=nv(e),a=nv(t);return nJ(n)?nJ(a)?ig(r)(nT(n,a)):n:a}),aD=(0,r.dual)(2,(e,t)=>aJ(e,t,aN)),aV=e=>{let t=aI(e);return(0,r.dual)(2,(e,r)=>nv(e).filter(e=>t(r,e)))},aB=aV(aN),aW=e=>{let t=aI(e);return(0,r.dual)(2,(e,r)=>nv(e).filter(e=>!t(r,e)))},aG=aW(aN),a$=()=>[],az=e=>[e],aH=(0,r.dual)(2,(e,t)=>e.map(t)),aY=(0,r.dual)(2,(e,t)=>{if(nU(e))return[];let r=[];for(let n=0;n<e.length;n++){let a=t(e[n],n);for(let e=0;e<a.length;e++)r.push(a[e])}return r}),aK=aY(r.identity),aZ=(0,r.dual)(2,(e,t)=>{let r=nv(e),n=[];for(let e=0;e<r.length;e++){let a=t(r[e],e);ri(a)&&n.push(a.value)}return n}),aX=(0,r.dual)(2,(e,t)=>{let r=0,n=[];for(let a of e){let e=t(a,r);if(ri(e))n.push(e.value);else break;r++}return n}),aQ=(0,r.dual)(2,(e,t)=>{let r=[],n=[],a=nv(e);for(let e=0;e<a.length;e++){let i=t(a[e],e);tC(i)?r.push(i.left):n.push(i.right)}return[r,n]}),a0=aZ(r.identity),a2=e=>{let t=[];for(let r of e)tC(r)&&t.push(r.left);return t},a1=e=>{let t=[];for(let r of e)tM(r)&&t.push(r.right);return t},a3=(0,r.dual)(2,(e,t)=>{let r=nv(e),n=[];for(let e=0;e<r.length;e++)t(r[e],e)&&n.push(r[e]);return n}),a6=(0,r.dual)(2,(e,t)=>{let r=[],n=[],a=nv(e);for(let e=0;e<a.length;e++)t(a[e],e)?n.push(a[e]):r.push(a[e]);return[r,n]}),a5=aQ(r.identity),a8=(0,r.dual)(3,(e,t,r)=>nv(e).reduce((e,t,n)=>r(e,t,n),t)),a4=(0,r.dual)(3,(e,t,r)=>nv(e).reduceRight((e,t,n)=>r(e,t,n),t)),a9=e=>t=>e(t)?[t]:[],a7=e=>function(){for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return nN(e(...r))},ie=e=>null==e?a$():[e],it=e=>function(){for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return ie(e(...r))},ir=(0,r.dual)(2,(e,t)=>aY(e,e=>ie(t(e)))),ia=e=>function(){for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];let a=e(...r);return tC(a)?[]:[a.right]},ii=(0,r.dual)(2,(e,t)=>e.every(t)),il=(0,r.dual)(2,(e,t)=>e.some(t)),is=(0,r.dual)(2,(e,t)=>e.map((e,r,n)=>t(n.slice(r)))),io=(0,r.dual)(2,(e,t)=>e.reduce(t8(t))),iu=(0,r.dual)(2,(e,t)=>e.reduce(t4(t))),ic=(e,t)=>{let r,n=[],a=e;for(;ri(r=t(a));){let[e,t]=r.value;n.push(e),a=t}return n},ih=t0,id=h,ip=(0,r.dual)(2,(e,t)=>nv(e).forEach((e,r)=>t(e,r))),ig=(0,r.dual)(2,(e,t)=>{let r=nv(e);if(nJ(r)){let e=[nY(r)];for(let n of nQ(r))e.every(e=>!t(n,e))&&e.push(n);return e}return[]}),im=e=>ig(e,eI()),iy=(0,r.dual)(2,(e,t)=>{let r=[],n=rt();for(let a of e)(ra(n)||!t(a,n.value))&&(r.push(a),n=rr(a));return r}),i_=iy(eI()),ib=(0,r.dual)(2,(e,t)=>nv(e).join(t)),iS=(0,r.dual)(3,(e,t,r)=>{let n=0,a=t,i=[];for(let t of e){let e=r(a,t,n);a=e[0],i.push(e[1]),n++}return[a,i]}),iO=(0,r.dual)(3,(e,t,r)=>aY(e,e=>aH(t,t=>r(e,t)))),iE=(0,r.dual)(2,(e,t)=>iO(e,t,(e,t)=>[e,t])),iv=az({}),ik=m(aH,aY),iI=g(aH),iN=p(aH);e.s({append:()=>iz,appendAll:()=>iX,drop:()=>iK,dropWhile:()=>iZ,empty:()=>iP,filter:()=>i0,filterMap:()=>iQ,filterMapWhile:()=>i2,findFirst:()=>lh,flatMap:()=>i1,flatten:()=>i3,fromIterable:()=>iU,getEquivalence:()=>iC,head:()=>i8,headNonEmpty:()=>i9,isChunk:()=>iT,isEmpty:()=>i6,isNonEmpty:()=>i5,last:()=>i7,make:()=>iF,map:()=>lt,mapAccum:()=>lr,of:()=>iL,prepend:()=>iH,range:()=>lf,reduce:()=>ld,reduceRight:()=>lp,reverse:()=>iV,splitAt:()=>ln,splitWhere:()=>la,tailNonEmpty:()=>li,take:()=>iY,takeRight:()=>ll,takeWhile:()=>ls,toArray:()=>iJ,toReadonlyArray:()=>iD,unsafeFromArray:()=>iW,unsafeFromNonEmptyArray:()=>iG,unsafeGet:()=>i$,unsafeHead:()=>i4,unsafeLast:()=>le,zipWith:()=>lo},5576679);let iA=Symbol.for("effect/Chunk"),iw=[],iC=e=>n((t,r)=>t.length===r.length&&iD(t).every((t,n)=>e(t,i$(r,n)))),iM=iC(eE),iR={[iA]:{_A:e=>e},toString(){return ew(this.toJSON())},toJSON(){return{_id:"Chunk",values:iD(this).map(eA)}},[eN](){return this.toJSON()},[eO](e){return iT(e)&&iM(this,e)},[ec](){return eS(this,eb(iD(this)))},[Symbol.iterator](){switch(this.backing._tag){case"IArray":return this.backing.array[Symbol.iterator]();case"IEmpty":return iw[Symbol.iterator]();default:return iD(this)[Symbol.iterator]()}},pipe(){return eU(this,arguments)}},ix=e=>{let t=Object.create(iR);switch(t.backing=e,e._tag){case"IEmpty":t.length=0,t.depth=0,t.left=t,t.right=t;break;case"IConcat":t.length=e.left.length+e.right.length,t.depth=1+Math.max(e.left.depth,e.right.depth),t.left=e.left,t.right=e.right;break;case"IArray":t.length=e.array.length,t.depth=0,t.left=ij,t.right=ij;break;case"ISingleton":t.length=1,t.depth=0,t.left=ij,t.right=ij;break;case"ISlice":t.length=e.length,t.depth=e.chunk.depth+1,t.left=ij,t.right=ij}return t},iT=e=>F(e,iA),ij=ix({_tag:"IEmpty"}),iP=()=>ij,iF=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return iG(t)},iL=e=>ix({_tag:"ISingleton",a:e}),iU=e=>iT(e)?e:iW(nv(e)),iq=(e,t,r)=>{switch(e.backing._tag){case"IArray":!function(e,t,r,n,a){for(let i=0;i<Math.min(e.length,0+a);i++)r[n+i-t]=e[i]}(e.backing.array,0,t,r,e.length);break;case"IConcat":iq(e.left,t,r),iq(e.right,t,r+e.left.length);break;case"ISingleton":t[r]=e.backing.a;break;case"ISlice":{let n=0,a=r;for(;n<e.length;)t[a]=i$(e,n),n+=1,a+=1}}},iJ=e=>iD(e).slice(),iD=e=>{switch(e.backing._tag){case"IEmpty":return iw;case"IArray":return e.backing.array;default:{let t=Array(e.length);return iq(e,t,0),e.backing={_tag:"IArray",array:t},e.left=ij,e.right=ij,e.depth=0,t}}},iV=e=>{switch(e.backing._tag){case"IEmpty":case"ISingleton":return e;case"IArray":return ix({_tag:"IArray",array:ah(e.backing.array)});case"IConcat":return ix({_tag:"IConcat",left:iV(e.backing.right),right:iV(e.backing.left)});case"ISlice":return iW(ah(iD(e)))}},iB=(0,r.dual)(2,(e,t)=>t<0||t>=e.length?rt():rr(i$(e,t))),iW=e=>0===e.length?iP():1===e.length?iL(e[0]):ix({_tag:"IArray",array:e}),iG=e=>iW(e),i$=(0,r.dual)(2,(e,t)=>{switch(e.backing._tag){case"IEmpty":throw Error("Index out of bounds");case"ISingleton":if(0!==t)throw Error("Index out of bounds");return e.backing.a;case"IArray":if(t>=e.length||t<0)throw Error("Index out of bounds");return e.backing.array[t];case"IConcat":return t<e.left.length?i$(e.left,t):i$(e.right,t-e.left.length);case"ISlice":return i$(e.backing.chunk,t+e.backing.offset)}}),iz=(0,r.dual)(2,(e,t)=>iX(e,iL(t))),iH=(0,r.dual)(2,(e,t)=>iX(iL(t),e)),iY=(0,r.dual)(2,(e,t)=>{if(t<=0)return ij;if(t>=e.length)return e;switch(e.backing._tag){case"ISlice":return ix({_tag:"ISlice",chunk:e.backing.chunk,length:t,offset:e.backing.offset});case"IConcat":if(t>e.left.length)return ix({_tag:"IConcat",left:e.left,right:iY(e.right,t-e.left.length)});return iY(e.left,t);default:return ix({_tag:"ISlice",chunk:e,offset:0,length:t})}}),iK=(0,r.dual)(2,(e,t)=>{if(t<=0)return e;if(t>=e.length)return ij;switch(e.backing._tag){case"ISlice":return ix({_tag:"ISlice",chunk:e.backing.chunk,offset:e.backing.offset+t,length:e.backing.length-t});case"IConcat":if(t>e.left.length)return iK(e.right,t-e.left.length);return ix({_tag:"IConcat",left:iK(e.left,t),right:e.right});default:return ix({_tag:"ISlice",chunk:e,offset:t,length:e.length-t})}}),iZ=(0,r.dual)(2,(e,t)=>{let r=iD(e),n=r.length,a=0;for(;a<n&&t(r[a]);)a++;return iK(e,a)}),iX=(0,r.dual)(2,(e,t)=>{if("IEmpty"===e.backing._tag)return t;if("IEmpty"===t.backing._tag)return e;let r=t.depth-e.depth;if(1>=Math.abs(r))return ix({_tag:"IConcat",left:e,right:t});if(r<-1)if(e.left.depth>=e.right.depth){let r=iX(e.right,t);return ix({_tag:"IConcat",left:e.left,right:r})}else{let r=iX(e.right.right,t);if(r.depth===e.depth-3){let t=ix({_tag:"IConcat",left:e.right.left,right:r});return ix({_tag:"IConcat",left:e.left,right:t})}{let t=ix({_tag:"IConcat",left:e.left,right:e.right.left});return ix({_tag:"IConcat",left:t,right:r})}}if(t.right.depth>=t.left.depth)return ix({_tag:"IConcat",left:iX(e,t.left),right:t.right});{let r=iX(e,t.left.left);if(r.depth===t.depth-3){let e=ix({_tag:"IConcat",left:r,right:t.left.right});return ix({_tag:"IConcat",left:e,right:t.right})}{let e=ix({_tag:"IConcat",left:t.left.right,right:t.right});return ix({_tag:"IConcat",left:r,right:e})}}}),iQ=(0,r.dual)(2,(e,t)=>iW(aZ(e,t))),i0=(0,r.dual)(2,(e,t)=>iW(a3(e,t))),i2=(0,r.dual)(2,(e,t)=>iW(aX(e,t))),i1=(0,r.dual)(2,(e,t)=>{if("ISingleton"===e.backing._tag)return t(e.backing.a,0);let r=ij,n=0;for(let a of e)r=iX(r,t(a,n++));return r}),i3=i1(r.identity),i6=((e,t)=>{let r=[],n=[];return iD(e).forEach(e=>{n.push(e),n.length>=t&&(r.push(iW(n)),n=[])}),n.length>0&&r.push(iW(n)),iW(r)},e=>0===e.length),i5=e=>e.length>0,i8=iB(0),i4=e=>i$(e,0),i9=i4,i7=e=>iB(e,e.length-1),le=e=>i$(e,e.length-1),lt=(0,r.dual)(2,(e,t)=>"ISingleton"===e.backing._tag?iL(t(e.backing.a,0)):iW((0,r.pipe)(iD(e),aH((e,r)=>t(e,r))))),lr=(0,r.dual)(3,(e,t,r)=>{let[n,a]=iS(e,t,r);return[n,iW(a)]}),ln=((e,t)=>iW(ad(iD(e),t)),(0,r.dual)(2,(e,t)=>[iY(e,t),iK(e,t)])),la=(0,r.dual)(2,(e,t)=>{let r=0;for(let n of iD(e))if(t(n))break;else r++;return ln(e,r)}),li=e=>iK(e,1),ll=(0,r.dual)(2,(e,t)=>iK(e,e.length-t)),ls=(0,r.dual)(2,(e,t)=>{let r=[];for(let n of iD(e))if(t(n))r.push(n);else break;return iW(r)}),lo=(0,r.dual)(3,(e,t,r)=>iW(ay(e,t,r))),lu=(0,r.dual)(3,(e,t,r)=>t<0||t>=e.length?rt():rr(iW(ao(iD(e),t,r)))),lc=((e,t,r)=>rf(lu(e,t,r),()=>e),(0,r.dual)(2,(e,t)=>iU(nS(e,t)))),lf=(e,t)=>e<=t?lc(t-e+1,t=>e+t):iL(e),lh=ar,ld=a8,lp=a4},[7202060,4268340,1981218,8166160,6701858,2762021,9964691,9214235,2191438,1010922,7519752,577118,1002943,6821391,2063008,3203720,482600,2798460,666059,4601101,4091993,5576679]],4549237:[e=>{"use strict";e.s({GenericTag:()=>q,Reference:()=>er,Tag:()=>et,add:()=>$,empty:()=>W,get:()=>z,getOption:()=>K,getOrElse:()=>H,isContext:()=>D,isReference:()=>B,isTag:()=>V,make:()=>G,merge:()=>Z,mergeAll:()=>X,omit:()=>ee,pick:()=>Q,unsafeGet:()=>Y,unsafeMake:()=>J},4549237),e.s({Reference:()=>y,ReferenceTypeId:()=>f,Tag:()=>m,TagProto:()=>d,TagTypeId:()=>c,TypeId:()=>_,add:()=>A,empty:()=>I,get:()=>x,getOption:()=>j,getOrElse:()=>T,isContext:()=>O,isReference:()=>v,isTag:()=>E,make:()=>N,makeContext:()=>S,makeGenericTag:()=>g,merge:()=>P,mergeAll:()=>F,omit:()=>U,pick:()=>L,unsafeGet:()=>R,unsafeGetReference:()=>M},3832437);var t=e.i(2191438),r=e.i(4013421),n=e.i(8166160),a=e.i(9214235),i=e.i(1010922),l=e.i(7519752),s=e.i(6701858),o=e.i(1002943),u=e.i(6821391);let c=Symbol.for("effect/Context/Tag"),f=Symbol.for("effect/Context/Reference"),h=Symbol.for("effect/STM"),d={...o.EffectPrototype,_op:"Tag",[h]:o.effectVariance,[c]:{_Service:e=>e,_Identifier:e=>e},toString(){return(0,i.format)(this.toJSON())},toJSON(){return{_id:"Tag",key:this.key,stack:this.stack}},[i.NodeInspectSymbol](){return this.toJSON()},of:e=>e,context(e){return N(this,e)}},p={...d,[f]:f},g=e=>{let t=Error.stackTraceLimit;Error.stackTraceLimit=2;let r=Error();Error.stackTraceLimit=t;let n=Object.create(d);return Object.defineProperty(n,"stack",{get:()=>r.stack}),n.key=e,n},m=e=>()=>{let t=Error.stackTraceLimit;Error.stackTraceLimit=2;let r=Error();function n(){}return Error.stackTraceLimit=t,Object.setPrototypeOf(n,d),n.key=e,Object.defineProperty(n,"stack",{get:()=>r.stack}),n},y=()=>(e,t)=>{let r=Error.stackTraceLimit;Error.stackTraceLimit=2;let n=Error();function a(){}return Error.stackTraceLimit=r,Object.setPrototypeOf(a,p),a.key=e,a.defaultValue=t.defaultValue,Object.defineProperty(a,"stack",{get:()=>n.stack}),a},_=Symbol.for("effect/Context"),b={[_]:{_Services:e=>e},[t.symbol](e){if(O(e)&&this.unsafeMap.size===e.unsafeMap.size){for(let r of this.unsafeMap.keys())if(!e.unsafeMap.has(r)||!t.equals(this.unsafeMap.get(r),e.unsafeMap.get(r)))return!1;return!0}return!1},[a.symbol](){return a.cached(this,a.number(this.unsafeMap.size))},pipe(){return(0,l.pipeArguments)(this,arguments)},toString(){return(0,i.format)(this.toJSON())},toJSON(){return{_id:"Context",services:Array.from(this.unsafeMap).map(i.toJSON)}},[i.NodeInspectSymbol](){return this.toJSON()}},S=e=>{let t=Object.create(b);return t.unsafeMap=e,t},O=e=>(0,s.hasProperty)(e,_),E=e=>(0,s.hasProperty)(e,c),v=e=>(0,s.hasProperty)(e,f),k=S(new Map),I=()=>k,N=(e,t)=>S(new Map([[e.key,t]])),A=(0,r.dual)(3,(e,t,r)=>{let n=new Map(e.unsafeMap);return n.set(t.key,r),S(n)}),w=(0,n.globalValue)("effect/Context/defaultValueCache",()=>new Map),C=e=>{if(w.has(e.key))return w.get(e.key);let t=e.defaultValue();return w.set(e.key,t),t},M=(e,t)=>e.unsafeMap.has(t.key)?e.unsafeMap.get(t.key):C(t),R=(0,r.dual)(2,(e,t)=>{if(!e.unsafeMap.has(t.key)){if(f in t)return C(t);throw(e=>{let t=Error(`Service not found${e.key?`: ${String(e.key)}`:""}`);if(e.stack){let r=e.stack.split("\n");if(r.length>2){let e=r[2].match(/at (.*)/);e&&(t.message=t.message+` (defined at ${e[1]})`)}}if(t.stack){let e=t.stack.split("\n");e.splice(1,3),t.stack=e.join("\n")}return t})(t)}return e.unsafeMap.get(t.key)}),x=R,T=(0,r.dual)(3,(e,t,r)=>e.unsafeMap.has(t.key)?e.unsafeMap.get(t.key):v(t)?C(t):r()),j=(0,r.dual)(2,(e,t)=>e.unsafeMap.has(t.key)?u.some(e.unsafeMap.get(t.key)):v(t)?u.some(C(t)):u.none),P=(0,r.dual)(2,(e,t)=>{let r=new Map(e.unsafeMap);for(let[e,n]of t.unsafeMap)r.set(e,n);return S(r)}),F=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];let n=new Map;for(let e of t)for(let[t,r]of e.unsafeMap)n.set(t,r);return S(n)},L=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return e=>{let r=new Set(t.map(e=>e.key)),n=new Map;for(let[t,a]of e.unsafeMap.entries())r.has(t)&&n.set(t,a);return S(n)}},U=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return e=>{let r=new Map(e.unsafeMap);for(let e of t)r.delete(e.key);return S(r)}},q=g,J=S,D=O,V=E,B=v,W=I,G=N,$=A,z=x,H=T,Y=R,K=j,Z=P,X=F,Q=L,ee=U,et=m,er=y;e.s({Equivalence:()=>eq,between:()=>eU,clamp:()=>eD,decode:()=>ed,decodeUnknown:()=>ep,format:()=>eY,greaterThan:()=>e$,greaterThanOrEqualTo:()=>ez,infinity:()=>eE,isDuration:()=>eb,isFinite:()=>eS,lessThan:()=>eW,lessThanOrEqualTo:()=>eG,millis:()=>eI,nanos:()=>ev,seconds:()=>eN,sum:()=>eB,times:()=>eV,toMillis:()=>eR,toNanos:()=>eT,toSeconds:()=>ex,zero:()=>eO},4863605);var en=e.i(2798460),ea=e.i(482600);let ei=Symbol.for("effect/Duration"),el=BigInt(0),es=BigInt(24),eo=BigInt(60),eu=BigInt(1e3),ec=BigInt(1e6),ef=BigInt(1e9),eh=/^(-?\d+(?:\.\d+)?)\s+(nanos?|micros?|millis?|seconds?|minutes?|hours?|days?|weeks?)$/,ed=e=>{if(eb(e))return e;if((0,s.isNumber)(e))return eI(e);if((0,s.isBigInt)(e))return ev(e);if(Array.isArray(e)&&2===e.length&&e.every(s.isNumber))return e[0]===-1/0||e[1]===-1/0||Number.isNaN(e[0])||Number.isNaN(e[1])?eO:e[0]===1/0||e[1]===1/0?eE:ev(BigInt(Math.round(1e9*e[0]))+BigInt(Math.round(e[1])));if((0,s.isString)(e)){let t=eh.exec(e);if(t){let[e,r,n]=t,a=Number(r);switch(n){case"nano":case"nanos":return ev(BigInt(r));case"micro":case"micros":return ek(BigInt(r));case"milli":case"millis":return eI(a);case"second":case"seconds":return eN(a);case"minute":case"minutes":return eA(a);case"hour":case"hours":return ew(a);case"day":case"days":return eC(a);case"week":case"weeks":return eM(a)}}}throw Error("Invalid DurationInput")},ep=en.liftThrowable(ed),eg={_tag:"Millis",millis:0},em={_tag:"Infinity"},ey={[ei]:ei,[a.symbol](){return a.cached(this,a.structure(this.value))},[t.symbol](e){return eb(e)&&eH(this,e)},toString(){return`Duration(${eY(this)})`},toJSON(){switch(this.value._tag){case"Millis":return{_id:"Duration",_tag:"Millis",millis:this.value.millis};case"Nanos":return{_id:"Duration",_tag:"Nanos",hrtime:ej(this)};case"Infinity":return{_id:"Duration",_tag:"Infinity"}}},[i.NodeInspectSymbol](){return this.toJSON()},pipe(){return(0,l.pipeArguments)(this,arguments)}},e_=e=>{let t=Object.create(ey);return(0,s.isNumber)(e)?isNaN(e)||e<=0?t.value=eg:Number.isFinite(e)?Number.isInteger(e)?t.value={_tag:"Millis",millis:e}:t.value={_tag:"Nanos",nanos:BigInt(Math.round(1e6*e))}:t.value=em:e<=el?t.value=eg:t.value={_tag:"Nanos",nanos:e},t},eb=e=>(0,s.hasProperty)(e,ei),eS=e=>"Infinity"!==e.value._tag,eO=e_(0),eE=e_(1/0),ev=e=>e_(e),ek=e=>e_(e*eu),eI=e=>e_(e),eN=e=>e_(1e3*e),eA=e=>e_(6e4*e),ew=e=>e_(36e5*e),eC=e=>e_(864e5*e),eM=e=>e_(6048e5*e),eR=e=>eP(e,{onMillis:e=>e,onNanos:e=>Number(e)/1e6}),ex=e=>eP(e,{onMillis:e=>e/1e3,onNanos:e=>Number(e)/1e9}),eT=e=>{let t=ed(e);switch(t.value._tag){case"Infinity":return en.none();case"Nanos":return en.some(t.value.nanos);case"Millis":return en.some(BigInt(Math.round(1e6*t.value.millis)))}},ej=e=>{let t=ed(e);switch(t.value._tag){case"Infinity":return[1/0,0];case"Nanos":return[Number(t.value.nanos/ef),Number(t.value.nanos%ef)];case"Millis":return[Math.floor(t.value.millis/1e3),Math.round(t.value.millis%1e3*1e6)]}},eP=(0,r.dual)(2,(e,t)=>{let r=ed(e);switch(r.value._tag){case"Nanos":return t.onNanos(r.value.nanos);case"Infinity":return t.onMillis(1/0);case"Millis":return t.onMillis(r.value.millis)}}),eF=(0,r.dual)(3,(e,t,r)=>{let n=ed(e),a=ed(t);if("Infinity"===n.value._tag||"Infinity"===a.value._tag)return r.onMillis(eR(n),eR(a));if("Nanos"===n.value._tag||"Nanos"===a.value._tag){let e="Nanos"===n.value._tag?n.value.nanos:BigInt(Math.round(1e6*n.value.millis)),t="Nanos"===a.value._tag?a.value.nanos:BigInt(Math.round(1e6*a.value.millis));return r.onNanos(e,t)}return r.onMillis(n.value.millis,a.value.millis)}),eL=ea.make((e,t)=>eF(e,t,{onMillis:(e,t)=>e<t?-1:+(e>t),onNanos:(e,t)=>e<t?-1:+(e>t)})),eU=ea.between(ea.mapInput(eL,ed)),eq=(e,t)=>eF(e,t,{onMillis:(e,t)=>e===t,onNanos:(e,t)=>e===t}),eJ=ea.clamp(eL),eD=(0,r.dual)(2,(e,t)=>eJ(ed(e),{minimum:ed(t.minimum),maximum:ed(t.maximum)})),eV=(0,r.dual)(2,(e,t)=>eP(e,{onMillis:e=>e_(e*t),onNanos:e=>e_(e*BigInt(t))})),eB=(0,r.dual)(2,(e,t)=>eF(e,t,{onMillis:(e,t)=>e_(e+t),onNanos:(e,t)=>e_(e+t)})),eW=(0,r.dual)(2,(e,t)=>eF(e,t,{onMillis:(e,t)=>e<t,onNanos:(e,t)=>e<t})),eG=(0,r.dual)(2,(e,t)=>eF(e,t,{onMillis:(e,t)=>e<=t,onNanos:(e,t)=>e<=t})),e$=(0,r.dual)(2,(e,t)=>eF(e,t,{onMillis:(e,t)=>e>t,onNanos:(e,t)=>e>t})),ez=(0,r.dual)(2,(e,t)=>eF(e,t,{onMillis:(e,t)=>e>=t,onNanos:(e,t)=>e>=t})),eH=(0,r.dual)(2,(e,t)=>eq(ed(e),ed(t))),eY=e=>{let t=ed(e);if("Infinity"===t.value._tag)return"Infinity";if((e=>{switch(e.value._tag){case"Millis":return 0===e.value.millis;case"Nanos":return e.value.nanos===el;case"Infinity":return!1}})(t))return"0";let r=(e=>{let t=ed(e);if("Infinity"===t.value._tag)return{days:1/0,hours:1/0,minutes:1/0,seconds:1/0,millis:1/0,nanos:1/0};let r=(e=>{let t=ed(e);switch(t.value._tag){case"Infinity":throw Error("Cannot convert infinite duration to nanos");case"Nanos":return t.value.nanos;case"Millis":return BigInt(Math.round(1e6*t.value.millis))}})(t),n=r/ec,a=n/eu,i=a/eo,l=i/eo;return{days:Number(l/es),hours:Number(l%es),minutes:Number(i%eo),seconds:Number(a%eo),millis:Number(n%eu),nanos:Number(r%ec)}})(t),n=[];return 0!==r.days&&n.push(`${r.days}d`),0!==r.hours&&n.push(`${r.hours}h`),0!==r.minutes&&n.push(`${r.minutes}m`),0!==r.seconds&&n.push(`${r.seconds}s`),0!==r.millis&&n.push(`${r.millis}ms`),0!==r.nanos&&n.push(`${r.nanos}ns`),n.join(" ")}},[3832437,4863605]],9138806:[e=>{"use strict";e.s({add:()=>eH,difference:()=>eK,empty:()=>eV,every:()=>e$,flatMap:()=>eQ,forEach:()=>e0,fromIterable:()=>eB,has:()=>eG,isHashSet:()=>eD,make:()=>eW,map:()=>eX,reduce:()=>e2,remove:()=>eY,size:()=>ez,union:()=>eZ},9138806),e.s({HashSetTypeId:()=>eh,add:()=>eC,beginMutation:()=>eN,difference:()=>eR,empty:()=>ey,endMutation:()=>eA,every:()=>eE,filter:()=>eq,flatMap:()=>eF,forEach:()=>eL,fromIterable:()=>e_,has:()=>eS,intersection:()=>ex,isHashSet:()=>eg,isSubset:()=>ev,make:()=>eb,makeImpl:()=>ep,map:()=>eP,mutate:()=>ew,partition:()=>eJ,reduce:()=>eU,remove:()=>eM,size:()=>eI,some:()=>eO,toggle:()=>ej,union:()=>eT,values:()=>ek},8808158);var t=e.i(2191438),r=e.i(4013421),n=e.i(9214235),a=e.i(1010922),i=e.i(7519752),l=e.i(6701858);e.s({HashMapTypeId:()=>O,beginMutation:()=>$,compact:()=>el,empty:()=>C,endMutation:()=>z,entries:()=>W,every:()=>ec,filter:()=>ei,filterMap:()=>es,findFirst:()=>eo,flatMap:()=>er,forEach:()=>en,fromIterable:()=>R,get:()=>j,getHash:()=>P,has:()=>L,hasBy:()=>q,hasHash:()=>U,isEmpty:()=>T,isHashMap:()=>x,keys:()=>V,make:()=>M,map:()=>et,modify:()=>Z,modifyAt:()=>Y,modifyHash:()=>K,mutate:()=>H,reduce:()=>ea,remove:()=>Q,removeMany:()=>ee,set:()=>J,size:()=>G,some:()=>eu,union:()=>X,unsafeGet:()=>F,values:()=>B},1695436);var s=e.i(2798460);function o(e,t){var r;return r=e&t-1,r-=r>>1&0x55555555,r=(r=(0x33333333&r)+(r>>2&0x33333333))+(r>>4)&0xf0f0f0f,r+=r>>8,127&(r+=r>>16)}e.s({make:()=>u},6079731);let u=(e,t)=>({value:e,previous:t});function c(e,t,r,n){let a=n;if(!e){let e=n.length;a=Array(e);for(let t=0;t<e;++t)a[t]=n[t]}return a[t]=r,a}function f(e,t,r){let n=r.length-1,a=0,i=0,l=r;if(e)a=i=t;else for(l=Array(n);a<t;)l[i++]=r[a++];for(++a;a<=n;)l[i++]=r[a++];return e&&(l.length=n),l}class h{_tag="EmptyNode";modify(e,t,r,n,a,i){let l=r(s.none());return s.isNone(l)?new h:(++i.value,new g(e,n,a,l))}}function d(e){return(0,l.isTagged)(e,"EmptyNode")}function p(e,t){return!d(e)&&t===e.edit}class g{edit;hash;key;value;_tag="LeafNode";constructor(e,t,r,n){this.edit=e,this.hash=t,this.key=r,this.value=n}modify(e,r,n,a,i,l){if((0,t.equals)(i,this.key)){let t=n(this.value);return t===this.value?this:s.isNone(t)?(--l.value,new h):p(this,e)?(this.value=t,this):new g(e,a,i,t)}let o=n(s.none());return s.isNone(o)?this:(++l.value,b(e,r,this.hash,this,a,new g(e,a,i,o)))}}class m{edit;hash;children;_tag="CollisionNode";constructor(e,t,r){this.edit=e,this.hash=t,this.children=r}modify(e,t,r,n,a,i){if(n===this.hash){let t=p(this,e),n=this.updateCollisionList(t,e,this.hash,this.children,r,a,i);return n===this.children?this:n.length>1?new m(e,this.hash,n):n[0]}let l=r(s.none());return s.isNone(l)?this:(++i.value,b(e,t,this.hash,this,n,new g(e,n,a,l)))}updateCollisionList(e,r,n,a,i,l,o){let u=a.length;for(let h=0;h<u;++h){let u=a[h];if("key"in u&&(0,t.equals)(l,u.key)){let t=u.value,d=i(t);if(d===t)return a;if(s.isNone(d))return--o.value,f(e,h,a);return c(e,h,new g(r,n,l,d),a)}}let h=i(s.none());return s.isNone(h)?a:(++o.value,c(e,u,new g(r,n,l,h),a))}}class y{edit;mask;children;_tag="IndexedNode";constructor(e,t,r){this.edit=e,this.mask=t,this.children=r}modify(e,t,r,n,a,i){let l,s=this.mask,u=this.children,g=n>>>t&31,m=1<<g,b=o(s,m),S=s&m,O=p(this,e);if(!S){let l=new h().modify(e,t+5,r,n,a,i);return l?u.length>=16?function(e,t,r,n,a){let i=[],l=n,s=0;for(let e=0;l;++e)1&l&&(i[e]=a[s++]),l>>>=1;return i[t]=r,new _(e,s+1,i)}(e,g,l,s,u):new y(e,s|m,function(e,t,r,n){let a=n.length;if(e){let e=a;for(;e>=t;)n[e--]=n[e];return n[t]=r,n}let i=0,l=0,s=Array(a+1);for(;i<t;)s[l++]=n[i++];for(s[t]=r;i<a;)s[++l]=n[i++];return s}(O,b,l,u)):this}let E=u[b],v=E.modify(e,t+5,r,n,a,i);if(E===v)return this;let k=s;if(d(v)){var I;if(!(k&=~m))return new h;if(u.length<=2&&(d(I=u[1^b])||"LeafNode"===I._tag||"CollisionNode"===I._tag))return u[1^b];l=f(O,b,u)}else l=c(O,b,v,u);return O?(this.mask=k,this.children=l,this):new y(e,k,l)}}class _{edit;size;children;_tag="ArrayNode";constructor(e,t,r){this.edit=e,this.size=t,this.children=r}modify(e,t,r,n,a,i){let l,s=this.size,o=this.children,u=n>>>t&31,f=o[u],g=(f||new h).modify(e,t+5,r,n,a,i);if(f===g)return this;let m=p(this,e);if(d(f)&&!d(g))++s,l=c(m,u,g,o);else if(!d(f)&&d(g)){if(--s<=8)return function(e,t,r,n){let a=Array(t-1),i=0,l=0;for(let e=0,t=n.length;e<t;++e)if(e!==r){let t=n[e];t&&!d(t)&&(a[i++]=t,l|=1<<e)}return new y(e,l,a)}(e,s,u,o);l=c(m,u,new h,o)}else l=c(m,u,g,o);return m?(this.size=s,this.children=l,this):new _(e,s,l)}}function b(e,t,r,n,a,i){let l,s=t;for(;;){let t=function(e,t,r,n,a,i){if(r===a)return new m(e,r,[i,n]);let l=r>>>t&31,s=a>>>t&31;return l===s?t=>new y(e,1<<l|1<<s,[t]):new y(e,1<<l|1<<s,l<s?[n,i]:[i,n])}(e,s,r,n,a,i);if("function"==typeof t)l=u(t,l),s+=5;else{let e=t;for(;null!=l;)e=l.value(e),l=l.previous;return e}}}let S="effect/HashMap",O=Symbol.for(S),E={[O]:O,[Symbol.iterator](){return new k(this,(e,t)=>[e,t])},[n.symbol](){let e=n.hash(S);for(let t of this)e^=(0,r.pipe)(n.hash(t[0]),n.combine(n.hash(t[1])));return n.cached(this,e)},[t.symbol](e){if(x(e)){if(e._size!==this._size)return!1;for(let a of this){let i=(0,r.pipe)(e,P(a[0],n.hash(a[0])));if(s.isNone(i)||!t.equals(a[1],i.value))return!1}return!0}return!1},toString(){return(0,a.format)(this.toJSON())},toJSON(){return{_id:"HashMap",values:Array.from(this).map(a.toJSON)}},[a.NodeInspectSymbol](){return this.toJSON()},pipe(){return(0,i.pipeArguments)(this,arguments)}},v=(e,t,r,n)=>{let a=Object.create(E);return a._editable=e,a._edit=t,a._root=r,a._size=n,a};class k{map;f;v;constructor(e,t){this.map=e,this.f=t,this.v=N(this.map._root,this.f,void 0)}next(){if(s.isNone(this.v))return{done:!0,value:void 0};let e=this.v.value;return this.v=I(e.cont),{done:!1,value:e.value}}[Symbol.iterator](){return new k(this.map,this.f)}}let I=e=>e?A(e[0],e[1],e[2],e[3],e[4]):s.none(),N=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;switch(e._tag){case"LeafNode":if(s.isSome(e.value))return s.some({value:t(e.key,e.value.value),cont:r});return I(r);case"CollisionNode":case"ArrayNode":case"IndexedNode":{let n=e.children;return A(n.length,n,0,t,r)}default:return I(r)}},A=(e,t,r,n,a)=>{for(;r<e;){let i=t[r++];if(i&&!d(i))return N(i,n,[e,t,r,n,a])}return I(a)},w=v(!1,0,new h,0),C=()=>w,M=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return R(t)},R=e=>{let t=$(C());for(let r of e)J(t,r[0],r[1]);return z(t)},x=e=>(0,l.hasProperty)(e,O),T=e=>e&&d(e._root),j=r.dual(2,(e,t)=>P(e,t,n.hash(t))),P=r.dual(3,(e,r,n)=>{let a=e._root,i=0;for(;;)switch(a._tag){case"LeafNode":return t.equals(r,a.key)?a.value:s.none();case"CollisionNode":if(n===a.hash){let e=a.children;for(let n=0,a=e.length;n<a;++n){let a=e[n];if("key"in a&&t.equals(r,a.key))return a.value}}return s.none();case"IndexedNode":{let e=1<<(n>>>i&31);if(a.mask&e){a=a.children[o(a.mask,e)],i+=5;break}return s.none()}case"ArrayNode":if(a=a.children[n>>>i&31]){i+=5;break}return s.none();default:return s.none()}}),F=r.dual(2,(e,t)=>{let r=P(e,t,n.hash(t));if(s.isNone(r))throw Error("Expected map to contain key");return r.value}),L=r.dual(2,(e,t)=>s.isSome(P(e,t,n.hash(t)))),U=r.dual(3,(e,t,r)=>s.isSome(P(e,t,r))),q=r.dual(2,(e,t)=>s.isSome(eo(e,t))),J=r.dual(3,(e,t,r)=>Y(e,t,()=>s.some(r))),D=r.dual(3,(e,t,r)=>e._editable?(e._root=t,e._size=r,e):t===e._root?e:v(e._editable,e._edit,t,r)),V=e=>new k(e,e=>e),B=e=>new k(e,(e,t)=>t),W=e=>new k(e,(e,t)=>[e,t]),G=e=>e._size,$=e=>v(!0,e._edit+1,e._root,e._size),z=e=>(e._editable=!1,e),H=r.dual(2,(e,t)=>{let r=$(e);return t(r),z(r)}),Y=r.dual(3,(e,t,r)=>K(e,t,n.hash(t),r)),K=r.dual(4,(e,t,n,a)=>{let i={value:e._size},l=e._root.modify(e._editable?e._edit:NaN,0,a,n,t,i);return(0,r.pipe)(e,D(l,i.value))}),Z=r.dual(3,(e,t,r)=>Y(e,t,s.map(r))),X=r.dual(2,(e,t)=>{let r=$(e);return en(t,(e,t)=>J(r,t,e)),z(r)}),Q=r.dual(2,(e,t)=>Y(e,t,s.none)),ee=r.dual(2,(e,t)=>H(e,e=>{for(let r of t)Q(r)(e)})),et=r.dual(2,(e,t)=>ea(e,C(),(e,r,n)=>J(e,n,t(r,n)))),er=r.dual(2,(e,t)=>ea(e,C(),(e,r,n)=>H(e,e=>en(t(r,n),(t,r)=>J(e,r,t))))),en=r.dual(2,(e,t)=>ea(e,void 0,(e,r,n)=>t(r,n))),ea=r.dual(3,(e,t,r)=>{let n,a=e._root;if("LeafNode"===a._tag)return s.isSome(a.value)?r(t,a.value.value,a.key):t;if("EmptyNode"===a._tag)return t;let i=[a.children];for(;n=i.pop();)for(let e=0,a=n.length;e<a;){let a=n[e++];a&&!d(a)&&("LeafNode"===a._tag?s.isSome(a.value)&&(t=r(t,a.value.value,a.key)):i.push(a.children))}return t}),ei=r.dual(2,(e,t)=>H(C(),r=>{for(let[n,a]of e)t(a,n)&&J(r,n,a)})),el=e=>es(e,r.identity),es=r.dual(2,(e,t)=>H(C(),r=>{for(let[n,a]of e){let e=t(a,n);s.isSome(e)&&J(r,n,e.value)}})),eo=r.dual(2,(e,t)=>{for(let r of e)if(t(r[1],r[0]))return s.some(r);return s.none()}),eu=r.dual(2,(e,t)=>{for(let r of e)if(t(r[1],r[0]))return!0;return!1}),ec=r.dual(2,(e,t)=>!eu(e,(e,r)=>!t(e,r))),ef="effect/HashSet",eh=Symbol.for(ef),ed={[eh]:eh,[Symbol.iterator](){return V(this._keyMap)},[n.symbol](){return n.cached(this,n.combine(n.hash(this._keyMap))(n.hash(ef)))},[t.symbol](e){return!!eg(e)&&G(this._keyMap)===G(e._keyMap)&&t.equals(this._keyMap,e._keyMap)},toString(){return(0,a.format)(this.toJSON())},toJSON(){return{_id:"HashSet",values:Array.from(this).map(a.toJSON)}},[a.NodeInspectSymbol](){return this.toJSON()},pipe(){return(0,i.pipeArguments)(this,arguments)}},ep=e=>{let t=Object.create(ed);return t._keyMap=e,t},eg=e=>(0,l.hasProperty)(e,eh),em=ep(C()),ey=()=>em,e_=e=>{let t=eN(ey());for(let r of e)eC(t,r);return eA(t)},eb=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];let n=eN(ey());for(let e of t)eC(n,e);return eA(n)},eS=(0,r.dual)(2,(e,t)=>L(e._keyMap,t)),eO=(0,r.dual)(2,(e,t)=>{let r=!1;for(let n of e)if(r=t(n))break;return r}),eE=(0,r.dual)(2,(e,t)=>!eO(e,e=>!t(e))),ev=(0,r.dual)(2,(e,t)=>eE(e,e=>eS(t,e))),ek=e=>V(e._keyMap),eI=e=>G(e._keyMap),eN=e=>ep($(e._keyMap)),eA=e=>(e._keyMap._editable=!1,e),ew=(0,r.dual)(2,(e,t)=>{let r=eN(e);return t(r),eA(r)}),eC=(0,r.dual)(2,(e,t)=>e._keyMap._editable?(J(t,!0)(e._keyMap),e):ep(J(t,!0)(e._keyMap))),eM=(0,r.dual)(2,(e,t)=>e._keyMap._editable?(Q(t)(e._keyMap),e):ep(Q(t)(e._keyMap))),eR=(0,r.dual)(2,(e,t)=>ew(e,e=>{for(let r of t)eM(e,r)})),ex=(0,r.dual)(2,(e,t)=>ew(ey(),r=>{for(let n of t)eS(n)(e)&&eC(n)(r)})),eT=(0,r.dual)(2,(e,t)=>ew(ey(),r=>{for(let n of(eL(e,e=>eC(r,e)),t))eC(r,n)})),ej=(0,r.dual)(2,(e,t)=>eS(e,t)?eM(e,t):eC(e,t)),eP=(0,r.dual)(2,(e,t)=>ew(ey(),r=>{eL(e,e=>{let n=t(e);eS(r,n)||eC(r,n)})})),eF=(0,r.dual)(2,(e,t)=>ew(ey(),r=>{eL(e,e=>{for(let n of t(e))eS(r,n)||eC(r,n)})})),eL=(0,r.dual)(2,(e,t)=>en(e._keyMap,(e,r)=>t(r))),eU=(0,r.dual)(3,(e,t,r)=>ea(e._keyMap,t,(e,t,n)=>r(e,n))),eq=(0,r.dual)(2,(e,t)=>ew(ey(),r=>{let n,a=ek(e);for(;!(n=a.next()).done;){let e=n.value;t(e)&&eC(r,e)}})),eJ=(0,r.dual)(2,(e,t)=>{let r,n=ek(e),a=eN(ey()),i=eN(ey());for(;!(r=n.next()).done;){let e=r.value;t(e)?eC(a,e):eC(i,e)}return[eA(i),eA(a)]}),eD=eg,eV=ey,eB=e_,eW=eb,eG=eS,e$=eE,ez=eI,eH=eC,eY=eM,eK=eR,eZ=eT,eX=eP,eQ=eF,e0=eL,e2=eU},[6079731,1695436,8808158]],1013629:[e=>{"use strict";let t;e.s({combine:()=>z,combineAll:()=>H,composite:()=>G,getOrElse:()=>Y,ids:()=>K,isFiberId:()=>$,make:()=>Z,none:()=>B,runtime:()=>W,threadName:()=>X,toSet:()=>Q,unsafeMake:()=>ee},1013629),e.s({FiberIdTypeId:()=>_,combine:()=>T,combineAll:()=>j,composite:()=>w,getOrElse:()=>P,ids:()=>F,isComposite:()=>x,isFiberId:()=>C,isNone:()=>M,isRuntime:()=>R,make:()=>U,none:()=>N,runtime:()=>A,threadName:()=>q,toOption:()=>J,toSet:()=>D,unsafeMake:()=>V},7283742);var r=e.i(2191438),n=e.i(4013421),a=e.i(8166160),i=e.i(9214235),l=e.i(9138806),s=e.i(1010922);e.s({compareAndSet:()=>h,get:()=>d,make:()=>f,set:()=>p},1953025);var o=e.i(7519752);let u=Symbol.for("effect/MutableRef"),c={[u]:u,toString(){return(0,s.format)(this.toJSON())},toJSON(){return{_id:"MutableRef",current:(0,s.toJSON)(this.current)}},[s.NodeInspectSymbol](){return this.toJSON()},pipe(){return(0,o.pipeArguments)(this,arguments)}},f=e=>{let t=Object.create(c);return t.current=e,t},h=n.dual(3,(e,t,n)=>!!r.equals(t,e.current)&&(e.current=n,!0)),d=e=>e.current,p=((e,t)=>{let r=e.current;return e.current=t,r},n.dual(2,(e,t)=>(e.current=t,e)));(e,t)=>(e.current=t,e.current);var g=e.i(2798460),m=e.i(6701858);let y="effect/FiberId",_=Symbol.for(y),b="None",S="Runtime",O="Composite",E=i.string(`${y}-${b}`);class v{[_]=_;_tag=b;id=-1;startTimeMillis=-1;[i.symbol](){return E}[r.symbol](e){return C(e)&&e._tag===b}toString(){return(0,s.format)(this.toJSON())}toJSON(){return{_id:"FiberId",_tag:this._tag}}[s.NodeInspectSymbol](){return this.toJSON()}}class k{id;startTimeMillis;[_]=_;_tag=S;constructor(e,t){this.id=e,this.startTimeMillis=t}[i.symbol](){return i.cached(this,i.string(`${y}-${this._tag}-${this.id}-${this.startTimeMillis}`))}[r.symbol](e){return C(e)&&e._tag===S&&this.id===e.id&&this.startTimeMillis===e.startTimeMillis}toString(){return(0,s.format)(this.toJSON())}toJSON(){return{_id:"FiberId",_tag:this._tag,id:this.id,startTimeMillis:this.startTimeMillis}}[s.NodeInspectSymbol](){return this.toJSON()}}class I{left;right;[_]=_;_tag=O;constructor(e,t){this.left=e,this.right=t}_hash;[i.symbol](){return(0,n.pipe)(i.string(`${y}-${this._tag}`),i.combine(i.hash(this.left)),i.combine(i.hash(this.right)),i.cached(this))}[r.symbol](e){return C(e)&&e._tag===O&&r.equals(this.left,e.left)&&r.equals(this.right,e.right)}toString(){return(0,s.format)(this.toJSON())}toJSON(){return{_id:"FiberId",_tag:this._tag,left:(0,s.toJSON)(this.left),right:(0,s.toJSON)(this.right)}}[s.NodeInspectSymbol](){return this.toJSON()}}let N=new v,A=(e,t)=>new k(e,t),w=(e,t)=>new I(e,t),C=e=>(0,m.hasProperty)(e,_),M=e=>e._tag===b||(0,n.pipe)(D(e),l.every(e=>M(e))),R=e=>e._tag===S,x=e=>e._tag===O,T=(0,n.dual)(2,(e,t)=>e._tag===b?t:t._tag===b?e:new I(e,t)),j=e=>(0,n.pipe)(e,l.reduce(N,(e,t)=>T(t)(e))),P=(0,n.dual)(2,(e,t)=>M(e)?t:e),F=e=>{switch(e._tag){case b:return l.empty();case S:return l.make(e.id);case O:return(0,n.pipe)(F(e.left),l.union(F(e.right)))}},L=(0,a.globalValue)(Symbol.for("effect/Fiber/Id/_fiberCounter"),()=>f(0)),U=(e,t)=>new k(e,t),q=e=>Array.from(F(e)).map(e=>`#${e}`).join(","),J=e=>{let t,r=D(e);if(0===l.size(r))return g.none();let a=!0;for(let e of r)a?(t=e,a=!1):t=(0,n.pipe)(t,T(e));return g.some(t)},D=e=>{switch(e._tag){case b:return l.empty();case S:return l.make(e);case O:return(0,n.pipe)(D(e.left),l.union(D(e.right)))}},V=()=>{let e=d(L);return(0,n.pipe)(L,p(e+1)),new k(e,Date.now())},B=N,W=A,G=w,$=C,z=T,H=j,Y=P,K=F,Z=U,X=q,Q=D,ee=V;e.s({beginMutation:()=>eE,compact:()=>eF,empty:()=>ea,endMutation:()=>ev,entries:()=>eb,every:()=>eJ,filter:()=>eP,filterMap:()=>eL,findFirst:()=>eU,flatMap:()=>ex,forEach:()=>eT,fromIterable:()=>el,get:()=>eo,getHash:()=>eu,has:()=>ef,hasBy:()=>ed,hasHash:()=>eh,isEmpty:()=>es,isHashMap:()=>en,keySet:()=>em,keys:()=>eg,make:()=>ei,map:()=>eR,modify:()=>eA,modifyAt:()=>eI,modifyHash:()=>eN,mutate:()=>ek,reduce:()=>ej,remove:()=>eC,removeMany:()=>eM,set:()=>ep,size:()=>eO,some:()=>eq,toEntries:()=>eS,toValues:()=>e_,union:()=>ew,unsafeGet:()=>ec,values:()=>ey},8098174);var et=e.i(1695436),er=e.i(8808158);et.HashMapTypeId;let en=et.isHashMap,ea=et.empty,ei=et.make,el=et.fromIterable,es=et.isEmpty,eo=et.get,eu=et.getHash,ec=et.unsafeGet,ef=et.has,eh=et.hasHash,ed=et.hasBy,ep=et.set,eg=et.keys,em=function(e){return(0,er.makeImpl)(e)},ey=et.values,e_=e=>Array.from(ey(e)),eb=et.entries,eS=e=>Array.from(eb(e)),eO=et.size,eE=et.beginMutation,ev=et.endMutation,ek=et.mutate,eI=et.modifyAt,eN=et.modifyHash,eA=et.modify,ew=et.union,eC=et.remove,eM=et.removeMany,eR=et.map,ex=et.flatMap,eT=et.forEach,ej=et.reduce,eP=et.filter,eF=et.compact,eL=et.filterMap,eU=et.findFirst,eq=et.some,eJ=et.every;e.s({appendAll:()=>e4,cons:()=>e1,empty:()=>e3,fromIterable:()=>e5,isCons:()=>e0,isList:()=>eX,isNil:()=>eQ,of:()=>e6,prepend:()=>e9,reduce:()=>tr,reverse:()=>tn,unsafeHead:()=>ti,unsafeTail:()=>tl},5319125);var eD=e.i(7101239),eV=e.i(5576679),eB=e.i(2063008),eW=e.i(7202060);let eG=Symbol.for("effect/List"),e$=e=>eD.fromIterable(e),ez=(t=r.equals,eW.mapInput(eD.getEquivalence(t),e$)),eH={[eG]:eG,_tag:"Cons",toString(){return(0,s.format)(this.toJSON())},toJSON(){return{_id:"List",_tag:"Cons",values:e$(this).map(s.toJSON)}},[s.NodeInspectSymbol](){return this.toJSON()},[r.symbol](e){return eX(e)&&this._tag===e._tag&&ez(this,e)},[i.symbol](){return i.cached(this,i.array(e$(this)))},[Symbol.iterator](){let e=!1,t=this;return{next(){if(e)return this.return();if("Nil"===t._tag)return e=!0,this.return();let r=t.head;return t=t.tail,{done:e,value:r}},return:t=>(e||(e=!0),{done:!0,value:t})}},pipe(){return(0,o.pipeArguments)(this,arguments)}},eY=(e,t)=>{let r=Object.create(eH);return r.head=e,r.tail=t,r},eK=i.string("Nil"),eZ=Object.create({[eG]:eG,_tag:"Nil",toString(){return(0,s.format)(this.toJSON())},toJSON:()=>({_id:"List",_tag:"Nil"}),[s.NodeInspectSymbol](){return this.toJSON()},[i.symbol]:()=>eK,[r.symbol](e){return eX(e)&&this._tag===e._tag},[Symbol.iterator]:()=>({next:()=>({done:!0,value:void 0})}),pipe(){return(0,o.pipeArguments)(this,arguments)}}),eX=e=>(0,m.hasProperty)(e,eG),eQ=e=>"Nil"===e._tag,e0=e=>"Cons"===e._tag,e2=e=>{let t=e,r=0;for(;!eQ(t);)r+=1,t=t.tail;return r},e1=(e,t)=>eY(e,t),e3=()=>eZ,e6=e=>eY(e,eZ),e5=e=>{let t,r=e[Symbol.iterator]();if(!(t=r.next())||t.done)return eZ;{let e=eY(t.value,eZ),n=e;for(;(t=r.next())&&!t.done;){let e=eY(t.value,eZ);n.tail=e,n=e}return e}},e8=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return e5(t)},e4=(0,n.dual)(2,(e,t)=>e7(t,e)),e9=(0,n.dual)(2,(e,t)=>e1(t,e)),e7=(0,n.dual)(2,(e,t)=>{if(eQ(e))return t;{if(eQ(t))return e;let r=eY(t.head,e),n=r,a=t.tail;for(;!eQ(a);){let t=eY(a.head,e);n.tail=t,n=t,a=a.tail}return r}}),te=((e,t)=>{if(t<=0)return e;if(t>=e2(e))return eZ;let r=e,n=0;for(;!eQ(r)&&n<t;)r=r.tail,n+=1;return r},(e,t,r,n)=>{for(;;)if(eQ(t))return e;else{if(r(t.head)===n)return tt(e,t,r,n);t=t.tail}}),tt=(e,t,r,a)=>{let i=eY(ti(e),eZ),l=tl(e),s=i;for(;l!==t;){let e=eY(ti(l),eZ);s.tail=e,s=(0,n.unsafeCoerce)(e),l=(0,n.unsafeCoerce)(l.tail)}let o=t.tail,u=(0,n.unsafeCoerce)(o);for(;!eQ(o);)if(r(ti(o))!==a)o=o.tail;else{for(;u!==o;){let e=eY(ti(u),eZ);s.tail=e,s=e,u=(0,n.unsafeCoerce)(u.tail)}u=(0,n.unsafeCoerce)(o.tail),o=o.tail}return eQ(u)||(s.tail=u),i},tr=(0,n.dual)(3,(e,t,r)=>{let n=t,a=e;for(;!eQ(a);)n=r(n,a.head),a=a.tail;return n}),tn=e=>{let t=e3(),r=e;for(;!eQ(r);)t=e9(t,r.head),r=r.tail;return t},ta=((e,t)=>{if(t<=0)return eZ;if(t>=e2(e))return e;let r=e8(ti(e)),n=tl(e);for(let e=1;e<t;e++)r=eY(ti(n),r),n=tl(n);return tn(r)},"Expected List to be non-empty"),ti=e=>{if(eQ(e))throw Error(ta);return e.head},tl=e=>{if(eQ(e))throw Error(ta);return e.tail};e.s({disable:()=>nm,empty:()=>np,enable:()=>ng,exclude:()=>ny},8511028),e.s({CooperativeYielding:()=>r6,Interruption:()=>r0,OpSupervision:()=>r2,RuntimeMetrics:()=>r1,WindDown:()=>r3,cooperativeYielding:()=>r4,diff:()=>nc,differ:()=>nd,disable:()=>r9,disabledSet:()=>nu,enable:()=>r7,enabledSet:()=>no,interruptible:()=>ne,interruption:()=>nt,make:()=>nn,none:()=>na,patch:()=>nf,renderPatch:()=>nh,runtimeMetrics:()=>ni},6691304),e.s({DifferTypeId:()=>rI,chunk:()=>rC,environment:()=>rw,hashMap:()=>rM,hashSet:()=>rR,make:()=>rA,orElseEither:()=>rx,readonlyArray:()=>rT,transform:()=>rj,update:()=>rP,updateWith:()=>rF,zip:()=>rL},6349654),e.s({ChunkPatchTypeId:()=>tf,combine:()=>tE,diff:()=>tO,empty:()=>tg,patch:()=>tv},156351),e.s({ArrayProto:()=>to,Structural:()=>tu,struct:()=>tc},5463801);var ts=e.i(1002943);let to=Object.assign(Object.create(Array.prototype),{[i.symbol](){return i.cached(this,i.array(this))},[r.symbol](e){return!!Array.isArray(e)&&this.length===e.length&&this.every((t,n)=>r.equals(t,e[n]))}}),tu=function(){function e(e){e&&Object.assign(this,e)}return e.prototype=ts.StructuralPrototype,e}(),tc=e=>Object.assign(Object.create(ts.StructuralPrototype),e),tf=Symbol.for("effect/DifferChunkPatch");function th(e){return e}let td={...tu.prototype,[tf]:{_Value:th,_Patch:th}},tp=Object.create(Object.assign(Object.create(td),{_tag:"Empty"})),tg=()=>tp,tm=Object.assign(Object.create(td),{_tag:"AndThen"}),ty=Object.assign(Object.create(td),{_tag:"Append"}),t_=Object.assign(Object.create(td),{_tag:"Slice"}),tb=Object.assign(Object.create(td),{_tag:"Update"}),tS=(e,t)=>{let r=Object.create(tb);return r.index=e,r.patch=t,r},tO=e=>{let t=0,a=tg();for(;t<e.oldValue.length&&t<e.newValue.length;){let i=eV.unsafeGet(t)(e.oldValue),l=eV.unsafeGet(t)(e.newValue),s=e.differ.diff(i,l);r.equals(s,e.differ.empty)||(a=(0,n.pipe)(a,tE(tS(t,s)))),t+=1}return t<e.oldValue.length&&(a=(0,n.pipe)(a,tE(((e,t)=>{let r=Object.create(t_);return r.from=e,r.until=t,r})(0,t)))),t<e.newValue.length&&(a=(0,n.pipe)(a,tE((e=>{let t=Object.create(ty);return t.values=e,t})(eV.drop(t)(e.newValue))))),a},tE=n.dual(2,(e,t)=>((e,t)=>{let r=Object.create(tm);return r.first=e,r.second=t,r})(e,t)),tv=n.dual(3,(e,t,r)=>{if("Empty"===e._tag)return t;let n=t,a=eV.of(e);for(;eV.isNonEmpty(a);){let e=eV.headNonEmpty(a),t=eV.tailNonEmpty(a);switch(e._tag){case"Empty":a=t;break;case"AndThen":a=eV.prepend(e.first)(eV.prepend(e.second)(t));break;case"Append":n=eV.appendAll(e.values)(n),a=t;break;case"Slice":{let r=eV.toReadonlyArray(n);n=eV.unsafeFromArray(r.slice(e.from,e.until)),a=t;break}case"Update":{let i=eV.toReadonlyArray(n);i[e.index]=r.patch(e.patch,i[e.index]),n=eV.unsafeFromArray(i),a=t}}}return n});e.s({ContextPatchTypeId:()=>tI,combine:()=>tU,diff:()=>tL,empty:()=>tC,patch:()=>tq},2597895);var tk=e.i(3832437);let tI=Symbol.for("effect/DifferContextPatch");function tN(e){return e}let tA={...tu.prototype,[tI]:{_Value:tN,_Patch:tN}},tw=Object.create(Object.assign(Object.create(tA),{_tag:"Empty"})),tC=()=>tw,tM=Object.assign(Object.create(tA),{_tag:"AndThen"}),tR=Object.assign(Object.create(tA),{_tag:"AddService"}),tx=(e,t)=>{let r=Object.create(tR);return r.key=e,r.service=t,r},tT=Object.assign(Object.create(tA),{_tag:"RemoveService"}),tj=e=>{let t=Object.create(tT);return t.key=e,t},tP=Object.assign(Object.create(tA),{_tag:"UpdateService"}),tF=(e,t)=>{let r=Object.create(tP);return r.key=e,r.update=t,r},tL=(e,t)=>{let n=new Map(e.unsafeMap),a=tC();for(let[e,i]of t.unsafeMap.entries())if(n.has(e)){let t=n.get(e);n.delete(e),r.equals(t,i)||(a=tU(tF(e,()=>i))(a))}else n.delete(e),a=tU(tx(e,i))(a);for(let[e]of n.entries())a=tU(tj(e))(a);return a},tU=n.dual(2,(e,t)=>((e,t)=>{let r=Object.create(tM);return r.first=e,r.second=t,r})(e,t)),tq=n.dual(2,(e,t)=>{if("Empty"===e._tag)return t;let r=!1,n=eV.of(e),a=new Map(t.unsafeMap);for(;eV.isNonEmpty(n);){let e=eV.headNonEmpty(n),t=eV.tailNonEmpty(n);switch(e._tag){case"Empty":n=t;break;case"AddService":a.set(e.key,e.service),n=t;break;case"AndThen":n=eV.prepend(eV.prepend(t,e.second),e.first);break;case"RemoveService":a.delete(e.key),n=t;break;case"UpdateService":a.set(e.key,e.update(a.get(e.key))),r=!0,n=t}}if(!r)return(0,tk.makeContext)(a);let i=new Map;for(let[e]of t.unsafeMap)a.has(e)&&(i.set(e,a.get(e)),a.delete(e));for(let[e,t]of a)i.set(e,t);return(0,tk.makeContext)(i)});e.s({HashMapPatchTypeId:()=>tJ,combine:()=>tK,diff:()=>tY,empty:()=>tW,patch:()=>tZ},3500771);let tJ=Symbol.for("effect/DifferHashMapPatch");function tD(e){return e}let tV={...tu.prototype,[tJ]:{_Value:tD,_Key:tD,_Patch:tD}},tB=Object.create(Object.assign(Object.create(tV),{_tag:"Empty"})),tW=()=>tB,tG=Object.assign(Object.create(tV),{_tag:"AndThen"}),t$=Object.assign(Object.create(tV),{_tag:"Add"}),tz=Object.assign(Object.create(tV),{_tag:"Remove"}),tH=Object.assign(Object.create(tV),{_tag:"Update"}),tY=e=>{let[t,n]=ej([e.oldValue,tW()],(t,n,a)=>{let[i,l]=t,s=eo(a)(i);switch(s._tag){case"Some":{let t=e.differ.diff(s.value,n);if(r.equals(t,e.differ.empty))return[eC(a)(i),l];return[eC(a)(i),tK(((e,t)=>{let r=Object.create(tH);return r.key=e,r.patch=t,r})(a,t))(l)]}case"None":return[i,tK(((e,t)=>{let r=Object.create(t$);return r.key=e,r.value=t,r})(a,n))(l)]}})(e.newValue);return ej(n,(e,t,r)=>tK((e=>{let t=Object.create(tz);return t.key=e,t})(r))(e))(t)},tK=n.dual(2,(e,t)=>((e,t)=>{let r=Object.create(tG);return r.first=e,r.second=t,r})(e,t)),tZ=n.dual(3,(e,t,r)=>{if("Empty"===e._tag)return t;let n=t,a=eV.of(e);for(;eV.isNonEmpty(a);){let e=eV.headNonEmpty(a),t=eV.tailNonEmpty(a);switch(e._tag){case"Empty":a=t;break;case"AndThen":a=eV.prepend(e.first)(eV.prepend(e.second)(t));break;case"Add":n=ep(e.key,e.value)(n),a=t;break;case"Remove":n=eC(e.key)(n),a=t;break;case"Update":{let i=eo(e.key)(n);"Some"===i._tag&&(n=ep(e.key,r.patch(e.patch,i.value))(n)),a=t}}}return n});e.s({HashSetPatchTypeId:()=>tX,combine:()=>t4,diff:()=>t8,empty:()=>t1,patch:()=>t9},7028336);let tX=Symbol.for("effect/DifferHashSetPatch");function tQ(e){return e}let t0={...tu.prototype,[tX]:{_Value:tQ,_Key:tQ,_Patch:tQ}},t2=Object.create(Object.assign(Object.create(t0),{_tag:"Empty"})),t1=()=>t2,t3=Object.assign(Object.create(t0),{_tag:"AndThen"}),t6=Object.assign(Object.create(t0),{_tag:"Add"}),t5=Object.assign(Object.create(t0),{_tag:"Remove"}),t8=(e,t)=>{let[r,n]=l.reduce([e,t1()],(e,t)=>{let[r,n]=e;return l.has(t)(r)?[l.remove(t)(r),n]:[r,t4((e=>{let t=Object.create(t6);return t.value=e,t})(t))(n)]})(t);return l.reduce(n,(e,t)=>t4((e=>{let t=Object.create(t5);return t.value=e,t})(t))(e))(r)},t4=n.dual(2,(e,t)=>((e,t)=>{let r=Object.create(t3);return r.first=e,r.second=t,r})(e,t)),t9=n.dual(2,(e,t)=>{if("Empty"===e._tag)return t;let r=t,n=eV.of(e);for(;eV.isNonEmpty(n);){let e=eV.headNonEmpty(n),t=eV.tailNonEmpty(n);switch(e._tag){case"Empty":n=t;break;case"AndThen":n=eV.prepend(e.first)(eV.prepend(e.second)(t));break;case"Add":r=l.add(e.value)(r),n=t;break;case"Remove":r=l.remove(e.value)(r),n=t}}return r});e.s({OrPatchTypeId:()=>t7,combine:()=>rc,diff:()=>ru,empty:()=>rn,patch:()=>rf},5634890);let t7=Symbol.for("effect/DifferOrPatch");function re(e){return e}let rt={...tu.prototype,[t7]:{_Value:re,_Key:re,_Patch:re}},rr=Object.create(Object.assign(Object.create(rt),{_tag:"Empty"})),rn=()=>rr,ra=Object.assign(Object.create(rt),{_tag:"AndThen"}),ri=Object.assign(Object.create(rt),{_tag:"SetLeft"}),rl=Object.assign(Object.create(rt),{_tag:"SetRight"}),rs=Object.assign(Object.create(rt),{_tag:"UpdateLeft"}),ro=Object.assign(Object.create(rt),{_tag:"UpdateRight"}),ru=e=>{switch(e.oldValue._tag){case"Left":switch(e.newValue._tag){case"Left":{let t=e.left.diff(e.oldValue.left,e.newValue.left);if(r.equals(t,e.left.empty))return rn();return(e=>{let t=Object.create(rs);return t.patch=e,t})(t)}case"Right":return(e=>{let t=Object.create(rl);return t.value=e,t})(e.newValue.right)}case"Right":switch(e.newValue._tag){case"Left":return(e=>{let t=Object.create(ri);return t.value=e,t})(e.newValue.left);case"Right":{let t=e.right.diff(e.oldValue.right,e.newValue.right);if(r.equals(t,e.right.empty))return rn();return(e=>{let t=Object.create(ro);return t.patch=e,t})(t)}}}},rc=n.dual(2,(e,t)=>((e,t)=>{let r=Object.create(ra);return r.first=e,r.second=t,r})(e,t)),rf=n.dual(2,(e,t)=>{let{left:r,oldValue:n,right:a}=t;if("Empty"===e._tag)return n;let i=eV.of(e),l=n;for(;eV.isNonEmpty(i);){let e=eV.headNonEmpty(i),t=eV.tailNonEmpty(i);switch(e._tag){case"Empty":i=t;break;case"AndThen":i=eV.prepend(e.first)(eV.prepend(e.second)(t));break;case"UpdateLeft":"Left"===l._tag&&(l=eB.left(r.patch(e.patch,l.left))),i=t;break;case"UpdateRight":"Right"===l._tag&&(l=eB.right(a.patch(e.patch,l.right))),i=t;break;case"SetLeft":l=eB.left(e.value),i=t;break;case"SetRight":l=eB.right(e.value),i=t}}return l});e.s({ReadonlyArrayPatchTypeId:()=>rh,combine:()=>rv,diff:()=>rE,empty:()=>rm,patch:()=>rk},1815362);let rh=Symbol.for("effect/DifferReadonlyArrayPatch");function rd(e){return e}let rp={...tu.prototype,[rh]:{_Value:rd,_Patch:rd}},rg=Object.create(Object.assign(Object.create(rp),{_tag:"Empty"})),rm=()=>rg,ry=Object.assign(Object.create(rp),{_tag:"AndThen"}),r_=Object.assign(Object.create(rp),{_tag:"Append"}),rb=Object.assign(Object.create(rp),{_tag:"Slice"}),rS=Object.assign(Object.create(rp),{_tag:"Update"}),rO=(e,t)=>{let r=Object.create(rS);return r.index=e,r.patch=t,r},rE=e=>{let t=0,n=rm();for(;t<e.oldValue.length&&t<e.newValue.length;){let a=e.oldValue[t],i=e.newValue[t],l=e.differ.diff(a,i);r.equals(l,e.differ.empty)||(n=rv(n,rO(t,l))),t+=1}return t<e.oldValue.length&&(n=rv(n,((e,t)=>{let r=Object.create(rb);return r.from=e,r.until=t,r})(0,t))),t<e.newValue.length&&(n=rv(n,(e=>{let t=Object.create(r_);return t.values=e,t})(eD.drop(t)(e.newValue)))),n},rv=n.dual(2,(e,t)=>((e,t)=>{let r=Object.create(ry);return r.first=e,r.second=t,r})(e,t)),rk=n.dual(3,(e,t,r)=>{if("Empty"===e._tag)return t;let n=t.slice(),a=eD.of(e);for(;eD.isNonEmptyArray(a);){let e=eD.headNonEmpty(a),t=eD.tailNonEmpty(a);switch(e._tag){case"Empty":a=t;break;case"AndThen":t.unshift(e.first,e.second),a=t;break;case"Append":for(let t of e.values)n.push(t);a=t;break;case"Slice":n=n.slice(e.from,e.until),a=t;break;case"Update":n[e.index]=r.patch(e.patch,n[e.index]),a=t}}return n}),rI=Symbol.for("effect/Differ"),rN={[rI]:{_P:n.identity,_V:n.identity},pipe(){return(0,o.pipeArguments)(this,arguments)}},rA=e=>{let t=Object.create(rN);return t.empty=e.empty,t.diff=e.diff,t.combine=e.combine,t.patch=e.patch,t},rw=()=>rA({empty:tC(),combine:(e,t)=>tU(t)(e),diff:(e,t)=>tL(e,t),patch:(e,t)=>tq(t)(e)}),rC=e=>rA({empty:tg(),combine:(e,t)=>tE(t)(e),diff:(t,r)=>tO({oldValue:t,newValue:r,differ:e}),patch:(t,r)=>tv(r,e)(t)}),rM=e=>rA({empty:tW(),combine:(e,t)=>tK(t)(e),diff:(t,r)=>tY({oldValue:t,newValue:r,differ:e}),patch:(t,r)=>tZ(r,e)(t)}),rR=()=>rA({empty:t1(),combine:(e,t)=>t4(t)(e),diff:(e,t)=>t8(e,t),patch:(e,t)=>t9(t)(e)}),rx=n.dual(2,(e,t)=>rA({empty:rn(),combine:(e,t)=>rc(e,t),diff:(r,n)=>ru({oldValue:r,newValue:n,left:e,right:t}),patch:(r,n)=>rf(r,{oldValue:n,left:e,right:t})})),rT=e=>rA({empty:rm(),combine:(e,t)=>rv(e,t),diff:(t,r)=>rE({oldValue:t,newValue:r,differ:e}),patch:(t,r)=>rk(t,r,e)}),rj=n.dual(2,(e,t)=>{let{toNew:r,toOld:n}=t;return rA({empty:e.empty,combine:(t,r)=>e.combine(t,r),diff:(t,r)=>e.diff(n(t),n(r)),patch:(t,a)=>r(e.patch(t,n(a)))})}),rP=()=>rF((e,t)=>t),rF=e=>rA({empty:n.identity,combine:(e,t)=>e===n.identity?t:t===n.identity?e:r=>t(e(r)),diff:(e,t)=>r.equals(e,t)?n.identity:(0,n.constant)(t),patch:(t,r)=>e(r,t(r))}),rL=n.dual(2,(e,t)=>rA({empty:[e.empty,t.empty],combine:(r,n)=>[e.combine(r[0],n[0]),t.combine(r[1],n[1])],diff:(r,n)=>[e.diff(r[0],n[0]),t.diff(r[1],n[1])],patch:(r,n)=>[e.patch(r[0],n[0]),t.patch(r[1],n[1])]}));e.s({active:()=>rU,andThen:()=>rZ,both:()=>rY,disable:()=>rB,either:()=>rK,empty:()=>rD,enable:()=>rV,enabled:()=>rq,exclude:()=>rH,inverse:()=>rX,invert:()=>rQ,isActive:()=>rG,isDisabled:()=>rz,isEmpty:()=>rW,isEnabled:()=>r$,make:()=>rJ},7981760);let rU=e=>255&e,rq=e=>e>>8&255,rJ=(e,t)=>(255&e)+((t&e&255)<<8),rD=rJ(0,0),rV=e=>rJ(e,e),rB=e=>rJ(e,0),rW=e=>0===e,rG=(0,n.dual)(2,(e,t)=>(rU(e)&t)!=0),r$=(0,n.dual)(2,(e,t)=>(rq(e)&t)!=0),rz=(0,n.dual)(2,(e,t)=>(rU(e)&t)!=0&&(rq(e)&t)==0),rH=(0,n.dual)(2,(e,t)=>rJ(rU(e)&~t,rq(e))),rY=(0,n.dual)(2,(e,t)=>rJ(rU(e)|rU(t),rq(e)&rq(t))),rK=(0,n.dual)(2,(e,t)=>rJ(rU(e)|rU(t),rq(e)|rq(t))),rZ=(0,n.dual)(2,(e,t)=>e|t),rX=e=>rJ(rq(e),rQ(rU(e))),rQ=e=>~e>>>0&255,r0=1,r2=2,r1=4,r3=16,r6=32,r5=[0,1,2,4,16,32],r8=e=>{switch(e){case r6:return"CooperativeYielding";case r3:return"WindDown";case r1:return"RuntimeMetrics";case r2:return"OpSupervision";case r0:return"Interruption";case 0:return"None"}},r4=e=>nr(e,r6),r9=(0,n.dual)(2,(e,t)=>e&~t),r7=(0,n.dual)(2,(e,t)=>e|t),ne=e=>nt(e)&&!ns(e),nt=e=>nr(e,r0),nr=(0,n.dual)(2,(e,t)=>(e&t)!=0),nn=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.reduce((e,t)=>e|t,0)},na=nn(0),ni=e=>nr(e,r1),nl=e=>new Set(r5.filter(t=>nr(e,t))),ns=e=>nr(e,r3),no=e=>nl(rU(e)&rq(e)),nu=e=>nl(rU(e)&~rq(e)),nc=(0,n.dual)(2,(e,t)=>rJ(e^t,t)),nf=(0,n.dual)(2,(e,t)=>e&(rQ(rU(t))|rq(t))|rU(t)&rq(t)),nh=e=>{let t=Array.from(no(e)).map(e=>r8(e)).join(", "),r=Array.from(nu(e)).map(e=>r8(e)).join(", ");return`RuntimeFlagsPatch(enabled = (${t}), disabled = (${r}))`},nd=rA({empty:rD,diff:(e,t)=>nc(e,t),combine:(e,t)=>rZ(t)(e),patch:(e,t)=>nf(t,e)}),np=rD,ng=rV,nm=rB,ny=rH;e.s({empty:()=>n_,flatten:()=>nv,isEntry:()=>nC,makeEntry:()=>nM,par:()=>nb,reduce:()=>nE,seq:()=>nS,sequentialCollectionToChunk:()=>n$,single:()=>nO},4934186);let n_={_tag:"Empty"},nb=(e,t)=>({_tag:"Par",left:e,right:t}),nS=(e,t)=>({_tag:"Seq",left:e,right:t}),nO=(e,t)=>({_tag:"Single",dataSource:e,blockedRequest:t}),nE=(e,t)=>{let r=e6(e),n=e3();for(;e0(r);){let e=r.head;switch(e._tag){case"Empty":n=e1(eB.right(t.emptyCase()),n),r=r.tail;break;case"Par":n=e1(eB.left({_tag:"ParCase"}),n),r=e1(e.left,e1(e.right,r.tail));break;case"Seq":n=e1(eB.left({_tag:"SeqCase"}),n),r=e1(e.left,e1(e.right,r.tail));break;case"Single":{let a=t.singleCase(e.dataSource,e.blockedRequest);n=e1(eB.right(a),n),r=r.tail}}}let a=tr(n,e3(),(e,r)=>{switch(r._tag){case"Left":{let n=ti(e),a=ti(tl(e)),i=tl(tl(e));switch(r.left._tag){case"ParCase":return e1(t.parCase(n,a),i);case"SeqCase":return e1(t.seqCase(n,a),i)}}case"Right":return e1(r.right,e)}});if(eQ(a))throw Error("BUG: BlockedRequests.reduce - please report an issue at https://github.com/Effect-TS/effect/issues");return a.head},nv=e=>{let t=e6(e),r=e3();for(;;){let[e,n]=tr(t,[nj(),e3()],(e,t)=>{let[r,n]=e,[a,i]=nk(t);return[nF(r,a),e4(n,i)]});if(r=nI(r,e),eQ(n))return tn(r);t=n}throw Error("BUG: BlockedRequests.flatten - please report an issue at https://github.com/Effect-TS/effect/issues")},nk=e=>{let t=e,r=nj(),n=e3(),a=e3();for(;;)switch(t._tag){case"Empty":if(eQ(n))return[r,a];t=n.head,n=n.tail;break;case"Par":n=e1(t.right,n),t=t.left;break;case"Seq":{let e=t.left,r=t.right;switch(e._tag){case"Empty":t=r;break;case"Par":{let n=e.left,a=e.right;t=nb(nS(n,r),nS(a,r));break}case"Seq":t=nS(e.left,nS(e.right,r));break;case"Single":t=e,a=e1(r,a)}break}case"Single":if(r=nP(r,t),eQ(n))return[r,a];t=n.head,n=n.tail}throw Error("BUG: BlockedRequests.step - please report an issue at https://github.com/Effect-TS/effect/issues")},nI=(e,t)=>{if(eQ(e))return e6(nq(t));if(nL(t))return e;let n=nG(e.head),a=nU(t);return 1===n.length&&1===a.length&&r.equals(n[0],a[0])?e1(nW(e.head,nq(t)),e.tail):e1(nq(t),e)},nN=Symbol.for("effect/RequestBlock/Entry");class nA{request;result;listeners;ownerId;state;[nN]=nw;constructor(e,t,r,n,a){this.request=e,this.result=t,this.listeners=r,this.ownerId=n,this.state=a}}let nw={_R:e=>e},nC=e=>(0,m.hasProperty)(e,nN),nM=e=>new nA(e.request,e.result,e.listeners,e.ownerId,e.state),nR=Symbol.for("effect/RequestBlock/RequestBlockParallel"),nx={_R:e=>e};class nT{map;[nR]=nx;constructor(e){this.map=e}}let nj=()=>new nT(ea()),nP=(e,t)=>new nT(eI(e.map,t.dataSource,e=>g.orElseSome(g.map(e,eV.append(t.blockedRequest)),()=>eV.of(t.blockedRequest)))),nF=(e,t)=>new nT(ej(e.map,t.map,(e,t,r)=>ep(e,r,g.match(eo(e,r),{onNone:()=>t,onSome:e=>eV.appendAll(t,e)})))),nL=e=>es(e.map),nU=e=>Array.from(eg(e.map)),nq=e=>nB(eR(e.map,e=>eV.of(e))),nJ=Symbol.for("effect/RequestBlock/RequestBlockSequential"),nD={_R:e=>e};class nV{map;[nJ]=nD;constructor(e){this.map=e}}let nB=e=>new nV(e),nW=(e,t)=>new nV(ej(t.map,e.map,(e,t,r)=>ep(e,r,g.match(eo(e,r),{onNone:()=>eV.empty(),onSome:e=>eV.appendAll(e,t)})))),nG=e=>Array.from(eg(e.map)),n$=e=>Array.from(e.map)},[1953025,7283742,8098174,5319125,5463801,156351,2597895,3500771,7028336,5634890,1815362,6349654,7981760,6691304,8511028,4934186]],4558334:e=>{"use strict";e.s({CauseTypeId:()=>S,andThen:()=>ei,as:()=>et,contains:()=>el,defects:()=>V,die:()=>k,dieOption:()=>$,electFailures:()=>Q,empty:()=>E,fail:()=>v,failureOption:()=>W,failureOrCause:()=>G,failures:()=>D,filter:()=>ef,find:()=>ec,flatMap:()=>en,flatten:()=>ea,flipCauseOption:()=>z,interrupt:()=>I,interruptOption:()=>H,interruptors:()=>B,isCause:()=>w,isDie:()=>U,isDieType:()=>R,isEmpty:()=>F,isEmptyType:()=>C,isFailType:()=>M,isFailure:()=>L,isInterruptType:()=>x,isInterrupted:()=>q,isInterruptedOnly:()=>J,isParallelType:()=>j,isSequentialType:()=>T,keepDefects:()=>Y,keepDefectsAndElectFailures:()=>K,linearize:()=>Z,map:()=>er,match:()=>e_,parallel:()=>N,pretty:()=>eO,prettyErrorMessage:()=>ek,prettyErrors:()=>eC,reduce:()=>eb,reduceWithContext:()=>eS,sequential:()=>A,size:()=>P,spanSymbol:()=>ew,spanToTrace:()=>eN,stripFailures:()=>X,stripSomeDefects:()=>ee},4558334);var t=e.i(7101239),r=e.i(5576679),n=e.i(2063008),a=e.i(2191438),i=e.i(4013421),l=e.i(8166160),s=e.i(9214235),o=e.i(9138806),u=e.i(1010922),c=e.i(2798460),f=e.i(7519752),h=e.i(6701858),d=e.i(2762021);let p="Empty",g="Fail",m="Interrupt",y="Parallel",_="Sequential",b="effect/Cause",S=Symbol.for(b),O={[S]:{_E:e=>e},[s.symbol](){return(0,i.pipe)(s.hash(b),s.combine(s.hash(eo(this))),s.cached(this))},[a.symbol](e){return w(e)&&es(this,e)},pipe(){return(0,f.pipeArguments)(this,arguments)},toJSON(){switch(this._tag){case"Empty":return{_id:"Cause",_tag:this._tag};case"Die":return{_id:"Cause",_tag:this._tag,defect:(0,u.toJSON)(this.defect)};case"Interrupt":return{_id:"Cause",_tag:this._tag,fiberId:this.fiberId.toJSON()};case"Fail":return{_id:"Cause",_tag:this._tag,failure:(0,u.toJSON)(this.error)};case"Sequential":case"Parallel":return{_id:"Cause",_tag:this._tag,left:(0,u.toJSON)(this.left),right:(0,u.toJSON)(this.right)}}},toString(){return eO(this)},[u.NodeInspectSymbol](){return this.toJSON()}},E=(()=>{let e=Object.create(O);return e._tag=p,e})(),v=e=>{let t=Object.create(O);return t._tag=g,t.error=e,t},k=e=>{let t=Object.create(O);return t._tag="Die",t.defect=e,t},I=e=>{let t=Object.create(O);return t._tag=m,t.fiberId=e,t},N=(e,t)=>{let r=Object.create(O);return r._tag=y,r.left=e,r.right=t,r},A=(e,t)=>{let r=Object.create(O);return r._tag=_,r.left=e,r.right=t,r},w=e=>(0,h.hasProperty)(e,S),C=e=>e._tag===p,M=e=>e._tag===g,R=e=>"Die"===e._tag,x=e=>e._tag===m,T=e=>e._tag===_,j=e=>e._tag===y,P=e=>eS(e,void 0,ed),F=e=>e._tag===p||eb(e,!0,(e,t)=>{switch(t._tag){case p:return c.some(e);case"Die":case g:case m:return c.some(!1);default:return c.none()}}),L=e=>c.isSome(W(e)),U=e=>c.isSome($(e)),q=e=>c.isSome(H(e)),J=e=>eS(void 0,ep)(e),D=e=>r.reverse(eb(e,r.empty(),(e,t)=>t._tag===g?c.some((0,i.pipe)(e,r.prepend(t.error))):c.none())),V=e=>r.reverse(eb(e,r.empty(),(e,t)=>"Die"===t._tag?c.some((0,i.pipe)(e,r.prepend(t.defect))):c.none())),B=e=>eb(e,o.empty(),(e,t)=>t._tag===m?c.some((0,i.pipe)(e,o.add(t.fiberId))):c.none()),W=e=>ec(e,e=>e._tag===g?c.some(e.error):c.none()),G=e=>{let t=W(e);switch(t._tag){case"None":return n.right(e);case"Some":return n.left(t.value)}},$=e=>ec(e,e=>"Die"===e._tag?c.some(e.defect):c.none()),z=e=>e_(e,{onEmpty:c.some(E),onFail:c.map(v),onDie:e=>c.some(k(e)),onInterrupt:e=>c.some(I(e)),onSequential:c.mergeWith(A),onParallel:c.mergeWith(N)}),H=e=>ec(e,e=>e._tag===m?c.some(e.fiberId):c.none()),Y=e=>e_(e,{onEmpty:c.none(),onFail:()=>c.none(),onDie:e=>c.some(k(e)),onInterrupt:()=>c.none(),onSequential:c.mergeWith(A),onParallel:c.mergeWith(N)}),K=e=>e_(e,{onEmpty:c.none(),onFail:e=>c.some(k(e)),onDie:e=>c.some(k(e)),onInterrupt:()=>c.none(),onSequential:c.mergeWith(A),onParallel:c.mergeWith(N)}),Z=e=>e_(e,{onEmpty:o.empty(),onFail:e=>o.make(v(e)),onDie:e=>o.make(k(e)),onInterrupt:e=>o.make(I(e)),onSequential:(e,t)=>o.flatMap(e,e=>o.map(t,t=>A(e,t))),onParallel:(e,t)=>o.flatMap(e,e=>o.map(t,t=>N(e,t)))}),X=e=>e_(e,{onEmpty:E,onFail:()=>E,onDie:k,onInterrupt:I,onSequential:A,onParallel:N}),Q=e=>e_(e,{onEmpty:E,onFail:k,onDie:k,onInterrupt:I,onSequential:A,onParallel:N}),ee=(0,i.dual)(2,(e,t)=>e_(e,{onEmpty:c.some(E),onFail:e=>c.some(v(e)),onDie:e=>{let r=t(e);return c.isSome(r)?c.none():c.some(k(e))},onInterrupt:e=>c.some(I(e)),onSequential:c.mergeWith(A),onParallel:c.mergeWith(N)})),et=(0,i.dual)(2,(e,t)=>er(e,()=>t)),er=(0,i.dual)(2,(e,t)=>en(e,e=>v(t(e)))),en=(0,i.dual)(2,(e,t)=>e_(e,{onEmpty:E,onFail:e=>t(e),onDie:e=>k(e),onInterrupt:e=>I(e),onSequential:(e,t)=>A(e,t),onParallel:(e,t)=>N(e,t)})),ea=e=>en(e,i.identity),ei=(0,i.dual)(2,(e,t)=>(0,h.isFunction)(t)?en(e,t):en(e,()=>t)),el=(0,i.dual)(2,(e,t)=>t._tag===p||e===t||eb(e,!1,(e,r)=>c.some(e||es(r,t)))),es=(e,t)=>{let n=r.of(e),l=r.of(t);for(;r.isNonEmpty(n)&&r.isNonEmpty(l);){let[e,t]=(0,i.pipe)(r.headNonEmpty(n),eb([o.empty(),r.empty()],(e,t)=>{let[n,a]=e,[l,s]=eh(t);return c.some([(0,i.pipe)(n,o.union(l)),(0,i.pipe)(a,r.appendAll(s))])})),[s,u]=(0,i.pipe)(r.headNonEmpty(l),eb([o.empty(),r.empty()],(e,t)=>{let[n,a]=e,[l,s]=eh(t);return c.some([(0,i.pipe)(n,o.union(l)),(0,i.pipe)(a,r.appendAll(s))])}));if(!a.equals(e,s))return!1;n=t,l=u}return!0},eo=e=>eu(r.of(e),r.empty()),eu=(e,n)=>{for(;;){let[a,l]=(0,i.pipe)(e,t.reduce([o.empty(),r.empty()],(e,t)=>{let[n,a]=e,[l,s]=eh(t);return[(0,i.pipe)(n,o.union(l)),(0,i.pipe)(a,r.appendAll(s))]})),s=o.size(a)>0?(0,i.pipe)(n,r.prepend(a)):n;if(r.isEmpty(l))return r.reverse(s);e=l,n=s}throw Error((0,d.getBugErrorMessage)("Cause.flattenCauseLoop"))},ec=(0,i.dual)(2,(e,t)=>{let r=[e];for(;r.length>0;){let e=r.pop(),n=t(e);switch(n._tag){case"None":switch(e._tag){case _:case y:r.push(e.right),r.push(e.left)}break;case"Some":return n}}return c.none()}),ef=(0,i.dual)(2,(e,t)=>eS(e,void 0,eg(t))),eh=e=>{let t=e,n=[],a=o.empty(),i=r.empty();for(;void 0!==t;)switch(t._tag){case p:if(0===n.length)return[a,i];t=n.pop();break;case g:if(a=o.add(a,r.make(t._tag,t.error)),0===n.length)return[a,i];t=n.pop();break;case"Die":if(a=o.add(a,r.make(t._tag,t.defect)),0===n.length)return[a,i];t=n.pop();break;case m:if(a=o.add(a,r.make(t._tag,t.fiberId)),0===n.length)return[a,i];t=n.pop();break;case _:switch(t.left._tag){case p:t=t.right;break;case _:t=A(t.left.left,A(t.left.right,t.right));break;case y:t=N(A(t.left.left,t.right),A(t.left.right,t.right));break;default:i=r.prepend(i,t.right),t=t.left}break;case y:n.push(t.right),t=t.left}throw Error((0,d.getBugErrorMessage)("Cause.evaluateCauseLoop"))},ed={emptyCase:()=>0,failCase:()=>1,dieCase:()=>1,interruptCase:()=>1,sequentialCase:(e,t,r)=>t+r,parallelCase:(e,t,r)=>t+r},ep={emptyCase:i.constTrue,failCase:i.constFalse,dieCase:i.constFalse,interruptCase:i.constTrue,sequentialCase:(e,t,r)=>t&&r,parallelCase:(e,t,r)=>t&&r},eg=e=>({emptyCase:()=>E,failCase:(e,t)=>v(t),dieCase:(e,t)=>k(t),interruptCase:(e,t)=>I(t),sequentialCase:(t,r,n)=>e(r)?e(n)?A(r,n):r:e(n)?n:E,parallelCase:(t,r,n)=>e(r)?e(n)?N(r,n):r:e(n)?n:E}),em="SequentialCase",ey="ParallelCase",e_=(0,i.dual)(2,(e,t)=>{let{onDie:r,onEmpty:n,onFail:a,onInterrupt:i,onParallel:l,onSequential:s}=t;return eS(e,void 0,{emptyCase:()=>n,failCase:(e,t)=>a(t),dieCase:(e,t)=>r(t),interruptCase:(e,t)=>i(t),sequentialCase:(e,t,r)=>s(t,r),parallelCase:(e,t,r)=>l(t,r)})}),eb=(0,i.dual)(3,(e,t,r)=>{let n=t,a=e,i=[];for(;void 0!==a;){let e=r(n,a);switch(n=c.isSome(e)?e.value:n,a._tag){case _:case y:i.push(a.right),a=a.left;break;default:a=void 0}void 0===a&&i.length>0&&(a=i.pop())}return n}),eS=(0,i.dual)(3,(e,t,r)=>{let a=[e],i=[];for(;a.length>0;){let e=a.pop();switch(e._tag){case p:i.push(n.right(r.emptyCase(t)));break;case g:i.push(n.right(r.failCase(t,e.error)));break;case"Die":i.push(n.right(r.dieCase(t,e.defect)));break;case m:i.push(n.right(r.interruptCase(t,e.fiberId)));break;case _:a.push(e.right),a.push(e.left),i.push(n.left({_tag:em}));break;case y:a.push(e.right),a.push(e.left),i.push(n.left({_tag:ey}))}}let l=[];for(;i.length>0;){let e=i.pop();switch(e._tag){case"Left":switch(e.left._tag){case em:{let e=l.pop(),n=l.pop(),a=r.sequentialCase(t,e,n);l.push(a);break}case ey:{let e=l.pop(),n=l.pop(),a=r.parallelCase(t,e,n);l.push(a)}}break;case"Right":l.push(e.right)}}if(0===l.length)throw Error("BUG: Cause.reduceWithContext - please report an issue at https://github.com/Effect-TS/effect/issues");return l.pop()}),eO=(e,t)=>J(e)?"All fibers interrupted without errors.":eC(e).map(function(e){return t?.renderErrorCause!==!0||void 0===e.cause?e.stack:`${e.stack} {
${eE(e.cause,"  ")}
}`}).join("\n"),eE=(e,t)=>{let r=e.stack.split("\n"),n=`${t}[cause]: ${r[0]}`;for(let e=1,a=r.length;e<a;e++)n+=`
${t}${r[e]}`;return e.cause&&(n+=` {
${eE(e.cause,`${t}  `)}
${t}}`),n};class ev extends globalThis.Error{span=void 0;constructor(e){let t="object"==typeof e&&null!==e,r=Error.stackTraceLimit;Error.stackTraceLimit=1,super(ek(e),t&&"cause"in e&&void 0!==e.cause?{cause:new ev(e.cause)}:void 0),""===this.message&&(this.message="An error has occurred"),Error.stackTraceLimit=r,this.name=e instanceof Error?e.name:"Error",t&&(ew in e&&(this.span=e[ew]),Object.keys(e).forEach(t=>{t in this||(this[t]=e[t])})),this.stack=eA(`${this.name}: ${this.message}`,e instanceof Error&&e.stack?e.stack:"",this.span)}}let ek=e=>{if("string"==typeof e)return e;if("object"==typeof e&&null!==e&&e instanceof Error)return e.message;try{if((0,h.hasProperty)(e,"toString")&&(0,h.isFunction)(e.toString)&&e.toString!==Object.prototype.toString&&e.toString!==globalThis.Array.prototype.toString)return e.toString()}catch{}return(0,u.stringifyCircular)(e)},eI=/\((.*)\)/g,eN=(0,l.globalValue)("effect/Tracer/spanToTrace",()=>new WeakMap),eA=(e,t,r)=>{let n=[e],a=t.startsWith(e)?t.slice(e.length).split("\n"):t.split("\n");for(let e=1;e<a.length;e++){if(a[e].includes(" at new BaseEffectError")||a[e].includes(" at new YieldableError")){e++;continue}if(a[e].includes("Generator.next")||a[e].includes("effect_internal_function"))break;n.push(a[e].replace(/at .*effect_instruction_i.*\((.*)\)/,"at $1").replace(/EffectPrimitive\.\w+/,"<anonymous>"))}if(r){let e=r,t=0;for(;e&&"Span"===e._tag&&t<10;){let r=eN.get(e);if("function"==typeof r){let t=r();if("string"==typeof t){let r=t.matchAll(eI),a=!1;for(let[,t]of r)a=!0,n.push(`    at ${e.name} (${t})`);a||n.push(`    at ${e.name} (${t.replace(/^at /,"")})`)}else n.push(`    at ${e.name}`)}else n.push(`    at ${e.name}`);e=c.getOrUndefined(e.parent),t++}}return n.join("\n")},ew=Symbol.for("effect/SpanAnnotation"),eC=e=>eS(e,void 0,{emptyCase:()=>[],dieCase:(e,t)=>[new ev(t)],failCase:(e,t)=>[new ev(t)],interruptCase:()=>[],parallelCase:(e,t,r)=>[...t,...r],sequentialCase:(e,t,r)=>[...t,...r]})},8494636:[e=>{"use strict";e.s({Class:()=>nB,Error:()=>nH,Structural:()=>nG,TaggedClass:()=>nW,TaggedError:()=>nY,array:()=>nq,case:()=>nD,struct:()=>nF,tagged:()=>nV,taggedEnum:()=>n$,tuple:()=>nU,unsafeArray:()=>nJ,unsafeStruct:()=>nL},8494636),e.s({CloseableScopeTypeId:()=>t9,EffectTypeId:()=>P,ExceededCapacityException:()=>rE,ExceededCapacityExceptionTypeId:()=>rO,FiberRefTypeId:()=>tp,IllegalArgumentException:()=>rp,IllegalArgumentExceptionTypeId:()=>rd,InterruptedException:()=>rf,InterruptedExceptionTypeId:()=>rc,InvalidPubSubCapacityException:()=>rS,InvalidPubSubCapacityExceptionTypeId:()=>rb,NoSuchElementException:()=>ry,NoSuchElementExceptionTypeId:()=>rm,RevertFlags:()=>F,RuntimeException:()=>ro,RuntimeExceptionTypeId:()=>rs,ScopeTypeId:()=>t4,TimeoutException:()=>rI,TimeoutExceptionTypeId:()=>rk,UnknownException:()=>rC,UnknownExceptionTypeId:()=>rw,YieldableError:()=>ri,acquireUseRelease:()=>V,allLogLevels:()=>td,andThen:()=>eg,as:()=>B,asVoid:()=>W,async:()=>H,asyncInterrupt:()=>z,blocked:()=>T,capture:()=>er,catchAll:()=>K,catchAllCause:()=>Y,catchIf:()=>Z,catchSome:()=>X,causeSquash:()=>rn,causeSquashWith:()=>ra,checkInterruptible:()=>Q,context:()=>nI,contextWithEffect:()=>nN,currentConcurrency:()=>tY,currentContext:()=>tD,currentForkScopeOverride:()=>t2,currentInterruptedCause:()=>t1,currentLogAnnotations:()=>tW,currentLogLevel:()=>tG,currentLogSpan:()=>t$,currentMaxOpsBeforeYield:()=>tB,currentMetricLabels:()=>tQ,currentRequestBatching:()=>tK,currentSchedulingPriority:()=>tV,currentSpanFromFiber:()=>nx,currentTracerEnabled:()=>t3,currentTracerSpanAnnotations:()=>t5,currentTracerSpanLinks:()=>t8,currentTracerTimingEnabled:()=>t6,currentUnhandledErrorLogLevel:()=>tZ,custom:()=>G,deferredAwait:()=>nl,deferredComplete:()=>ns,deferredCompleteWith:()=>no,deferredDie:()=>np,deferredDieSync:()=>ng,deferredDone:()=>nu,deferredFail:()=>nc,deferredFailCause:()=>nh,deferredFailCauseSync:()=>nd,deferredFailSync:()=>nf,deferredInterrupt:()=>nm,deferredInterruptWith:()=>ny,deferredIsDone:()=>n_,deferredMake:()=>na,deferredMakeAs:()=>ni,deferredPoll:()=>nb,deferredSucceed:()=>nS,deferredSync:()=>nO,deferredUnsafeDone:()=>nE,deferredUnsafeMake:()=>nn,die:()=>en,dieMessage:()=>ea,dieSync:()=>ei,either:()=>el,exit:()=>es,exitAs:()=>rP,exitAsVoid:()=>rF,exitCauseOption:()=>rL,exitCollectAll:()=>rU,exitDie:()=>rq,exitExists:()=>rJ,exitFail:()=>rD,exitFailCause:()=>rV,exitFlatMap:()=>rB,exitFlatMapEffect:()=>rW,exitFlatten:()=>rG,exitForEachEffect:()=>r$,exitFromEither:()=>rz,exitFromOption:()=>rH,exitGetOrElse:()=>rY,exitInterrupt:()=>rK,exitIsExit:()=>rR,exitIsFailure:()=>rx,exitIsInterrupted:()=>rj,exitIsSuccess:()=>rT,exitMap:()=>rZ,exitMapBoth:()=>rX,exitMapError:()=>rQ,exitMapErrorCause:()=>r0,exitMatch:()=>r2,exitMatchEffect:()=>r1,exitSucceed:()=>r3,exitVoid:()=>r6,exitZip:()=>r5,exitZipLeft:()=>r8,exitZipPar:()=>r9,exitZipParLeft:()=>r7,exitZipParRight:()=>ne,exitZipRight:()=>r4,exitZipWith:()=>nt,fail:()=>eo,failCause:()=>ec,failCauseSync:()=>ef,failSync:()=>eu,fiberId:()=>eh,fiberIdWith:()=>ed,fiberRefDelete:()=>tE,fiberRefGet:()=>tm,fiberRefGetAndSet:()=>ty,fiberRefGetAndUpdate:()=>t_,fiberRefGetAndUpdateSome:()=>tb,fiberRefGetWith:()=>tS,fiberRefLocally:()=>tj,fiberRefLocallyWith:()=>tP,fiberRefModify:()=>tk,fiberRefModifySome:()=>tI,fiberRefReset:()=>tv,fiberRefSet:()=>tO,fiberRefUnsafeMake:()=>tF,fiberRefUnsafeMakeContext:()=>tU,fiberRefUnsafeMakeHashSet:()=>tL,fiberRefUnsafeMakePatch:()=>tq,fiberRefUnsafeMakeRuntimeFlags:()=>tJ,fiberRefUpdate:()=>tN,fiberRefUpdateAndGet:()=>tw,fiberRefUpdateSome:()=>tA,fiberRefUpdateSomeAndGet:()=>tC,filterEffectOrElse:()=>nM,filterEffectOrFail:()=>nR,flatMap:()=>ep,flatten:()=>ey,flip:()=>e_,fnUntraced:()=>e2,forEachSequential:()=>eE,forEachSequentialDiscard:()=>ev,fromIterator:()=>eQ,gen:()=>e0,if_:()=>ek,interrupt:()=>eI,interruptAsFiber:()=>ta,interruptFiber:()=>tn,interruptWith:()=>eN,interruptible:()=>eA,interruptibleMask:()=>ew,intoDeferred:()=>eC,isEffect:()=>J,isExceededCapacityException:()=>rv,isIllegalArgumentException:()=>rg,isInterruptedException:()=>rh,isNoSuchElementException:()=>r_,isRuntimeException:()=>ru,isTimeoutException:()=>rA,isUnknownException:()=>rM,logLevelAll:()=>ti,logLevelDebug:()=>tc,logLevelError:()=>ts,logLevelFatal:()=>tl,logLevelInfo:()=>tu,logLevelNone:()=>th,logLevelTrace:()=>tf,logLevelWarning:()=>to,map:()=>eM,mapBoth:()=>eR,mapError:()=>ex,mapInputContext:()=>nC,matchCause:()=>eb,matchCauseEffect:()=>eS,matchEffect:()=>eO,metricLabels:()=>t0,never:()=>tr,noopSpan:()=>nj,onError:()=>eT,onExit:()=>ej,onInterrupt:()=>eP,orDie:()=>eL,orDieWith:()=>eU,orElse:()=>eF,originalInstance:()=>et,partitionMap:()=>eq,provideContext:()=>nA,provideSomeContext:()=>nw,runRequestBlock:()=>j,runtimeFlags:()=>eJ,scopeAddFinalizer:()=>t7,scopeAddFinalizerExit:()=>re,scopeClose:()=>rt,scopeFork:()=>rr,step:()=>em,succeed:()=>eD,suspend:()=>eV,sync:()=>eB,tap:()=>eW,timeoutExceptionFromDuration:()=>rN,transplant:()=>eG,uninterruptible:()=>ez,uninterruptibleMask:()=>eH,unsafeAsync:()=>$,updateRuntimeFlags:()=>eK,void:()=>eY,whenEffect:()=>eZ,whileLoop:()=>eX,withConcurrency:()=>e1,withFiberRuntime:()=>D,withMaxOpsBeforeYield:()=>tH,withRequestBatching:()=>e3,withRuntimeFlags:()=>e6,withSchedulingPriority:()=>tz,withTracerEnabled:()=>e5,withTracerTiming:()=>e8,withUnhandledErrorLogLevel:()=>tX,yieldNow:()=>e4,zip:()=>e9,zipLeft:()=>e7,zipRight:()=>te,zipWith:()=>tt},9784266);var t=e.i(7101239),r=e.i(5576679),n=e.i(4549237),a=e.i(4863605),i=e.i(2063008),l=e.i(2191438),s=e.i(1013629),o=e.i(4013421),u=e.i(8166160),c=e.i(9214235),f=e.i(8098174),h=e.i(1010922),d=e.i(5319125),p=e.i(1953025),g=e.i(2798460),m=e.i(7519752),y=e.i(6701858),_=e.i(8511028),b=e.i(9964691);e.i(4934186);var S=e.i(4558334);e.s({DeferredTypeId:()=>v,deferredVariance:()=>k,done:()=>N,pending:()=>I},6243897);let O="Pending",E="Done",v=Symbol.for("effect/Deferred"),k={_E:e=>e,_A:e=>e},I=e=>({_tag:O,joiners:e}),N=e=>({_tag:E,effect:e});var A=e.i(6349654),w=e.i(1002943),C=e.i(2762021),M=e.i(577118),R=e.i(6691304);e.s({SingleShotGen:()=>x},7437580);class x{self;called=!1;constructor(e){this.self=e}next(e){return this.called?{value:e,done:!0}:(this.called=!0,{value:this.self,done:!1})}return(e){return{value:e,done:!0}}throw(e){throw e}[Symbol.iterator](){return new x(this.self)}}let T=(e,t)=>{let r=new L("Blocked");return r.effect_instruction_i0=e,r.effect_instruction_i1=t,r},j=e=>{let t=new L("RunBlocked");return t.effect_instruction_i0=e,t},P=Symbol.for("effect/Effect");class F{patch;op;_op=M.OP_REVERT_FLAGS;constructor(e,t){this.patch=e,this.op=t}}class L{_op;effect_instruction_i0=void 0;effect_instruction_i1=void 0;effect_instruction_i2=void 0;trace=void 0;[P]=w.effectVariance;constructor(e){this._op=e}[l.symbol](e){return this===e}[c.symbol](){return c.cached(this,c.random(this))}pipe(){return(0,m.pipeArguments)(this,arguments)}toJSON(){return{_id:"Effect",_op:this._op,effect_instruction_i0:(0,h.toJSON)(this.effect_instruction_i0),effect_instruction_i1:(0,h.toJSON)(this.effect_instruction_i1),effect_instruction_i2:(0,h.toJSON)(this.effect_instruction_i2)}}toString(){return(0,h.format)(this.toJSON())}[h.NodeInspectSymbol](){return this.toJSON()}[Symbol.iterator](){return new x(new b.YieldWrap(this))}}class U{_op;effect_instruction_i0=void 0;effect_instruction_i1=void 0;effect_instruction_i2=void 0;trace=void 0;[P]=w.effectVariance;constructor(e){this._op=e,this._tag=e}[l.symbol](e){return rR(e)&&"Failure"===e._op&&l.equals(this.effect_instruction_i0,e.effect_instruction_i0)}[c.symbol](){return(0,o.pipe)(c.string(this._tag),c.combine(c.hash(this.effect_instruction_i0)),c.cached(this))}get cause(){return this.effect_instruction_i0}pipe(){return(0,m.pipeArguments)(this,arguments)}toJSON(){return{_id:"Exit",_tag:this._op,cause:this.cause.toJSON()}}toString(){return(0,h.format)(this.toJSON())}[h.NodeInspectSymbol](){return this.toJSON()}[Symbol.iterator](){return new x(new b.YieldWrap(this))}}class q{_op;effect_instruction_i0=void 0;effect_instruction_i1=void 0;effect_instruction_i2=void 0;trace=void 0;[P]=w.effectVariance;constructor(e){this._op=e,this._tag=e}[l.symbol](e){return rR(e)&&"Success"===e._op&&l.equals(this.effect_instruction_i0,e.effect_instruction_i0)}[c.symbol](){return(0,o.pipe)(c.string(this._tag),c.combine(c.hash(this.effect_instruction_i0)),c.cached(this))}get value(){return this.effect_instruction_i0}pipe(){return(0,m.pipeArguments)(this,arguments)}toJSON(){return{_id:"Exit",_tag:this._op,value:(0,h.toJSON)(this.value)}}toString(){return(0,h.format)(this.toJSON())}[h.NodeInspectSymbol](){return this.toJSON()}[Symbol.iterator](){return new x(new b.YieldWrap(this))}}let J=e=>(0,y.hasProperty)(e,P),D=e=>{let t=new L(M.OP_WITH_RUNTIME);return t.effect_instruction_i0=e,t},V=(0,o.dual)(3,(e,t,r)=>eH(n=>ep(e,e=>ep(es(eV(()=>n(t(e)))),t=>eV(()=>r(e,t)).pipe(eS({onFailure:e=>{switch(t._tag){case M.OP_FAILURE:return ec(S.sequential(t.effect_instruction_i0,e));case M.OP_SUCCESS:return ec(e)}},onSuccess:()=>t})))))),B=(0,o.dual)(2,(e,t)=>ep(e,()=>eD(t))),W=e=>B(e,void 0),G=function(){let e=new L(M.OP_COMMIT);switch(arguments.length){case 2:e.effect_instruction_i0=arguments[0],e.commit=arguments[1];break;case 3:e.effect_instruction_i0=arguments[0],e.effect_instruction_i1=arguments[1],e.commit=arguments[2];break;case 4:e.effect_instruction_i0=arguments[0],e.effect_instruction_i1=arguments[1],e.effect_instruction_i2=arguments[2],e.commit=arguments[3];break;default:throw Error((0,C.getBugErrorMessage)("you're not supposed to end up here"))}return e},$=function(e){let t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s.none,n=new L(M.OP_ASYNC);return n.effect_instruction_i0=r=>{t=e(r)},n.effect_instruction_i1=r,eP(n,e=>J(t)?t:eY)},z=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s.none;return eV(()=>$(e,t))},H=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s.none;return G(e,function(){let e,r,n,a;function i(t){e?e(t):void 0===r&&(r=t)}let l=new L(M.OP_ASYNC);return l.effect_instruction_i0=t=>{e=t,r&&t(r)},l.effect_instruction_i1=t,1!==this.effect_instruction_i0.length?(a=new AbortController,n=(0,b.internalCall)(()=>this.effect_instruction_i0(i,a.signal))):n=(0,b.internalCall)(()=>this.effect_instruction_i0(i)),n||a?eP(l,e=>(a&&a.abort(),n??eY)):l})},Y=(0,o.dual)(2,(e,t)=>{let r=new L(M.OP_ON_FAILURE);return r.effect_instruction_i0=e,r.effect_instruction_i1=t,r}),K=(0,o.dual)(2,(e,t)=>eO(e,{onFailure:t,onSuccess:eD})),Z=(0,o.dual)(3,(e,t,r)=>Y(e,e=>{let n=S.failureOrCause(e);switch(n._tag){case"Left":return t(n.left)?r(n.left):ec(e);case"Right":return ec(n.right)}})),X=(0,o.dual)(2,(e,t)=>Y(e,e=>{let r=S.failureOrCause(e);switch(r._tag){case"Left":return(0,o.pipe)(t(r.left),g.getOrElse(()=>ec(e)));case"Right":return ec(r.right)}})),Q=e=>D((t,r)=>e(R.interruption(r.runtimeFlags))),ee=Symbol.for("effect/OriginalAnnotation"),et=e=>(0,y.hasProperty)(e,ee)?e[ee]:e,er=(e,t)=>g.isSome(t)?new Proxy(e,{has:(e,t)=>t===S.spanSymbol||t===ee||t in e,get:(r,n)=>n===S.spanSymbol?t.value:n===ee?e:r[n]}):e,en=e=>!(0,y.isObject)(e)||S.spanSymbol in e?ec(S.die(e)):D(t=>ec(S.die(er(e,nx(t))))),ea=e=>ef(()=>S.die(new ro(e))),ei=e=>ep(eB(e),en),el=e=>eO(e,{onFailure:e=>eD(i.left(e)),onSuccess:e=>eD(i.right(e))}),es=e=>eb(e,{onFailure:rV,onSuccess:r3}),eo=e=>!(0,y.isObject)(e)||S.spanSymbol in e?ec(S.fail(e)):D(t=>ec(S.fail(er(e,nx(t))))),eu=e=>ep(eB(e),eo),ec=e=>{let t=new U(M.OP_FAILURE);return t.effect_instruction_i0=e,t},ef=e=>ep(eB(e),ec),eh=D(e=>eD(e.id())),ed=e=>D(t=>e(t.id())),ep=(0,o.dual)(2,(e,t)=>{let r=new L(M.OP_ON_SUCCESS);return r.effect_instruction_i0=e,r.effect_instruction_i1=t,r}),eg=(0,o.dual)(2,(e,t)=>ep(e,e=>{let r="function"==typeof t?t(e):t;return J(r)?r:(0,y.isPromiseLike)(r)?$(e=>{r.then(t=>e(eD(t)),t=>e(eo(new rC(t,"An unknown error occurred in Effect.andThen"))))}):eD(r)})),em=e=>{let t=new L("OnStep");return t.effect_instruction_i0=e,t},ey=e=>ep(e,o.identity),e_=e=>eO(e,{onFailure:eD,onSuccess:eo}),eb=(0,o.dual)(2,(e,t)=>eS(e,{onFailure:e=>eD(t.onFailure(e)),onSuccess:e=>eD(t.onSuccess(e))})),eS=(0,o.dual)(2,(e,t)=>{let r=new L(M.OP_ON_SUCCESS_AND_FAILURE);return r.effect_instruction_i0=e,r.effect_instruction_i1=t.onFailure,r.effect_instruction_i2=t.onSuccess,r}),eO=(0,o.dual)(2,(e,t)=>eS(e,{onFailure:e=>{if(S.defects(e).length>0)return ec(S.electFailures(e));let n=S.failures(e);return n.length>0?t.onFailure(r.unsafeHead(n)):ec(e)},onSuccess:t.onSuccess})),eE=(0,o.dual)(2,(e,r)=>eV(()=>{let n=t.fromIterable(e),a=t.allocate(n.length),i=0;return B(eX({while:()=>i<n.length,body:()=>r(n[i],i),step:e=>{a[i++]=e}}),a)})),ev=(0,o.dual)(2,(e,r)=>eV(()=>{let n=t.fromIterable(e),a=0;return eX({while:()=>a<n.length,body:()=>r(n[a],a),step:()=>{a++}})})),ek=(0,o.dual)(e=>"boolean"==typeof e[0]||J(e[0]),(e,t)=>J(e)?ep(e,e=>e?t.onTrue():t.onFalse()):e?t.onTrue():t.onFalse()),eI=ep(eh,e=>eN(e)),eN=e=>ec(S.interrupt(e)),eA=e=>{let t=new L(M.OP_UPDATE_RUNTIME_FLAGS);return t.effect_instruction_i0=_.enable(R.Interruption),t.effect_instruction_i1=()=>e,t},ew=e=>G(e,function(){let e=new L(M.OP_UPDATE_RUNTIME_FLAGS);return e.effect_instruction_i0=_.enable(R.Interruption),e.effect_instruction_i1=e=>R.interruption(e)?(0,b.internalCall)(()=>this.effect_instruction_i0(eA)):(0,b.internalCall)(()=>this.effect_instruction_i0(ez)),e}),eC=(0,o.dual)(2,(e,t)=>eH(r=>ep(es(r(e)),e=>nu(t,e)))),eM=(0,o.dual)(2,(e,t)=>ep(e,e=>eB(()=>t(e)))),eR=(0,o.dual)(2,(e,t)=>eO(e,{onFailure:e=>eu(()=>t.onFailure(e)),onSuccess:e=>eB(()=>t.onSuccess(e))})),ex=(0,o.dual)(2,(e,t)=>eS(e,{onFailure:e=>{let r=S.failureOrCause(e);switch(r._tag){case"Left":return eu(()=>t(r.left));case"Right":return ec(r.right)}},onSuccess:eD})),eT=(0,o.dual)(2,(e,t)=>ej(e,e=>rT(e)?eY:t(e.effect_instruction_i0))),ej=(0,o.dual)(2,(e,t)=>eH(r=>eS(r(e),{onFailure:e=>{let r=rV(e);return eS(t(r),{onFailure:t=>rV(S.sequential(e,t)),onSuccess:()=>r})},onSuccess:e=>{let r=r3(e);return te(t(r),r)}}))),eP=(0,o.dual)(2,(e,t)=>ej(e,r2({onFailure:e=>S.isInterruptedOnly(e)?W(t(S.interruptors(e))):eY,onSuccess:()=>eY}))),eF=(0,o.dual)(2,(e,t)=>e$(e,t,eD)),eL=e=>eU(e,o.identity),eU=(0,o.dual)(2,(e,t)=>eO(e,{onFailure:e=>en(t(e)),onSuccess:eD})),eq=t.partitionMap,eJ=D((e,t)=>eD(t.runtimeFlags)),eD=e=>{let t=new q(M.OP_SUCCESS);return t.effect_instruction_i0=e,t},eV=e=>{let t=new L(M.OP_COMMIT);return t.commit=e,t},eB=e=>{let t=new L(M.OP_SYNC);return t.effect_instruction_i0=e,t},eW=(0,o.dual)(e=>3===e.length||2===e.length&&!((0,y.isObject)(e[1])&&"onlyEffect"in e[1]),(e,t)=>ep(e,e=>{let r="function"==typeof t?t(e):t;return J(r)?B(r,e):(0,y.isPromiseLike)(r)?$(t=>{r.then(r=>t(eD(e)),e=>t(eo(new rC(e,"An unknown error occurred in Effect.tap"))))}):eD(e)})),eG=e=>D(t=>{let r=t.getFiberRef(t2),n=(0,o.pipe)(r,g.getOrElse(()=>t.scope()));return e(tj(t2,g.some(n)))}),e$=(0,o.dual)(3,(e,t,r)=>eS(e,{onFailure:e=>S.defects(e).length>0?ec(g.getOrThrow(S.keepDefectsAndElectFailures(e))):t(),onSuccess:r})),ez=e=>{let t=new L(M.OP_UPDATE_RUNTIME_FLAGS);return t.effect_instruction_i0=_.disable(R.Interruption),t.effect_instruction_i1=()=>e,t},eH=e=>G(e,function(){let e=new L(M.OP_UPDATE_RUNTIME_FLAGS);return e.effect_instruction_i0=_.disable(R.Interruption),e.effect_instruction_i1=e=>R.interruption(e)?(0,b.internalCall)(()=>this.effect_instruction_i0(eA)):(0,b.internalCall)(()=>this.effect_instruction_i0(ez)),e}),eY=eD(void 0),eK=e=>{let t=new L(M.OP_UPDATE_RUNTIME_FLAGS);return t.effect_instruction_i0=e,t.effect_instruction_i1=void 0,t},eZ=(0,o.dual)(2,(e,t)=>ep(t,t=>t?(0,o.pipe)(e,eM(g.some)):eD(g.none()))),eX=e=>{let t=new L(M.OP_WHILE);return t.effect_instruction_i0=e.while,t.effect_instruction_i1=e.body,t.effect_instruction_i2=e.step,t},eQ=e=>eV(()=>{let t=new L(M.OP_ITERATOR);return t.effect_instruction_i0=e(),t}),e0=function(){let e=1==arguments.length?arguments[0]:arguments[1].bind(arguments[0]);return eQ(()=>e(o.pipe))},e2=function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return Object.defineProperty(0===r.length?function(){for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return eQ(()=>e.apply(this,r))}:function(){for(var t=arguments.length,n=Array(t),a=0;a<t;a++)n[a]=arguments[a];let i=eQ(()=>e.apply(this,n));for(let e of r)i=e(i,...n);return i},"length",{value:e.length,configurable:!0})},e1=(0,o.dual)(2,(e,t)=>tj(e,tY,t)),e3=(0,o.dual)(2,(e,t)=>tj(e,tK,t)),e6=(0,o.dual)(2,(e,t)=>{let r=new L(M.OP_UPDATE_RUNTIME_FLAGS);return r.effect_instruction_i0=t,r.effect_instruction_i1=()=>e,r}),e5=(0,o.dual)(2,(e,t)=>tj(e,t3,t)),e8=(0,o.dual)(2,(e,t)=>tj(e,t6,t)),e4=e=>{let t=new L(M.OP_YIELD);return void 0!==e?.priority?tz(t,e.priority):t},e9=(0,o.dual)(2,(e,t)=>ep(e,e=>eM(t,t=>[e,t]))),e7=(0,o.dual)(2,(e,t)=>ep(e,e=>B(t,e))),te=(0,o.dual)(2,(e,t)=>ep(e,()=>t)),tt=(0,o.dual)(3,(e,t,r)=>ep(e,e=>eM(t,t=>r(e,t)))),tr=z(()=>{let e=setInterval(()=>{},0x80000000-1);return eB(()=>clearInterval(e))}),tn=e=>ep(eh,t=>(0,o.pipe)(e,ta(t))),ta=(0,o.dual)(2,(e,t)=>ep(e.interruptAsFork(t),()=>e.await)),ti={_tag:"All",syslog:0,label:"ALL",ordinal:Number.MIN_SAFE_INTEGER,pipe(){return(0,m.pipeArguments)(this,arguments)}},tl={_tag:"Fatal",syslog:2,label:"FATAL",ordinal:5e4,pipe(){return(0,m.pipeArguments)(this,arguments)}},ts={_tag:"Error",syslog:3,label:"ERROR",ordinal:4e4,pipe(){return(0,m.pipeArguments)(this,arguments)}},to={_tag:"Warning",syslog:4,label:"WARN",ordinal:3e4,pipe(){return(0,m.pipeArguments)(this,arguments)}},tu={_tag:"Info",syslog:6,label:"INFO",ordinal:2e4,pipe(){return(0,m.pipeArguments)(this,arguments)}},tc={_tag:"Debug",syslog:7,label:"DEBUG",ordinal:1e4,pipe(){return(0,m.pipeArguments)(this,arguments)}},tf={_tag:"Trace",syslog:7,label:"TRACE",ordinal:0,pipe(){return(0,m.pipeArguments)(this,arguments)}},th={_tag:"None",syslog:7,label:"OFF",ordinal:Number.MAX_SAFE_INTEGER,pipe(){return(0,m.pipeArguments)(this,arguments)}},td=[ti,tf,tc,tu,to,ts,tl,th],tp=Symbol.for("effect/FiberRef"),tg={_A:e=>e},tm=e=>D(t=>r3(t.getFiberRef(e))),ty=(0,o.dual)(2,(e,t)=>tk(e,e=>[e,t])),t_=(0,o.dual)(2,(e,t)=>tk(e,e=>[e,t(e)])),tb=(0,o.dual)(2,(e,t)=>tk(e,e=>[e,g.getOrElse(t(e),()=>e)])),tS=(0,o.dual)(2,(e,t)=>ep(tm(e),t)),tO=(0,o.dual)(2,(e,t)=>tk(e,()=>[void 0,t])),tE=e=>D(t=>(t.unsafeDeleteFiberRef(e),eY)),tv=e=>tO(e,e.initial),tk=(0,o.dual)(2,(e,t)=>D(r=>{let[n,a]=t(r.getFiberRef(e));return r.setFiberRef(e,a),eD(n)})),tI=(e,t,r)=>tk(e,e=>g.getOrElse(r(e),()=>[t,e])),tN=(0,o.dual)(2,(e,t)=>tk(e,e=>[void 0,t(e)])),tA=(0,o.dual)(2,(e,t)=>tk(e,e=>[void 0,g.getOrElse(t(e),()=>e)])),tw=(0,o.dual)(2,(e,t)=>tk(e,e=>{let r=t(e);return[r,r]})),tC=(0,o.dual)(2,(e,t)=>tk(e,e=>{let r=g.getOrElse(t(e),()=>e);return[r,r]})),tM=Symbol.for("effect/RequestResolver"),tR={_A:e=>e,_R:e=>e};class tx{runAll;target;[tM]=tR;constructor(e,t){this.runAll=e,this.target=t}[c.symbol](){return c.cached(this,this.target?c.hash(this.target):c.random(this))}[l.symbol](e){return this.target?tT(e)&&l.equals(this.target,e.target):this===e}identified(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return new tx(this.runAll,r.fromIterable(t))}pipe(){return(0,m.pipeArguments)(this,arguments)}}let tT=e=>(0,y.hasProperty)(e,tM),tj=(0,o.dual)(3,(e,t,r)=>V(e7(tm(t),tO(t,r)),()=>e,e=>tO(t,e))),tP=(0,o.dual)(3,(e,t,r)=>tS(t,n=>tj(e,t,r(n)))),tF=(e,t)=>tq(e,{differ:A.update(),fork:t?.fork??o.identity,join:t?.join}),tL=e=>{let t=A.hashSet();return tq(e,{differ:t,fork:t.empty})},tU=e=>{let t=A.environment();return tq(e,{differ:t,fork:t.empty})},tq=(e,t)=>({...w.CommitPrototype,[tp]:tg,initial:e,commit(){return tm(this)},diff:(e,r)=>t.differ.diff(e,r),combine:(e,r)=>t.differ.combine(e,r),patch:e=>r=>t.differ.patch(e,r),fork:t.fork,join:t.join??((e,t)=>t)}),tJ=e=>tq(e,{differ:R.differ,fork:R.differ.empty}),tD=(0,u.globalValue)(Symbol.for("effect/FiberRef/currentContext"),()=>tU(n.empty())),tV=(0,u.globalValue)(Symbol.for("effect/FiberRef/currentSchedulingPriority"),()=>tF(0)),tB=(0,u.globalValue)(Symbol.for("effect/FiberRef/currentMaxOpsBeforeYield"),()=>tF(2048)),tW=(0,u.globalValue)(Symbol.for("effect/FiberRef/currentLogAnnotation"),()=>tF(f.empty())),tG=(0,u.globalValue)(Symbol.for("effect/FiberRef/currentLogLevel"),()=>tF(tu)),t$=(0,u.globalValue)(Symbol.for("effect/FiberRef/currentLogSpan"),()=>tF(d.empty())),tz=(0,o.dual)(2,(e,t)=>tj(e,tV,t)),tH=(0,o.dual)(2,(e,t)=>tj(e,tB,t)),tY=(0,u.globalValue)(Symbol.for("effect/FiberRef/currentConcurrency"),()=>tF("unbounded")),tK=(0,u.globalValue)(Symbol.for("effect/FiberRef/currentRequestBatching"),()=>tF(!0)),tZ=(0,u.globalValue)(Symbol.for("effect/FiberRef/currentUnhandledErrorLogLevel"),()=>tF(g.some(tc))),tX=(0,o.dual)(2,(e,t)=>tj(e,tZ,t)),tQ=(0,u.globalValue)(Symbol.for("effect/FiberRef/currentMetricLabels"),()=>(e=>{let t=A.readonlyArray(A.update());return tq(e,{differ:t,fork:t.empty})})(t.empty())),t0=tm(tQ),t2=(0,u.globalValue)(Symbol.for("effect/FiberRef/currentForkScopeOverride"),()=>tF(g.none(),{fork:()=>g.none(),join:(e,t)=>e})),t1=(0,u.globalValue)(Symbol.for("effect/FiberRef/currentInterruptedCause"),()=>tF(S.empty,{fork:()=>S.empty,join:(e,t)=>e})),t3=(0,u.globalValue)(Symbol.for("effect/FiberRef/currentTracerEnabled"),()=>tF(!0)),t6=(0,u.globalValue)(Symbol.for("effect/FiberRef/currentTracerTiming"),()=>tF(!0)),t5=(0,u.globalValue)(Symbol.for("effect/FiberRef/currentTracerSpanAnnotations"),()=>tF(f.empty())),t8=(0,u.globalValue)(Symbol.for("effect/FiberRef/currentTracerSpanLinks"),()=>tF(r.empty())),t4=Symbol.for("effect/Scope"),t9=Symbol.for("effect/CloseableScope"),t7=(e,t)=>e.addFinalizer(()=>W(t)),re=(e,t)=>e.addFinalizer(t),rt=(e,t)=>e.close(t),rr=(e,t)=>e.fork(t),rn=e=>ra(o.identity)(e),ra=(0,o.dual)(2,(e,n)=>{let a=(0,o.pipe)(e,S.failureOption,g.map(n));switch(a._tag){case"None":return(0,o.pipe)(S.defects(e),r.head,g.match({onNone:()=>{let r=t.fromIterable(S.interruptors(e)).flatMap(e=>t.fromIterable(s.ids(e)).map(e=>`#${e}`));return new rf(r?`Interrupted by fibers: ${r.join(", ")}`:void 0)},onSome:o.identity}));case"Some":return a.value}}),ri=function(){class e extends globalThis.Error{commit(){return eo(this)}toJSON(){let e={...this};return this.message&&(e.message=this.message),this.cause&&(e.cause=this.cause),e}[h.NodeInspectSymbol](){return this.toString!==globalThis.Error.prototype.toString?this.stack?`${this.toString()}
${this.stack.split("\n").slice(1).join("\n")}`:this.toString():"Bun"in globalThis?S.pretty(S.fail(this),{renderErrorCause:!0}):this}}return Object.assign(e.prototype,w.StructuralCommitPrototype),e}(),rl=(e,t)=>{class r extends ri{_tag=t}return Object.assign(r.prototype,e),r.prototype.name=t,r},rs=Symbol.for("effect/Cause/errors/RuntimeException"),ro=rl({[rs]:rs},"RuntimeException"),ru=e=>(0,y.hasProperty)(e,rs),rc=Symbol.for("effect/Cause/errors/InterruptedException"),rf=rl({[rc]:rc},"InterruptedException"),rh=e=>(0,y.hasProperty)(e,rc),rd=Symbol.for("effect/Cause/errors/IllegalArgument"),rp=rl({[rd]:rd},"IllegalArgumentException"),rg=e=>(0,y.hasProperty)(e,rd),rm=Symbol.for("effect/Cause/errors/NoSuchElement"),ry=rl({[rm]:rm},"NoSuchElementException"),r_=e=>(0,y.hasProperty)(e,rm),rb=Symbol.for("effect/Cause/errors/InvalidPubSubCapacityException"),rS=rl({[rb]:rb},"InvalidPubSubCapacityException"),rO=Symbol.for("effect/Cause/errors/ExceededCapacityException"),rE=rl({[rO]:rO},"ExceededCapacityException"),rv=e=>(0,y.hasProperty)(e,rO),rk=Symbol.for("effect/Cause/errors/Timeout"),rI=rl({[rk]:rk},"TimeoutException"),rN=e=>new rI(`Operation timed out after '${a.format(e)}'`),rA=e=>(0,y.hasProperty)(e,rk),rw=Symbol.for("effect/Cause/errors/UnknownException"),rC=function(){class e extends ri{_tag="UnknownException";error;constructor(e,t){super(t??"An unknown error occurred",{cause:e}),this.error=e}}return Object.assign(e.prototype,{[rw]:rw,name:"UnknownException"}),e}(),rM=e=>(0,y.hasProperty)(e,rw),rR=e=>J(e)&&"_tag"in e&&("Success"===e._tag||"Failure"===e._tag),rx=e=>"Failure"===e._tag,rT=e=>"Success"===e._tag,rj=e=>{switch(e._tag){case M.OP_FAILURE:return S.isInterrupted(e.effect_instruction_i0);case M.OP_SUCCESS:return!1}},rP=(0,o.dual)(2,(e,t)=>{switch(e._tag){case M.OP_FAILURE:return rV(e.effect_instruction_i0);case M.OP_SUCCESS:return r3(t)}}),rF=e=>rP(e,void 0),rL=e=>{switch(e._tag){case M.OP_FAILURE:return g.some(e.effect_instruction_i0);case M.OP_SUCCESS:return g.none()}},rU=(e,t)=>nr(e,t?.parallel?S.parallel:S.sequential),rq=e=>rV(S.die(e)),rJ=(0,o.dual)(2,(e,t)=>{switch(e._tag){case M.OP_FAILURE:return!1;case M.OP_SUCCESS:return t(e.effect_instruction_i0)}}),rD=e=>rV(S.fail(e)),rV=e=>{let t=new U(M.OP_FAILURE);return t.effect_instruction_i0=e,t},rB=(0,o.dual)(2,(e,t)=>{switch(e._tag){case M.OP_FAILURE:return rV(e.effect_instruction_i0);case M.OP_SUCCESS:return t(e.effect_instruction_i0)}}),rW=(0,o.dual)(2,(e,t)=>{switch(e._tag){case M.OP_FAILURE:return eD(rV(e.effect_instruction_i0));case M.OP_SUCCESS:return t(e.effect_instruction_i0)}}),rG=e=>(0,o.pipe)(e,rB(o.identity)),r$=(0,o.dual)(2,(e,t)=>{switch(e._tag){case M.OP_FAILURE:return eD(rV(e.effect_instruction_i0));case M.OP_SUCCESS:return es(t(e.effect_instruction_i0))}}),rz=e=>{switch(e._tag){case"Left":return rD(e.left);case"Right":return r3(e.right)}},rH=e=>{switch(e._tag){case"None":return rD(void 0);case"Some":return r3(e.value)}},rY=(0,o.dual)(2,(e,t)=>{switch(e._tag){case M.OP_FAILURE:return t(e.effect_instruction_i0);case M.OP_SUCCESS:return e.effect_instruction_i0}}),rK=e=>rV(S.interrupt(e)),rZ=(0,o.dual)(2,(e,t)=>{switch(e._tag){case M.OP_FAILURE:return rV(e.effect_instruction_i0);case M.OP_SUCCESS:return r3(t(e.effect_instruction_i0))}}),rX=(0,o.dual)(2,(e,t)=>{let{onFailure:r,onSuccess:n}=t;switch(e._tag){case M.OP_FAILURE:return rV((0,o.pipe)(e.effect_instruction_i0,S.map(r)));case M.OP_SUCCESS:return r3(n(e.effect_instruction_i0))}}),rQ=(0,o.dual)(2,(e,t)=>{switch(e._tag){case M.OP_FAILURE:return rV((0,o.pipe)(e.effect_instruction_i0,S.map(t)));case M.OP_SUCCESS:return r3(e.effect_instruction_i0)}}),r0=(0,o.dual)(2,(e,t)=>{switch(e._tag){case M.OP_FAILURE:return rV(t(e.effect_instruction_i0));case M.OP_SUCCESS:return r3(e.effect_instruction_i0)}}),r2=(0,o.dual)(2,(e,t)=>{let{onFailure:r,onSuccess:n}=t;switch(e._tag){case M.OP_FAILURE:return r(e.effect_instruction_i0);case M.OP_SUCCESS:return n(e.effect_instruction_i0)}}),r1=(0,o.dual)(2,(e,t)=>{let{onFailure:r,onSuccess:n}=t;switch(e._tag){case M.OP_FAILURE:return r(e.effect_instruction_i0);case M.OP_SUCCESS:return n(e.effect_instruction_i0)}}),r3=e=>{let t=new q(M.OP_SUCCESS);return t.effect_instruction_i0=e,t},r6=r3(void 0),r5=(0,o.dual)(2,(e,t)=>nt(e,t,{onSuccess:(e,t)=>[e,t],onFailure:S.sequential})),r8=(0,o.dual)(2,(e,t)=>nt(e,t,{onSuccess:(e,t)=>e,onFailure:S.sequential})),r4=(0,o.dual)(2,(e,t)=>nt(e,t,{onSuccess:(e,t)=>t,onFailure:S.sequential})),r9=(0,o.dual)(2,(e,t)=>nt(e,t,{onSuccess:(e,t)=>[e,t],onFailure:S.parallel})),r7=(0,o.dual)(2,(e,t)=>nt(e,t,{onSuccess:(e,t)=>e,onFailure:S.parallel})),ne=(0,o.dual)(2,(e,t)=>nt(e,t,{onSuccess:(e,t)=>t,onFailure:S.parallel})),nt=(0,o.dual)(3,(e,t,r)=>{let{onFailure:n,onSuccess:a}=r;switch(e._tag){case M.OP_FAILURE:switch(t._tag){case M.OP_SUCCESS:return rV(e.effect_instruction_i0);case M.OP_FAILURE:return rV(n(e.effect_instruction_i0,t.effect_instruction_i0))}case M.OP_SUCCESS:switch(t._tag){case M.OP_SUCCESS:return r3(a(e.effect_instruction_i0,t.effect_instruction_i0));case M.OP_FAILURE:return rV(t.effect_instruction_i0)}}}),nr=(e,n)=>{let a=r.fromIterable(e);return r.isNonEmpty(a)?(0,o.pipe)(r.tailNonEmpty(a),t.reduce((0,o.pipe)(r.headNonEmpty(a),rZ(r.of)),(e,t)=>(0,o.pipe)(e,nt(t,{onSuccess:(e,t)=>(0,o.pipe)(e,r.prepend(t)),onFailure:n}))),rZ(r.reverse),rZ(e=>r.toReadonlyArray(e)),g.some):g.none()},nn=e=>({...w.CommitPrototype,[v]:k,state:p.make(I([])),commit(){return nl(this)},blockingOn:e}),na=()=>ep(eh,e=>ni(e)),ni=e=>eB(()=>nn(e)),nl=e=>z(t=>{let r=p.get(e.state);switch(r._tag){case E:return t(r.effect);case O:return r.joiners.push(t),nv(e,t)}},e.blockingOn),ns=(0,o.dual)(2,(e,t)=>eC(t,e)),no=(0,o.dual)(2,(e,t)=>eB(()=>{let r=p.get(e.state);switch(r._tag){case E:return!1;case O:p.set(e.state,N(t));for(let e=0,n=r.joiners.length;e<n;e++)r.joiners[e](t);return!0}})),nu=(0,o.dual)(2,(e,t)=>no(e,t)),nc=(0,o.dual)(2,(e,t)=>no(e,eo(t))),nf=(0,o.dual)(2,(e,t)=>no(e,eu(t))),nh=(0,o.dual)(2,(e,t)=>no(e,ec(t))),nd=(0,o.dual)(2,(e,t)=>no(e,ef(t))),np=(0,o.dual)(2,(e,t)=>no(e,en(t))),ng=(0,o.dual)(2,(e,t)=>no(e,ei(t))),nm=e=>ep(eh,t=>no(e,eN(t))),ny=(0,o.dual)(2,(e,t)=>no(e,eN(t))),n_=e=>eB(()=>p.get(e.state)._tag===E),nb=e=>eB(()=>{let t=p.get(e.state);switch(t._tag){case E:return g.some(t.effect);case O:return g.none()}}),nS=(0,o.dual)(2,(e,t)=>no(e,eD(t))),nO=(0,o.dual)(2,(e,t)=>no(e,eB(t))),nE=(e,t)=>{let r=p.get(e.state);if(r._tag===O){p.set(e.state,N(t));for(let e=0,n=r.joiners.length;e<n;e++)r.joiners[e](t)}},nv=(e,t)=>eB(()=>{let r=p.get(e.state);if(r._tag===O){let e=r.joiners.indexOf(t);e>=0&&r.joiners.splice(e,1)}}),nk=D(e=>r3(e.currentContext)),nI=()=>nk,nN=e=>ep(nI(),e),nA=(0,o.dual)(2,(e,t)=>tj(tD,t)(e)),nw=(0,o.dual)(2,(e,t)=>tP(tD,e=>n.merge(e,t))(e)),nC=(0,o.dual)(2,(e,t)=>nN(r=>nA(e,t(r)))),nM=(0,o.dual)(2,(e,t)=>ep(e,e=>ep(t.predicate(e),r=>r?eD(e):t.orElse(e)))),nR=(0,o.dual)(2,(e,t)=>nM(e,{predicate:t.predicate,orElse:e=>eo(t.orFailWith(e))})),nx=e=>{let t=e.currentSpan;return void 0!==t&&"Span"===t._tag?g.some(t):g.none()},nT={_tag:"Span",spanId:"noop",traceId:"noop",sampled:!1,status:{_tag:"Ended",startTime:BigInt(0),endTime:BigInt(0),exit:r6},attributes:new Map,links:[],kind:"internal",attribute(){},event(){},end(){},addLinks(){}},nj=e=>Object.assign(Object.create(nT),e);var nP=e.i(5463801);let nF=nP.struct,nL=e=>Object.setPrototypeOf(e,w.StructuralPrototype),nU=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return nJ(t)},nq=e=>nJ(e.slice(0)),nJ=e=>Object.setPrototypeOf(e,nP.ArrayProto),nD=()=>e=>void 0===e?Object.create(w.StructuralPrototype):nF(e),nV=e=>t=>{let r=void 0===t?Object.create(w.StructuralPrototype):nF(t);return r._tag=e,r},nB=nP.Structural,nW=e=>class extends nB{_tag=e},nG=nP.Structural,n$=()=>new Proxy({},{get:(e,t,r)=>"$is"===t?y.isTagged:"$match"===t?nz:nV(t)});function nz(){if(1==arguments.length){let e=arguments[0];return function(t){return e[t._tag](t)}}let e=arguments[0],t=arguments[1];return t[e._tag](e)}let nH=function(){let e=Symbol.for("effect/Data/Error/plainArgs");return({BaseEffectError:class extends ri{constructor(t){super(t?.message,t?.cause?{cause:t.cause}:void 0),t&&(Object.assign(this,t),Object.defineProperty(this,e,{value:t,enumerable:!1}))}toJSON(){return{...this[e],...this}}}}).BaseEffectError}(),nY=e=>{let t={BaseEffectError:class extends nH{_tag=e}};return t.BaseEffectError.prototype.name=e,t.BaseEffectError}},[6243897,7437580,9784266]]}]);

//# sourceMappingURL=1c779692f5c929fb.js.map
//# debugId=525dfc8e-de93-5f1b-b7eb-4f5fcab9bea4
