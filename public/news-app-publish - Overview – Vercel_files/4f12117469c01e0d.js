
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="5c6acfca-00fb-5493-875b-0eff9dff783f")}catch(e){}}();
(globalThis.TURBOPACK=globalThis.TURBOPACK||[]).push(["object"==typeof document?document.currentScript:void 0,{4696079:e=>{var{m:t,e:n}=e,r=e.i(442955);!function(n){var i=Object.hasOwnProperty,s=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},o="object"==typeof r.default&&"function"==typeof r.default.nextTick,a="function"==typeof Symbol,l="object"==typeof Reflect,c="function"==typeof setImmediate?setImmediate:setTimeout,u=a?l&&"function"==typeof Reflect.ownKeys?Reflect.ownKeys:function(e){var t=Object.getOwnPropertyNames(e);return t.push.apply(t,Object.getOwnPropertySymbols(e)),t}:Object.keys;function h(){this._events={},this._conf&&d.call(this,this._conf)}function d(e){e&&(this._conf=e,e.delimiter&&(this.delimiter=e.delimiter),e.maxListeners!==n&&(this._maxListeners=e.maxListeners),e.wildcard&&(this.wildcard=e.wildcard),e.newListener&&(this._newListener=e.newListener),e.removeListener&&(this._removeListener=e.removeListener),e.verboseMemoryLeak&&(this.verboseMemoryLeak=e.verboseMemoryLeak),e.ignoreErrors&&(this.ignoreErrors=e.ignoreErrors),this.wildcard&&(this.listenerTree={}))}function f(e,t){var n="(node) warning: possible EventEmitter memory leak detected. "+e+" listeners added. Use emitter.setMaxListeners() to increase limit.";if(this.verboseMemoryLeak&&(n+=" Event name: "+t+"."),void 0!==r.default&&r.default.emitWarning){var i=Error(n);i.name="MaxListenersExceededWarning",i.emitter=this,i.count=e,r.default.emitWarning(i)}else console.error(n),console.trace&&console.trace()}var p=function(e,t,n){var r=arguments.length;switch(r){case 0:return[];case 1:return[e];case 2:return[e,t];case 3:return[e,t,n];default:for(var i=Array(r);r--;)i[r]=arguments[r];return i}};function m(e,t){for(var r={},i=e.length,s=t?value.length:0,o=0;o<i;o++)r[e[o]]=o<s?t[o]:n;return r}function g(e,t,n){if(this._emitter=e,this._target=t,this._listeners={},this._listenersCount=0,(n.on||n.off)&&(r=n.on,i=n.off),t.addEventListener?(r=t.addEventListener,i=t.removeEventListener):t.addListener?(r=t.addListener,i=t.removeListener):t.on&&(r=t.on,i=t.off),!r&&!i)throw Error("target does not implement any known event API");if("function"!=typeof r)throw TypeError("on method must be a function");if("function"!=typeof i)throw TypeError("off method must be a function");this._on=r,this._off=i;var r,i,s=e._observers;s?s.push(this):e._observers=[this]}function v(e,t,r,s){var o,a,l,c=Object.assign({},t);if(!e)return c;if("object"!=typeof e)throw TypeError("options must be an object");var u=Object.keys(e),h=u.length;function d(e){throw Error('Invalid "'+o+'" option value'+(e?". Reason: "+e:""))}for(var f=0;f<h;f++){if(o=u[f],!s&&!i.call(t,o))throw Error('Unknown "'+o+'" option');n!==(a=e[o])&&(l=r[o],c[o]=l?l(a,d):a)}return c}function y(e,t){return"function"==typeof e&&e.hasOwnProperty("prototype")||t("value must be a constructor"),e}function b(e){var t="value must be type of "+e.join("|"),n=e.length,r=e[0],i=e[1];return 1===n?function(e,n){if(typeof e===r)return e;n(t)}:2===n?function(e,n){var s=typeof e;if(s===r||s===i)return e;n(t)}:function(r,i){for(var s=typeof r,o=n;o-- >0;)if(s===e[o])return r;i(t)}}Object.assign(g.prototype,{subscribe:function(e,t,n){var r=this,i=this._target,s=this._emitter,o=this._listeners,a=function(){var r=p.apply(null,arguments),o={data:r,name:t,original:e};if(n){!1!==n.call(i,o)&&s.emit.apply(s,[o.name].concat(r));return}s.emit.apply(s,[t].concat(r))};if(o[e])throw Error("Event '"+e+"' is already listening");this._listenersCount++,s._newListener&&s._removeListener&&!r._onNewListener?(this._onNewListener=function(n){n===t&&null===o[e]&&(o[e]=a,r._on.call(i,e,a))},s.on("newListener",this._onNewListener),this._onRemoveListener=function(n){n===t&&!s.hasListeners(n)&&o[e]&&(o[e]=null,r._off.call(i,e,a))},o[e]=null,s.on("removeListener",this._onRemoveListener)):(o[e]=a,r._on.call(i,e,a))},unsubscribe:function(e){var t,n,r,i=this,s=this._listeners,o=this._emitter,a=this._off,l=this._target;if(e&&"string"!=typeof e)throw TypeError("event must be a string");function c(){i._onNewListener&&(o.off("newListener",i._onNewListener),o.off("removeListener",i._onRemoveListener),i._onNewListener=null,i._onRemoveListener=null);var e=k.call(o,i);o._observers.splice(e,1)}if(e){if(!(t=s[e]))return;a.call(l,e,t),delete s[e],--this._listenersCount||c()}else{for(r=(n=u(s)).length;r-- >0;)e=n[r],a.call(l,e,s[e]);this._listeners={},this._listenersCount=0,c()}}});var w=b(["function"]),E=b(["object","function"]);function _(e,t,n){var r,i,s,o=0,a=new e(function(l,c,u){function h(){i&&(i=null),o&&(clearTimeout(o),o=0)}r=!(n=v(n,{timeout:0,overload:!1},{timeout:function(e,t){return("number"!=typeof(e*=1)||e<0||!Number.isFinite(e))&&t("timeout must be a positive number"),e}})).overload&&"function"==typeof e.prototype.cancel&&"function"==typeof u;var d=function(e){h(),l(e)},f=function(e){h(),c(e)};r?t(d,f,u):(i=[function(e){f(e||Error("canceled"))}],t(d,f,function(e){if(s)throw Error("Unable to subscribe on cancel event asynchronously");if("function"!=typeof e)throw TypeError("onCancel callback must be a function");i.push(e)}),s=!0),n.timeout>0&&(o=setTimeout(function(){var e=Error("timeout");e.code="ETIMEDOUT",o=0,a.cancel(e),c(e)},n.timeout))});return r||(a.cancel=function(e){if(i){for(var t=i.length,n=1;n<t;n++)i[n](e);i[0](e),i=null}}),a}function k(e){var t=this._observers;if(!t)return -1;for(var n=t.length,r=0;r<n;r++)if(t[r]._target===e)return r;return -1}function C(e,t,n,r,i){if(!n)return null;if(0===r){var s=typeof t;if("string"===s){var o,a,l=0,c=0,h=this.delimiter,d=h.length;if(-1!==(a=t.indexOf(h))){o=[,,,,,];do o[l++]=t.slice(c,a),c=a+d;while(-1!==(a=t.indexOf(h,c)))o[l++]=t.slice(c),t=o,i=l}else t=[t],i=1}else"object"===s?i=t.length:(t=[t],i=1)}var f,p,m,g,v,y,b,w=null,E=t[r],_=t[r+1];if(r===i)n._listeners&&("function"==typeof n._listeners?e&&e.push(n._listeners):e&&e.push.apply(e,n._listeners),w=[n]);else if("*"===E){for(a=(y=u(n)).length;a-- >0;)"_listeners"!==(f=y[a])&&(b=C(e,t,n[f],r+1,i))&&(w?w.push.apply(w,b):w=b);return w}else if("**"===E){for((v=r+1===i||r+2===i&&"*"===_)&&n._listeners&&(w=C(e,t,n,i,i)),a=(y=u(n)).length;a-- >0;)"_listeners"!==(f=y[a])&&("*"===f||"**"===f?(n[f]._listeners&&!v&&(b=C(e,t,n[f],i,i))&&(w?w.push.apply(w,b):w=b),b=C(e,t,n[f],r,i)):b=f===_?C(e,t,n[f],r+2,i):C(e,t,n[f],r,i),b&&(w?w.push.apply(w,b):w=b));return w}else n[E]&&(w=C(e,t,n[E],r+1,i));if((p=n["*"])&&C(e,t,p,r+1,i),m=n["**"])if(r<i)for(m._listeners&&C(e,t,m,i,i),a=(y=u(m)).length;a-- >0;)"_listeners"!==(f=y[a])&&(f===_?C(e,t,m[f],r+2,i):f===E?C(e,t,m[f],r+1,i):((g={})[f]=m[f],C(e,t,{"**":g},r+1,i)));else m._listeners?C(e,t,m,i,i):m["*"]&&m["*"]._listeners&&C(e,t,m["*"],i,i);return w}function T(e,t,n){var r,i,s=0,o=0,a=this.delimiter,l=a.length;if("string"==typeof e)if(-1!==(r=e.indexOf(a))){i=[,,,,,];do i[s++]=e.slice(o,r),o=r+l;while(-1!==(r=e.indexOf(a,o)))i[s++]=e.slice(o)}else i=[e],s=1;else i=e,s=e.length;if(s>1){for(r=0;r+1<s;r++)if("**"===i[r]&&"**"===i[r+1])return}var c,u=this.listenerTree;for(r=0;r<s;r++)if(u=u[c=i[r]]||(u[c]={}),r===s-1){u._listeners?("function"==typeof u._listeners&&(u._listeners=[u._listeners]),n?u._listeners.unshift(t):u._listeners.push(t),!u._listeners.warned&&this._maxListeners>0&&u._listeners.length>this._maxListeners&&(u._listeners.warned=!0,f.call(this,u._listeners.length,c))):u._listeners=t;break}return!0}function R(e,t,n,r){for(var i,s,o,a,l=u(e),c=l.length,h=e._listeners;c-- >0;)i=e[s=l[c]],o="_listeners"===s?n:n?n.concat(s):[s],a=r||"symbol"==typeof s,h&&t.push(a?o:o.join(this.delimiter)),"object"==typeof i&&R.call(this,i,t,o,a);return t}function S(e){for(var t,n,r,i=u(e),s=i.length;s-- >0;)(t=e[n=i[s]])&&(r=!0,"_listeners"===n||S(t)||delete e[n]);return r}function O(e,t,n){this.emitter=e,this.event=t,this.listener=n}function A(e,t,i){if(!0===i)a=!0;else if(!1===i)s=!0;else{if(!i||"object"!=typeof i)throw TypeError("options should be an object or true");var s=i.async,a=i.promisify,l=i.nextTick,u=i.objectify}if(s||l||a){var h=t,d=t._origin||t;if(l&&!o)throw Error("process.nextTick is not supported");n===a&&(a="AsyncFunction"===t.constructor.name),(t=function(){var e=arguments,t=this,n=this.event;return a?l?Promise.resolve():new Promise(function(e){c(e)}).then(function(){return t.event=n,h.apply(t,e)}):(l?r.default.nextTick:c)(function(){t.event=n,h.apply(t,e)})})._async=!0,t._origin=d}return[t,u?new O(this,e,t):this]}function L(e){this._events={},this._newListener=!1,this._removeListener=!1,this.verboseMemoryLeak=!1,d.call(this,e)}O.prototype.off=function(){return this.emitter.off(this.event,this.listener),this},L.EventEmitter2=L,L.prototype.listenTo=function(e,t,r){if("object"!=typeof e)throw TypeError("target musts be an object");var i=this;return r=v(r,{on:n,off:n,reducers:n},{on:w,off:w,reducers:E}),function(t){if("object"!=typeof t)throw TypeError("events must be an object");var n,s,o=r.reducers,a=k.call(i,e);n=-1===a?new g(i,e,r):i._observers[a];for(var l=u(t),c=l.length,h="function"==typeof o,d=0;d<c;d++)s=l[d],n.subscribe(s,t[s]||s,h?o:o&&o[s])}(s(t)?m(t):"string"==typeof t?m(t.split(/\s+/)):t),this},L.prototype.stopListeningTo=function(e,t){var n,r=this._observers;if(!r)return!1;var i=r.length,s=!1;if(e&&"object"!=typeof e)throw TypeError("target should be an object");for(;i-- >0;)n=r[i],e&&n._target!==e||(n.unsubscribe(t),s=!0);return s},L.prototype.delimiter=".",L.prototype.setMaxListeners=function(e){n!==e&&(this._maxListeners=e,this._conf||(this._conf={}),this._conf.maxListeners=e)},L.prototype.getMaxListeners=function(){return this._maxListeners},L.prototype.event="",L.prototype.once=function(e,t,n){return this._once(e,t,!1,n)},L.prototype.prependOnceListener=function(e,t,n){return this._once(e,t,!0,n)},L.prototype._once=function(e,t,n,r){return this._many(e,1,t,n,r)},L.prototype.many=function(e,t,n,r){return this._many(e,t,n,!1,r)},L.prototype.prependMany=function(e,t,n,r){return this._many(e,t,n,!0,r)},L.prototype._many=function(e,t,n,r,i){var s=this;if("function"!=typeof n)throw Error("many only accepts instances of Function");function o(){return 0==--t&&s.off(e,o),n.apply(this,arguments)}return o._origin=n,this._on(e,o,r,i)},L.prototype.emit=function(){if(!this._events&&!this._all)return!1;this._events||h.call(this);var e,t,n,r,i,s,o,l=arguments[0],c=this.wildcard;if("newListener"===l&&!this._newListener&&!this._events.newListener)return!1;if(c&&(o=l,"newListener"!==l&&"removeListener"!==l&&"object"==typeof l)){if(t=l.length,a){for(n=0;n<t;n++)if("symbol"==typeof l[n]){i=!0;break}}i||(l=l.join(this.delimiter))}var u=arguments.length;if(this._all&&this._all.length)for(n=0,t=(s=this._all.slice()).length;n<t;n++)switch(this.event=l,u){case 1:s[n].call(this,l);break;case 2:s[n].call(this,l,arguments[1]);break;case 3:s[n].call(this,l,arguments[1],arguments[2]);break;default:s[n].apply(this,arguments)}if(c)s=[],C.call(this,s,o,this.listenerTree,0,t);else if("function"==typeof(s=this._events[l])){switch(this.event=l,u){case 1:s.call(this);break;case 2:s.call(this,arguments[1]);break;case 3:s.call(this,arguments[1],arguments[2]);break;default:for(r=1,e=Array(u-1);r<u;r++)e[r-1]=arguments[r];s.apply(this,e)}return!0}else s&&(s=s.slice());if(s&&s.length){if(u>3)for(r=1,e=Array(u-1);r<u;r++)e[r-1]=arguments[r];for(n=0,t=s.length;n<t;n++)switch(this.event=l,u){case 1:s[n].call(this);break;case 2:s[n].call(this,arguments[1]);break;case 3:s[n].call(this,arguments[1],arguments[2]);break;default:s[n].apply(this,e)}return!0}if(!this.ignoreErrors&&!this._all&&"error"===l)if(arguments[1]instanceof Error)throw arguments[1];else throw Error("Uncaught, unspecified 'error' event.");return!!this._all},L.prototype.emitAsync=function(){if(!this._events&&!this._all)return!1;this._events||h.call(this);var e,t,n,r,i,s,o,l=arguments[0],c=this.wildcard;if("newListener"===l&&!this._newListener&&!this._events.newListener)return Promise.resolve([!1]);if(c&&(s=l,"newListener"!==l&&"removeListener"!==l&&"object"==typeof l)){if(t=l.length,a){for(n=0;n<t;n++)if("symbol"==typeof l[n]){o=!0;break}}o||(l=l.join(this.delimiter))}var u=[],d=arguments.length;if(this._all)for(n=0,t=this._all.length;n<t;n++)switch(this.event=l,d){case 1:u.push(this._all[n].call(this,l));break;case 2:u.push(this._all[n].call(this,l,arguments[1]));break;case 3:u.push(this._all[n].call(this,l,arguments[1],arguments[2]));break;default:u.push(this._all[n].apply(this,arguments))}if(c?(i=[],C.call(this,i,s,this.listenerTree,0)):i=this._events[l],"function"==typeof i)switch(this.event=l,d){case 1:u.push(i.call(this));break;case 2:u.push(i.call(this,arguments[1]));break;case 3:u.push(i.call(this,arguments[1],arguments[2]));break;default:for(r=1,e=Array(d-1);r<d;r++)e[r-1]=arguments[r];u.push(i.apply(this,e))}else if(i&&i.length){if(i=i.slice(),d>3)for(r=1,e=Array(d-1);r<d;r++)e[r-1]=arguments[r];for(n=0,t=i.length;n<t;n++)switch(this.event=l,d){case 1:u.push(i[n].call(this));break;case 2:u.push(i[n].call(this,arguments[1]));break;case 3:u.push(i[n].call(this,arguments[1],arguments[2]));break;default:u.push(i[n].apply(this,e))}}else if(!this.ignoreErrors&&!this._all&&"error"===l)if(arguments[1]instanceof Error)return Promise.reject(arguments[1]);else return Promise.reject("Uncaught, unspecified 'error' event.");return Promise.all(u)},L.prototype.on=function(e,t,n){return this._on(e,t,!1,n)},L.prototype.prependListener=function(e,t,n){return this._on(e,t,!0,n)},L.prototype.onAny=function(e){return this._onAny(e,!1)},L.prototype.prependAny=function(e){return this._onAny(e,!0)},L.prototype.addListener=L.prototype.on,L.prototype._onAny=function(e,t){if("function"!=typeof e)throw Error("onAny only accepts instances of Function");return this._all||(this._all=[]),t?this._all.unshift(e):this._all.push(e),this},L.prototype._on=function(e,t,r,i){if("function"==typeof e)return this._onAny(e,t),this;if("function"!=typeof t)throw Error("on only accepts instances of Function");this._events||h.call(this);var s,o=this;return(n!==i&&(t=(s=A.call(this,e,t,i))[0],o=s[1]),this._newListener&&this.emit("newListener",e,t),this.wildcard)?T.call(this,e,t,r):this._events[e]?("function"==typeof this._events[e]&&(this._events[e]=[this._events[e]]),r?this._events[e].unshift(t):this._events[e].push(t),!this._events[e].warned&&this._maxListeners>0&&this._events[e].length>this._maxListeners&&(this._events[e].warned=!0,f.call(this,this._events[e].length,e))):this._events[e]=t,o},L.prototype.off=function(e,t){if("function"!=typeof t)throw Error("removeListener only takes instances of Function");var n,r=[];if(this.wildcard){var i="string"==typeof e?e.split(this.delimiter):e.slice();if(!(r=C.call(this,null,i,this.listenerTree,0)))return this}else{if(!this._events[e])return this;n=this._events[e],r.push({_listeners:n})}for(var o=0;o<r.length;o++){var a=r[o];if(s(n=a._listeners)){for(var l=-1,c=0,u=n.length;c<u;c++)if(n[c]===t||n[c].listener&&n[c].listener===t||n[c]._origin&&n[c]._origin===t){l=c;break}if(l<0)continue;return this.wildcard?a._listeners.splice(l,1):this._events[e].splice(l,1),0===n.length&&(this.wildcard?delete a._listeners:delete this._events[e]),this._removeListener&&this.emit("removeListener",e,t),this}(n===t||n.listener&&n.listener===t||n._origin&&n._origin===t)&&(this.wildcard?delete a._listeners:delete this._events[e],this._removeListener&&this.emit("removeListener",e,t))}return this.listenerTree&&S(this.listenerTree),this},L.prototype.offAny=function(e){var t,n=0,r=0;if(e&&this._all&&this._all.length>0){for(n=0,r=(t=this._all).length;n<r;n++)if(e===t[n]){t.splice(n,1),this._removeListener&&this.emit("removeListenerAny",e);break}}else{if(t=this._all,this._removeListener)for(n=0,r=t.length;n<r;n++)this.emit("removeListenerAny",t[n]);this._all=[]}return this},L.prototype.removeListener=L.prototype.off,L.prototype.removeAllListeners=function(e){if(n===e)return this._events&&h.call(this),this;if(this.wildcard){var t,r=C.call(this,null,e,this.listenerTree,0);if(!r)return this;for(t=0;t<r.length;t++)r[t]._listeners=null;this.listenerTree&&S(this.listenerTree)}else this._events&&(this._events[e]=null);return this},L.prototype.listeners=function(e){var t,r,i,s,o,a=this._events;if(n===e){if(this.wildcard)throw Error("event name required for wildcard emitter");if(!a)return[];for(s=(t=u(a)).length,i=[];s-- >0;)"function"==typeof(r=a[t[s]])?i.push(r):i.push.apply(i,r);return i}if(this.wildcard){if(!(o=this.listenerTree))return[];var l=[],c="string"==typeof e?e.split(this.delimiter):e.slice();return C.call(this,l,c,o,0),l}return a&&(r=a[e])?"function"==typeof r?[r]:r:[]},L.prototype.eventNames=function(e){var t=this._events;return this.wildcard?R.call(this,this.listenerTree,[],null,e):t?u(t):[]},L.prototype.listenerCount=function(e){return this.listeners(e).length},L.prototype.hasListeners=function(e){if(this.wildcard){var t=[],r="string"==typeof e?e.split(this.delimiter):e.slice();return C.call(this,t,r,this.listenerTree,0),t.length>0}var i=this._events,s=this._all;return!!(s&&s.length||i&&(n===e?u(i).length:i[e]))},L.prototype.listenersAny=function(){return this._all?this._all:[]},L.prototype.waitFor=function(e,t){var r=this,i=typeof t;return"number"===i?t={timeout:t}:"function"===i&&(t={filter:t}),_((t=v(t,{timeout:0,filter:n,handleError:!1,Promise:Promise,overload:!1},{filter:w,Promise:y})).Promise,function(n,i,s){function o(){var s=t.filter;if(!s||s.apply(r,arguments))if(r.off(e,o),t.handleError){var a=arguments[0];a?i(a):n(p.apply(null,arguments).slice(1))}else n(p.apply(null,arguments))}s(function(){r.off(e,o)}),r._on(e,o,!1)},{timeout:t.timeout,overload:t.overload})};var j=L.prototype;if(Object.defineProperties(L,{defaultMaxListeners:{get:function(){return j._maxListeners},set:function(e){if("number"!=typeof e||e<0||Number.isNaN(e))throw TypeError("n must be a non-negative number");j._maxListeners=e},enumerable:!0},once:{value:function(e,t,n){return _((n=v(n,{Promise:Promise,timeout:0,overload:!1},{Promise:y})).Promise,function(n,r,i){if("function"==typeof e.addEventListener){s=function(){n(p.apply(null,arguments))},i(function(){e.removeEventListener(t,s)}),e.addEventListener(t,s,{once:!0});return}var s,o,a=function(){o&&e.removeListener("error",o),n(p.apply(null,arguments))};"error"!==t&&(o=function(n){e.removeListener(t,a),r(n)},e.once("error",o)),i(function(){o&&e.removeListener("error",o),e.removeListener(t,a)}),e.once(t,a)},{timeout:n.timeout,overload:n.overload})},writable:!0,configurable:!0}}),Object.defineProperties(j,{_maxListeners:{value:10,writable:!0,configurable:!0},_observers:{value:null,writable:!0,configurable:!0}}),"function"==typeof define&&define.amd)e.r,n!==L&&e.v(L);else t.exports=L}()},1931008:e=>{"use strict";var{m:t,e:n}=e,r=["ETIMEDOUT","ECONNRESET","EADDRINUSE","ESOCKETTIMEDOUT","ECONNREFUSED","EPIPE","EHOSTUNREACH","EAI_AGAIN"],i=["ENOTFOUND","ENETUNREACH","UNABLE_TO_GET_ISSUER_CERT","UNABLE_TO_GET_CRL","UNABLE_TO_DECRYPT_CERT_SIGNATURE","UNABLE_TO_DECRYPT_CRL_SIGNATURE","UNABLE_TO_DECODE_ISSUER_PUBLIC_KEY","CERT_SIGNATURE_FAILURE","CRL_SIGNATURE_FAILURE","CERT_NOT_YET_VALID","CERT_HAS_EXPIRED","CRL_NOT_YET_VALID","CRL_HAS_EXPIRED","ERROR_IN_CERT_NOT_BEFORE_FIELD","ERROR_IN_CERT_NOT_AFTER_FIELD","ERROR_IN_CRL_LAST_UPDATE_FIELD","ERROR_IN_CRL_NEXT_UPDATE_FIELD","OUT_OF_MEM","DEPTH_ZERO_SELF_SIGNED_CERT","SELF_SIGNED_CERT_IN_CHAIN","UNABLE_TO_GET_ISSUER_CERT_LOCALLY","UNABLE_TO_VERIFY_LEAF_SIGNATURE","CERT_CHAIN_TOO_LONG","CERT_REVOKED","INVALID_CA","PATH_LENGTH_EXCEEDED","INVALID_PURPOSE","CERT_UNTRUSTED","CERT_REJECTED"];t.exports=function(e){return!e||!e.code||-1!==r.indexOf(e.code)||-1===i.indexOf(e.code)}},9229924:e=>{"use strict";var{m:t,e:n}=e;Object.defineProperty(n,"__esModule",{value:!0}),n.isNetworkError=s,n.isRetryableError=l,n.isSafeRequestError=c,n.isIdempotentRequestError=u,n.isNetworkOrIdempotentRequestError=h,n.exponentialDelay=d,n.default=p;var r=function(e){return e&&e.__esModule?e:{default:e}}(e.r(1931008)),i="axios-retry";function s(e){return!e.response&&!!e.code&&"ECONNABORTED"!==e.code&&(0,r.default)(e)}var o=["get","head","options"],a=o.concat(["put","delete"]);function l(e){return"ECONNABORTED"!==e.code&&(!e.response||e.response.status>=500&&e.response.status<=599)}function c(e){return!!e.config&&l(e)&&-1!==o.indexOf(e.config.method)}function u(e){return!!e.config&&l(e)&&-1!==a.indexOf(e.config.method)}function h(e){return s(e)||u(e)}function d(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=100*Math.pow(2,e),n=.2*t*Math.random();return t+n}function f(e){var t=e[i]||{};return t.retryCount=t.retryCount||0,e[i]=t,t}function p(e,t){e.interceptors.request.use(function(e){return f(e).lastRequestTime=Date.now(),e}),e.interceptors.response.use(null,function(n){var r=n.config;if(!r)return Promise.reject(n);var s=Object.assign({},t,r[i]),o=s.retries,a=s.retryCondition,l=void 0===a?h:a,c=s.retryDelay,u=s.shouldResetTimeout,d=f(r);if(l(n)&&d.retryCount<(void 0===o?3:o)){d.retryCount+=1;var p=(void 0===c?function(){return 0}:c)(d.retryCount,n);if(e.defaults.agent===r.agent&&delete r.agent,e.defaults.httpAgent===r.httpAgent&&delete r.httpAgent,e.defaults.httpsAgent===r.httpsAgent&&delete r.httpsAgent,!(void 0!==u&&u)&&r.timeout&&d.lastRequestTime){var m=Date.now()-d.lastRequestTime;r.timeout=Math.max(r.timeout-m-p,1)}return r.transformRequest=[function(e){return e}],new Promise(function(t){return setTimeout(function(){return t(e(r))},p)})}return Promise.reject(n)})}p.isNetworkError=s,p.isSafeRequestError=c,p.isIdempotentRequestError=u,p.isNetworkOrIdempotentRequestError=h,p.exponentialDelay=d,p.isRetryableError=l},9010051:e=>{var{m:t,e:n}=e;t.exports=e.r(9229924).default},3374765:e=>{var{m:t,e:n}=e,r=0/0,i=/^\s+|\s+$/g,s=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,a=/^0o[0-7]+$/i,l=parseInt,c=globalThis&&globalThis.Object===Object&&globalThis,u="object"==typeof self&&self&&self.Object===Object&&self,h=c||u||Function("return this")(),d=Object.prototype.toString,f=Math.max,p=Math.min,m=function(){return h.Date.now()};function g(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function v(e){if("number"==typeof e)return e;if("symbol"==typeof(t=e)||t&&"object"==typeof t&&"[object Symbol]"==d.call(t))return r;if(g(e)){var t,n="function"==typeof e.valueOf?e.valueOf():e;e=g(n)?n+"":n}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(i,"");var c=o.test(e);return c||a.test(e)?l(e.slice(2),c?2:8):s.test(e)?r:+e}t.exports=function(e,t,n){var r,i,s,o,a,l,c=0,u=!1,h=!1,d=!0;if("function"!=typeof e)throw TypeError("Expected a function");function y(t){var n=r,s=i;return r=i=void 0,c=t,o=e.apply(s,n)}function b(e){var n=e-l,r=e-c;return void 0===l||n>=t||n<0||h&&r>=s}function w(){var e,n,r,i=m();if(b(i))return E(i);a=setTimeout(w,(e=i-l,n=i-c,r=t-e,h?p(r,s-n):r))}function E(e){return(a=void 0,d&&r)?y(e):(r=i=void 0,o)}function _(){var e,n=m(),s=b(n);if(r=arguments,i=this,l=n,s){if(void 0===a)return c=e=l,a=setTimeout(w,t),u?y(e):o;if(h)return a=setTimeout(w,t),y(l)}return void 0===a&&(a=setTimeout(w,t)),o}return t=v(t)||0,g(n)&&(u=!!n.leading,s=(h="maxWait"in n)?f(v(n.maxWait)||0,t):s,d="trailing"in n?!!n.trailing:d),_.cancel=function(){void 0!==a&&clearTimeout(a),c=0,r=l=i=a=void 0},_.flush=function(){return void 0===a?o:E(m())},_}},2052446:[e=>{"use strict";let t;e.s({PreferencesProvider:()=>rn,usePreferences:()=>ri},2052446),e.i(442955);var n=e.i(6645307);e.s({},8891599);var r=e.i(6530772);let i={en:{translations:{archiveNotification:"Archive this notification",markAllAsRead:"Mark all as read",notifications:"Notifications",emptyFeedTitle:"No notifications yet",emptyFeedBody:"We'll let you know when we've got something new for you.",all:"All",unread:"Unread",read:"Read",unseen:"Unseen",slackConnectChannel:"Connect channel",slackChannelId:"Slack channel ID",slackConnecting:"Connecting to Slack...",slackDisconnecting:"Disconnecting...",slackConnect:"Connect to Slack",slackConnected:"Connected",slackConnectContainerDescription:"Connect to get notifications in your Slack workspace.",slackSearchbarDisconnected:"Slack is not connected.",slackSearchbarMultipleChannels:"Multiple channels connected",slackSearchbarNoChannelsConnected:"Search channels",slackSearchbarNoChannelsFound:"No slack channels.",slackSearchbarChannelsError:"Error fetching channels.",slackSearchChannels:"Search channels",slackConnectionErrorExists:"Try reconnecting to Slack to find and select channels from your workspace.",slackConnectionErrorOccurred:"There was an error connecting to Slack. Try reconnecting to find and select channels from your workspace.",slackChannelAlreadyConnected:"Error: already connected",slackError:"Error",slackDisconnect:"Disconnect",slackChannelSetError:"Error setting channel.",slackAccessTokenNotSet:"Access token not set.",slackReconnect:"Reconnect"},locale:"en"}},s=r.default.createContext(i.en);var o=e.i(4696079),a=(e=>(e.loading="loading",e.fetchMore="fetchMore",e.ready="ready",e.error="error",e))(a||{});let l={shouldSetPage:!0,shouldAppend:!1},c={items:[],metadata:{total_count:0,unread_count:0,unseen_count:0},pageInfo:{before:null,after:null,page_size:50}};var u=Object.defineProperty,h=(e,t,n)=>(((e,t,n)=>t in e?u(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n),n);let d={archived:"exclude"};class f{constructor(e,t,n){h(this,"userFeedId"),h(this,"channel"),h(this,"broadcaster"),h(this,"defaultOptions"),h(this,"broadcastChannel"),h(this,"disconnectTimer",null),h(this,"hasSubscribedToRealTimeUpdates",!1),h(this,"visibilityChangeHandler",()=>{}),h(this,"visibilityChangeListenerConnected",!1),h(this,"store"),this.knock=e,this.feedId=t,this.feedId=t,this.userFeedId=this.buildUserFeedId(),this.store=function(e){let t,n=new Set,r=(e,r)=>{let i="function"==typeof e?e(t):e;if(i!==t){let e=t;t=r?i:Object.assign({},t,i),n.forEach(n=>n(t,e))}},i=()=>t,s=function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object.is;console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let o=r(t);function a(){let n=r(t);if(!s(o,n)){let t=o;e(o=n,t)}}return n.add(a),()=>n.delete(a)},o={setState:r,getState:i,subscribe:(e,t,r)=>t||r?s(e,t,r):(n.add(e),()=>n.delete(e)),destroy:()=>n.clear()};return t=e(r,i,o),o}(e=>({...c,networkStatus:a.ready,loading:!1,setNetworkStatus:t=>e(()=>({networkStatus:t,loading:t===a.loading})),setResult:function(t){let{entries:n,meta:r,page_info:i}=t,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l;return e(e=>({items:s.shouldAppend?(function(e){let t={};return e.reduce((e,n)=>t[n.id]?e:(t[n.id]=!0,[...e,n]),[])})(e.items.concat(n)).sort((e,t)=>new Date(t.inserted_at).getTime()-new Date(e.inserted_at).getTime()):n,metadata:r,pageInfo:s.shouldSetPage?i:e.pageInfo,loading:!1,networkStatus:a.ready}))},setMetadata:t=>e(()=>({metadata:t})),resetStore:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c.metadata;return e(()=>({...c,metadata:t}))},setItemAttrs:(t,n)=>{let r=t.reduce((e,t)=>({...e,[t]:n}),{});return e(e=>({items:e.items.map(e=>r[e.id]?{...e,...r[e.id]}:e)}))}})),this.broadcaster=new o.default({wildcard:!0,delimiter:"."}),this.defaultOptions={...d,...n},this.knock.log(`[Feed] Initialized a feed on channel ${t}`),this.initializeRealtimeConnection(),this.setupBroadcastChannel()}reinitialize(){this.userFeedId=this.buildUserFeedId(),this.initializeRealtimeConnection(),this.setupBroadcastChannel()}teardown(){this.knock.log("[Feed] Tearing down feed instance"),this.channel&&(this.channel.leave(),this.channel.off("new-message")),this.teardownAutoSocketManager(),this.disconnectTimer&&(clearTimeout(this.disconnectTimer),this.disconnectTimer=null),this.broadcastChannel&&this.broadcastChannel.close()}dispose(){this.knock.log("[Feed] Disposing of feed instance"),this.teardown(),this.broadcaster.removeAllListeners(),this.knock.feeds.removeInstance(this)}listenForUpdates(){this.knock.log("[Feed] Connecting to real-time service"),this.hasSubscribedToRealTimeUpdates=!0;let e=this.knock.client().socket;e&&!e.isConnected()&&e.connect(),this.channel&&["closed","errored"].includes(this.channel.state)&&this.channel.join()}on(e,t){this.broadcaster.on(e,t)}off(e,t){this.broadcaster.off(e,t)}getState(){return this.store.getState()}async markAsSeen(e){let t=new Date().toISOString();return this.optimisticallyPerformStatusUpdate(e,"seen",{seen_at:t},"unseen_count"),this.makeStatusUpdate(e,"seen")}async markAllAsSeen(){let{metadata:e,items:t,...n}=this.store.getState();if("unseen"===this.defaultOptions.status)n.resetStore({...e,total_count:0,unseen_count:0});else{n.setMetadata({...e,unseen_count:0});let r={seen_at:new Date().toISOString()},i=t.map(e=>e.id);n.setItemAttrs(i,r)}let r=await this.makeBulkStatusUpdate("seen");return this.emitEvent("all_seen",t),r}async markAsUnseen(e){return this.optimisticallyPerformStatusUpdate(e,"unseen",{seen_at:null},"unseen_count"),this.makeStatusUpdate(e,"unseen")}async markAsRead(e){let t=new Date().toISOString();return this.optimisticallyPerformStatusUpdate(e,"read",{read_at:t},"unread_count"),this.makeStatusUpdate(e,"read")}async markAllAsRead(){let{metadata:e,items:t,...n}=this.store.getState();if("unread"===this.defaultOptions.status)n.resetStore({...e,total_count:0,unread_count:0});else{n.setMetadata({...e,unread_count:0});let r={read_at:new Date().toISOString()},i=t.map(e=>e.id);n.setItemAttrs(i,r)}let r=await this.makeBulkStatusUpdate("read");return this.emitEvent("all_read",t),r}async markAsUnread(e){return this.optimisticallyPerformStatusUpdate(e,"unread",{read_at:null},"unread_count"),this.makeStatusUpdate(e,"unread")}async markAsInteracted(e){let t=new Date().toISOString();return this.optimisticallyPerformStatusUpdate(e,"interacted",{read_at:t,interacted_at:t},"unread_count"),this.makeStatusUpdate(e,"interacted")}async markAsArchived(e){let t=this.store.getState(),n="exclude"===this.defaultOptions.archived,r=Array.isArray(e)?e:[e],i=r.map(e=>e.id);if(n){let e=r.filter(e=>!e.seen_at).length,n=r.filter(e=>!e.read_at).length,s={...t.metadata,total_count:t.metadata.total_count-r.length,unseen_count:t.metadata.unseen_count-e,unread_count:t.metadata.unread_count-n},o=t.items.filter(e=>!i.includes(e.id));t.setResult({entries:o,meta:s,page_info:t.pageInfo})}else t.setItemAttrs(i,{archived_at:new Date().toISOString()});return this.makeStatusUpdate(e,"archived")}async markAllAsArchived(){let{items:e,...t}=this.store.getState();if("exclude"===this.defaultOptions.archived)t.resetStore();else{let n=e.map(e=>e.id);t.setItemAttrs(n,{archived_at:new Date().toISOString()})}let n=await this.makeBulkStatusUpdate("archive");return this.emitEvent("all_archived",e),n}async markAsUnarchived(e){return this.optimisticallyPerformStatusUpdate(e,"unarchived",{archived_at:null}),this.makeStatusUpdate(e,"unarchived")}async fetch(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{networkStatus:t,...n}=this.store.getState();if(["loading","fetchMore"].includes(t))return;n.setNetworkStatus(e.__loadingType??a.loading);let r={...this.defaultOptions,...e,__loadingType:void 0,__fetchSource:void 0,__experimentalCrossBrowserUpdates:void 0,auto_manage_socket_connection:void 0,auto_manage_socket_connection_delay:void 0},i=await this.knock.client().makeRequest({method:"GET",url:`/v1/users/${this.knock.userId}/feeds/${this.feedId}`,params:r});if("error"===i.statusCode||!i.body)return n.setNetworkStatus(a.error),{status:i.statusCode,data:i.error||i.body};let s={entries:i.body.entries,meta:i.body.meta,page_info:i.body.page_info};e.before?n.setResult(s,{shouldSetPage:!1,shouldAppend:!0}):e.after?n.setResult(s,{shouldSetPage:!0,shouldAppend:!0}):n.setResult(s),this.broadcast("messages.new",s);let o="socket"===e.__fetchSource?"items.received.realtime":"items.received.page",l={items:s.entries,metadata:s.meta,event:o};return this.broadcast(l.event,l),{data:s,status:i.statusCode}}async fetchNextPage(){let{pageInfo:e}=this.store.getState();e.after&&this.fetch({after:e.after,__loadingType:a.fetchMore})}broadcast(e,t){this.broadcaster.emit(e,t)}async onNewMessageReceived(e){let{metadata:t}=e;this.knock.log("[Feed] Received new real-time message");let{items:n,...r}=this.store.getState(),i=n[0];r.setMetadata(t),this.fetch({before:null==i?void 0:i.__cursor,__fetchSource:"socket"})}buildUserFeedId(){return`${this.feedId}:${this.knock.userId}`}optimisticallyPerformStatusUpdate(e,t,n,r){let i=this.store.getState(),s=Array.isArray(e)?e:[e],o=s.map(e=>e.id);if(r){let{metadata:e}=i,n=s.filter(e=>{switch(t){case"seen":return null===e.seen_at;case"unseen":return null!==e.seen_at;case"read":case"interacted":return null===e.read_at;case"unread":return null!==e.read_at;default:return!0}}),o=t.startsWith("un")?n.length:-n.length;i.setMetadata({...e,[r]:Math.max(0,e[r]+o)})}i.setItemAttrs(o,n)}async makeStatusUpdate(e,t){let n=Array.isArray(e)?e:[e],r=n.map(e=>e.id),i=await this.knock.messages.batchUpdateStatuses(r,t);return this.emitEvent(t,n),i}async makeBulkStatusUpdate(e){let t={user_ids:[this.knock.userId],engagement_status:"all"!==this.defaultOptions.status?this.defaultOptions.status:void 0,archived:this.defaultOptions.archived,has_tenant:this.defaultOptions.has_tenant,tenants:this.defaultOptions.tenant?[this.defaultOptions.tenant]:void 0};return await this.knock.messages.bulkUpdateAllStatusesInChannel({channelId:this.feedId,status:e,options:t})}setupBroadcastChannel(){this.broadcastChannel="u">typeof self&&"BroadcastChannel"in self?new BroadcastChannel(`knock:feed:${this.userFeedId}`):null,this.broadcastChannel&&!0===this.defaultOptions.__experimentalCrossBrowserUpdates&&(this.broadcastChannel.onmessage=e=>{switch(e.data.type){case"items:archived":case"items:unarchived":case"items:seen":case"items:unseen":case"items:read":case"items:unread":case"items:all_read":case"items:all_seen":case"items:all_archived":return this.fetch();default:return null}})}broadcastOverChannel(e,t){if(this.broadcastChannel)try{let n=JSON.parse(JSON.stringify(t));this.broadcastChannel.postMessage({type:e,payload:n})}catch(t){console.warn(`Could not broadcast ${e}, got error: ${t}`)}}initializeRealtimeConnection(){let{socket:e}=this.knock.client();e&&(this.channel=e.channel(`feeds:${this.userFeedId}`,this.defaultOptions),this.channel.on("new-message",e=>this.onNewMessageReceived(e)),this.defaultOptions.auto_manage_socket_connection&&this.setupAutoSocketManager(),this.hasSubscribedToRealTimeUpdates&&(e.isConnected()||e.connect(),this.channel.join()))}setupAutoSocketManager(){typeof document>"u"||this.visibilityChangeListenerConnected||(this.visibilityChangeHandler=this.handleVisibilityChange.bind(this),this.visibilityChangeListenerConnected=!0,document.addEventListener("visibilitychange",this.visibilityChangeHandler))}teardownAutoSocketManager(){typeof document>"u"||(document.removeEventListener("visibilitychange",this.visibilityChangeHandler),this.visibilityChangeListenerConnected=!1)}emitEvent(e,t){this.broadcaster.emit(`items.${e}`,{items:t}),this.broadcaster.emit(`items:${e}`,{items:t}),this.broadcastOverChannel(`items:${e}`,{items:t})}handleVisibilityChange(){var e;let t=this.defaultOptions.auto_manage_socket_connection_delay??2e3,n=this.knock.client();"hidden"===document.visibilityState?this.disconnectTimer=setTimeout(()=>{var e;null==(e=n.socket)||e.disconnect(),this.disconnectTimer=null},t):"visible"===document.visibilityState&&(this.disconnectTimer&&(clearTimeout(this.disconnectTimer),this.disconnectTimer=null),null!=(e=n.socket)&&e.isConnected()||this.initializeRealtimeConnection())}}var p=Object.defineProperty,m=(e,t,n)=>(((e,t,n)=>t in e?p(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n),n);class g{constructor(e){m(this,"instance"),m(this,"feedInstances",[]),this.instance=e}initialize(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=new f(this.instance,e,t);return this.feedInstances.push(n),n}removeInstance(e){this.feedInstances=this.feedInstances.filter(t=>t!==e)}teardownInstances(){for(let e of this.feedInstances)e.teardown()}reinitializeInstances(){for(let e of this.feedInstances)e.reinitialize()}}class v extends Error{}function y(e,t){return function(){return e.apply(t,arguments)}}v.prototype.name="InvalidTokenError";let{toString:b}=Object.prototype,{getPrototypeOf:w}=Object,E=(e=>t=>{let n=b.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),_=e=>(e=e.toLowerCase(),t=>E(t)===e),k=e=>t=>typeof t===e,{isArray:C}=Array,T=k("undefined"),R=_("ArrayBuffer"),S=k("string"),O=k("function"),A=k("number"),L=e=>null!==e&&"object"==typeof e,j=e=>{if("object"!==E(e))return!1;let t=w(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},N=_("Date"),P=_("File"),x=_("Blob"),I=_("FileList"),U=_("URLSearchParams");function D(e,t){let n,r,{allOwnKeys:i=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!=e)if("object"!=typeof e&&(e=[e]),C(e))for(n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else{let r,s=i?Object.getOwnPropertyNames(e):Object.keys(e),o=s.length;for(n=0;n<o;n++)r=s[n],t.call(null,e[r],r,e)}}function $(e,t){let n;t=t.toLowerCase();let r=Object.keys(e),i=r.length;for(;i-- >0;)if(t===(n=r[i]).toLowerCase())return n;return null}let M="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:globalThis,F=e=>!T(e)&&e!==M,B=(e=>t=>e&&t instanceof e)("undefined"!=typeof Uint8Array&&w(Uint8Array)),q=_("HTMLFormElement"),H=(e=>{let{hasOwnProperty:t}=e;return(e,n)=>t.call(e,n)})(Object.prototype),z=_("RegExp"),K=(e,t)=>{let n=Object.getOwnPropertyDescriptors(e),r={};D(n,(n,i)=>{let s;!1!==(s=t(n,i,e))&&(r[i]=s||n)}),Object.defineProperties(e,r)},W="abcdefghijklmnopqrstuvwxyz",G="0123456789",J={DIGIT:G,ALPHA:W,ALPHA_DIGIT:W+W.toUpperCase()+G},V=_("AsyncFunction"),Y={isArray:C,isArrayBuffer:R,isBuffer:function(e){return null!==e&&!T(e)&&null!==e.constructor&&!T(e.constructor)&&O(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{let t;return e&&("function"==typeof FormData&&e instanceof FormData||O(e.append)&&("formdata"===(t=E(e))||"object"===t&&O(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&R(e.buffer)},isString:S,isNumber:A,isBoolean:e=>!0===e||!1===e,isObject:L,isPlainObject:j,isUndefined:T,isDate:N,isFile:P,isBlob:x,isRegExp:z,isFunction:O,isStream:e=>L(e)&&O(e.pipe),isURLSearchParams:U,isTypedArray:B,isFileList:I,forEach:D,merge:function e(){let{caseless:t}=F(this)&&this||{},n={},r=(r,i)=>{let s=t&&$(n,i)||i;j(n[s])&&j(r)?n[s]=e(n[s],r):j(r)?n[s]=e({},r):C(r)?n[s]=r.slice():n[s]=r};for(let e=0,t=arguments.length;e<t;e++)arguments[e]&&D(arguments[e],r);return n},extend:function(e,t,n){let{allOwnKeys:r}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return D(t,(t,r)=>{n&&O(t)?e[r]=y(t,n):e[r]=t},{allOwnKeys:r}),e},trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,r)=>{let i,s,o,a={};if(t=t||{},null==e)return t;do{for(s=(i=Object.getOwnPropertyNames(e)).length;s-- >0;)o=i[s],(!r||r(o,e,t))&&!a[o]&&(t[o]=e[o],a[o]=!0);e=!1!==n&&w(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype)return t},kindOf:E,kindOfTest:_,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;let r=e.indexOf(t,n);return -1!==r&&r===n},toArray:e=>{if(!e)return null;if(C(e))return e;let t=e.length;if(!A(t))return null;let n=Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{let n,r=(e&&e[Symbol.iterator]).call(e);for(;(n=r.next())&&!n.done;){let r=n.value;t.call(e,r[0],r[1])}},matchAll:(e,t)=>{let n,r=[];for(;null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:q,hasOwnProperty:H,hasOwnProp:H,reduceDescriptors:K,freezeMethods:e=>{K(e,(t,n)=>{if(O(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;if(O(e[n])){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},toObjectSet:(e,t)=>{let n={};return(C(e)?e:String(e).split(t)).forEach(e=>{n[e]=!0}),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,t,n){return t.toUpperCase()+n}),noop:()=>{},toFiniteNumber:(e,t)=>Number.isFinite(e*=1)?e:t,findKey:$,global:M,isContextDefined:F,ALPHABET:J,generateString:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:16,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:J.ALPHA_DIGIT,n="",{length:r}=t;for(;e--;)n+=t[Math.random()*r|0];return n},isSpecCompliantForm:function(e){return!!(e&&O(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])},toJSONObject:e=>{let t=Array(10),n=(e,r)=>{if(L(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[r]=e;let i=C(e)?[]:{};return D(e,(e,t)=>{let s=n(e,r+1);T(s)||(i[t]=s)}),t[r]=void 0,i}}return e};return n(e,0)},isAsyncFn:V,isThenable:e=>e&&(L(e)||O(e))&&O(e.then)&&O(e.catch)};var X=e.i(6615754);function Z(e,t,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}Y.inherits(Z,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Y.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});let Q=Z.prototype,ee={};function et(e){return Y.isPlainObject(e)||Y.isArray(e)}function en(e){return Y.endsWith(e,"[]")?e.slice(0,-2):e}function er(e,t,n){return e?e.concat(t).map(function(e,t){return e=en(e),!n&&t?"["+e+"]":e}).join(n?".":""):t}["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{ee[e]={value:e}}),Object.defineProperties(Z,ee),Object.defineProperty(Q,"isAxiosError",{value:!0}),Z.from=(e,t,n,r,i,s)=>{let o=Object.create(Q);return Y.toFlatObject(e,o,function(e){return e!==Error.prototype},e=>"isAxiosError"!==e),Z.call(o,e.message,t,n,r,i),o.cause=e,o.name=e.name,s&&Object.assign(o,s),o};let ei=Y.toFlatObject(Y,{},null,function(e){return/^is[A-Z]/.test(e)}),es=function(e,t,n){if(!Y.isObject(e))throw TypeError("target must be an object");t=t||new FormData;let r=(n=Y.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(e,t){return!Y.isUndefined(t[e])})).metaTokens,i=n.visitor||c,s=n.dots,o=n.indexes,a=(n.Blob||"undefined"!=typeof Blob&&Blob)&&Y.isSpecCompliantForm(t);if(!Y.isFunction(i))throw TypeError("visitor must be a function");function l(e){if(null===e)return"";if(Y.isDate(e))return e.toISOString();if(!a&&Y.isBlob(e))throw new Z("Blob is not supported. Use a Buffer instead.");return Y.isArrayBuffer(e)||Y.isTypedArray(e)?a&&"function"==typeof Blob?new Blob([e]):X.Buffer.from(e):e}function c(e,n,i){let a=e;if(e&&!i&&"object"==typeof e)if(Y.endsWith(n,"{}"))n=r?n:n.slice(0,-2),e=JSON.stringify(e);else{var c;if(Y.isArray(e)&&(c=e,Y.isArray(c)&&!c.some(et))||(Y.isFileList(e)||Y.endsWith(n,"[]"))&&(a=Y.toArray(e)))return n=en(n),a.forEach(function(e,r){Y.isUndefined(e)||null===e||t.append(!0===o?er([n],r,s):null===o?n:n+"[]",l(e))}),!1}return!!et(e)||(t.append(er(i,n,s),l(e)),!1)}let u=[],h=Object.assign(ei,{defaultVisitor:c,convertValue:l,isVisitable:et});if(!Y.isObject(e))throw TypeError("data must be an object");return!function e(n,r){if(!Y.isUndefined(n)){if(-1!==u.indexOf(n))throw Error("Circular reference detected in "+r.join("."));u.push(n),Y.forEach(n,function(n,s){!0===(!(Y.isUndefined(n)||null===n)&&i.call(t,n,Y.isString(s)?s.trim():s,r,h))&&e(n,r?r.concat(s):[s])}),u.pop()}}(e),t};function eo(e){let t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(e){return t[e]})}function ea(e,t){this._pairs=[],e&&es(e,this,t)}let el=ea.prototype;function ec(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function eu(e,t,n){let r;if(!t)return e;let i=n&&n.encode||ec,s=n&&n.serialize;if(r=s?s(t,n):Y.isURLSearchParams(t)?t.toString():new ea(t,n).toString(i)){let t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+r}return e}el.append=function(e,t){this._pairs.push([e,t])},el.toString=function(e){let t=e?function(t){return e.call(this,t,eo)}:eo;return this._pairs.map(function(e){return t(e[0])+"="+t(e[1])},"").join("&")};let eh=class{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Y.forEach(this.handlers,function(t){null!==t&&e(t)})}},ed={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},ef="undefined"!=typeof URLSearchParams?URLSearchParams:ea,ep="undefined"!=typeof FormData?FormData:null,em="undefined"!=typeof Blob?Blob:null;e.s({hasBrowserEnv:()=>eg,hasStandardBrowserEnv:()=>ev,hasStandardBrowserWebWorkerEnv:()=>ey},1135810);let eg="undefined"!=typeof window&&"undefined"!=typeof document,ev=(t="undefined"!=typeof navigator&&navigator.product,eg&&0>["ReactNative","NativeScript","NS"].indexOf(t)),ey="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"==typeof self.importScripts,eb={...e.i(1135810),isBrowser:!0,classes:{URLSearchParams:ef,FormData:ep,Blob:em},protocols:["http","https","file","blob","url","data"]},ew=function(e){if(Y.isFormData(e)&&Y.isFunction(e.entries)){let t={};return Y.forEachEntry(e,(e,n)=>{!function e(t,n,r,i){let s=t[i++];if("__proto__"===s)return!0;let o=Number.isFinite(+s),a=i>=t.length;return(s=!s&&Y.isArray(r)?r.length:s,a)?Y.hasOwnProp(r,s)?r[s]=[r[s],n]:r[s]=n:(r[s]&&Y.isObject(r[s])||(r[s]=[]),e(t,n,r[s],i)&&Y.isArray(r[s])&&(r[s]=function(e){let t,n,r={},i=Object.keys(e),s=i.length;for(t=0;t<s;t++)r[n=i[t]]=e[n];return r}(r[s]))),!o}(Y.matchAll(/\w+|\[(\w*)]/g,e).map(e=>"[]"===e[0]?"":e[1]||e[0]),n,t,0)}),t}return null},eE={transitional:ed,adapter:["xhr","http"],transformRequest:[function(e,t){let n,r=t.getContentType()||"",i=r.indexOf("application/json")>-1,s=Y.isObject(e);if(s&&Y.isHTMLForm(e)&&(e=new FormData(e)),Y.isFormData(e))return i?JSON.stringify(ew(e)):e;if(Y.isArrayBuffer(e)||Y.isBuffer(e)||Y.isStream(e)||Y.isFile(e)||Y.isBlob(e))return e;if(Y.isArrayBufferView(e))return e.buffer;if(Y.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1){var o,a;return(o=e,a=this.formSerializer,es(o,new eb.classes.URLSearchParams,Object.assign({visitor:function(e,t,n,r){return eb.isNode&&Y.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},a))).toString()}if((n=Y.isFileList(e))||r.indexOf("multipart/form-data")>-1){let t=this.env&&this.env.FormData;return es(n?{"files[]":e}:e,t&&new t,this.formSerializer)}}if(s||i){t.setContentType("application/json",!1);var l=e;if(Y.isString(l))try{return(0,JSON.parse)(l),Y.trim(l)}catch(e){if("SyntaxError"!==e.name)throw e}return(0,JSON.stringify)(l)}return e}],transformResponse:[function(e){let t=this.transitional||eE.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(e&&Y.isString(e)&&(n&&!this.responseType||r)){let n=t&&t.silentJSONParsing;try{return JSON.parse(e)}catch(e){if(!n&&r){if("SyntaxError"===e.name)throw Z.from(e,Z.ERR_BAD_RESPONSE,this,null,this.response);throw e}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:eb.classes.FormData,Blob:eb.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Y.forEach(["delete","get","head","post","put","patch"],e=>{eE.headers[e]={}});let e_=Y.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),ek=Symbol("internals");function eC(e){return e&&String(e).trim().toLowerCase()}function eT(e){return!1===e||null==e?e:Y.isArray(e)?e.map(eT):String(e)}function eR(e,t,n,r,i){if(Y.isFunction(r))return r.call(this,t,n);if(i&&(t=n),Y.isString(t)){if(Y.isString(r))return -1!==t.indexOf(r);if(Y.isRegExp(r))return r.test(t)}}class eS{constructor(e){e&&this.set(e)}set(e,t,n){let r=this;function i(e,t,n){let i=eC(t);if(!i)throw Error("header name must be a non-empty string");let s=Y.findKey(r,i);s&&void 0!==r[s]&&!0!==n&&(void 0!==n||!1===r[s])||(r[s||t]=eT(e))}let s=(e,t)=>Y.forEach(e,(e,n)=>i(e,n,t));if(Y.isPlainObject(e)||e instanceof this.constructor)s(e,t);else{let r;Y.isString(e)&&(e=e.trim())&&(r=e,!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(r.trim()))?s((e=>{let t,n,r,i={};return e&&e.split("\n").forEach(function(e){r=e.indexOf(":"),t=e.substring(0,r).trim().toLowerCase(),n=e.substring(r+1).trim(),!t||i[t]&&e_[t]||("set-cookie"===t?i[t]?i[t].push(n):i[t]=[n]:i[t]=i[t]?i[t]+", "+n:n)}),i})(e),t):null!=e&&i(t,e,n)}return this}get(e,t){if(e=eC(e)){let n=Y.findKey(this,e);if(n){let e=this[n];if(!t)return e;if(!0===t){let t,n=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;for(;t=r.exec(e);)n[t[1]]=t[2];return n}if(Y.isFunction(t))return t.call(this,e,n);if(Y.isRegExp(t))return t.exec(e);throw TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=eC(e)){let n=Y.findKey(this,e);return!!(n&&void 0!==this[n]&&(!t||eR(this,this[n],n,t)))}return!1}delete(e,t){let n=this,r=!1;function i(e){if(e=eC(e)){let i=Y.findKey(n,e);i&&(!t||eR(n,n[i],i,t))&&(delete n[i],r=!0)}}return Y.isArray(e)?e.forEach(i):i(e),r}clear(e){let t=Object.keys(this),n=t.length,r=!1;for(;n--;){let i=t[n];(!e||eR(this,this[i],i,e,!0))&&(delete this[i],r=!0)}return r}normalize(e){let t=this,n={};return Y.forEach(this,(r,i)=>{let s=Y.findKey(n,i);if(s){t[s]=eT(r),delete t[i];return}let o=e?i.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,n)=>t.toUpperCase()+n):String(i).trim();o!==i&&delete t[i],t[o]=eT(r),n[o]=!0}),this}concat(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.constructor.concat(this,...t)}toJSON(e){let t=Object.create(null);return Y.forEach(this,(n,r)=>{null!=n&&!1!==n&&(t[r]=e&&Y.isArray(n)?n.join(", "):n)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(e=>{let[t,n]=e;return t+": "+n}).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];let i=new this(e);return n.forEach(e=>i.set(e)),i}static accessor(e){let t=(this[ek]=this[ek]={accessors:{}}).accessors,n=this.prototype;function r(e){let r=eC(e);if(!t[r]){let i=Y.toCamelCase(" "+e);["get","set","has"].forEach(t=>{Object.defineProperty(n,t+i,{value:function(n,r,i){return this[t].call(this,e,n,r,i)},configurable:!0})}),t[r]=!0}}return Y.isArray(e)?e.forEach(r):r(e),this}}function eO(e,t){let n=this||eE,r=t||n,i=eS.from(r.headers),s=r.data;return Y.forEach(e,function(e){s=e.call(n,s,i.normalize(),t?t.status:void 0)}),i.normalize(),s}function eA(e){return!!(e&&e.__CANCEL__)}function eL(e,t,n){Z.call(this,null==e?"canceled":e,Z.ERR_CANCELED,t,n),this.name="CanceledError"}eS.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),Y.reduceDescriptors(eS.prototype,(e,t)=>{let{value:n}=e,r=t[0].toUpperCase()+t.slice(1);return{get:()=>n,set(e){this[r]=e}}}),Y.freezeMethods(eS),Y.inherits(eL,Z,{__CANCEL__:!0});let ej=eb.hasStandardBrowserEnv?{write(e,t,n,r,i,s){let o=[e+"="+encodeURIComponent(t)];Y.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),Y.isString(r)&&o.push("path="+r),Y.isString(i)&&o.push("domain="+i),!0===s&&o.push("secure"),document.cookie=o.join("; ")},read(e){let t=document.cookie.match(RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function eN(e,t){return e&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)?t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e:t}let eP=eb.hasStandardBrowserEnv?function(){let e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function r(e){let r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=r(window.location.href),function(t){let n=Y.isString(t)?r(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0},ex=function(e,t){let n,r=Array(e=e||10),i=Array(e),s=0,o=0;return t=void 0!==t?t:1e3,function(a){let l=Date.now(),c=i[o];n||(n=l),r[s]=a,i[s]=l;let u=o,h=0;for(;u!==s;)h+=r[u++],u%=e;if((s=(s+1)%e)===o&&(o=(o+1)%e),l-n<t)return;let d=c&&l-c;return d?Math.round(1e3*h/d):void 0}};function eI(e,t){let n=0,r=ex(50,250);return i=>{let s=i.loaded,o=i.lengthComputable?i.total:void 0,a=s-n,l=r(a);n=s;let c={loaded:s,total:o,progress:o?s/o:void 0,bytes:a,rate:l||void 0,estimated:l&&o&&s<=o?(o-s)/l:void 0,event:i};c[t?"download":"upload"]=!0,e(c)}}let eU={http:null,xhr:"undefined"!=typeof XMLHttpRequest&&function(e){return new Promise(function(t,n){let r,i,s=e.data,o=eS.from(e.headers).normalize(),{responseType:a,withXSRFToken:l}=e;function c(){e.cancelToken&&e.cancelToken.unsubscribe(r),e.signal&&e.signal.removeEventListener("abort",r)}if(Y.isFormData(s)){if(eb.hasStandardBrowserEnv||eb.hasStandardBrowserWebWorkerEnv)o.setContentType(!1);else if(!1!==(i=o.getContentType())){let[e,...t]=i?i.split(";").map(e=>e.trim()).filter(Boolean):[];o.setContentType([e||"multipart/form-data",...t].join("; "))}}let u=new XMLHttpRequest;if(e.auth){let t=e.auth.username||"",n=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";o.set("Authorization","Basic "+btoa(t+":"+n))}let h=eN(e.baseURL,e.url);function d(){if(!u)return;let r=eS.from("getAllResponseHeaders"in u&&u.getAllResponseHeaders());!function(e,t,n){let r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new Z("Request failed with status code "+n.status,[Z.ERR_BAD_REQUEST,Z.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}(function(e){t(e),c()},function(e){n(e),c()},{data:a&&"text"!==a&&"json"!==a?u.response:u.responseText,status:u.status,statusText:u.statusText,headers:r,config:e,request:u}),u=null}if(u.open(e.method.toUpperCase(),eu(h,e.params,e.paramsSerializer),!0),u.timeout=e.timeout,"onloadend"in u?u.onloadend=d:u.onreadystatechange=function(){u&&4===u.readyState&&(0!==u.status||u.responseURL&&0===u.responseURL.indexOf("file:"))&&setTimeout(d)},u.onabort=function(){u&&(n(new Z("Request aborted",Z.ECONNABORTED,e,u)),u=null)},u.onerror=function(){n(new Z("Network Error",Z.ERR_NETWORK,e,u)),u=null},u.ontimeout=function(){let t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",r=e.transitional||ed;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(new Z(t,r.clarifyTimeoutError?Z.ETIMEDOUT:Z.ECONNABORTED,e,u)),u=null},eb.hasStandardBrowserEnv&&(l&&Y.isFunction(l)&&(l=l(e)),l||!1!==l&&eP(h))){let t=e.xsrfHeaderName&&e.xsrfCookieName&&ej.read(e.xsrfCookieName);t&&o.set(e.xsrfHeaderName,t)}void 0===s&&o.setContentType(null),"setRequestHeader"in u&&Y.forEach(o.toJSON(),function(e,t){u.setRequestHeader(t,e)}),Y.isUndefined(e.withCredentials)||(u.withCredentials=!!e.withCredentials),a&&"json"!==a&&(u.responseType=e.responseType),"function"==typeof e.onDownloadProgress&&u.addEventListener("progress",eI(e.onDownloadProgress,!0)),"function"==typeof e.onUploadProgress&&u.upload&&u.upload.addEventListener("progress",eI(e.onUploadProgress)),(e.cancelToken||e.signal)&&(r=t=>{u&&(n(!t||t.type?new eL(null,e,u):t),u.abort(),u=null)},e.cancelToken&&e.cancelToken.subscribe(r),e.signal&&(e.signal.aborted?r():e.signal.addEventListener("abort",r)));let f=function(e){let t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(h);if(f&&-1===eb.protocols.indexOf(f))return void n(new Z("Unsupported protocol "+f+":",Z.ERR_BAD_REQUEST,e));u.send(s||null)})}};Y.forEach(eU,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(e){}Object.defineProperty(e,"adapterName",{value:t})}});let eD=e=>`- ${e}`,e$=e=>Y.isFunction(e)||null===e||!1===e,eM={getAdapter:e=>{let t,n,{length:r}=e=Y.isArray(e)?e:[e],i={};for(let s=0;s<r;s++){let r;if(n=t=e[s],!e$(t)&&void 0===(n=eU[(r=String(t)).toLowerCase()]))throw new Z(`Unknown adapter '${r}'`);if(n)break;i[r||"#"+s]=n}if(!n){let e=Object.entries(i).map(e=>{let[t,n]=e;return`adapter ${t} `+(!1===n?"is not supported by the environment":"is not available in the build")});throw new Z("There is no suitable adapter to dispatch the request "+(r?e.length>1?"since :\n"+e.map(eD).join("\n"):" "+eD(e[0]):"as no adapter specified"),"ERR_NOT_SUPPORT")}return n}};function eF(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new eL(null,e)}function eB(e){return eF(e),e.headers=eS.from(e.headers),e.data=eO.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1),eM.getAdapter(e.adapter||eE.adapter)(e).then(function(t){return eF(e),t.data=eO.call(e,e.transformResponse,t),t.headers=eS.from(t.headers),t},function(t){return!eA(t)&&(eF(e),t&&t.response&&(t.response.data=eO.call(e,e.transformResponse,t.response),t.response.headers=eS.from(t.response.headers))),Promise.reject(t)})}let eq=e=>e instanceof eS?e.toJSON():e;function eH(e,t){t=t||{};let n={};function r(e,t,n){return Y.isPlainObject(e)&&Y.isPlainObject(t)?Y.merge.call({caseless:n},e,t):Y.isPlainObject(t)?Y.merge({},t):Y.isArray(t)?t.slice():t}function i(e,t,n){return Y.isUndefined(t)?Y.isUndefined(e)?void 0:r(void 0,e,n):r(e,t,n)}function s(e,t){if(!Y.isUndefined(t))return r(void 0,t)}function o(e,t){return Y.isUndefined(t)?Y.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function a(n,i,s){return s in t?r(n,i):s in e?r(void 0,n):void 0}let l={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(e,t)=>i(eq(e),eq(t),!0)};return Y.forEach(Object.keys(Object.assign({},e,t)),function(r){let s=l[r]||i,o=s(e[r],t[r],r);Y.isUndefined(o)&&s!==a||(n[r]=o)}),n}let ez="1.6.7",eK={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{eK[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});let eW={};eK.transitional=function(e,t,n){function r(e,t){return"[Axios v"+ez+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,i,s)=>{if(!1===e)throw new Z(r(i," has been removed"+(t?" in "+t:"")),Z.ERR_DEPRECATED);return t&&!eW[i]&&(eW[i]=!0,console.warn(r(i," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,i,s)}};let eG={assertOptions:function(e,t,n){if("object"!=typeof e)throw new Z("options must be an object",Z.ERR_BAD_OPTION_VALUE);let r=Object.keys(e),i=r.length;for(;i-- >0;){let s=r[i],o=t[s];if(o){let t=e[s],n=void 0===t||o(t,s,e);if(!0!==n)throw new Z("option "+s+" must be "+n,Z.ERR_BAD_OPTION_VALUE);continue}if(!0!==n)throw new Z("Unknown option "+s,Z.ERR_BAD_OPTION)}},validators:eK},eJ=eG.validators;class eV{constructor(e){this.defaults=e,this.interceptors={request:new eh,response:new eh}}async request(e,t){try{return await this._request(e,t)}catch(e){if(e instanceof Error){let t;Error.captureStackTrace?Error.captureStackTrace(t={}):t=Error();let n=t.stack?t.stack.replace(/^.+\n/,""):"";e.stack?n&&!String(e.stack).endsWith(n.replace(/^.+\n.+\n/,""))&&(e.stack+="\n"+n):e.stack=n}throw e}}_request(e,t){let n,r;"string"==typeof e?(t=t||{}).url=e:t=e||{};let{transitional:i,paramsSerializer:s,headers:o}=t=eH(this.defaults,t);void 0!==i&&eG.assertOptions(i,{silentJSONParsing:eJ.transitional(eJ.boolean),forcedJSONParsing:eJ.transitional(eJ.boolean),clarifyTimeoutError:eJ.transitional(eJ.boolean)},!1),null!=s&&(Y.isFunction(s)?t.paramsSerializer={serialize:s}:eG.assertOptions(s,{encode:eJ.function,serialize:eJ.function},!0)),t.method=(t.method||this.defaults.method||"get").toLowerCase();let a=o&&Y.merge(o.common,o[t.method]);o&&Y.forEach(["delete","get","head","post","put","patch","common"],e=>{delete o[e]}),t.headers=eS.concat(a,o);let l=[],c=!0;this.interceptors.request.forEach(function(e){("function"!=typeof e.runWhen||!1!==e.runWhen(t))&&(c=c&&e.synchronous,l.unshift(e.fulfilled,e.rejected))});let u=[];this.interceptors.response.forEach(function(e){u.push(e.fulfilled,e.rejected)});let h=0;if(!c){let e=[eB.bind(this),void 0];for(e.unshift.apply(e,l),e.push.apply(e,u),r=e.length,n=Promise.resolve(t);h<r;)n=n.then(e[h++],e[h++]);return n}r=l.length;let d=t;for(h=0;h<r;){let e=l[h++],t=l[h++];try{d=e(d)}catch(e){t.call(this,e);break}}try{n=eB.call(this,d)}catch(e){return Promise.reject(e)}for(h=0,r=u.length;h<r;)n=n.then(u[h++],u[h++]);return n}getUri(e){return eu(eN((e=eH(this.defaults,e)).baseURL,e.url),e.params,e.paramsSerializer)}}Y.forEach(["delete","get","head","options"],function(e){eV.prototype[e]=function(t,n){return this.request(eH(n||{},{method:e,url:t,data:(n||{}).data}))}}),Y.forEach(["post","put","patch"],function(e){function t(t){return function(n,r,i){return this.request(eH(i||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}eV.prototype[e]=t(),eV.prototype[e+"Form"]=t(!0)});class eY{constructor(e){let t;if("function"!=typeof e)throw TypeError("executor must be a function.");this.promise=new Promise(function(e){t=e});let n=this;this.promise.then(e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null}),this.promise.then=e=>{let t,r=new Promise(e=>{n.subscribe(e),t=e}).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e(function(e,r,i){n.reason||(n.reason=new eL(e,r,i),t(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason)return void e(this.reason);this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;let t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}static source(){let e;return{token:new eY(function(t){e=t}),cancel:e}}}let eX={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(eX).forEach(e=>{let[t,n]=e;eX[n]=t});let eZ=function e(t){let n=new eV(t),r=y(eV.prototype.request,n);return Y.extend(r,eV.prototype,n,{allOwnKeys:!0}),Y.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return e(eH(t,n))},r}(eE);eZ.Axios=eV,eZ.CanceledError=eL,eZ.CancelToken=eY,eZ.isCancel=eA,eZ.VERSION=ez,eZ.toFormData=es,eZ.AxiosError=Z,eZ.Cancel=eZ.CanceledError,eZ.all=function(e){return Promise.all(e)},eZ.spread=function(e){return function(t){return e.apply(null,t)}},eZ.isAxiosError=function(e){return Y.isObject(e)&&!0===e.isAxiosError},eZ.mergeConfig=eH,eZ.AxiosHeaders=eS,eZ.formToJSON=e=>ew(Y.isHTMLForm(e)?new FormData(e):e),eZ.getAdapter=eM.getAdapter,eZ.HttpStatusCode=eX,eZ.default=eZ;var eQ=e.i(9010051),e0=e=>"function"==typeof e?e:function(){return e},e1="undefined"!=typeof window?window:null,e4=("undefined"!=typeof self?self:null)||e1||e4,e9={connecting:0,open:1,closing:2,closed:3},e2={closed:"closed",errored:"errored",joined:"joined",joining:"joining",leaving:"leaving"},e5={close:"phx_close",error:"phx_error",join:"phx_join",reply:"phx_reply",leave:"phx_leave"},e3={longpoll:"longpoll",websocket:"websocket"},e8={complete:4},e6=class{constructor(e,t,n,r){this.channel=e,this.event=t,this.payload=n||function(){return{}},this.receivedResp=null,this.timeout=r,this.timeoutTimer=null,this.recHooks=[],this.sent=!1}resend(e){this.timeout=e,this.reset(),this.send()}send(){this.hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload(),ref:this.ref,join_ref:this.channel.joinRef()}))}receive(e,t){return this.hasReceived(e)&&t(this.receivedResp.response),this.recHooks.push({status:e,callback:t}),this}reset(){this.cancelRefEvent(),this.ref=null,this.refEvent=null,this.receivedResp=null,this.sent=!1}matchReceive(e){let{status:t,response:n,_ref:r}=e;this.recHooks.filter(e=>e.status===t).forEach(e=>e.callback(n))}cancelRefEvent(){this.refEvent&&this.channel.off(this.refEvent)}cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=null}startTimeout(){this.timeoutTimer&&this.cancelTimeout(),this.ref=this.channel.socket.makeRef(),this.refEvent=this.channel.replyEventName(this.ref),this.channel.on(this.refEvent,e=>{this.cancelRefEvent(),this.cancelTimeout(),this.receivedResp=e,this.matchReceive(e)}),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}trigger(e,t){this.channel.trigger(this.refEvent,{status:e,response:t})}},e7=class{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=null,this.tries=0}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}},te=class{constructor(e,t,n){this.state=e2.closed,this.topic=e,this.params=e0(t||{}),this.socket=n,this.bindings=[],this.bindingRef=0,this.timeout=this.socket.timeout,this.joinedOnce=!1,this.joinPush=new e6(this,e5.join,this.params,this.timeout),this.pushBuffer=[],this.stateChangeRefs=[],this.rejoinTimer=new e7(()=>{this.socket.isConnected()&&this.rejoin()},this.socket.rejoinAfterMs),this.stateChangeRefs.push(this.socket.onError(()=>this.rejoinTimer.reset())),this.stateChangeRefs.push(this.socket.onOpen(()=>{this.rejoinTimer.reset(),this.isErrored()&&this.rejoin()})),this.joinPush.receive("ok",()=>{this.state=e2.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(e=>e.send()),this.pushBuffer=[]}),this.joinPush.receive("error",()=>{this.state=e2.errored,this.socket.isConnected()&&this.rejoinTimer.scheduleTimeout()}),this.onClose(()=>{this.rejoinTimer.reset(),this.socket.hasLogger()&&this.socket.log("channel",`close ${this.topic} ${this.joinRef()}`),this.state=e2.closed,this.socket.remove(this)}),this.onError(e=>{this.socket.hasLogger()&&this.socket.log("channel",`error ${this.topic}`,e),this.isJoining()&&this.joinPush.reset(),this.state=e2.errored,this.socket.isConnected()&&this.rejoinTimer.scheduleTimeout()}),this.joinPush.receive("timeout",()=>{this.socket.hasLogger()&&this.socket.log("channel",`timeout ${this.topic} (${this.joinRef()})`,this.joinPush.timeout),new e6(this,e5.leave,e0({}),this.timeout).send(),this.state=e2.errored,this.joinPush.reset(),this.socket.isConnected()&&this.rejoinTimer.scheduleTimeout()}),this.on(e5.reply,(e,t)=>{this.trigger(this.replyEventName(t),e)})}join(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.timeout;if(!this.joinedOnce)return this.timeout=e,this.joinedOnce=!0,this.rejoin(),this.joinPush;throw Error("tried to join multiple times. 'join' can only be called a single time per channel instance")}onClose(e){this.on(e5.close,e)}onError(e){return this.on(e5.error,t=>e(t))}on(e,t){let n=this.bindingRef++;return this.bindings.push({event:e,ref:n,callback:t}),n}off(e,t){this.bindings=this.bindings.filter(n=>n.event!==e||void 0!==t&&t!==n.ref)}canPush(){return this.socket.isConnected()&&this.isJoined()}push(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.timeout;if(t=t||{},!this.joinedOnce)throw Error(`tried to push '${e}' to '${this.topic}' before joining. Use channel.join() before pushing events`);let r=new e6(this,e,function(){return t},n);return this.canPush()?r.send():(r.startTimeout(),this.pushBuffer.push(r)),r}leave(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.timeout;this.rejoinTimer.reset(),this.joinPush.cancelTimeout(),this.state=e2.leaving;let t=()=>{this.socket.hasLogger()&&this.socket.log("channel",`leave ${this.topic}`),this.trigger(e5.close,"leave")},n=new e6(this,e5.leave,e0({}),e);return n.receive("ok",()=>t()).receive("timeout",()=>t()),n.send(),this.canPush()||n.trigger("ok",{}),n}onMessage(e,t,n){return t}isMember(e,t,n,r){return this.topic===e&&(!r||r===this.joinRef()||(this.socket.hasLogger()&&this.socket.log("channel","dropping outdated message",{topic:e,event:t,payload:n,joinRef:r}),!1))}joinRef(){return this.joinPush.ref}rejoin(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.timeout;this.isLeaving()||(this.socket.leaveOpenTopic(this.topic),this.state=e2.joining,this.joinPush.resend(e))}trigger(e,t,n,r){let i=this.onMessage(e,t,n,r);if(t&&!i)throw Error("channel onMessage callbacks must return the payload, modified or unmodified");let s=this.bindings.filter(t=>t.event===e);for(let e=0;e<s.length;e++)s[e].callback(i,n,r||this.joinRef())}replyEventName(e){return`chan_reply_${e}`}isClosed(){return this.state===e2.closed}isErrored(){return this.state===e2.errored}isJoined(){return this.state===e2.joined}isJoining(){return this.state===e2.joining}isLeaving(){return this.state===e2.leaving}},tt=class{static request(e,t,n,r,i,s,o){if(e4.XDomainRequest){let n=new e4.XDomainRequest;return this.xdomainRequest(n,e,t,r,i,s,o)}{let a=new e4.XMLHttpRequest;return this.xhrRequest(a,e,t,n,r,i,s,o)}}static xdomainRequest(e,t,n,r,i,s,o){return e.timeout=i,e.open(t,n),e.onload=()=>{let t=this.parseJSON(e.responseText);o&&o(t)},s&&(e.ontimeout=s),e.onprogress=()=>{},e.send(r),e}static xhrRequest(e,t,n,r,i,s,o,a){return e.open(t,n,!0),e.timeout=s,e.setRequestHeader("Content-Type",r),e.onerror=()=>a&&a(null),e.onreadystatechange=()=>{e.readyState===e8.complete&&a&&a(this.parseJSON(e.responseText))},o&&(e.ontimeout=o),e.send(i),e}static parseJSON(e){if(!e||""===e)return null;try{return JSON.parse(e)}catch(t){return console&&console.log("failed to parse JSON response",e),null}}static serialize(e,t){let n=[];for(var r in e){if(!Object.prototype.hasOwnProperty.call(e,r))continue;let i=t?`${t}[${r}]`:r,s=e[r];"object"==typeof s?n.push(this.serialize(s,i)):n.push(encodeURIComponent(i)+"="+encodeURIComponent(s))}return n.join("&")}static appendParams(e,t){if(0===Object.keys(t).length)return e;let n=e.match(/\?/)?"&":"?";return`${e}${n}${this.serialize(t)}`}},tn=class{constructor(e){this.endPoint=null,this.token=null,this.skipHeartbeat=!0,this.reqs=new Set,this.onopen=function(){},this.onerror=function(){},this.onmessage=function(){},this.onclose=function(){},this.pollEndpoint=this.normalizeEndpoint(e),this.readyState=e9.connecting,this.poll()}normalizeEndpoint(e){return e.replace("ws://","http://").replace("wss://","https://").replace(RegExp("(.*)/"+e3.websocket),"$1/"+e3.longpoll)}endpointURL(){return tt.appendParams(this.pollEndpoint,{token:this.token})}closeAndRetry(e,t,n){this.close(e,t,n),this.readyState=e9.connecting}ontimeout(){this.onerror("timeout"),this.closeAndRetry(1005,"timeout",!1)}isActive(){return this.readyState===e9.open||this.readyState===e9.connecting}poll(){this.ajax("GET",null,()=>this.ontimeout(),e=>{if(e){var{status:t,token:n,messages:r}=e;this.token=n}else t=0;switch(t){case 200:r.forEach(e=>{setTimeout(()=>this.onmessage({data:e}),0)}),this.poll();break;case 204:this.poll();break;case 410:this.readyState=e9.open,this.onopen({}),this.poll();break;case 403:this.onerror(403),this.close(1008,"forbidden",!1);break;case 0:case 500:this.onerror(500),this.closeAndRetry(1011,"internal server error",500);break;default:throw Error(`unhandled poll status ${t}`)}})}send(e){this.ajax("POST",e,()=>this.onerror("timeout"),e=>{e&&200===e.status||(this.onerror(e&&e.status),this.closeAndRetry(1011,"internal server error",!1))})}close(e,t,n){for(let e of this.reqs)e.abort();this.readyState=e9.closed;let r=Object.assign({code:1e3,reason:void 0,wasClean:!0},{code:e,reason:t,wasClean:n});"undefined"!=typeof CloseEvent?this.onclose(new CloseEvent("close",r)):this.onclose(r)}ajax(e,t,n,r){let i;i=tt.request(e,this.endpointURL(),"application/json",t,this.timeout,()=>{this.reqs.delete(i),n()},e=>{this.reqs.delete(i),this.isActive()&&r(e)}),this.reqs.add(i)}},tr={HEADER_LENGTH:1,META_LENGTH:4,KINDS:{push:0,reply:1,broadcast:2},encode(e,t){return e.payload.constructor===ArrayBuffer?t(this.binaryEncode(e)):t(JSON.stringify([e.join_ref,e.ref,e.topic,e.event,e.payload]))},decode(e,t){if(e.constructor===ArrayBuffer)return t(this.binaryDecode(e));{let[n,r,i,s,o]=JSON.parse(e);return t({join_ref:n,ref:r,topic:i,event:s,payload:o})}},binaryEncode(e){let{join_ref:t,ref:n,event:r,topic:i,payload:s}=e,o=this.META_LENGTH+t.length+n.length+i.length+r.length,a=new ArrayBuffer(this.HEADER_LENGTH+o),l=new DataView(a),c=0;l.setUint8(c++,this.KINDS.push),l.setUint8(c++,t.length),l.setUint8(c++,n.length),l.setUint8(c++,i.length),l.setUint8(c++,r.length),Array.from(t,e=>l.setUint8(c++,e.charCodeAt(0))),Array.from(n,e=>l.setUint8(c++,e.charCodeAt(0))),Array.from(i,e=>l.setUint8(c++,e.charCodeAt(0))),Array.from(r,e=>l.setUint8(c++,e.charCodeAt(0)));var u=new Uint8Array(a.byteLength+s.byteLength);return u.set(new Uint8Array(a),0),u.set(new Uint8Array(s),a.byteLength),u.buffer},binaryDecode(e){let t=new DataView(e),n=t.getUint8(0),r=new TextDecoder;switch(n){case this.KINDS.push:return this.decodePush(e,t,r);case this.KINDS.reply:return this.decodeReply(e,t,r);case this.KINDS.broadcast:return this.decodeBroadcast(e,t,r)}},decodePush(e,t,n){let r=t.getUint8(1),i=t.getUint8(2),s=t.getUint8(3),o=this.HEADER_LENGTH+this.META_LENGTH-1,a=n.decode(e.slice(o,o+r));o+=r;let l=n.decode(e.slice(o,o+i));o+=i;let c=n.decode(e.slice(o,o+s));return o+=s,{join_ref:a,ref:null,topic:l,event:c,payload:e.slice(o,e.byteLength)}},decodeReply(e,t,n){let r=t.getUint8(1),i=t.getUint8(2),s=t.getUint8(3),o=t.getUint8(4),a=this.HEADER_LENGTH+this.META_LENGTH,l=n.decode(e.slice(a,a+r));a+=r;let c=n.decode(e.slice(a,a+i));a+=i;let u=n.decode(e.slice(a,a+s));a+=s;let h=n.decode(e.slice(a,a+o));a+=o;let d=e.slice(a,e.byteLength);return{join_ref:l,ref:c,topic:u,event:e5.reply,payload:{status:h,response:d}}},decodeBroadcast(e,t,n){let r=t.getUint8(1),i=t.getUint8(2),s=this.HEADER_LENGTH+2,o=n.decode(e.slice(s,s+r));s+=r;let a=n.decode(e.slice(s,s+i));return s+=i,{join_ref:null,ref:null,topic:o,event:a,payload:e.slice(s,e.byteLength)}}},ti=class{constructor(e,t={}){this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.channels=[],this.sendBuffer=[],this.ref=0,this.timeout=t.timeout||1e4,this.transport=t.transport||e4.WebSocket||tn,this.establishedConnections=0,this.defaultEncoder=tr.encode.bind(tr),this.defaultDecoder=tr.decode.bind(tr),this.closeWasClean=!1,this.binaryType=t.binaryType||"arraybuffer",this.connectClock=1,this.transport!==tn?(this.encode=t.encode||this.defaultEncoder,this.decode=t.decode||this.defaultDecoder):(this.encode=this.defaultEncoder,this.decode=this.defaultDecoder);let n=null;e1&&e1.addEventListener&&(e1.addEventListener("pagehide",e=>{this.conn&&(this.disconnect(),n=this.connectClock)}),e1.addEventListener("pageshow",e=>{n===this.connectClock&&(n=null,this.connect())})),this.heartbeatIntervalMs=t.heartbeatIntervalMs||3e4,this.rejoinAfterMs=e=>t.rejoinAfterMs?t.rejoinAfterMs(e):[1e3,2e3,5e3][e-1]||1e4,this.reconnectAfterMs=e=>t.reconnectAfterMs?t.reconnectAfterMs(e):[10,50,100,150,200,250,500,1e3,2e3][e-1]||5e3,this.logger=t.logger||null,this.longpollerTimeout=t.longpollerTimeout||2e4,this.params=e0(t.params||{}),this.endPoint=`${e}/${e3.websocket}`,this.vsn=t.vsn||"2.0.0",this.heartbeatTimeoutTimer=null,this.heartbeatTimer=null,this.pendingHeartbeatRef=null,this.reconnectTimer=new e7(()=>{this.teardown(()=>this.connect())},this.reconnectAfterMs)}getLongPollTransport(){return tn}replaceTransport(e){this.connectClock++,this.closeWasClean=!0,this.reconnectTimer.reset(),this.sendBuffer=[],this.conn&&(this.conn.close(),this.conn=null),this.transport=e}protocol(){return location.protocol.match(/^https/)?"wss":"ws"}endPointURL(){let e=tt.appendParams(tt.appendParams(this.endPoint,this.params()),{vsn:this.vsn});return"/"!==e.charAt(0)?e:"/"===e.charAt(1)?`${this.protocol()}:${e}`:`${this.protocol()}://${location.host}${e}`}disconnect(e,t,n){this.connectClock++,this.closeWasClean=!0,this.reconnectTimer.reset(),this.teardown(e,t,n)}connect(e){e&&(console&&console.log("passing params to connect is deprecated. Instead pass :params to the Socket constructor"),this.params=e0(e)),this.conn||(this.connectClock++,this.closeWasClean=!1,this.conn=new this.transport(this.endPointURL()),this.conn.binaryType=this.binaryType,this.conn.timeout=this.longpollerTimeout,this.conn.onopen=()=>this.onConnOpen(),this.conn.onerror=e=>this.onConnError(e),this.conn.onmessage=e=>this.onConnMessage(e),this.conn.onclose=e=>this.onConnClose(e))}log(e,t,n){this.logger(e,t,n)}hasLogger(){return null!==this.logger}onOpen(e){let t=this.makeRef();return this.stateChangeCallbacks.open.push([t,e]),t}onClose(e){let t=this.makeRef();return this.stateChangeCallbacks.close.push([t,e]),t}onError(e){let t=this.makeRef();return this.stateChangeCallbacks.error.push([t,e]),t}onMessage(e){let t=this.makeRef();return this.stateChangeCallbacks.message.push([t,e]),t}ping(e){if(!this.isConnected())return!1;let t=this.makeRef(),n=Date.now();this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:t});let r=this.onMessage(i=>{i.ref===t&&(this.off([r]),e(Date.now()-n))});return!0}clearHeartbeats(){clearTimeout(this.heartbeatTimer),clearTimeout(this.heartbeatTimeoutTimer)}onConnOpen(){this.hasLogger()&&this.log("transport",`connected to ${this.endPointURL()}`),this.closeWasClean=!1,this.establishedConnections++,this.flushSendBuffer(),this.reconnectTimer.reset(),this.resetHeartbeat(),this.stateChangeCallbacks.open.forEach(e=>{let[,t]=e;return t()})}heartbeatTimeout(){this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null,this.hasLogger()&&this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.triggerChanError(),this.closeWasClean=!1,this.teardown(()=>this.reconnectTimer.scheduleTimeout(),1e3,"heartbeat timeout"))}resetHeartbeat(){this.conn&&this.conn.skipHeartbeat||(this.pendingHeartbeatRef=null,this.clearHeartbeats(),this.heartbeatTimer=setTimeout(()=>this.sendHeartbeat(),this.heartbeatIntervalMs))}teardown(e,t,n){if(!this.conn)return e&&e();this.waitForBufferDone(()=>{this.conn&&(t?this.conn.close(t,n||""):this.conn.close()),this.waitForSocketClosed(()=>{this.conn&&(this.conn.onopen=function(){},this.conn.onerror=function(){},this.conn.onmessage=function(){},this.conn.onclose=function(){},this.conn=null),e&&e()})})}waitForBufferDone(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(5===t||!this.conn||!this.conn.bufferedAmount)return void e();setTimeout(()=>{this.waitForBufferDone(e,t+1)},150*t)}waitForSocketClosed(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(5===t||!this.conn||this.conn.readyState===e9.closed)return void e();setTimeout(()=>{this.waitForSocketClosed(e,t+1)},150*t)}onConnClose(e){let t=e&&e.code;this.hasLogger()&&this.log("transport","close",e),this.triggerChanError(),this.clearHeartbeats(),this.closeWasClean||1e3===t||this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(t=>{let[,n]=t;return n(e)})}onConnError(e){this.hasLogger()&&this.log("transport",e);let t=this.transport,n=this.establishedConnections;this.stateChangeCallbacks.error.forEach(r=>{let[,i]=r;i(e,t,n)}),(t===this.transport||n>0)&&this.triggerChanError()}triggerChanError(){this.channels.forEach(e=>{e.isErrored()||e.isLeaving()||e.isClosed()||e.trigger(e5.error)})}connectionState(){switch(this.conn&&this.conn.readyState){case e9.connecting:return"connecting";case e9.open:return"open";case e9.closing:return"closing";default:return"closed"}}isConnected(){return"open"===this.connectionState()}remove(e){this.off(e.stateChangeRefs),this.channels=this.channels.filter(t=>t.joinRef()!==e.joinRef())}off(e){for(let t in this.stateChangeCallbacks)this.stateChangeCallbacks[t]=this.stateChangeCallbacks[t].filter(t=>{let[n]=t;return -1===e.indexOf(n)})}channel(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=new te(e,t,this);return this.channels.push(n),n}push(e){if(this.hasLogger()){let{topic:t,event:n,payload:r,ref:i,join_ref:s}=e;this.log("push",`${t} ${n} (${s}, ${i})`,r)}this.isConnected()?this.encode(e,e=>this.conn.send(e)):this.sendBuffer.push(()=>this.encode(e,e=>this.conn.send(e)))}makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}sendHeartbeat(){(!this.pendingHeartbeatRef||this.isConnected())&&(this.pendingHeartbeatRef=this.makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatTimeoutTimer=setTimeout(()=>this.heartbeatTimeout(),this.heartbeatIntervalMs))}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}onConnMessage(e){this.decode(e.data,e=>{let{topic:t,event:n,payload:r,ref:i,join_ref:s}=e;i&&i===this.pendingHeartbeatRef&&(this.clearHeartbeats(),this.pendingHeartbeatRef=null,this.heartbeatTimer=setTimeout(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)),this.hasLogger()&&this.log("receive",`${r.status||""} ${t} ${n} ${i&&"("+i+")"||""}`,r);for(let e=0;e<this.channels.length;e++){let o=this.channels[e];o.isMember(t,n,r,s)&&o.trigger(n,r,i,s)}for(let t=0;t<this.stateChangeCallbacks.message.length;t++){let[,n]=this.stateChangeCallbacks.message[t];n(e)}})}leaveOpenTopic(e){let t=this.channels.find(t=>t.topic===e&&(t.isJoined()||t.isJoining()));t&&(this.hasLogger()&&this.log("transport",`leaving duplicate topic "${e}"`),t.leave())}},ts=Object.defineProperty,to=(e,t,n)=>(((e,t,n)=>t in e?ts(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n),n);class ta{constructor(e){to(this,"host"),to(this,"apiKey"),to(this,"userToken"),to(this,"axiosClient"),to(this,"socket"),this.host=e.host,this.apiKey=e.apiKey,this.userToken=e.userToken||null,this.axiosClient=eZ.create({baseURL:this.host,headers:{Accept:"application/json","Content-Type":"application/json",Authorization:`Bearer ${this.apiKey}`,"X-Knock-User-Token":this.userToken}}),"u">typeof window&&(this.socket=new ti(`${this.host.replace("http","ws")}/ws/v1`,{params:{user_token:this.userToken,api_key:this.apiKey}})),(0,eQ.default)(this.axiosClient,{retries:3,retryCondition:this.canRetryRequest,retryDelay:eQ.default.exponentialDelay})}async makeRequest(e){try{let t=await this.axiosClient(e);return{statusCode:t.status<300?"ok":"error",body:t.data,error:void 0,status:t.status}}catch(e){return console.error(e),{statusCode:"error",status:500,body:void 0,error:e}}}canRetryRequest(e){return!!eQ.default.isNetworkError(e)||!!e.response&&(e.response.status>=500&&e.response.status<=599||429===e.response.status)}}var tl=Object.defineProperty;class tc{constructor(e){((e,t,n)=>((e,t,n)=>t in e?tl(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n))(this,"knock"),this.knock=e}async get(e){let t=await this.knock.client().makeRequest({method:"GET",url:`/v1/messages/${e}`});return this.handleResponse(t)}async updateStatus(e,t){let n=await this.knock.client().makeRequest({method:"PUT",url:`/v1/messages/${e}/${t}`});return this.handleResponse(n)}async removeStatus(e,t){let n=await this.knock.client().makeRequest({method:"DELETE",url:`/v1/messages/${e}/${t}`});return this.handleResponse(n)}async batchUpdateStatuses(e,t){let n=await this.knock.client().makeRequest({method:"POST",url:`/v1/messages/batch/${t}`,data:{message_ids:e}});return this.handleResponse(n)}async bulkUpdateAllStatusesInChannel(e){let{channelId:t,status:n,options:r}=e,i=await this.knock.client().makeRequest({method:"POST",url:`/v1/channels/${t}/messages/bulk/${n}`,data:r});return this.handleResponse(i)}handleResponse(e){var t,n;if("error"===e.statusCode){if((null==(n=null==(t=e.error)?void 0:t.response)?void 0:n.status)<500)return e.error||e.body;throw Error(e.error||e.body)}return e.body}}var tu=Object.defineProperty;class th{constructor(e){((e,t,n)=>((e,t,n)=>t in e?tu(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n))(this,"instance"),this.instance=e}async getChannelData(e){let{collection:t,objectId:n,channelId:r}=e,i=await this.instance.client().makeRequest({method:"GET",url:`/v1/objects/${t}/${n}/channel_data/${r}`});return this.handleResponse(i)}async setChannelData(e){let{objectId:t,collection:n,channelId:r,data:i}=e,s=await this.instance.client().makeRequest({method:"PUT",url:`v1/objects/${n}/${t}/channel_data/${r}`,data:{data:i}});return this.handleResponse(s)}handleResponse(e){if("error"===e.statusCode)throw Error(e.error||e.body);return e.body}}var td=Object.defineProperty;let tf="default";function tp(e){return"object"==typeof e?e:{subscribed:e}}class tm{constructor(e){((e,t,n)=>((e,t,n)=>t in e?td(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n))(this,"instance"),this.instance=e}async getAll(){let e=await this.instance.client().makeRequest({method:"GET",url:`/v1/users/${this.instance.userId}/preferences`});return this.handleResponse(e)}async get(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.preferenceSet||tf,n=await this.instance.client().makeRequest({method:"GET",url:`/v1/users/${this.instance.userId}/preferences/${t}`});return this.handleResponse(n)}async set(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.preferenceSet||tf,r=await this.instance.client().makeRequest({method:"PUT",url:`/v1/users/${this.instance.userId}/preferences/${n}`,data:e});return this.handleResponse(r)}async setChannelTypes(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.preferenceSet||tf,r=await this.instance.client().makeRequest({method:"PUT",url:`/v1/users/${this.instance.userId}/preferences/${n}/channel_types`,data:e});return this.handleResponse(r)}async setChannelType(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.preferenceSet||tf,i=await this.instance.client().makeRequest({method:"PUT",url:`/v1/users/${this.instance.userId}/preferences/${r}/channel_types/${e}`,data:{subscribed:t}});return this.handleResponse(i)}async setWorkflows(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.preferenceSet||tf,r=await this.instance.client().makeRequest({method:"PUT",url:`/v1/users/${this.instance.userId}/preferences/${n}/workflows`,data:e});return this.handleResponse(r)}async setWorkflow(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.preferenceSet||tf,i=tp(t),s=await this.instance.client().makeRequest({method:"PUT",url:`/v1/users/${this.instance.userId}/preferences/${r}/workflows/${e}`,data:i});return this.handleResponse(s)}async setCategories(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.preferenceSet||tf,r=await this.instance.client().makeRequest({method:"PUT",url:`/v1/users/${this.instance.userId}/preferences/${n}/categories`,data:e});return this.handleResponse(r)}async setCategory(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.preferenceSet||tf,i=tp(t),s=await this.instance.client().makeRequest({method:"PUT",url:`/v1/users/${this.instance.userId}/preferences/${r}/categories/${e}`,data:i});return this.handleResponse(s)}handleResponse(e){if("error"===e.statusCode)throw Error(e.error||e.body);return e.body}}var tg=Object.defineProperty;let tv="$tenants";class ty{constructor(e){((e,t,n)=>((e,t,n)=>t in e?tg(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n))(this,"instance"),this.instance=e}async authCheck(e){let{tenant:t,knockChannelId:n}=e,r=await this.instance.client().makeRequest({method:"GET",url:`/v1/providers/slack/${n}/auth_check`,params:{access_token_object:{object_id:t,collection:tv},channel_id:n}});return this.handleResponse(r)}async getChannels(e){let{knockChannelId:t,tenant:n}=e,r=e.queryOptions||{},i=await this.instance.client().makeRequest({method:"GET",url:`/v1/providers/slack/${t}/channels`,params:{access_token_object:{object_id:n,collection:tv},channel_id:t,query_options:{cursor:r.cursor,limit:r.limit,exclude_archived:r.excludeArchived,team_id:r.teamId,types:r.types}}});return this.handleResponse(i)}async revokeAccessToken(e){let{tenant:t,knockChannelId:n}=e,r=await this.instance.client().makeRequest({method:"PUT",url:`/v1/providers/slack/${n}/revoke_access`,params:{access_token_object:{object_id:t,collection:tv},channel_id:n}});return this.handleResponse(r)}handleResponse(e){var t,n;if("error"===e.statusCode){if((null==(n=null==(t=e.error)?void 0:t.response)?void 0:n.status)<500)return e.error||e.body;throw Error(e.error||e.body)}return e.body}}var tb=Object.defineProperty;let tw="default";class tE{constructor(e){((e,t,n)=>((e,t,n)=>t in e?tb(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n))(this,"instance"),this.instance=e}async get(){let e=await this.instance.client().makeRequest({method:"GET",url:`/v1/users/${this.instance.userId}`});return this.handleResponse(e)}async identify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=await this.instance.client().makeRequest({method:"PUT",url:`/v1/users/${this.instance.userId}`,params:e});return this.handleResponse(t)}async getAllPreferences(){let e=await this.instance.client().makeRequest({method:"GET",url:`/v1/users/${this.instance.userId}/preferences`});return this.handleResponse(e)}async getPreferences(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.preferenceSet||tw,n=await this.instance.client().makeRequest({method:"GET",url:`/v1/users/${this.instance.userId}/preferences/${t}`,params:{tenant:e.tenant}});return this.handleResponse(n)}async setPreferences(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.preferenceSet||tw,r=await this.instance.client().makeRequest({method:"PUT",url:`/v1/users/${this.instance.userId}/preferences/${n}`,data:e});return this.handleResponse(r)}async getChannelData(e){let t=await this.instance.client().makeRequest({method:"GET",url:`/v1/users/${this.instance.userId}/channel_data/${e.channelId}`});return this.handleResponse(t)}async setChannelData(e){let{channelId:t,channelData:n}=e,r=await this.instance.client().makeRequest({method:"PUT",url:`/v1/users/${this.instance.userId}/channel_data/${t}`,data:{data:n}});return this.handleResponse(r)}handleResponse(e){if("error"===e.statusCode)throw Error(e.error||e.body);return e.body}}var t_=Object.defineProperty,tk=(e,t,n)=>(((e,t,n)=>t in e?t_(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n),n);class tC{constructor(e,t={}){if(tk(this,"host"),tk(this,"apiClient",null),tk(this,"userId"),tk(this,"userToken"),tk(this,"logLevel"),tk(this,"tokenExpirationTimer",null),tk(this,"feeds",new g(this)),tk(this,"objects",new th(this)),tk(this,"preferences",new tm(this)),tk(this,"slack",new ty(this)),tk(this,"user",new tE(this)),tk(this,"messages",new tc(this)),this.apiKey=e,this.host=t.host||"https://api.knock.app",this.logLevel=t.logLevel,this.log("Initialized Knock instance"),this.apiKey&&this.apiKey.startsWith("sk_"))throw Error("[Knock] You are using your secret API key on the client. Please use the public key.")}client(){return this.userId||console.warn(`[Knock] You must call authenticate(userId, userToken) first before trying to make a request.
        Typically you'll see this message when you're creating a feed instance before having called
        authenticate with a user Id and token. That means we won't know who to issue the request
        to Knock on behalf of.
        `),this.apiClient||(this.apiClient=this.createApiClient()),this.apiClient}authenticate(e,t,n){let r=!1;this.apiClient&&(this.userId!==e||this.userToken!==t)&&(this.log("userId or userToken changed; reinitializing connections"),this.feeds.teardownInstances(),this.teardown(),r=!0),this.userId=e,this.userToken=t,this.log(`Authenticated with userId ${e}`),this.userToken&&(null==n?void 0:n.onUserTokenExpiring)instanceof Function&&this.maybeScheduleUserTokenExpiration(n.onUserTokenExpiring,n.timeBeforeExpirationInMs),r&&(this.apiClient=this.createApiClient(),this.feeds.reinitializeInstances(),this.log("Reinitialized real-time connections"))}isAuthenticated(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return e?!!(this.userId&&this.userToken):!!this.userId}teardown(){var e;this.tokenExpirationTimer&&clearTimeout(this.tokenExpirationTimer),null!=(e=this.apiClient)&&e.socket&&this.apiClient.socket.isConnected()&&this.apiClient.socket.disconnect()}log(e){"debug"===this.logLevel&&console.log(`[Knock] ${e}`)}createApiClient(){return new ta({apiKey:this.apiKey,host:this.host,userToken:this.userToken})}async maybeScheduleUserTokenExpiration(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3e4;if(!this.userToken)return;let n=function(e,t){let n;if("string"!=typeof e)throw new v("Invalid token specified: must be a string");t||(t={});let r=+(!0!==t.header),i=e.split(".")[r];if("string"!=typeof i)throw new v(`Invalid token specified: missing part #${r+1}`);try{n=function(e){let t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw Error("base64 string is not of the correct length")}try{var n;return n=t,decodeURIComponent(atob(n).replace(/(.)/g,(e,t)=>{let n=t.charCodeAt(0).toString(16).toUpperCase();return n.length<2&&(n="0"+n),"%"+n}))}catch(e){return atob(t)}}(i)}catch(e){throw new v(`Invalid token specified: invalid base64 for part #${r+1} (${e.message})`)}try{return JSON.parse(n)}catch(e){throw new v(`Invalid token specified: invalid json for part #${r+1} (${e.message})`)}}(this.userToken),r=(n.exp??0)*1e3,i=Date.now();if(r&&r>i){let s=r-t-i;this.tokenExpirationTimer=setTimeout(async()=>{let r=await e(this.userToken,n);"string"==typeof r&&this.authenticate(this.userId,r,{onUserTokenExpiring:e,timeBeforeExpirationInMs:t})},s)}}}function tT(e){let t=(0,r.useRef)();return(0,r.useMemo)(()=>{let n=t.current;return n&&function(e,t){if(Object.is(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;let n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(let r=0;r<n.length;r++)if(!Object.prototype.hasOwnProperty.call(t,n[r])||!Object.is(e[n[r]],t[n[r]]))return!1;return!0}(e,n)?n:(t.current=e,e)},[e])}function tR(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.authenticate(t,n,{onUserTokenExpiring:null==r?void 0:r.onUserTokenExpiring,timeBeforeExpirationInMs:null==r?void 0:r.timeBeforeExpirationInMs})}function tS(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=r.default.useRef(),o=tT(i);return r.default.useMemo(()=>{let r=s.current;if(r&&r.isAuthenticated()&&(r.userId!==t||r.userToken!==n))return tR(r,t,n,o),r;r&&r.teardown();let i=new tC(e,{host:o.host,logLevel:o.logLevel});return tR(i,t,n,o),s.current=i,i},[e,t,n,o])}r.createContext(null);var tO=(e=>(e.All="all",e.Read="read",e.Unseen="unseen",e.Unread="unread",e))(tO||{});let tA={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},tL=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,tj=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,tN=/^([+-])(\d{2})(?::?(\d{2}))?$/;function tP(e){return e?parseInt(e):1}function tx(e){return e&&parseFloat(e.replace(",","."))||0}let tI=[31,null,31,30,31,30,31,31,30,31,30,31];function tU(e){return e%400==0||e%4==0&&e%100!=0}function tD(e){let t=Object.prototype.toString.call(e);return e instanceof Date||"object"==typeof e&&"[object Date]"===t?new e.constructor(+e):new Date("number"==typeof e||"[object Number]"===t||"string"==typeof e||"[object String]"===t?e:NaN)}function t$(e){let t=tD(e);return t.setHours(0,0,0,0),t}function tM(e){let t=tD(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),e-n}function tF(e,t){let n=t$(e),r=t$(t);return Math.round((n-tM(n)-(r-tM(r)))/864e5)}function tB(e,t){let n=tD(e),r=tD(t);return 12*(n.getFullYear()-r.getFullYear())+(n.getMonth()-r.getMonth())}function tq(e){return Math.trunc(tD(e).getMonth()/3)+1}function tH(e,t){let n=tD(e),r=tD(t);return 4*(n.getFullYear()-r.getFullYear())+(tq(n)-tq(r))}let tz={};function tK(e,t){let n=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??tz.weekStartsOn??tz.locale?.options?.weekStartsOn??0,r=tD(e),i=r.getDay();return r.setDate(r.getDate()-(7*(i<n)+i-n)),r.setHours(0,0,0,0),r}function tW(e,t,n){let r=tK(e,n),i=tK(t,n);return Math.round((r-tM(r)-(i-tM(i)))/6048e5)}function tG(e,t){let n=tD(e),r=tD(t);return n.getFullYear()-r.getFullYear()}function tJ(e){return t=>{let n=(e?Math[e]:Math.trunc)(t);return 0===n?0:n}}function tV(e,t,n){let r=(tD(e)-tD(t))/36e5;return tJ(n?.roundingMethod)(r)}function tY(e,t,n){let r=(tD(e)-tD(t))/6e4;return tJ(n?.roundingMethod)(r)}function tX(e,t,n){let r=(tD(e)-tD(t))/1e3;return tJ(n?.roundingMethod)(r)}function tZ(e,t){return void 0!==e?e:t}function tQ(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=(0,r.useRef)(),s=tT(n);return(0,r.useMemo)(()=>(i.current&&i.current.dispose(),i.current=e.feeds.initialize(t,s),i.current.store.subscribe(e=>{var t;return null==(t=null==i?void 0:i.current)?void 0:t.store.setState(e)}),i.current.listenForUpdates(),i.current),[e,t,s])}e.s({default:()=>tQ},5799063),e.s({default:()=>t9,useCreateNotificationStore:()=>t4},9653067);let t0="undefined"==typeof window||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent)?r.useEffect:r.useLayoutEffect,t1="u">typeof window?r.useLayoutEffect:r.useEffect;function t4(e){let t=r.useMemo(()=>(function(e){let t="function"==typeof e?function(e){let t,n=new Set,r=(e,r)=>{let i="function"==typeof e?e(t):e;if(i!==t){let e=t;t=r?i:Object.assign({},t,i),n.forEach(n=>n(t,e))}},i=()=>t,s=function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object.is;console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let o=r(t);function a(){let n=r(t);if(!s(o,n)){let t=o;e(o=n,t)}}return n.add(a),()=>n.delete(a)},o={setState:r,getState:i,subscribe:(e,t,r)=>t||r?s(e,t,r):(n.add(e),()=>n.delete(e)),destroy:()=>n.clear()};return t=e(r,i,o),o}(e):e,n=function(){let e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.getState,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.is,[,s]=(0,r.useReducer)(e=>e+1,0),o=t.getState(),a=(0,r.useRef)(o),l=(0,r.useRef)(n),c=(0,r.useRef)(i),u=(0,r.useRef)(!1),h=(0,r.useRef)();void 0===h.current&&(h.current=n(o));let d=!1;(a.current!==o||l.current!==n||c.current!==i||u.current)&&(e=n(o),d=!i(h.current,e)),t0(()=>{d&&(h.current=e),a.current=o,l.current=n,c.current=i,u.current=!1});let f=(0,r.useRef)(o);t0(()=>{let e=()=>{try{let e=t.getState(),n=l.current(e);c.current(h.current,n)||(a.current=e,h.current=n,s())}catch(e){u.current=!0,s()}},n=t.subscribe(e);return t.getState()!==f.current&&e(),n},[]);let p=d?e:h.current;return(0,r.useDebugValue)(p),p};return Object.assign(n,t),n[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");let e=[n,t];return{next(){let t=e.length<=0;return{value:e.shift(),done:t}}}},n})(e.store),[e]),[,n]=r.useReducer(e=>e+1,0);return t1(()=>{let t=e.store.subscribe(n);return n(),t},[e]),t}function t9(e,t){return t4(e)(t||e.store.getState)}let t2=r.createContext(void 0),t5=()=>{let e=r.useContext(t2);if(!e)throw Error("useKnockFeed must be used within a KnockFeedProvider");return e};function t3(){let{translations:e,locale:t}=(0,r.useContext)(s);return{locale:t,t:t=>e[t]||i.en.translations[t]}}r.createContext(null),e.i(7095283);let t8=e=>{let{color:t="rgba(0,0,0,0.4)",speed:n="medium",gap:i=4,thickness:s=4,size:o="1em",...a}=e;return r.default.createElement("svg",{height:o,width:o,...a,style:{animationDuration:`${"fast"===n?600:"slow"===n?900:750}ms`},className:"__react-svg-spinner_circle",role:"img","aria-labelledby":"title desc",viewBox:"0 0 32 32"},r.default.createElement("title",{id:"title"},"Circle loading spinner"),r.default.createElement("desc",{id:"desc"},'Image of a partial circle indicating "loading."'),r.default.createElement("style",{dangerouslySetInnerHTML:{__html:`
      .__react-svg-spinner_circle{
          transition-property: transform;
          animation-name: __react-svg-spinner_infinite-spin;
          animation-iteration-count: infinite;
          animation-timing-function: linear;
      }
      @keyframes __react-svg-spinner_infinite-spin {
          from {transform: rotate(0deg)}
          to {transform: rotate(360deg)}
      }
    `}}),r.default.createElement("circle",{role:"presentation",cx:16,cy:16,r:14-s/2,stroke:t,fill:"none",strokeWidth:s,strokeDasharray:2*Math.PI*(11-i),strokeLinecap:"round"}))},t6=e=>{let{hasLabel:t}=e;return r.default.createElement("div",{className:`rnf-button-spinner rnf-button-spinner--${t?"with-label":"without-label"}`},r.default.createElement(t8,null))},t7=e=>{let{variant:t="primary",loadingText:n,isLoading:i=!1,isDisabled:s=!1,isFullWidth:o=!1,onClick:a,children:l}=e,{colorMode:c}=t5(),u=["rnf-button",`rnf-button--${t}`,o?"rnf-button--full-width":"",i?"rnf-button--is-loading":"",`rnf-button--${c}`].join(" "),h=n||r.default.createElement("span",{className:"rnf-button__button-text-hidden"},l);return r.default.createElement("button",{onClick:a,className:u,disabled:i||s,type:"button"},i&&r.default.createElement(t6,{hasLabel:!!n}),i?h:l)},ne=e=>{let{children:t}=e;return r.default.createElement("div",{className:"rnf-button-group"},t)},nt=e=>{let{width:t=24,height:n=24}=e;return r.default.createElement("svg",{width:t,viewBox:"0 0 24 24",fill:"none",height:n},r.default.createElement("path",{d:"M20.0474 16.4728C18.8436 14.9996 17.9938 14.2496 17.9938 10.1879C17.9938 6.46832 16.0944 5.14317 14.5311 4.49957C14.3235 4.41426 14.128 4.21832 14.0647 4.00504C13.7905 3.07176 13.0217 2.24957 11.9999 2.24957C10.978 2.24957 10.2088 3.07223 9.93736 4.00598C9.87408 4.2216 9.67861 4.41426 9.47096 4.49957C7.9058 5.1441 6.0083 6.46457 6.0083 10.1879C6.00596 14.2496 5.15611 14.9996 3.95237 16.4728C3.45362 17.0832 3.89049 17.9996 4.76283 17.9996H19.2416C20.1092 17.9996 20.5433 17.0803 20.0474 16.4728Z",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),r.default.createElement("path",{d:"M14.9999 17.9988V18.7488C14.9999 19.5445 14.6838 20.3075 14.1212 20.8701C13.5586 21.4327 12.7955 21.7488 11.9999 21.7488C11.2042 21.7488 10.4412 21.4327 9.87856 20.8701C9.31595 20.3075 8.99988 19.5445 8.99988 18.7488V17.9988",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}))},nn=e=>{let{width:t=14,height:n=14}=e;return r.default.createElement("svg",{width:t,height:n,viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.default.createElement("path",{d:"M7.00012 0.499939C3.41606 0.499939 0.500122 3.41588 0.500122 6.99994C0.500122 10.584 3.41606 13.4999 7.00012 13.4999C10.5842 13.4999 13.5001 10.584 13.5001 6.99994C13.5001 3.41588 10.5842 0.499939 7.00012 0.499939ZM9.35356 8.6465C9.40194 8.69247 9.44063 8.74766 9.46735 8.80881C9.49407 8.86997 9.50828 8.93585 9.50913 9.00259C9.50999 9.06932 9.49747 9.13555 9.47233 9.19737C9.44718 9.25919 9.40992 9.31535 9.36273 9.36254C9.31553 9.40973 9.25937 9.447 9.19755 9.47214C9.13573 9.49729 9.0695 9.5098 9.00277 9.50895C8.93604 9.50809 8.87015 9.49389 8.809 9.46717C8.74784 9.44045 8.69265 9.40176 8.64668 9.35337L7.00012 7.70712L5.35356 9.35337C5.25903 9.44318 5.13315 9.49251 5.00277 9.49084C4.87239 9.48918 4.74782 9.43664 4.65562 9.34444C4.56342 9.25224 4.51088 9.12767 4.50921 8.99729C4.50755 8.86691 4.55687 8.74103 4.64668 8.6465L6.29293 6.99994L4.64668 5.35338C4.55687 5.25884 4.50755 5.13297 4.50921 5.00259C4.51088 4.87221 4.56342 4.74764 4.65562 4.65544C4.74782 4.56324 4.87239 4.5107 5.00277 4.50903C5.13315 4.50736 5.25903 4.55669 5.35356 4.6465L7.00012 6.29275L8.64668 4.6465C8.74121 4.55669 8.86709 4.50736 8.99747 4.50903C9.12785 4.5107 9.25242 4.56324 9.34462 4.65544C9.43682 4.74764 9.48936 4.87221 9.49103 5.00259C9.4927 5.13297 9.44337 5.25884 9.35356 5.35338L7.70731 6.99994L9.35356 8.6465Z",fill:"currentColor"}))};e.i(3374765);var nr=e.i(6481448),ni=e.i(1967020),ns=e.i(2250501),no=e.i(7636171),na=e.i(9633112),nl=function(e){return e.reduce(function(e,t){var n=t[0],r=t[1];return e[n]=r,e},{})},nc="undefined"!=typeof window&&window.document&&window.document.createElement?r.useLayoutEffect:r.useEffect,nu=[],nh=function(e,t,n){void 0===n&&(n={});var i=r.useRef(null),s={onFirstUpdate:n.onFirstUpdate,placement:n.placement||"bottom",strategy:n.strategy||"absolute",modifiers:n.modifiers||nu},o=r.useState({styles:{popper:{position:s.strategy,left:"0",top:"0"},arrow:{position:"absolute"}},attributes:{}}),a=o[0],l=o[1],c=r.useMemo(function(){return{name:"updateState",enabled:!0,phase:"write",fn:function(e){var t=e.state,n=Object.keys(t.elements);ns.flushSync(function(){l({styles:nl(n.map(function(e){return[e,t.styles[e]||{}]})),attributes:nl(n.map(function(e){return[e,t.attributes[e]]}))})})},requires:["computeStyles"]}},[]),u=r.useMemo(function(){var e={onFirstUpdate:s.onFirstUpdate,placement:s.placement,strategy:s.strategy,modifiers:[].concat(s.modifiers,[c,{name:"applyStyles",enabled:!1}])};return(0,na.default)(i.current,e)?i.current||e:(i.current=e,e)},[s.onFirstUpdate,s.placement,s.strategy,s.modifiers,c]),h=r.useRef();return nc(function(){h.current&&h.current.setOptions(u)},[u]),nc(function(){if(null!=e&&null!=t){var r=(n.createPopper||no.createPopper)(e,t,u);return h.current=r,function(){r.destroy(),h.current=null}}},[e,t,n.createPopper]),{state:h.current?h.current.state:null,styles:a.styles,attributes:a.attributes,update:h.current?h.current.update:null,forceUpdate:h.current?h.current.forceUpdate:null}};function nd(e){var t=r.useRef(e);return t.current=e,r.useCallback(function(){return t.current},[])}var nf=function(){};function np(e,t){return void 0===e&&(e=0),void 0===t&&(t=0),function(){return{width:0,height:0,top:t,right:e,bottom:t,left:e,x:0,y:0,toJSON:function(){return null}}}}var nm=["styles","attributes"],ng={getBoundingClientRect:np()},nv={closeOnOutsideClick:!0,closeOnTriggerHidden:!1,defaultVisible:!1,delayHide:0,delayShow:0,followCursor:!1,interactive:!1,mutationObserverOptions:{attributes:!0,childList:!0,subtree:!0},offset:[0,6],trigger:"hover"};let ny=e=>{let{item:t}=e,{colorMode:n,feedClient:i}=t5(),{t:s}=t3(),o=(0,r.useCallback)(e=>{e.preventDefault(),e.stopPropagation(),i.markAsArchived(t)},[t]),{getTooltipProps:a,setTooltipRef:l,setTriggerRef:c,visible:u}=function(e,t){void 0===e&&(e={}),void 0===t&&(t={});var n,i,s,o=Object.keys(nv).reduce(function(e,t){var n;return(0,ni.default)({},e,((n={})[t]=void 0!==e[t]?e[t]:nv[t],n))},e),a=r.useMemo(function(){return[{name:"offset",options:{offset:o.offset}}]},Array.isArray(o.offset)?o.offset:[]),l=(0,ni.default)({},t,{placement:t.placement||o.placement,modifiers:t.modifiers||a}),c=r.useState(null),u=c[0],h=c[1],d=r.useState(null),f=d[0],p=d[1],m=function(e){var t=e.initial,n=e.value,i=e.onChange,s=void 0===i?nf:i;if(void 0===t&&void 0===n)throw TypeError('Either "value" or "initial" variable must be set. Now both are undefined');var o=r.useState(t),a=o[0],l=o[1],c=nd(a),u=r.useCallback(function(e){var t=c(),n="function"==typeof e?e(t):e;"function"==typeof n.persist&&n.persist(),l(n),"function"==typeof s&&s(n)},[c,s]),h=void 0!==n;return[h?n:a,h?s:u]}({initial:o.defaultVisible,value:o.visible,onChange:o.onVisibleChange}),g=m[0],v=m[1],y=r.useRef();r.useEffect(function(){return function(){return clearTimeout(y.current)}},[]);var b=nh(o.followCursor?ng:u,f,l),w=b.styles,E=b.attributes,_=(0,nr.default)(b,nm),k=_.update,C=nd({visible:g,triggerRef:u,tooltipRef:f,finalConfig:o}),T=r.useCallback(function(e){return Array.isArray(o.trigger)?o.trigger.includes(e):o.trigger===e},Array.isArray(o.trigger)?o.trigger:[o.trigger]),R=r.useCallback(function(){clearTimeout(y.current),y.current=window.setTimeout(function(){return v(!1)},o.delayHide)},[o.delayHide,v]),S=r.useCallback(function(){clearTimeout(y.current),y.current=window.setTimeout(function(){return v(!0)},o.delayShow)},[o.delayShow,v]),O=r.useCallback(function(){C().visible?R():S()},[C,R,S]);r.useEffect(function(){if(C().finalConfig.closeOnOutsideClick){var e=function(e){var t,n=C(),r=n.tooltipRef,i=n.triggerRef,s=(null==e.composedPath||null==(t=e.composedPath())?void 0:t[0])||e.target;s instanceof Node&&null!=r&&null!=i&&!r.contains(s)&&!i.contains(s)&&R()};return document.addEventListener("mousedown",e),function(){return document.removeEventListener("mousedown",e)}}},[C,R]),r.useEffect(function(){if(null!=u&&T("click"))return u.addEventListener("click",O),function(){return u.removeEventListener("click",O)}},[u,T,O]),r.useEffect(function(){if(null!=u&&T("double-click"))return u.addEventListener("dblclick",O),function(){return u.removeEventListener("dblclick",O)}},[u,T,O]),r.useEffect(function(){if(null!=u&&T("right-click")){var e=function(e){e.preventDefault(),O()};return u.addEventListener("contextmenu",e),function(){return u.removeEventListener("contextmenu",e)}}},[u,T,O]),r.useEffect(function(){if(null!=u&&T("focus"))return u.addEventListener("focus",S),u.addEventListener("blur",R),function(){u.removeEventListener("focus",S),u.removeEventListener("blur",R)}},[u,T,S,R]),r.useEffect(function(){if(null!=u&&T("hover"))return u.addEventListener("mouseenter",S),u.addEventListener("mouseleave",R),function(){u.removeEventListener("mouseenter",S),u.removeEventListener("mouseleave",R)}},[u,T,S,R]),r.useEffect(function(){if(null!=f&&T("hover")&&C().finalConfig.interactive)return f.addEventListener("mouseenter",S),f.addEventListener("mouseleave",R),function(){f.removeEventListener("mouseenter",S),f.removeEventListener("mouseleave",R)}},[f,T,S,R,C]);var A=null==_||null==(n=_.state)||null==(i=n.modifiersData)||null==(s=i.hide)?void 0:s.isReferenceHidden;return r.useEffect(function(){o.closeOnTriggerHidden&&A&&R()},[o.closeOnTriggerHidden,R,A]),r.useEffect(function(){if(o.followCursor&&null!=u)return u.addEventListener("mousemove",e),function(){return u.removeEventListener("mousemove",e)};function e(e){ng.getBoundingClientRect=np(e.clientX,e.clientY),null==k||k()}},[o.followCursor,u,k]),r.useEffect(function(){if(null!=f&&null!=k&&null!=o.mutationObserverOptions){var e=new MutationObserver(k);return e.observe(f,o.mutationObserverOptions),function(){return e.disconnect()}}},[o.mutationObserverOptions,f,k]),(0,ni.default)({getArrowProps:function(e){return void 0===e&&(e={}),(0,ni.default)({},e,E.arrow,{style:(0,ni.default)({},e.style,w.arrow),"data-popper-arrow":!0})},getTooltipProps:function(e){return void 0===e&&(e={}),(0,ni.default)({},e,{style:(0,ni.default)({},e.style,w.popper)},E.popper,{"data-popper-interactive":o.interactive})},setTooltipRef:p,setTriggerRef:h,tooltipRef:f,triggerRef:u,visible:g},_)}({placement:"top-end"});return r.default.createElement("button",{ref:c,onClick:o,type:"button","aria-label":s("archiveNotification"),className:`rnf-archive-notification-btn rnf-archive-notification-btn--${n}`},r.default.createElement(nn,null),u&&r.default.createElement("div",{ref:l,...a({className:`rnf-tooltip rnf-tooltip--${n}`})},s("archiveNotification")))},nb=e=>{let{name:t,src:n}=e;return r.default.createElement("div",{className:"rnf-avatar"},n?r.default.createElement("img",{src:n,alt:`Image of ${t}`,className:"rnf-avatar__image"}):r.default.createElement("span",{className:"rnf-avatar__initials"},function(e){let[t,n]=e.split(" ");return t&&n?`${t.charAt(0)}${n.charAt(0)}`:t?t.charAt(0):""}(t)))};function nw(e){e&&""!==e&&setTimeout(()=>window.location.assign(e),200)}r.default.forwardRef((e,t)=>{var n;let{item:i,onItemClick:s,onButtonClick:o,avatar:a,children:l,archiveButton:c}=e,{feedClient:u,colorMode:h}=t5(),{locale:d}=t3(),f=(0,r.useMemo)(()=>i.blocks.reduce((e,t)=>({...e,[t.name]:t}),{}),[i]),p=null==(n=f.action_url)?void 0:n.rendered,m=f.actions,g=r.default.useCallback(()=>(u.markAsInteracted(i),s?s(i):nw(p)),[i,p,s,u]),v=r.default.useCallback((e,t)=>(u.markAsInteracted(i),o?o(i,t):nw(t.action)),[o,u,i]),y=r.default.useCallback(e=>{"Enter"===e.key&&(e.stopPropagation(),g())},[g]),b=i.actors[0];return r.default.createElement("div",{ref:t,className:`rnf-notification-cell rnf-notification-cell--${h}`,onClick:g,onKeyDown:y,tabIndex:0},r.default.createElement("div",{className:"rnf-notification-cell__inner"},!i.read_at&&r.default.createElement("div",{className:"rnf-notification-cell__unread-dot"}),tZ(a,b&&"name"in b&&b.name&&r.default.createElement(nb,{name:b.name,src:b.avatar})),r.default.createElement("div",{className:"rnf-notification-cell__content-outer"},f.body&&r.default.createElement("div",{className:"rnf-notification-cell__content",dangerouslySetInnerHTML:{__html:f.body.rendered}}),m&&r.default.createElement("div",{className:"rnf-notification-cell__button-group"},r.default.createElement(ne,null,m.buttons.map((e,t)=>r.default.createElement(t7,{variant:0===t?"primary":"secondary",key:e.name,onClick:t=>v(t,e)},e.label)))),l&&r.default.createElement("div",{className:"rnf-notification-cell__child-content"},l),r.default.createElement("span",{className:"rnf-notification-cell__timestamp"},function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{let n=function(e,t){let n,r,i=function(e){let t,n={},r=e.split(tA.dateTimeDelimiter);if(r.length>2)return n;if(/:/.test(r[0])?t=r[0]:(n.date=r[0],t=r[1],tA.timeZoneDelimiter.test(n.date)&&(n.date=e.split(tA.timeZoneDelimiter)[0],t=e.substr(n.date.length,e.length))),t){let e=tA.timezone.exec(t);e?(n.time=t.replace(e[1],""),n.timezone=e[1]):n.time=t}return n}(e);if(i.date){let e=function(e,t){let n=RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),r=e.match(n);if(!r)return{year:NaN,restDateString:""};let i=r[1]?parseInt(r[1]):null,s=r[2]?parseInt(r[2]):null;return{year:null===s?i:100*s,restDateString:e.slice((r[1]||r[2]).length)}}(i.date,(void 0)??2);n=function(e,t){if(null===t)return new Date(NaN);let n=e.match(tL);if(!n)return new Date(NaN);let r=!!n[4],i=tP(n[1]),s=tP(n[2])-1,o=tP(n[3]),a=tP(n[4]),l=tP(n[5])-1;if(r)return a>=1&&a<=53&&l>=0&&l<=6?function(e,t,n){let r=new Date(0);r.setUTCFullYear(e,0,4);let i=r.getUTCDay()||7;return r.setUTCDate(r.getUTCDate()+((t-1)*7+n+1-i)),r}(t,a,l):new Date(NaN);{let e=new Date(0);return s>=0&&s<=11&&o>=1&&o<=(tI[s]||(tU(t)?29:28))&&i>=1&&i<=(tU(t)?366:365)?(e.setUTCFullYear(t,s,Math.max(i,o)),e):new Date(NaN)}}(e.restDateString,e.year)}if(!n||isNaN(n.getTime()))return new Date(NaN);let s=n.getTime(),o=0;if(i.time&&isNaN(o=function(e){let t=e.match(tj);if(!t)return NaN;let n=tx(t[1]),r=tx(t[2]),i=tx(t[3]);return(24===n?0===r&&0===i:i>=0&&i<60&&r>=0&&r<60&&n>=0&&n<25)?36e5*n+6e4*r+1e3*i:NaN}(i.time)))return new Date(NaN);if(i.timezone){if(isNaN(r=function(e){if("Z"===e)return 0;let t=e.match(tN);if(!t)return 0;let n="+"===t[1]?-1:1,r=parseInt(t[2]),i=t[3]&&parseInt(t[3])||0;return i>=0&&i<=59?n*(36e5*r+6e4*i):NaN}(i.timezone)))return new Date(NaN)}else{let e=new Date(s+o),t=new Date(0);return t.setFullYear(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()),t.setHours(e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds()),t}return new Date(s+o+r)}(e);return function(e,t,n){let r,i=0,s=tD(e),o=tD(t);if(n?.unit)"second"===(r=n?.unit)?i=tX(s,o):"minute"===r?i=tY(s,o):"hour"===r?i=tV(s,o):"day"===r?i=tF(s,o):"week"===r?i=tW(s,o):"month"===r?i=tB(s,o):"quarter"===r?i=tH(s,o):"year"===r&&(i=tG(s,o));else{let e=tX(s,o);60>Math.abs(e)?(i=tX(s,o),r="second"):3600>Math.abs(e)?(i=tY(s,o),r="minute"):86400>Math.abs(e)&&1>Math.abs(tF(s,o))?(i=tV(s,o),r="hour"):604800>Math.abs(e)&&(i=tF(s,o))&&7>Math.abs(i)?r="day":2629746>Math.abs(e)?(i=tW(s,o),r="week"):7889238>Math.abs(e)?(i=tB(s,o),r="month"):0x1e18558>Math.abs(e)&&4>tH(s,o)?(i=tH(s,o),r="quarter"):(i=tG(s,o),r="year")}return new Intl.RelativeTimeFormat(n?.locale,{localeMatcher:n?.localeMatcher,numeric:n?.numeric||"auto",style:n?.style}).format(i,r)}(n,new Date,{locale:t.locale})}catch{return e}}(i.inserted_at,{locale:d}))),tZ(c,r.default.createElement(ny,{item:i}))))}),tO.All,tO.Unread,tO.Read;let nE=e=>{let{badgeCountType:t="unseen"}=e,{useFeedStore:n}=t5(),i=n(e=>(function(e,t){switch(e){case"all":return t.total_count;case"unread":return t.unread_count;case"unseen":return t.unseen_count}})(t,e.metadata));return 0!==i?r.default.createElement("div",{className:"rnf-unseen-badge"},r.default.createElement("span",{className:"rnf-unseen-badge__count"},i>9?"9+":i)):null};r.default.forwardRef((e,t)=>{let{onClick:n,badgeCountType:i}=e,{colorMode:s}=t5();return r.default.createElement("button",{className:`rnf-notification-icon-button rnf-notification-icon-button--${s}`,role:"button","aria-label":"Open notification feed",ref:t,onClick:n},r.default.createElement(nt,null),r.default.createElement(nE,{badgeCountType:i}))});var n_=e.i(9777787),nk=e.i(2845703),nC=e.i(1331475),nT=e.i(4007995),nR=e.i(8988629),nS=e.i(2202565),nO=(e.i(3743934),e.i(1120986)),nA=(e.i(4668008),e.i(5621829)),nL=e.i(762985),nj=e.i(3164851),nN=(e.i(3678477),e.i(5583276)),nP=e.i(8744960),nx="Popover",[nI,nU]=(0,nC.createContextScope)(nx,[nO.createPopperScope]),nD=(0,nO.createPopperScope)(),[n$,nM]=nI(nx),nF="PopoverAnchor";r.forwardRef((e,t)=>{let{__scopePopover:i,...s}=e,o=nM(nF,i),a=nD(i),{onCustomAnchorAdd:l,onCustomAnchorRemove:c}=o;return r.useEffect(()=>(l(),()=>c()),[l,c]),(0,n.jsx)(nO.Anchor,{...a,...s,ref:t})}).displayName=nF;var nB="PopoverTrigger";r.forwardRef((e,t)=>{let{__scopePopover:r,...i}=e,s=nM(nB,r),o=nD(r),a=(0,nk.useComposedRefs)(t,s.triggerRef),l=(0,n.jsx)(nL.Primitive.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":nY(s.open),...i,ref:a,onClick:(0,n_.composeEventHandlers)(e.onClick,s.onOpenToggle)});return s.hasCustomAnchor?l:(0,n.jsx)(nO.Anchor,{asChild:!0,...o,children:l})}).displayName=nB;var[nq,nH]=nI("PopoverPortal",{forceMount:void 0}),nz="PopoverContent";r.forwardRef((e,t)=>{let r=nH(nz,e.__scopePopover),{forceMount:i=r.forceMount,...s}=e,o=nM(nz,e.__scopePopover);return(0,n.jsx)(nA.Presence,{present:i||o.open,children:o.modal?(0,n.jsx)(nW,{...s,ref:t}):(0,n.jsx)(nG,{...s,ref:t})})}).displayName=nz;var nK=(0,nj.createSlot)("PopoverContent.RemoveScroll"),nW=r.forwardRef((e,t)=>{let i=nM(nz,e.__scopePopover),s=r.useRef(null),o=(0,nk.useComposedRefs)(t,s),a=r.useRef(!1);return r.useEffect(()=>{let e=s.current;if(e)return(0,nN.hideOthers)(e)},[]),(0,n.jsx)(nP.RemoveScroll,{as:nK,allowPinchZoom:!0,children:(0,n.jsx)(nJ,{...e,ref:o,trapFocus:i.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:(0,n_.composeEventHandlers)(e.onCloseAutoFocus,e=>{e.preventDefault(),a.current||i.triggerRef.current?.focus()}),onPointerDownOutside:(0,n_.composeEventHandlers)(e.onPointerDownOutside,e=>{let t=e.detail.originalEvent,n=0===t.button&&!0===t.ctrlKey;a.current=2===t.button||n},{checkForDefaultPrevented:!1}),onFocusOutside:(0,n_.composeEventHandlers)(e.onFocusOutside,e=>e.preventDefault(),{checkForDefaultPrevented:!1})})})}),nG=r.forwardRef((e,t)=>{let i=nM(nz,e.__scopePopover),s=r.useRef(!1),o=r.useRef(!1);return(0,n.jsx)(nJ,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{e.onCloseAutoFocus?.(t),t.defaultPrevented||(s.current||i.triggerRef.current?.focus(),t.preventDefault()),s.current=!1,o.current=!1},onInteractOutside:t=>{e.onInteractOutside?.(t),t.defaultPrevented||(s.current=!0,"pointerdown"===t.detail.originalEvent.type&&(o.current=!0));let n=t.target;i.triggerRef.current?.contains(n)&&t.preventDefault(),"focusin"===t.detail.originalEvent.type&&o.current&&t.preventDefault()}})}),nJ=r.forwardRef((e,t)=>{let{__scopePopover:r,trapFocus:i,onOpenAutoFocus:s,onCloseAutoFocus:o,disableOutsidePointerEvents:a,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:h,...d}=e,f=nM(nz,r),p=nD(r);return(0,nR.useFocusGuards)(),(0,n.jsx)(nS.FocusScope,{asChild:!0,loop:!0,trapped:i,onMountAutoFocus:s,onUnmountAutoFocus:o,children:(0,n.jsx)(nT.DismissableLayer,{asChild:!0,disableOutsidePointerEvents:a,onInteractOutside:h,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>f.onOpenChange(!1),children:(0,n.jsx)(nO.Content,{"data-state":nY(f.open),role:"dialog",id:f.contentId,...p,...d,ref:t,style:{...d.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),nV="PopoverClose";function nY(e){return e?"open":"closed"}r.forwardRef((e,t)=>{let{__scopePopover:r,...i}=e,s=nM(nV,r);return(0,n.jsx)(nL.Primitive.button,{type:"button",...i,ref:t,onClick:(0,n_.composeEventHandlers)(e.onClick,()=>s.onOpenChange(!1))})}).displayName=nV,r.forwardRef((e,t)=>{let{__scopePopover:r,...i}=e,s=nD(r);return(0,n.jsx)(nO.Arrow,{...s,...i,ref:t})}).displayName="PopoverArrow";var nX=r.forwardRef((e,t)=>{let{children:i,...s}=e,o=r.Children.toArray(i),a=o.find(n0);if(a){let e=a.props.children,i=o.map(t=>t!==a?t:r.Children.count(e)>1?r.Children.only(null):r.isValidElement(e)?e.props.children:null);return(0,n.jsx)(nZ,{...s,ref:t,children:r.isValidElement(e)?r.cloneElement(e,void 0,i):null})}return(0,n.jsx)(nZ,{...s,ref:t,children:i})});nX.displayName="Slot";var nZ=r.forwardRef((e,t)=>{let{children:n,...i}=e;if(r.isValidElement(n)){let e=function(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(n=(t=Object.getOwnPropertyDescriptor(e,"ref")?.get)&&"isReactWarning"in t&&t.isReactWarning)?e.props.ref:e.props.ref||e.ref}(n);return r.cloneElement(n,{...function(e,t){let n={...t};for(let r in t){let i=e[r],s=t[r];/^on[A-Z]/.test(r)?i&&s?n[r]=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];s(...t),i(...t)}:i&&(n[r]=i):"style"===r?n[r]={...i,...s}:"className"===r&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...e,...n}}(i,n.props),ref:t?function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>t.forEach(t=>{"function"==typeof t?t(e):null!=t&&(t.current=e)})}(t,e):e})}return r.Children.count(n)>1?r.Children.only(null):null});nZ.displayName="SlotClone";var nQ=e=>{let{children:t}=e;return(0,n.jsx)(n.Fragment,{children:t})};function n0(e){return r.isValidElement(e)&&e.type===nQ}var n1=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"].reduce((e,t)=>{let i=r.forwardRef((e,r)=>{let{asChild:i,...s}=e,o=i?nX:t;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,n.jsx)(o,{...s,ref:r})});return i.displayName=`Primitive.${t}`,{...e,[t]:i}},{});r.forwardRef((e,t)=>(0,n.jsx)(n1.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}})).displayName="VisuallyHidden",new Intl.Collator,e.s({useAuthenticatedKnockClient:()=>tS},8878140);var n4=e.i(584439),n9=e.i(4374461),n2=e.i(3521787),n5=e.i(4276190),n3=e.i(1183506),n8=e.i(3514588),n6=e.i(503726),n7=e.i(3585235);function re(e){let{userAccount:t=!1}=e,{user:n,team:r,isLoading:i}=(0,n6.useAccount)(),s="";t?s+="&userAccount=true":r?.id&&(s+=`&tenant=${r.id}`);let{data:o,error:a,isLoading:l}=(0,n2.default)(()=>n?.uid&&(t||r?.id)?`/api/notifications?uid=${encodeURIComponent(n.uid)}${s}`:null,n3.fetchAPI,{refreshInterval:36e5,revalidateOnFocus:!1,keepPreviousData:!1});return!o?.token||i||!t&&r?.limited||l?{token:void 0,isLoading:i||l,error:a}:{token:o.token,isLoading:!1,error:a}}e.s({useKnockToken:()=>re},8747443);let rt=(0,r.createContext)({userId:"",userToken:"",can:void 0,useClient(){},setPrefsLoaded:()=>{throw Error("Context not provided")}});function rn(e){let{children:t,defaultLoaded:i,fallback:s}=e,[o,a]=(0,r.useState)(i),{user:l,team:c,isLoading:u}=(0,n6.useAccount)(),{isLoading:h,can:d}=(0,n7.default)(),{token:f}=re({userAccount:!c}),p=(0,r.useMemo)(()=>{if(!f||!l?.uid)return;let e=c?.id;return{userId:l.uid,userToken:f,can:c?d:()=>!l.limited,useClient:()=>tS("pk_cBlwgRRBkMc-3KKgA0J7W-q7LbxjyDuL1u3XXU164p4",l.uid,f),preferenceOptions:{preferenceSet:e},prefsLoaded:o,setPrefsLoaded:()=>{o||a(!0)}}},[l,c,f,d,o]);return u||h||!p?s??null:(0,n.jsx)(rt.Provider,{value:p,children:t})}rt.displayName="PreferencesContext";let rr="personal-account";function ri(){let e=(0,r.useContext)(rt),{team:t}=(0,n8.useTeam)(),{activeBudget:n,isLoading:i}=(0,n5.useActiveBudget)(),s=e.useClient(),{data:o,isLoading:a,error:l,mutate:c}=(0,n2.default)(["knock-preferences",e.preferenceOptions?.preferenceSet||rr],async e=>{let[t,n]=e,r=n===rr?void 0:n;try{return await s?.preferences.get({preferenceSet:r})}catch(e){if(e instanceof Error&&/code 404/.exec(e.message)&&"created"in await (0,n3.fetchAPI)("/api/notifications/user",{method:"PUT"}))return s?.preferences.get({preferenceSet:r});throw e}},{refreshInterval:0,revalidateOnFocus:!1}),{data:u,isLoading:h,mutate:d}=(0,n2.default)(s?["knock-preferences","user-data",s.userId]:null,async()=>{let e=await s?.client().makeRequest({url:`/v1/users/${s.userId??""}`});return e?.body},{refreshInterval:0,revalidateOnFocus:!1,onError:()=>{n4.toasts.error("Could not load overage data")}}),f=a||h||i,{trigger:p}=(0,n9.default)(s?["knock-preferences","user-data",s.userId??""]:null,async(e,t)=>{let{arg:n}=t,r=await s?.client().makeRequest({url:`/v1/users/${s.userId??""}`,method:"PUT",data:n.preferences});return r?.body},{onError:()=>{n4.toasts.error("Failed to update overage data")}}),m=(0,r.useCallback)(t=>{let{channel:n,enabled:r}=t;if(f||!o)throw Error("Cannot set preferences");let i={...o,channel_types:{...o.channel_types,[n]:r}};return c(s?.preferences.set(i,e.preferenceOptions),{revalidate:!1,optimisticData:i})},[s,e,f,o,c]),g=(0,r.useCallback)(t=>{let{preferences:n}=t;if(f||!o)throw Error("Cannot set preferences");return c(s?.preferences.set(n,e.preferenceOptions),{revalidate:!1,optimisticData:n})},[s,e,f,o,c]),v=(0,r.useCallback)(async n=>{let{percentages:r,uri:i,channels:a,workflowId:l}=n;if(!o)throw Error("Cannot set preferences");if(!s)throw Error("Does not have Knock client defined");let u=a.reduce((e,n)=>(e[`overage_${i}_${n}_${t?.id??s.userId??""}`]=r,e),{}),h=await p({preferences:u},{revalidate:!1,optimisticData:e=>({...e,...u})}),d=null!==o.workflows?o.workflows[l]??{}:{},f=!1;for(let e of a){let n=d.channel_types?d.channel_types[e]??{conditions:[]}:{conditions:[]},r="boolean"!=typeof n?n.conditions:[];r?.find(n=>n.variable===`recipient.overage_${i}_${e}_${t?.id??s.userId??""}`)||(f=!0)}let m=a.reduce((e,n)=>(e[n]={conditions:[{variable:`recipient.overage_${i}_${n}_${t?.id??s.userId??""}`,operator:"contains",argument:"budget-reached"===l?"data.data.percentOfBudget":"data.usagePercent"}]},e),{});if(f){let t={...o,workflows:{...o.workflows,[l]:{...d,channel_types:{...d.channel_types,...m}}}};await c(s.preferences.set(t,e.preferenceOptions),{revalidate:!1,optimisticData:t})}return h},[s,e.preferenceOptions,c,p,o,t?.id]),y=(0,r.useCallback)(async e=>{let{overageSelections:n}=e;if(!o)throw Error("Cannot set preferences");if(!s)throw Error("Does not have Knock client defined");let r={};return Object.entries(n).forEach(e=>{let[n,i]=e;r[`overage_${n}_${t?.id??s.userId??""}`]=i}),await p({preferences:r},{revalidate:!1,optimisticData:e=>({...e,...r})})},[s,o,p,t?.id]),b=(0,r.useCallback)(async()=>u||d(),[d,u]),w=(0,r.useCallback)(async e=>await p({preferences:e},{revalidate:!1,optimisticData:t=>({...t,...e})}),[p]),E=(0,r.useCallback)(async e=>{let{percentages:n,category:r}=e,i=t?.id??s?.userId??"",o={},a=await s?.client().makeRequest({url:`/v1/users/${s.userId??""}`});a?.body?.[`overage_${r}_email_${i}`]||(o[`overage_${r}_email_${i}`]=n),a?.body?.[`overage_${r}_in_app_feed_${i}`]||(o[`overage_${r}_in_app_feed_${i}`]=n);let l={[`overage_${r}_in_app_feed_${i}`]:n};return await p({preferences:l},{revalidate:!1,optimisticData:e=>({...e,...l})})},[s,t,p]),_=(0,r.useCallback)(t=>{let{uri:n,channels:r,enabled:i}=t;if(f||!o)throw Error("Cannot set preferences");let a=o.categories?.[n];if("boolean"==typeof a)throw Error("Can only update groups configured by channel_types");let l=r.reduce((e,t)=>(e[t]=i,e),{}),u={...o,categories:{...o.categories,[n]:{channel_types:{...a?.channel_types,...l}}}};return c(s?.preferences.set(u,e.preferenceOptions),{revalidate:!1,optimisticData:u})},[s,e,f,o,c]),k=(0,r.useCallback)(e=>{let t=!!u?.phone_number,n=o?.channel_types?.[e]??!0;return("sms"!==e||!!t)&&n},[o,u]),C=(0,r.useCallback)((e,t)=>{let n=o?.categories?.[e];return"boolean"==typeof n?n:void 0===n||(n.channel_types?.[t]??!0)},[o]);return{preferenceSet:e.preferenceOptions?.preferenceSet,preferences:o,activeBudget:n,userPreferences:u??{},mutateUserPreferences:d,isLoading:f,error:l,mutatePreferences:c,setChannel:m,setPreferences:g,setGroup:_,getUserData:b,setOverageDefaults:E,setUserProperties:w,mutateOveragePreferences:v,mutateAllOveragePreferences:y,isGroupEnabled:C,isChannelEnabled:k,setPrefsLoaded:e.setPrefsLoaded}}},[5799063,9653067,8891599,8878140,8747443]]}]);

//# sourceMappingURL=73b198760fa80cfb.js.map
//# debugId=5c6acfca-00fb-5493-875b-0eff9dff783f
