
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="d575cf0c-2b9a-5d30-973c-d1103ba928bc")}catch(e){}}();
(globalThis.TURBOPACK=globalThis.TURBOPACK||[]).push(["object"==typeof document?document.currentScript:void 0,{7736448:e=>{"use strict";e.s({differenceInDays:()=>n});var t=e.i(8283680),i=e.i(662845);function n(e,n,a){let[s,o]=(0,t.normalizeDates)(a?.in,e,n),l=r(s,o),c=Math.abs((0,i.differenceInCalendarDays)(s,o));s.setDate(s.getDate()-l*c);let d=Number(r(s,o)===-l),u=l*(c-d);return 0===u?0:u}function r(e,t){let i=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return i<0?-1:i>0?1:i}},3524649:e=>{e.v({container:"entities-module__AKr3mW__container",list:"entities-module__AKr3mW__list"})},7634373:e=>{e.v({container:"entity-content-module__Sb84Kq__container",textContent:"entity-content-module__Sb84Kq__textContent"})},7820711:e=>{e.v({button:"entity-module___Tgnpa__button",left:"entity-module___Tgnpa__left",right:"entity-module___Tgnpa__right"})},2254575:e=>{"use strict";e.s({Entity:()=>u},2254575);var t=e.i(6645307),i=e.i(5610210),n=e.i(889716),r=e.i(3524649),a=e.i(8084653),s=e.i(7634373);let o={truncate:!0,weight:600},l={truncate:!0,color:"gray-900"};function c(e){let{title:i,description:r,avatar:c,width:d,fill:u=!1,...m}=e,f="string"==typeof i?(0,t.jsx)(a.Text,{...o,children:i}):i,y="string"==typeof r?(0,t.jsx)(a.Text,{...l,children:r}):r;return(0,t.jsxs)(n.Stack,{align:"center",className:s.default.container,direction:"row",flex:u?1:void 0,gap:2,style:{"--width":d},...m,children:[f||y?(0,t.jsxs)(n.Stack,{className:s.default.textContent,flex:1,children:[i?f:null,r?y:null]}):null,c||null]})}c.TitleTextProps=o,c.DescriptionTextProps=l,c.SkeletonProps={boxHeight:20,height:14,width:"40%",show:!0};var d=e.i(7820711);let u=e=>{let{as:r,children:a,className:s,left:o,right:l,rightProps:c,footer:u,onClick:m,padding:f=4,...y}=e,p=r??(m?"button":"li");return(0,t.jsxs)(n.Stack,{as:p,className:(0,i.clsx)(s,"button"===p&&d.default.button),onClick:m,padding:f,...y,children:[(0,t.jsxs)(n.Stack,{align:"center",as:"section",direction:"row",gap:4,children:[o||a?(0,t.jsxs)(n.Stack,{align:"center",className:(0,i.clsx)("left",d.default.left),direction:"row",flex:1,gap:4,children:[o,a]}):null,l?(0,t.jsx)(n.Stack,{align:"center",className:(0,i.clsx)("right",d.default.right),direction:"row",gap:4,...c,children:l}):null]}),u||null]})};u.Content=c,u.List=function(e){let{children:a,className:s,header:o,style:l,ref:c}=e;return o?(0,t.jsxs)(n.Stack,{gap:3,children:[o,(0,t.jsx)("ul",{className:(0,i.clsx)(r.default.container,r.default.list,s),ref:c,style:l,children:a})]}):(0,t.jsx)("ul",{className:(0,i.clsx)(r.default.container,r.default.list,s),ref:c,style:l,children:a})}},6937468:e=>{"use strict";e.s({pluralize:()=>t});let t=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=1!==t?`${e}s`:e;return i&&(n=`${t} ${n}`),n}},2845242:e=>{e.v({container:"index-module__L77N5G__container",icon:"index-module__L77N5G__icon"})},8790148:e=>{"use strict";e.s({FrameworkAvatar:()=>o,FrameworkAvatarSkeleton:()=>l});var t=e.i(6645307),i=e.i(5163670),n=e.i(5175803),r=e.i(1389821),a=e.i(2845242),s=e.i(5610210);function o(e){let{project:i,size:o=24,isDisabled:c=!1}=e,d=(0,r.useFramework)(i);return d?(0,t.jsx)(n.Avatar,{className:(0,s.clsx)(a.default.icon,c&&"grayscale(100%) opacity-40"),size:o,src:d.logo,title:`${d.name}`}):(0,t.jsx)(l,{})}function l(e){let{size:n=24}=e;return(0,t.jsx)(i.Skeleton,{height:n,rounded:!0,style:{flexShrink:0},width:24})}},1283166:e=>{"use strict";e.s({billingFeatureSupported:()=>i});let t={"speedInsights.sampling":new Set([1]),"billing.proratedAddOns":new Set([2])};function i(e,i){let n;if(!e)return!1;if("plan"in e)n=e;else{if(!e.billing)return!1;n=e.billing}return t[i].has(n.billingVersion)}},4895117:e=>{e.v({fixedHeight:"index-module__aVxx7q__fixedHeight"})},654999:e=>{e.v({description:"index-module__HZL5qG__description",item:"index-module__HZL5qG__item"})},3253766:[e=>{"use strict";e.s({createSurveyEntry:()=>s},3253766);var t=e.i(6649026),i=e.i(1183506),n=e.i(9336536),r=e.i(7315479),a=e.i(4038414);let s=async e=>{let{data:s}=e,o=function(e){let t=new Map;return e.fields.forEach(e=>{switch(e.type){case"text":if(!e.value)return;t.set(e.id,e.value);break;case"select":{let i=[];e.options.forEach(e=>{if(e.selected){if(e.reveals)return void i.push(`${e.id}: ${e.reveals.value??""}`);i.push(e.id)}}),t.set(e.id,i.join("; "));break}default:(0,r.exhaustivenessCheck)(e)}}),{name:e.surveyName,person:{email:e.user?.email,id:e.user?.uid},...e.team?.id&&{team:{id:e.team.id}},form:Object.fromEntries(t),heapUserId:(0,a.getHeapUserId)(),heapIdentity:(0,a.getHeapUserIdentity)()}}(s);try{return await (0,i.fetchAPI)(`${n.API_SURVEYS}${(0,t.encode)({teamId:o.team?.id})}`,{method:"POST",body:JSON.stringify(o)})}catch(e){console.error(e)}};e.s({ADD_ON_DESCRIPTIONS:()=>m,ADD_ON_DISPLAY_NAMES:()=>u,ADD_ON_IDS:()=>c,ADD_ON_LEARN_MORE_LINKS:()=>f,ADD_ON_PERMISSIONS:()=>y,getAddOnDisplayName:()=>d},7949279);var o=e.i(6645307),l=e.i(5785123);let c={passwordProtection:"advanced-deployment-protection",concurrentBuilds:"concurrent-builds",previewDeploymentSuffix:"preview-deployment-suffix",analytics:"speed-insights",monitoring:"monitoring",observabilityBase:"observability",webAnalytics:"web-analytics"};function d(e,t){let i=u[e];return"string"==typeof i?i:t?i[t]??i.modal:i.fieldset}let u={passwordProtection:"Advanced Deployment Protection",concurrentBuilds:{fieldset:"Additional Concurrent Builds",modal:"Concurrent Builds"},previewDeploymentSuffix:"Preview Deployment Suffix",analytics:"Speed Insights",monitoring:"Monitoring",observabilityBase:{postConfirmConfiguration:"Configure Observability Plus",fieldset:"Observability Plus",modal:"Observability Plus"},webAnalytics:"Web Analytics Plus"},m={passwordProtection:"Allows you to provide fine-grained control over who can access your deployments. Includes Password Protection, Deployment Protection Exceptions, and Private Production Deployments for all projects.",concurrentBuilds:"Determines how many builds you can run at the same time. By increasing the number ($50 per Slot, per month), you are increasing the level of concurrency (maximum 12).",previewDeploymentSuffix:(0,o.jsxs)(o.Fragment,{children:["Choose your own custom domain for Preview Deployments, in place of the default ",(0,o.jsx)("code",{children:".vercel.app"})," suffix."]}),analytics:"Detailed view of your website's performance metrics, facilitating informed decisions for its optimization.",monitoring:"Monitoring is a query editor that allows you to visualize errors, debug bandwidth issues, and monitor usage and web traffic for the past 30 days.",observabilityBase:"Gain comprehensive visibility into your application's health and performance.",webAnalytics:"Learn even more about your website's visitors a longer reporting window, more custom event properties and all advanced UI features."},f={passwordProtection:"/docs/security/deployment-protection#advanced-deployment-protection",concurrentBuilds:"/docs/deployments/concurrent-builds",previewDeploymentSuffix:"/docs/deployments/generated-urls#preview-deployment-suffix",analytics:"/docs/speed-insights",monitoring:"/docs/observability/monitoring",observabilityBase:"/docs/observability",webAnalytics:"/docs/analytics"},y={passwordProtection:l.Resource.PasswordProtection,concurrentBuilds:l.Resource.ConcurrentBuilds,previewDeploymentSuffix:l.Resource.PreviewDeploymentSuffix,analytics:l.Resource.SpeedInsights,monitoring:l.Resource.MonitoringSettings,observabilityBase:l.Resource.ObservabilityConfiguration,webAnalytics:l.Resource.WebAnalytics};e.s({DisableModalBody:()=>b},2585006);var p=e.i(889716),g=e.i(8084653),h=e.i(8934201),x=e.i(4895117);function b(e){let{name:t,disable:i,closeModal:n,loading:r,customCopy:a,overrideContent:s,invoiceItem:l,newQuantity:c,includedQuantity:u}=e,m=c===(u??0);return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(h.Modal.Body,{className:"analytics"===t?x.default.fixedHeight:void 0,children:[(0,o.jsx)(p.Stack,{paddingBottom:4,children:(0,o.jsxs)(h.Modal.Title,{children:[m?"Turn off":"Decrease"," ",d(t)]})}),s??(0,o.jsx)(h.Modal.Subtitle,{children:(0,o.jsxs)(p.Stack,{as:"span",className:"my-4",gap:4,paddingTop:2,style:{margin:0},children:[m?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(g.Text,{children:["Your team is currently utilizing"," ",(0,o.jsx)("b",{children:d(t)}),"."]}),(0,o.jsx)(g.Text,{children:a??"Disabling it will prevent your team members from accessing it in the dashboard and turn off any related functionality immediately."})]}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(g.Text,{children:["By clicking ",(0,o.jsx)("b",{children:"Confirm"}),", your team will update from having"," ",(0,o.jsxs)("b",{children:[l.quantity," ",d(t,"configure")]})," ","to having"," ",(0,o.jsxs)("b",{children:[c," ",d(t,"configure")]}),"."]}),(0,o.jsx)(g.Text,{children:"This is effective immediately upon confirmation."})]}),(0,o.jsx)(g.Text,{children:"Are you sure you want to proceed?"})]})})]}),(0,o.jsxs)(h.Modal.Actions,{children:[(0,o.jsx)(h.Modal.Action,{fullWidth:!!s,onClick:()=>n("disable"),type:"secondary",children:"Cancel"}),s?null:(0,o.jsx)(h.Modal.Action,{buttonType:"button",loading:r,onClick:i,children:"Confirm"})]})]})}e.s({ConfirmationInvoice:()=>w},1473566);var v=e.i(6530772),j=e.i(7736448),_=e.i(2503120),C=e.i(6937468),S=e.i(6325202),A=e.i(654999);function w(e){let{lineItems:t,currency:i,nonProratedCustomCopy:n,customCopy:r,invoiceItem:a,name:s,addOnValue:l,prorate:c,billingPeriod:d,unit:u,includedQuantity:m}=e,f=(0,v.useMemo)(()=>{if("analytics"===s)return l.map(e=>({name:e.name,price:a.price}));if(m){let e=Math.max(l-a.quantity,0);if(e>0)return[...t,{name:`${e} additional ${(0,C.pluralize)(u??"item",e)}`,price:a.price*e}]}return t},[l,m,a,t,s,u]),{subscriptionQuantityDelta:y,immediateQuantityDelta:h}=(0,v.useMemo)(()=>{if("analytics"===s){let e=l.filter(e=>{let t=e.speedInsights??e.analytics,i=t?.disabledAt;return!i||!d||i<=d.start});return{subscriptionQuantityDelta:l.length,immediateQuantityDelta:e.length}}let e=1;return"number"==typeof l&&(e=l),{subscriptionQuantityDelta:e-a.quantity,immediateQuantityDelta:e-(a.highestQuantity??a.quantity)}},[l,d,a.highestQuantity,a.quantity,s]),x=y*a.price,b=(e=>{if(!c||!d)return e;let t=(0,j.differenceInDays)(d.end,d.start);return Math.round((0,j.differenceInDays)(d.end,function(e,t){let i=(0,_.startOfDay)(t),[n,r]=i.toLocaleDateString("en-US",{timeZone:e,timeZoneName:"longOffset",day:"2-digit",month:"2-digit",year:"numeric"}).split(", "),[a,s,o]=[(i.getMonth()+1).toString().padStart(2,"0"),i.getDate().toString().padStart(2,"0"),i.getFullYear()],l=r.replace("GMT","");return new Date(`${o}-${a}-${s}T00:00:00.00${l}`)}("America/Los_Angeles",new Date))/t*e)})(h*a.price),w=(0,v.useMemo)(()=>{if(!c)return(0,o.jsxs)(o.Fragment,{children:["By clicking ",(0,o.jsx)("b",{children:"Confirm and Pay"}),", the amount of"," ",(0,o.jsx)("b",{children:(0,S.formatCurrency)(x,i)})," will be added to your invoice",n??".",r]});let e=(0,o.jsxs)(o.Fragment,{children:["By clicking ",(0,o.jsx)("b",{children:"Confirm and Pay"}),", the amount of"," ",(0,o.jsx)("b",{children:(0,S.formatCurrency)(x,i)})," will be added to your subscription."]});return b>0?(0,o.jsxs)(o.Fragment,{children:[e," and your credit card will be charged"," ",(0,o.jsxs)("b",{children:[(0,S.formatCurrency)(b,i)," immediately"]})," for the remaining days in your billing cycle.",r]}):(0,o.jsxs)(o.Fragment,{children:[e," and there will be no immediate charge because you have already enabled this within your current billing cycle.",r]})},[i,n,r,b,c,x]);return(0,o.jsxs)(p.Stack,{gap:2,children:[(0,o.jsx)(g.Text,{className:A.default.description,children:w}),(0,o.jsxs)(p.Stack,{children:[f.map(e=>{let{name:t,price:n,removal:r=!1,priceDescriptor:s="/ month",shortDescription:l}=e;return(0,o.jsxs)(p.Stack,{align:"center",className:A.default.item,direction:"row",justify:"space-between",paddingY:4,children:[(0,o.jsxs)(p.Stack,{children:[(0,o.jsx)(g.Text,{className:r?"line-through":"",color:"gray-800",weight:500,children:t}),l?(0,o.jsx)(g.Text,{color:"gray-800",children:l}):null]}),(0,o.jsxs)(g.Text,{align:"right",className:r?"line-through":"",color:"gray-800",children:[(0,S.formatCurrency)("from_invoice_item"===n?a.price:n,i)," ",s]})]},t)}),(0,o.jsxs)(p.Stack,{direction:"row",justify:"space-between",paddingY:4,children:[(0,o.jsx)(g.Text,{weight:500,children:"Total"}),(0,o.jsxs)(g.Text,{weight:500,children:[(0,S.formatCurrency)(x,i)," / month"]})]})]})]})}e.s({trackAddOnEvent:()=>E},2909188);var D=e.i(7573892),k=e.i(9802771);let E=e=>{let{eventName:t,addOn:i,source:n,step:r,value:a}=e,s=O[t],o=u[i];D.analytics.track(s,{addOn:"string"==typeof o?o:o.modal,source:n,step:r,value:a})},O={toggle_on:k.AnalyticsEvent.ADD_ONS_TOGGLE_ENABLE_CLICKED,toggle_off:k.AnalyticsEvent.ADD_ONS_TOGGLE_DISABLE_CLICKED,open_update_modal:k.AnalyticsEvent.ADD_ONS_OPEN_UPDATE_MODAL,learn_more:k.AnalyticsEvent.ADD_ONS_LEARN_MORE_CLICKED,exit_modal:k.AnalyticsEvent.ADD_ONS_MODAL_EXITED,change_step:k.AnalyticsEvent.ADD_ONS_MODAL_STEP_CHANGED,enable:k.AnalyticsEvent.ADD_ONS_ENABLED,update:k.AnalyticsEvent.ADD_ONS_UPDATED,disable:k.AnalyticsEvent.ADD_ONS_DISABLED,more_details:k.AnalyticsEvent.ADD_ONS_MORE_DETAILS_EXPANDED,project_list_cta:k.AnalyticsEvent.ADD_ONS_PROJECT_LIST_CTA_CLICKED}},[7949279,2585006,1473566,2909188]],9561794:[e=>{"use strict";e.s({useTogglePaidAddOn:()=>w},9561794);var t=e.i(6645307),i=e.i(6530772),n=e.i(889716),r=e.i(8934201),a=e.i(584439),s=e.i(503726),o=e.i(3494272),l=e.i(6325202);e.i(8109874);var c=e.i(8090091),d=e.i(3253766),u=e.i(1283166),m=e.i(7949279),f=e.i(2585006),y=e.i(1473566);e.s({ProjectList:()=>_},2907955);var p=e.i(2254575),g=e.i(8084653),h=e.i(2362802),x=e.i(9358822),b=e.i(2909188),v=e.i(8790148),j=e.i(2845242);function _(e){let{addOn:i,description:r,ctaCopy:a,ctaHrefBase:s,team:o}=e,{data:l,isLoading:c}=(0,x.useSpeedInsightsEnabledProjects)(),d=l?.projects||[],u=o?.slug;return(0,t.jsxs)(n.Stack,{className:j.default.stack,gap:6,children:[(0,t.jsx)(g.Text,{children:r}),c||!u?(0,t.jsx)(C,{ctaCopy:a}):(0,t.jsx)(t.Fragment,{children:d.length>0?(0,t.jsx)(p.Entity.List,{className:j.default.container,children:d.map(e=>(0,t.jsxs)(p.Entity,{padding:2,children:[(0,t.jsx)(p.Entity.Content,{fill:!0,title:(0,t.jsxs)(n.Stack,{direction:"row",gap:2,paddingLeft:1,children:[(0,t.jsx)(v.FrameworkAvatar,{project:e}),(0,t.jsx)(g.Text,{weight:500,children:e.name})]})}),(0,t.jsx)(p.Entity.Content,{title:(0,t.jsx)(h.ButtonLink,{href:`/${u}/${e.name}${s||""}`,onClick:()=>(0,b.trackAddOnEvent)({eventName:"project_list_cta",source:"billing-settings-add-ons",value:`/${u}/${e.name}${s||""}`,addOn:i}),type:"secondary",children:a})})]},e.id))}):null})]})}function C(e){let{ctaCopy:i}=e;return(0,t.jsxs)(n.Stack,{gap:6,children:[(0,t.jsxs)(p.Entity.List,{children:[(0,t.jsxs)(p.Entity,{padding:2,children:[(0,t.jsx)(p.Entity.Content,{fill:!0,title:(0,t.jsx)(n.Stack,{direction:"row",gap:2,paddingLeft:1,children:(0,t.jsx)(v.FrameworkAvatarSkeleton,{})})}),(0,t.jsx)(p.Entity.Content,{title:(0,t.jsx)(h.ButtonLink,{disabled:!0,href:"/",type:"secondary",children:i})})]}),(0,t.jsxs)(p.Entity,{padding:2,children:[(0,t.jsx)(p.Entity.Content,{fill:!0,title:(0,t.jsx)(n.Stack,{direction:"row",gap:2,paddingLeft:1,children:(0,t.jsx)(v.FrameworkAvatarSkeleton,{})})}),(0,t.jsx)(p.Entity.Content,{title:(0,t.jsx)(h.ButtonLink,{disabled:!0,href:"/",type:"secondary",children:i})})]}),(0,t.jsxs)(p.Entity,{padding:2,children:[(0,t.jsx)(p.Entity.Content,{fill:!0,title:(0,t.jsx)(n.Stack,{direction:"row",gap:2,paddingLeft:1,children:(0,t.jsx)(v.FrameworkAvatarSkeleton,{})})}),(0,t.jsx)(p.Entity.Content,{title:(0,t.jsx)(h.ButtonLink,{disabled:!0,href:"/",type:"secondary",children:i})})]})]}),(0,t.jsx)(h.ButtonLink,{disabled:!0,href:"/",type:"secondary",width:"100%"})]})}function S(e){let{instructions:i,children:r}=e;return(0,t.jsxs)(n.Stack,{gap:6,children:[i?(0,t.jsx)(g.Text,{children:i}):null,r]})}var A=e.i(4895117);function w(e){let{name:n,price:r,enable:c,disable:d,isEnabled:m,enableSteps:f,disableSteps:y,analyticsEventSource:p,update:g,currentAddOnValue:h,includedQuantity:x,unit:b,onStart:v,onSuccess:j,onClose:_}=e,C=(0,a.useToasts)(),{team:S,user:A,isLoading:w,mutate:k}=(0,s.useAccount)(),E=(0,u.billingFeatureSupported)(S,"billing.proratedAddOns"),O=(0,i.useMemo)(()=>{let e=S?.billing?.invoiceItems?.[n],t=e&&"highestQuantity"in e?e.highestQuantity:null;return"webAnalytics"!==n&&e?e:{price:r,quantity:e?.quantity??x??0,highestQuantity:t??x??0}},[x,n,r,S?.billing?.invoiceItems]),[N,P]=(0,i.useState)(null),{mutate:M}=(0,o.useUpcomingUsage)({enabled:!!N}),T=(0,i.useCallback)(()=>Promise.race([k(),M()]),[k,M]),L=m?.(S)??(O.quantity>(x??0)||!!S?.enabledInvoiceItems?.[n]?.enabled),I=S?.billing?.currency,B=(0,i.useMemo)(()=>(0,l.formatCurrency)(O.price,I),[O,I]),[$,F]=(0,i.useState)(h),R=(0,i.useCallback)(e=>{e&&F(e),P("enableOrUpdate")},[F,P]),q=(0,i.useCallback)(()=>{"analytics"!==n&&F(x??0),P("disable")},[F,P,x,n]),U=(0,i.useMemo)(()=>null!==N?(0,t.jsx)(D,{addOnValue:$,analyticsSource:p,currency:I,disable:d,disableSteps:y,enable:c,enableSteps:f,includedQuantity:x,invoiceItem:O,isEnabled:L,modalType:N,mutate:T,name:n,onClose:_,onStart:v,onSuccess:j,prorate:E,setAddOnValue:F,setModalType:P,team:S,toasts:C,unit:b,update:g}):null,[N,$,p,I,d,y,c,f,x,O,L,T,n,_,v,j,E,S,C,b,g]);return!w&&A&&S?{isEnabled:L,AddOnModal:U,openEnableOrUpdateModal:R,openDisableModal:q,formattedPrice:B}:{isEnabled:!1,formattedPrice:B}}function D(e){let{prorate:a,addOnValue:s,analyticsSource:o,currency:l,disable:u,enable:p,isEnabled:g,mutate:h,name:x,invoiceItem:v,setAddOnValue:j,modalType:C,setModalType:w,enableSteps:D,disableSteps:k,team:E,toasts:O,update:N,unit:P,includedQuantity:M,onStart:T,onSuccess:L,onClose:I}=e,B=(0,i.useMemo)(()=>"number"==typeof s?s:Array.isArray(s)?s.length:0,[s]),[$,F]=(0,i.useState)(!1),[R,q]=(0,i.useState)(function(e,t,i){if("enableOrUpdate"===t){if("postConfirmConfiguration"in e&&i)return"postConfirmConfiguration";if("configure"in e)return"configure"}else if("disable"===t)return"disable";return"confirm"}(D,C,g)),[U,H]=(0,i.useState)(null),Q=(0,i.useCallback)(e=>{q(e),(0,b.trackAddOnEvent)({eventName:"change_step",addOn:x,source:o,step:e,value:s})},[s,o,x]),G=(0,i.useCallback)(function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];(s&&!g||"disable"===e)&&j(void 0),(0,b.trackAddOnEvent)({eventName:"exit_modal",addOn:x,source:o,step:e,value:s}),w(null),I?.(t)},[s,o,g,x,j,w,I]),K=(0,i.useCallback)(async()=>{if(E&&u){T?.();try{F(!0),await u({team:E,addOnValue:s}),await h(),L?.(),O.success(`Disabled ${(0,m.getAddOnDisplayName)(x,R)}.`),(0,b.trackAddOnEvent)({eventName:"disable",addOn:x,source:o})}catch(e){G(R),e instanceof Error?O.error(e.message):O.error(`We ran into an unexpected issue disabling ${(0,m.getAddOnDisplayName)(x,R)}. Please try again later.`)}finally{F(!1)}}},[E,G,u,s,h,O,x,o,R,L,T]),Y=(0,i.useCallback)(async()=>{if(E){T?.();try{return g&&N?(H(null),await N({team:E,addOnValue:s})):await p({team:E,addOnValue:s}),await h(),L?.(),O.success(`${g?"Updated":"Enabled"} ${(0,m.getAddOnDisplayName)(x,R)}.`),(0,b.trackAddOnEvent)({eventName:g&&N?"update":"enable",addOn:x,source:o,value:s}),!0}catch(e){g&&"previewDeploymentSuffix"===x?H(e instanceof Error?e.message:"Unexpected error updating Preview Deployment Suffix"):(G(R),e instanceof Error?O.error(e.message):O.error(`We ran into an unexpected issue enabling ${(0,m.getAddOnDisplayName)(x,R)}. Please try again later.`))}}},[E,g,N,s,p,h,O,x,o,G,R,L,T]),V=(0,i.useCallback)(()=>{switch(R){case"configure":G("configure",!0);break;case"confirm":"configure"in D?Q("configure"):G("confirm",!0);break;case"postConfirmProjectList":G("postConfirmProjectList",!0);break;case"postConfirmConfiguration":G("postConfirmConfiguration",!0);break;default:w(null)}},[R,G,D,w,Q]),W=(0,i.useMemo)(()=>{switch(R){case"postConfirmConfiguration":case"configure":return"Cancel";case"confirm":if("configure"in D)return"Back";return"Cancel"}},[R,D]),z=(0,i.useCallback)(async()=>{switch(R){case"configure":a&&"number"==typeof s&&s<v.quantity?Q("disable"):Q("confirm");break;case"confirm":F(!0),await Y(),F(!1),"postConfirmProjectList"in D?Q("postConfirmProjectList"):"postConfirmConfiguration"in D?Q("postConfirmConfiguration"):G("confirm");break;case"postConfirmProjectList":G("postConfirmProjectList");break;case"postConfirmConfiguration":{if(!N){G("postConfirmConfiguration");break}F(!0);let e=await Y();F(!1),e&&G("postConfirmConfiguration");break}case"disable":await K(),"exitSurvey"in k?Q("exitSurvey"):G("disable");break;case"exitSurvey":G("exitSurvey");break;default:w(null)}},[R,a,s,v.quantity,Y,D,G,w,Q,N,K,k]),Z=(0,i.useMemo)(()=>{switch(R){case"configure":return"Next";case"confirm":return"Confirm and Pay";case"postConfirmProjectList":return"Close";case"postConfirmConfiguration":if(!N)return"Close";return"Save"}},[R,N]),J=(0,i.useMemo)(()=>{switch(R){case"postConfirmConfiguration":case"configure":{let e=D[R]?.content;if(!e){Q("confirm");break}let i=D[R]?.instructions||"";return(0,t.jsx)(S,{instructions:i,children:"function"==typeof e?(0,t.jsx)(e,{addOnValue:s,configureError:U,setAddOnValue:j}):e})}case"confirm":{let e=D[R];return(0,t.jsx)(y.ConfirmationInvoice,{addOnValue:s,billingPeriod:E?.billing?.period??null,currency:l,customCopy:e.customCopy,includedQuantity:M,invoiceItem:v,lineItems:e.lineItems,name:x,nonProratedCustomCopy:e.nonProratedCustomCopy,prorate:a,unit:P})}case"postConfirmProjectList":return(0,t.jsx)(_,{addOn:x,ctaCopy:D[R]?.ctaCopy,ctaHrefBase:D[R]?.ctaHrefBase,description:D[R]?.description,team:E})}},[R,x,D,E,s,U,j,Q,l,M,v,a,P]),X=(0,i.useMemo)(()=>"configure"===R&&(!!("number"==typeof s&&s===v.quantity||Array.isArray(s)&&0===s.length)||!s),[s,v.quantity,R]),ee="postConfirmProjectList"===R||"postConfirmConfiguration"===R&&!N;return"exitSurvey"===R?(0,t.jsx)(c.SurveyModal,{active:!0,enableSkip:!0,onDismiss:()=>{G(R)},onSubmit:async e=>{await z(),e.hasResponses&&await (0,d.createSurveyEntry)({data:e})},setActive:()=>{},showThankYouToast:!1,submitOnSkip:!0,surveyInfo:k[R]}):(0,t.jsx)(r.Modal.Modal,{active:!0,allowOverflow:!0,onClickOutside:()=>G(R),style:{maxHeight:"540px"},width:"540px",children:"disable"===R?(0,t.jsx)(f.DisableModalBody,{closeModal:G,customCopy:k[R].customDisableCopy,disable:z,includedQuantity:M,invoiceItem:v,loading:$,name:x,newQuantity:B,overrideContent:k[R].customDisableModal}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(r.Modal.Body,{className:"analytics"===x?A.default.fixedHeight:void 0,children:(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.Stack,{paddingBottom:4,children:(0,t.jsxs)(r.Modal.Title,{children:[(0,m.getAddOnDisplayName)(x,R),"postConfirmProjectList"===R?" Added":""]})}),J]})}),(0,t.jsxs)(r.Modal.Actions,{children:[ee?null:(0,t.jsx)(r.Modal.Action,{onClick:V,type:"secondary",children:W}),(0,t.jsx)(r.Modal.Action,{disabled:X,fullWidth:ee,loading:$,onClick:z,children:Z})]})]})})}},[2907955]]}]);

//# sourceMappingURL=ad970c8ea515ded8.js.map
//# debugId=d575cf0c-2b9a-5d30-973c-d1103ba928bc
