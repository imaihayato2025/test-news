
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="aa694329-5b30-57f1-8733-b512b6caa6bb")}catch(e){}}();
(globalThis.TURBOPACK=globalThis.TURBOPACK||[]).push(["object"==typeof document?document.currentScript:void 0,{5602331:e=>{e.v({checked:"toggle-module__fUrgQa__checked",disabled:"toggle-module__fUrgQa__disabled",input:"toggle-module__fUrgQa__input "+e.i(7431715).visuallyHidden,large:"toggle-module__fUrgQa__large",medium:"toggle-module__fUrgQa__medium",noMargin:"toggle-module__fUrgQa__noMargin",switchFirst:"toggle-module__fUrgQa__switchFirst",thumb:"toggle-module__fUrgQa__thumb",thumbIcon:"toggle-module__fUrgQa__thumbIcon",titleCasing:"toggle-module__fUrgQa__titleCasing",toggle:"toggle-module__fUrgQa__toggle",wrapper:"toggle-module__fUrgQa__wrapper"})},9495609:e=>{"use strict";e.s({Toggle:()=>d});var a=e.i(6645307),t=e.i(6530772),r=e.i(5610210),l=e.i(1164214),i=e.i(9362924),s=e.i(5602331);let n={amber:{background:"--ds-amber-700",foreground:"--ds-amber-100",lightModeForeground:"--ds-amber-1000",checkedBackground:"--ds-gray-100"},"amber-inverted":{background:"--ds-gray-100",foreground:"--ds-gray-100",lightModeForeground:"--ds-amber-1000",checkedBackground:"--ds-amber-700"},"amber-track-only":{background:"--ds-amber-700",foreground:"--ds-black",lightModeForeground:"--ds-black",checkedBackground:"--ds-gray-100"},red:{background:"--ds-red-600",foreground:"--ds-red-100",lightModeForeground:"--ds-red-1000",checkedBackground:"--ds-gray-100"}},d=e=>{let{className:d,children:o,size:c,disabled:u,name:g,checked:h,onChange:m,onClick:p,onBlur:y,onFocus:x,onKeyDown:j,noMargin:b,direction:f="label-first",labelCasing:k="title",stopPropagation:C=!1,icon:v,color:T,...F}=e,w=(0,i.useDisabled)()||u,_=(0,t.useCallback)(e=>{!w&&m&&(C&&e.stopPropagation(),m(!h))},[h,m,w,C]),S={...F.style};if(T){let e=n[T];S["--unchecked-bg-color-override"]=`var(${e.background})`,S["--checked-bg-color-override"]=`var(${e.checkedBackground})`,S["--thumb-fg-color-override"]=`var(${e.foreground})`,e.lightModeForeground&&(S["--thumb-light-fg-color-override"]=`var(${e.lightModeForeground})`)}return(0,a.jsxs)("label",{className:(0,r.clsx)(s.default.wrapper,d,{[String(s.default.large)]:"large"===c,[String(s.default.medium)]:"medium"===c,[String(s.default.switchFirst)]:"switch-first"===f,[String(s.default.titleCasing)]:"title"===k}),"data-version":"v1",...F,style:S,children:[o?(0,a.jsx)("span",{children:o}):null,(0,a.jsx)("input",{checked:h,className:(0,r.clsx)(s.default.input,"group"),"data-testid":(0,l.tid)(F["data-testid"]??"toggle","input"),disabled:w,name:g,onBlur:y,onChange:_,onClick:p,onFocus:x,onKeyDown:e=>{"Enter"===e.key&&_(e),j?.(e)},type:"checkbox"}),(0,a.jsx)("span",{className:(0,r.clsx)(s.default.toggle,{[String(s.default.checked)]:h,[String(s.default.disabled)]:w,[String(s.default.noMargin)]:b},""),children:(0,a.jsx)("div",{className:(0,r.clsx)(s.default.thumb,{[String(s.default.checked)]:h}),children:v?(0,a.jsxs)("div",{"aria-hidden":!0,className:(0,r.clsx)({[String(s.default.checked)]:h,[String(s.default.thumbIcon)]:!w},"flex justify-center items-center w-full h-full",w?"text-gray-700":"text-gray-900 dark:text-background-100"),children:[h?v.checked:null,h?null:v.unchecked]}):null})})]})}},6700141:e=>{"use strict";e.s({useAllAccountTypeBadgesFlag:()=>m,useEmailNotificationRulesFlag:()=>A,useEnableAnsiLogs:()=>F,useEnableNewInstantRollbackFlow:()=>h,useEnhancedBuilds:()=>v,useFeedbackVariantsDeployStep:()=>k,useInstantRollbackHobbyRestrictionFlag:()=>j,useIsOemPartner:()=>p,useJWTAccessTokenFlag:()=>R,useLaunchDarklyFeatureFlag:()=>g,useLaunchDarklyFlags:()=>u,useLoginWithVercelTeamFlag:()=>_,useLoginWithVercelUserFlag:()=>S,useManualGitDeployFlag:()=>T,useMonitoringExitSurveyFlag:()=>x,useNetCpuFunctionsFlag:()=>P,useNewFeedbackSharingModal:()=>f,useOpenTelemetryApiScopeFlag:()=>y,useRestrictLogDrainsForHobbyFlag:()=>w,useShowCronJobsSummary:()=>C,useStorageEnterpriseFlag:()=>b,useTrustedIpsCustomLimitFlag:()=>D,useVercelAppsFlag:()=>L});var a=e.i(6530772);e.i(6611132);var t=e.i(6558958),r=e.i(1782286),l=e.i(9902218),i=e.i(5454140),s=e.i(3514588),n=e.i(3326412);let d="vercel:ldFlags",o=(0,t.default)(()=>{let e=l.localStorageWrapper.getItem(d);if(e)return JSON.parse(e)}),c=(0,r.default)(e=>{l.localStorageWrapper.setItem(d,JSON.stringify(e))},1e3),u=()=>{let{flags:e,isLoading:t,mutate:r,isLoggedOut:s}=(0,i.useUser)(),n=(0,a.useMemo)(()=>e??o(),[e]);return(0,a.useEffect)(()=>{e&&(c(e),o.cache.set(void 0,e))},[e]),(0,a.useEffect)(()=>{s&&(l.localStorageWrapper.removeItem(d),o.cache.clear?.(),c.cancel())},[s]),{flags:n,isReady:!t&&void 0!==n,mutate:r}},g=e=>{let{flags:a,isReady:t,mutate:r}=u();return{isReady:t,value:a?.[e]??null,mutate:()=>r().then(a=>({isReady:t,value:a?.flags?.[e]??null}))}},h=()=>g("new-instant-rollback-flow"),m=()=>g("show-all-account-type-badges"),p=()=>g("is-oem-partner"),y=()=>g("open-telemetry-api-scope"),x=()=>g("monitoring-exit-survey"),j=()=>g("instant-rollback-hobby-restriction"),b=e=>{let a=(0,n.useLaunchDarklyTeamFeatureFlag)("storage-enterprise",e),t=a.value?.split(",").map(e=>e.trim()).filter(Boolean)||[];return{isReady:a.isReady,isStorageEnterpriseEnabled:e=>{let{storeType:r,isUnbundled:l,isTrialing:i}=e;return"edge-config"===r||"integration"===r||!!l||!!i||a.isReady&&t.includes(r)}}},f=()=>(0,n.useLaunchDarklyTeamFeatureFlag)("feedback-sharing-modal"),k=()=>{let{isReady:e,value:a}=(0,n.useLaunchDarklyTeamFeatureFlag)("feedback-variants-deploy-step"),{isReady:t,value:r}=g("feedback-variants-deploy-step");return(e&&a||t&&r)??!1},C=()=>{let{isReady:e,value:a}=(0,n.useLaunchDarklyTeamFeatureFlag)("cron-jobs-deploy-summary"),{isReady:t,value:r}=g("cron-jobs-deploy-summary");return(e&&a||t&&r)??!1},v=()=>{let e=(0,n.useLaunchDarklyTeamFeatureFlag)("route-to-pdx1-jelly"),a=!!e.isReady,t=!!e.value;return{readyValue:a&&t,isReady:a,value:t}},T=()=>{let e=(0,s.useTeam)(),a=(0,n.useLaunchDarklyTeamFeatureFlag)("manual-git-deploys"),t=g("manual-git-deploys");return{isReady:e.isTeam?a.isReady:t.isReady,value:!!(e.isTeam?a.value:t.value)}},F=()=>{let e=(0,s.useTeam)(),a=(0,n.useLaunchDarklyTeamFeatureFlag)("ansi-logs"),t=g("ansi-logs");return{isReady:e.isTeam?a.isReady:t.isReady,value:!!(e.isTeam?a.value:t.value)}},w=()=>{let e=(0,s.useTeam)(),a=(0,n.useLaunchDarklyTeamFeatureFlag)("restrict-log-drains-for-hobby"),t=g("restrict-log-drains-for-hobby");return{isReady:e.isTeam?a.isReady:t.isReady,value:!!(e.isTeam?a.value:t.value)}},_=()=>{let e=(0,n.useLaunchDarklyTeamFeatureFlag)("login-with-vercel");return{isReady:e.isReady,value:!!e.value}},S=()=>{let e=g("login-with-vercel");return{isReady:e.isReady,value:!!e.value}},A=()=>{let{isReady:e,value:a}=g("email-notification-rules");return{isReady:e,value:!!a}},D=()=>{let e=(0,n.useLaunchDarklyTeamFeatureFlag)("trusted-i-ps-custom-limit");return{isReady:e.isReady,value:e.value}},R=()=>{let e=g("jwt-access-tokens");return{isReady:e.isReady,value:!!e.value}},L=()=>{let e=(0,n.useLaunchDarklyTeamFeatureFlag)("vercel-apps");return{isReady:e.isReady,value:!!e.value}},P=()=>{let e=(0,n.useLaunchDarklyTeamFeatureFlag)("net-cpu-functions");return{isReady:e.isReady,value:!!e.value}}},4707420:e=>{"use strict";e.s({Trash:()=>a});let a=(0,e.i(6895406).withNewIcon)('<path fill-rule="evenodd" clip-rule="evenodd" d="M6.75 2.75C6.75 2.05964 7.30964 1.5 8 1.5C8.69036 1.5 9.25 2.05964 9.25 2.75V3H6.75V2.75ZM5.25 3V2.75C5.25 1.23122 6.48122 0 8 0C9.51878 0 10.75 1.23122 10.75 2.75V3H12.9201H14.25H15V4.5H14.25H13.8846L13.1776 13.6917C13.0774 14.9942 11.9913 16 10.6849 16H5.31508C4.00874 16 2.92263 14.9942 2.82244 13.6917L2.11538 4.5H1.75H1V3H1.75H3.07988H5.25ZM4.31802 13.5767L3.61982 4.5H12.3802L11.682 13.5767C11.6419 14.0977 11.2075 14.5 10.6849 14.5H5.31508C4.79254 14.5 4.3581 14.0977 4.31802 13.5767Z" fill="currentColor"/>')},3797922:e=>{"use strict";e.s({default:()=>s});var a=e.i(6645307),t=e.i(3921802),r=e.i(5674541),l=e.i(3250594),i=e.i(5610210);let s=function(e){let{feedback:s,muted:n,size:d,variant:o,className:c}=e;return(0,a.jsxs)("div",{className:(0,i.clsx)("flex items-center gap-[var(--geist-space)]",c),children:[(0,a.jsx)(t.Badge,{className:n?"text-[var(--geist-background)] bg-[var(--accents-3)] border-0 dark:text-[var(--geist-background)] dark:bg-[var(--accents-6)]":"",size:d,variant:n?"gray-subtle":o||"pink",children:"Beta"}),s?(0,a.jsx)(r.Button,{className:"sm:block max-[600px]:hidden",onClick:l.dispatchShowFeedbackEvent,size:"small",type:"tertiary",typeName:"button",children:"Provide feedback"}):null]})}},6958389:e=>{"use strict";e.s({ProjectSettingsFieldset:()=>y});var a=e.i(6645307),t=e.i(5674541),r=e.i(6531164),l=e.i(8448595),i=e.i(611347),s=e.i(7238633),n=e.i(8811733),d=e.i(889716),o=e.i(8350390),c=e.i(1755874),u=e.i(555528),g=e.i(9240532),h=e.i(1164214),m=e.i(9362924),p=e.i(3797922);function y(e){let{title:y,description:x,note:j,error:b,type:f,disabled:k=!1,disabledForBilling:C,disabledWall:v=!0,onSave:T=null,saveLoading:F=!1,saveDisabled:w=!1,saveDisabledMessage:_,highlightNote:S=!1,beta:A=!1,action:D=null,className:R,children:L,headerNote:P,disabledAction:E}=e,N=(0,m.useDisabled)(k),M=E?(0,a.jsx)(s.FieldsetFooter.Actions,{children:E}):null;return(0,a.jsx)("div",{className:R,id:y.toLowerCase().replaceAll(" ","-"),children:(0,a.jsxs)(i.Fieldset,{"data-testid":(0,h.tid)("project-settings",y),disabled:N&&void 0===C,type:N||C||"error"!==f?"default":"error",children:[(0,a.jsxs)(r.FieldsetContent,{disabled:C,disabledWall:v,children:[(0,a.jsx)(c.FieldsetTitle,{children:(0,a.jsxs)(d.Stack,{direction:"row",gap:3,style:{flexWrap:"wrap"},align:"center",children:[(0,a.jsx)("a",{href:`#${y.toLowerCase().replaceAll(" ","-")}`,style:{color:"inherit",textDecoration:"none"},children:(0,a.jsx)(g.SearchContextHighlighter,{children:y})}),A?(0,a.jsx)(p.default,{muted:C}):null,P]})}),(0,a.jsx)(o.FieldsetSubtitle,{children:x}),L]}),(0,a.jsxs)(s.FieldsetFooter,{disabled:!1,highlight:C||S,className:"text-gray-900",children:[(0,a.jsx)(s.FieldsetFooter.Status,{children:b?(0,a.jsx)(l.ErrorText,{children:b instanceof Error?b.message:b}):j||null}),(0,a.jsx)(n.Spacer,{x:.5}),!N&&(T||D)?(0,a.jsxs)(s.FieldsetFooter.Actions,{children:[T?(0,a.jsx)(u.Tooltip,{text:_,children:(0,a.jsx)(t.Button,{"data-testid":(0,h.tid)("project-settings","save"),disabled:N||w,loading:F,onClick:T,size:"small",children:"Save"})}):null,D]}):M]})]})})}},1985209:e=>{"use strict";e.s({ArrowCircleRight:()=>a});let a=(0,e.i(6895406).withNewIcon)('<path fill-rule="evenodd" clip-rule="evenodd" d="M5.25 7.25H4.5V8.75H5.25H9.43934L7.96967 10.2197L7.43934 10.75L8.5 11.8107L9.03033 11.2803L11.7803 8.53033C12.0732 8.23744 12.0732 7.76256 11.7803 7.46967L9.03033 4.71967L8.5 4.18934L7.43934 5.25L7.96967 5.78033L9.43934 7.25H5.25ZM8 14.5C4.41015 14.5 1.5 11.5899 1.5 8C1.5 4.41015 4.41015 1.5 8 1.5C11.5899 1.5 14.5 4.41015 14.5 8C14.5 11.5899 11.5899 14.5 8 14.5ZM0 8C0 12.4183 3.58172 16 8 16C12.4183 16 16 12.4183 16 8C16 3.58172 12.4183 0 8 0C3.58172 0 0 3.58172 0 8Z" fill="currentColor"/>')},7564359:e=>{e.v({linkButton:"index-module__1SkRrq__linkButton"})},2461522:e=>{"use strict";e.s({CacheSettings:()=>N},2461522);var a=e.i(6645307),t=e.i(5674541),r=e.i(1917237),l=e.i(8934201),i=e.i(5163670),s=e.i(889716),n=e.i(8084653),d=e.i(9495609),o=e.i(555528),c=e.i(584439),u=e.i(2362802),g=e.i(1985209),h=e.i(4707420),m=e.i(6530772),p=e.i(6649026),y=e.i(1183506),x=e.i(9336536),j=e.i(3514588),b=e.i(6700141),f=e.i(3585235),k=e.i(5785123),C=e.i(1389821),v=e.i(2240289),T=e.i(6958389),F=e.i(7564359);function w(){let[e,w]=(0,m.useState)(!1),[_,S]=(0,m.useState)(null),A=(0,C.useProjectIdOrName)(),{team:D,isReady:R}=(0,j.useTeam)(),L=(0,c.useToasts)(),{data:P,mutate:E}=(0,v.useProject)(A,{apiVersion:"v10"}),{can:N}=(0,f.default)(),{loading:M,error:I,purgeDataCache:H}=function(){let[e,a]=(0,m.useState)({loading:!1,error:null,data:null}),{isReady:t,team:r}=(0,j.useTeam)();return{...e,purgeDataCache:l=>{let{projectId:i,onSuccess:s,onError:n}=l;if(!t||!i)return;a({data:null,error:null,loading:!0});let d={teamId:r?.id,projectIdOrName:i},o=`${x.API_DATA_CACHE_PURGE_ALL}${(0,p.encode)(d)}`;(0,y.fetchAPI)(o,{method:"DELETE"}).then(()=>{a({...e,loading:!1,data:{status:200}}),s?.()}).catch(t=>{a({...e,loading:!1,error:t}),n?.()})}}}(),[B,U]=(0,m.useState)(!1),O=!P||!R,V=N(k.Action.Update,k.Resource.Project),$=!O&&V,z=!P?.dataCache?.userDisabled,{value:Q}=(0,b.useLaunchDarklyFeatureFlag)("data-cache-billing-feature"),G=(0,m.useCallback)(async()=>{try{if(!P)return;let e=P.id,a=D?.id;w(!0),await (0,y.fetchAPI)(`${(0,x.API_PROJECTS_DATA_CACHE)(e)}${(0,p.encode)({teamId:a})}`,{method:"PATCH",body:{disabled:z},throwOnHTTPError:!0}),await E()}catch(e){if(e instanceof Error)return void S(e);throw e}finally{w(!1)}},[w,S,z,D,P,E]);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(l.Modal.Modal,{active:B,onClickOutside:()=>U(!1),children:[(0,a.jsxs)(l.Modal.Body,{children:[(0,a.jsxs)(s.Stack,{gap:4,style:{marginBottom:"16px"},children:[(0,a.jsx)(l.Modal.Title,{children:"Purge Data Cache"}),(0,a.jsx)(l.Modal.Subtitle,{children:"All data in the cache will be deleted and then re-validated on next request."})]}),(0,a.jsxs)(n.Text,{size:16,children:["This may cause a ",(0,a.jsx)("strong",{children:"temporary increase"})," in request times for users while new data is re-fetched."]})]}),(0,a.jsxs)(l.Modal.Actions,{children:[(0,a.jsx)(l.Modal.Action,{onClick:()=>U(!1),type:"secondary",children:"Cancel"}),(0,a.jsx)(l.Modal.Action,{disabled:M,onClick:()=>{H({projectId:P?.id,onSuccess:()=>{U(!1),L.success("Cache purged successfully.")},onError:()=>{L.error("Cache purge failed.")}})},type:"error",children:"Continue & Purge Data Cache"})]})]}),(0,a.jsx)(s.Stack,{className:"tailwind-preflight",gap:8,children:(0,a.jsxs)(T.ProjectSettingsFieldset,{description:(0,a.jsx)(n.Text,{as:"span",color:"gray-900",children:"Manage data and components cached automatically by compatible frameworks when using Vercel Functions"}),disabled:O,disabledForBilling:(!!O||!V)&&void 0,error:I,note:(0,a.jsxs)(a.Fragment,{children:["Learn more about ",(0,a.jsx)(u.Link,{external:!0,href:"/docs/infrastructure/data-cache",type:"highlight",children:"Data Cache"})]}),saveDisabled:!$,saveLoading:M,title:"Data Cache",children:[Q?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(s.Stack,{align:"center",direction:"row",gap:2,children:[(0,a.jsx)(d.Toggle,{checked:z,disabled:O||!V||e,onChange:()=>void G(),size:"large"}),(0,a.jsx)(n.Text,{children:z?"Enabled":"Disabled"})]}),_?(0,a.jsx)(s.Stack,{align:"flex-start",direction:"column",gap:2,style:{marginTop:"8px"},children:(0,a.jsx)(r.Error,{error:_})}):null]}):null,(0,a.jsxs)(i.Skeleton,{show:O,children:[(0,a.jsx)("div",{className:"my-5",children:(0,a.jsx)("hr",{className:"geist-hr-reset"})}),(0,a.jsx)(s.Stack,{direction:"column",gap:4,children:(0,a.jsxs)(s.Stack,{align:"center",direction:"row",gap:1,justify:"space-between",children:[(0,a.jsxs)(s.Stack,{gap:1,children:[(0,a.jsx)(n.Text,{as:"h5",size:16,weight:600,children:"Purge Cache"}),(0,a.jsx)(n.Text,{color:"gray-900",size:14,children:"Delete the entire contents of the Data Cache"})]}),(0,a.jsx)(o.Tooltip,{disableTriggers:V,text:"You need additional permissions to purge cache.",children:(0,a.jsx)(t.Button,{"aria-label":"Trash can",disabled:O||!V,onClick:()=>U(!0),prefix:(0,a.jsx)(h.Trash,{}),svgOnly:!0,type:"error",children:"Purge Data Cache"})})]})}),(0,a.jsx)("div",{className:"my-5",children:(0,a.jsx)("hr",{className:"geist-hr-reset"})}),(0,a.jsx)(s.Stack,{direction:"column",gap:4,children:(0,a.jsxs)(s.Stack,{align:"center",direction:"row",gap:1,justify:"space-between",children:[(0,a.jsxs)(s.Stack,{gap:1,children:[(0,a.jsx)(n.Text,{as:"h5",size:16,weight:600,children:"Cache Usage"}),(0,a.jsx)(n.Text,{color:"gray-900",size:14,children:"View most requested cached data, hit/miss ratio and more"})]}),(0,a.jsx)(u.Link,{className:F.default.linkButton,href:D?`/${D.slug}/~/usage#data-cache`:"/dashboard/usage#data-cache",variant:"highlight",children:(0,a.jsxs)(s.Stack,{align:"center",direction:"row",gap:2,children:[(0,a.jsx)("span",{children:"View Usage"}),(0,a.jsx)(g.ArrowCircleRight,{})]})})]})})]})]})})]})}var _=e.i(6615252),S=e.i(9385465);function A(e){let{active:t,hideModal:r,disabled:i,onContinue:d,title:o,subtitle:c,description:u,type:g}=e;return(0,a.jsxs)(l.Modal.Modal,{active:t,onClickOutside:()=>r(),children:[(0,a.jsxs)(l.Modal.Body,{children:[(0,a.jsxs)(s.Stack,{gap:4,style:{marginBottom:"16px"},children:[(0,a.jsx)(l.Modal.Title,{children:o}),(0,a.jsx)(l.Modal.Subtitle,{children:c})]}),(0,a.jsx)(n.Text,{size:16,children:u})]}),(0,a.jsxs)(l.Modal.Actions,{children:[(0,a.jsx)(l.Modal.Action,{onClick:()=>r(),type:"secondary",children:"Cancel"}),(0,a.jsxs)(l.Modal.Action,{disabled:i,onClick:d,type:g,children:["Continue & ",o]})]})]})}var D=e.i(2774739),R=e.i(3521787),L=e.i(2567082);function P(){let[e,r]=(0,m.useState)({type:null}),l=(0,C.useProjectIdOrName)(),{team:d,isReady:g}=(0,j.useTeam)(),{can:b}=(0,f.default)(),v=(0,c.useToasts)(),F="loading"===e.type,w=b(k.Action.Read,k.Resource.EdgeCacheNamespace),P=b(k.Action.Update,k.Resource.Project),{data:E,mutate:N,isLoading:M,error:I}=(0,R.default)(w&&d?.id?`${x.API_EDGE_CACHE_GET_PURGE_METADATA}${(0,p.encode)({projectIdOrName:l,teamId:d.id})}`:null,e=>(0,y.fetchAPI)(e,{method:"GET",headers:{"Content-Type":"application/json"},throwOnHTTPError:!0}),{}),H=M||!g,B=!H&&P,U=E?.lastPurgeAt,O=(0,D.useAgo)(U,{suffix:" ago",alwaysRelative:!0}),V=U&&Date.now()-U<(0,L.default)("15m");return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(A,{active:"show-modal-1"===e.type,hideModal:()=>r({type:null}),disabled:F,onContinue:()=>{r({type:"loading"}),(0,y.fetchAPI)(`${x.API_EDGE_CACHE_PURGE_ALL}${(0,p.encode)({projectIdOrName:l,teamId:d?.id})}`,{method:"POST",headers:{"Content-Type":"application/json"},throwOnHTTPError:!0}).then(()=>{r({type:null}),v.success("CDN cache purged successfully."),setTimeout(()=>{N()},100)}).catch(e=>{r({type:"error",error:e}),v.error("CDN cache purge failed.")})},title:"Purge CDN Cache",subtitle:"All data in the CDN Cache will be purged forcing the next request to cache MISS.",description:"This may cause a temporary increase in request duration while new data is fetched and cached again.",type:"error"}),(0,a.jsx)(A,{active:"show-modal-2"===e.type,hideModal:()=>r({type:null}),disabled:F,onContinue:()=>{r({type:"loading"}),(0,y.fetchAPI)(`${x.API_EDGE_CACHE_ROLLBACK_PURGE}${(0,p.encode)({projectIdOrName:l,teamId:d?.id})}`,{method:"POST",headers:{"Content-Type":"application/json"},throwOnHTTPError:!0}).then(()=>{r({type:null}),v.success("CDN cache rolled back successfully."),setTimeout(()=>{N()},100)}).catch(e=>{r({type:"error",error:e}),v.error("CDN cache rollback failed.")})},title:"Undo Purge",subtitle:"Purging the CDN Cache can sometimes cause errors so you may need to undo.",description:"Be aware that undo will use the last cache key, which may not be the most recent data.",type:"warning"}),(0,a.jsxs)(s.Stack,{className:"tailwind-preflight",gap:8,children:[V?(0,a.jsx)(_.ProjectBanner,{callToAction:{label:"Undo Purge",onClick:()=>r({type:"show-modal-2"})},icon:(0,a.jsx)(S.RotateCounterClockwise,{}),label:(0,a.jsxs)(a.Fragment,{children:["This project was last purged ",O,"."]}),variant:"warning"}):null,(0,a.jsx)(T.ProjectSettingsFieldset,{description:(0,a.jsx)(n.Text,{as:"span",color:"gray-900",children:"Manage responses that are cached using a Cache-Control header or revalidation (ISR, PPR, Image Optimization, etc)."}),disabled:H,disabledForBilling:(!!H||!P)&&void 0,error:I||("error"===e.type?e.error:void 0),note:(0,a.jsxs)(a.Fragment,{children:["Learn more about ",(0,a.jsx)(u.Link,{external:!0,href:"/docs/edge-cache",type:"highlight",children:"CDN Cache"})]}),saveDisabled:!B,saveLoading:F,title:"CDN Cache",children:(0,a.jsxs)(i.Skeleton,{show:H,children:[(0,a.jsx)("div",{className:"my-5",children:(0,a.jsx)("hr",{className:"geist-hr-reset"})}),(0,a.jsx)(s.Stack,{direction:"column",gap:4,children:(0,a.jsxs)(s.Stack,{align:"center",direction:"row",gap:1,justify:"space-between",children:[(0,a.jsxs)(s.Stack,{gap:1,children:[(0,a.jsx)(n.Text,{as:"h5",size:16,weight:600,children:"Purge Cache"}),(0,a.jsx)(n.Text,{color:"gray-900",size:14,children:"Delete the entire contents of the CDN Cache"})]}),(0,a.jsx)(o.Tooltip,{disableTriggers:P,text:"You need additional permissions to purge cache.",children:(0,a.jsx)(t.Button,{"aria-label":"Trash can",disabled:H||!P,onClick:()=>r({type:"show-modal-1"}),prefix:(0,a.jsx)(h.Trash,{}),svgOnly:!0,type:"error",children:"Purge CDN Cache"})})]})})]})})]})]})}var E=e.i(8811733);function N(){return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(P,{}),(0,a.jsx)(E.Spacer,{y:2}),(0,a.jsx)(w,{})]})}}}]);

//# sourceMappingURL=74c7fa05f5a089ed.js.map
//# debugId=aa694329-5b30-57f1-8733-b512b6caa6bb
