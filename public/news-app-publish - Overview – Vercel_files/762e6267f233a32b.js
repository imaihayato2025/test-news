
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="ed4398c5-6fa4-5de3-a584-1cb2304806f7")}catch(e){}}();
(globalThis.TURBOPACK=globalThis.TURBOPACK||[]).push(["object"==typeof document?document.currentScript:void 0,{3742583:e=>{"use strict";e.s({ChevronCircleRight:()=>t});let t=(0,e.i(6895406).withNewIcon)('<path fill-rule="evenodd" clip-rule="evenodd" d="M8 14.5C4.41015 14.5 1.5 11.5899 1.5 8C1.5 4.41015 4.41015 1.5 8 1.5C11.5899 1.5 14.5 4.41015 14.5 8C14.5 11.5899 11.5899 14.5 8 14.5ZM0 8C0 12.4183 3.58172 16 8 16C12.4183 16 16 12.4183 16 8C16 3.58172 12.4183 0 8 0C3.58172 0 0 3.58172 0 8ZM7.53033 11.2803L10.1106 8.70004C10.4972 8.31342 10.4972 7.68658 10.1106 7.29996L7.53033 4.71967L7 4.18934L5.93934 5.25L6.46967 5.78033L8.68934 8L6.46967 10.2197L5.93934 10.75L7 11.8107L7.53033 11.2803Z" fill="currentColor"/>')},8186495:e=>{e.v({container:"styles-module__ahD0RG__container",dot:"styles-module__ahD0RG__dot",pulse:"styles-module__ahD0RG__pulse"})},1547168:e=>{e.v({container:"index-module__NER40W__container",empty:"index-module__NER40W__empty",emptyMessage:"index-module__NER40W__emptyMessage",events:"index-module__NER40W__events",filterHeader:"index-module__NER40W__filterHeader",filters:"index-module__NER40W__filters",header:"index-module__NER40W__header",month:"index-module__NER40W__month",option:"index-module__NER40W__option",optionsContainer:"index-module__NER40W__optionsContainer",searchInput:"index-module__NER40W__searchInput",selectAll:"index-module__NER40W__selectAll",skeletonRow:"index-module__NER40W__skeletonRow",title:"index-module__NER40W__title",toggle:"index-module__NER40W__toggle"})},9086107:e=>{"use strict";e.s({default:()=>eu},9086107);var t=e.i(6645307),a=e.i(6530772),s=e.i(5674541),i=e.i(8247297),n=e.i(9185154),r=e.i(5163670),l=e.i(889716),d=e.i(8084653),c=e.i(3920197),o=e.i(9251900),p=e.i(5454140),x=e.i(3514588),u=e.i(503726),g=e.i(5652027),m=e.i(506127),h=e.i(2075095),f=e.i(2531953),j=e.i(2293621),y=a,b=e.i(2270026),v=e.i(2226734);let _=new Set(["scale","scale-auto","cert-autorenew","custom-suffix-clear","custom-suffix-pending","custom-suffix-ready","alias-system","domain-transfer-in-canceled","domain-transfer-in-completed"]);var w=e.i(2362802),k=e.i(587741);function N(e){let{name:a,section:s}=e,{team:i,isTeam:n,isReady:r}=(0,x.useTeam)(),{data:l}=(0,p.useUser)();return r?(0,t.jsx)(w.Link,{as:`/${n?i?.slug:l?.user?.username}/${a}${s?`/${s}`:""}`,href:`/[teamSlug]/[project]${s?`/${s}`:""}`,children:(0,t.jsx)("b",{children:a})}):(0,t.jsx)("b",{children:a})}e.i(442955);var D=e.i(4583851);function C(e){let a=D.default[e.region];if(!a&&"all"!==e.region)return null;let{flagURL:s,name:i}=a;return(0,t.jsxs)("span",{className:"jsx-dd69a5918c0e42fd region-wrapper",children:["all"===e.region?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("img",{alt:"World",src:"https://assets.vercel.com/image/upload/front/about/world.svg",className:"jsx-dd69a5918c0e42fd"}),(0,t.jsx)("span",{className:"jsx-dd69a5918c0e42fd region",children:"All Regions"})]}):(0,t.jsxs)("span",{className:"jsx-dd69a5918c0e42fd",children:[(0,t.jsx)("img",{alt:i,src:s,className:"jsx-dd69a5918c0e42fd"}),e.short?null:(0,t.jsxs)("span",{className:"jsx-dd69a5918c0e42fd region",children:[a,", "]}),(0,t.jsx)("span",{className:"jsx-dd69a5918c0e42fd label",children:i})]}),(0,t.jsx)(f.default,{id:"dd69a5918c0e42fd",children:".region-wrapper.jsx-dd69a5918c0e42fd{white-space:pre;cursor:default;display:inline-block}img.jsx-dd69a5918c0e42fd{border:1px solid var(--accents-2);vertical-align:-3px;border-radius:8px;width:16px;height:16px;margin-right:5px;display:inline-block}"})]})}function L(e){let{name:a,slug:s}=e;return s?(0,t.jsx)(w.Link,{href:`/integrations/${s}`,children:(0,t.jsx)("b",{children:a})}):(0,t.jsx)("b",{children:a})}let S=(0,a.memo)(function(e){let{team:s,text:i,entities:n}=e,r=[],l=0,d=n.reduce((e,t)=>{switch(t.type){case"github_login":e.github_login=t.login;break;case"gitlab_login":e.gitlab_login=t.login;break;case"bitbucket_login":t.profileLink&&(e.bitbucket_profile=t.profileLink);break;case"region":e.region=t.region;break;case"flag":e.flags_url=s?`/${s.id}/${t.projectId}/flag/${t.id}`:void 0;break;case"flags-segment":e.flags_url=s?`/${s.id}/${t.projectId}/flags#${t.id}`:void 0;break;case"flags-settings":e.flags_url=s?`/${s.id}/${t.projectId}/flags#settings`:void 0}return e},{});return n.forEach(e=>{if(-1===e.start||-1===e.end)return;l<e.start&&r.push(i.substring(l,e.start));let s=((e,s,i)=>{let n=JSON.stringify(s),r=e.substring(s.start,s.end);switch(s.type){case"git_link":return(0,t.jsx)(w.Link,{className:"git",href:s.url,children:r},n);case"link":return(0,t.jsx)(w.Link,{href:s.url||(r.startsWith("https")?r:`https://${r}`),tab:!0,variant:"highlight",children:(0,t.jsx)("b",{children:r})},n);case"deployment_host":return(0,t.jsx)(k.default,{host:s.host||r,children:r},n);case"target":return(0,t.jsx)(k.default,{host:s.host,children:s.target},n);case"project_name":return(0,t.jsx)(N,{name:r},n);case"integration":return(0,t.jsx)(L,{name:r,slug:s.integrationSlug},n);case"dns_record":return(0,t.jsxs)("div",{className:"jsx-c4904f131a86a254 record",children:[r.slice(0,80)+(r.slice(0,80).length<r.length?"â€¦":""),(0,t.jsx)(f.default,{id:"c4904f131a86a254",children:".record.jsx-c4904f131a86a254{background:var(--geist-background);border:1px solid var(--accents-2);color:var(--geist-foreground);font-family:var(--font-sans);border-radius:5px;margin-top:10px;margin-bottom:10px;padding:5px 10px;font-size:13px}"})]},n);case"scaling_rules":return(0,t.jsxs)(a.Fragment,{children:[" ","in regions: ",(()=>{let e=Object.entries(s).flatMap(e=>{let[t,a]=e;if(!a||"object"!=typeof a)return[];let s="min"in a&&"number"==typeof a.min?a.min:null,i="max"in a&&"number"==typeof a.max?a.max:null;return null==s||null==i?[]:[[t,{min:s,max:i}]]});return e.map((s,i)=>{let[n,{min:r,max:l}]=s;return(0,t.jsxs)(a.Fragment,{children:[(0,t.jsx)(C,{region:n})," (min:"," ",(0,t.jsx)("span",{className:"parameter",children:r}),", max:"," ",(0,t.jsx)("span",{className:"parameter",children:l})," )",i===e.length-1?"":", "]},`${n}-${i}`)})})()]},n);case"author":if(i.github_login)return(0,t.jsx)(w.Link,{className:"git",href:`https://github.com/${i.github_login}`,tab:!0,children:r},n);if(i.gitlab_login)return(0,t.jsx)(w.Link,{className:"git",href:`https://gitlab.com/${i.gitlab_login}`,tab:!0,children:r},n);if(i.bitbucket_profile)return(0,t.jsx)(w.Link,{className:"git",href:i.bitbucket_profile,tab:!0,children:r},n);return(0,t.jsx)("b",{children:r},n);case"env_var_name":return(0,t.jsx)("b",{title:r,children:r.length>32?`${r.substring(0,32)}...`:r},n);case"flag":case"flags-segment":case"flags-settings":if(i.flags_url)return(0,t.jsx)(w.Link,{className:"flags",href:i.flags_url,tab:!0,children:r},n);return(0,t.jsx)("b",{children:r},n);default:return(0,t.jsx)("b",{children:r.length>1e3?`${r.substring(0,1e3)}...`:r},n)}})(i,e,d);r.push(s),l=e.end}),l<i.length-1&&r.push(i.substring(l,i.length)),(0,t.jsxs)("span",{className:"jsx-81d04860dac187d1 message",children:[r,(0,t.jsx)(f.default,{id:"81d04860dac187d1",children:".message.jsx-81d04860dac187d1{word-break:break-word;color:var(--accents-6);flex:1;margin-top:2.5px;margin-bottom:2.5px}.message.jsx-81d04860dac187d1 span.jsx-81d04860dac187d1{color:var(--geist-foreground)}.grouped.jsx-81d04860dac187d1 .message.jsx-81d04860dac187d1:first-letter{text-transform:capitalize}.message.jsx-81d04860dac187d1 a{display:inline}.message.jsx-81d04860dac187d1 .git,.message.jsx-81d04860dac187d1 .flags{color:var(--geist-foreground);text-decoration:none}.message.jsx-81d04860dac187d1 .git:hover,.message.jsx-81d04860dac187d1 .flags:hover{text-decoration:underline}.message.jsx-81d04860dac187d1 .external{margin-top:2px;margin-left:5px}.message.jsx-81d04860dac187d1 .external svg{margin-bottom:-1px}.message.jsx-81d04860dac187d1 b{color:var(--geist-foreground);font-weight:400}"})]})});var R=a,I=e.i(3742583),E=e.i(878537),$=e.i(4534645),M=e.i(5442845),T=e.i(1149083),O=e.i(7888210),P=e.i(5378884);let A=(0,R.createContext)(!1);A.displayName="GroupedContext";class W extends R.PureComponent{getUserInfo(){let{principalId:e,principal:a,viaIds:s,via:i,isSystem:n,viewer:r,githubLogin:l,gitlabLogin:d,bitbucketLogin:c}=this.props;if(n)return(0,t.jsx)($.default,{height:30,style:{marginRight:"8px"},width:30});if(l||d||c)return(0,t.jsxs)("span",{className:"jsx-9ca68f56f7c4edc8 icon",children:[l?(0,t.jsx)(M.default,{background:!0,height:30,width:30}):d?(0,t.jsx)(T.default,{background:!0,height:30,width:30}):c?(0,t.jsx)(O.default,{background:!0,height:30,width:30}):null,(0,t.jsx)(f.default,{id:"9ca68f56f7c4edc8",children:".icon.jsx-9ca68f56f7c4edc8{border:1px solid var(--accents-2);vertical-align:middle;border-radius:100%;flex-direction:column;justify-content:center;align-items:center;width:30px;min-width:30px;height:30px;min-height:30px;margin-right:8px;line-height:0;display:flex;position:relative;-webkit-mask-image:-webkit-radial-gradient(circle,#fff,#000)}"})]});let o=(0,P.getPrincipalName)({...this.props,viewerId:r?.uid}),p=(0,P.getViaName)({...this.props,viewerId:r?.uid}),x=null;return o&&p?x=(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("span",{className:"inline-block pr-[10px]",children:o})," via"," ",(0,t.jsx)("span",{className:"inline-block pr-[10px]",children:p})]}):o&&(x=(0,t.jsx)("span",{className:"inline-block pr-[10px]",children:o})),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("span",{className:"jsx-8d6ea54ceff4a1d6 avatar",children:(0,t.jsx)(P.PrincipalAvatar,{size:30,principalId:e,principal:a,viaIds:s,via:i})}),x,(0,t.jsx)(f.default,{id:"8d6ea54ceff4a1d6",children:".avatar.jsx-8d6ea54ceff4a1d6{padding-right:10px;line-height:0;display:inline-block}"})]})}render(){let{project:e,children:a}=this.props;return(0,t.jsx)(A.Provider,{value:!0,children:(0,t.jsxs)("div",{className:"jsx-56f5be349e53db74 event-group mt-2",children:[(0,t.jsx)("div",{className:"jsx-56f5be349e53db74 header",children:(0,t.jsxs)(E.default,{flex:"none",full:!0,row:!0,vcenter:!0,children:[this.getUserInfo(),(0,t.jsx)(I.ChevronCircleRight,{color:"gray-500"}),(0,t.jsx)("span",{className:"jsx-56f5be349e53db74 appname",children:e})]})}),(0,t.jsx)("div",{className:"jsx-56f5be349e53db74 events",children:a}),(0,t.jsx)(f.default,{id:"56f5be349e53db74",children:".event-group.jsx-56f5be349e53db74{background:var(--ds-background-100);border:1px solid var(--ds-gray-alpha-400);border-radius:8px;padding:10px 0 10px 10px}.header.jsx-56f5be349e53db74{align-items:center;display:flex}.appname.jsx-56f5be349e53db74{white-space:nowrap;margin:0 10px;display:inline-block}.region.jsx-56f5be349e53db74{margin:0 10px}.events.jsx-56f5be349e53db74{margin-left:28px}@media (max-width:1048px){.event-group.jsx-56f5be349e53db74{padding:10px}.header.jsx-56f5be349e53db74{align-items:center;display:flex}.avatar.jsx-56f5be349e53db74{padding-right:10px;line-height:0;display:inline-block}.name.jsx-56f5be349e53db74{padding-right:10px;display:inline-block}.appname.jsx-56f5be349e53db74{margin:0 10px;display:inline-block}.region.jsx-56f5be349e53db74{margin:0 10px}.region.jsx-56f5be349e53db74 b.jsx-56f5be349e53db74{width:10px;display:inline-block}.events.jsx-56f5be349e53db74{margin-left:28px}@media (max-width:950px){.event-group.jsx-56f5be349e53db74{padding:10px 10px 4px}}@media (max-width:600px){.header.jsx-56f5be349e53db74{flex-direction:column;align-items:flex-start}}}"})]})})}}var z=a;class U extends z.default.PureComponent{render(){let{size:e=80}=this.props;return(0,t.jsxs)("span",{style:{width:e,height:e},className:"jsx-2e368e43512b866c",children:[(0,t.jsx)("img",{alt:"geist",src:"https://assets.vercel.com/image/upload/front/zeit/geist-v2.png",title:"geist",className:"jsx-2e368e43512b866c"}),(0,t.jsx)(f.default,{id:"2e368e43512b866c",children:"span.jsx-2e368e43512b866c{border:1px solid var(--accents-2);border-radius:100%;line-height:0;display:inline-block;overflow:hidden}img.jsx-2e368e43512b866c{width:100%;height:100%}"})]})}}class B extends y.PureComponent{constructor(e){super(e),this.state={createdAgoTitle:new Date(e.event.createdAt).toLocaleDateString(void 0,{hour:"numeric",minute:"2-digit",second:"2-digit",year:"numeric",month:"short",day:"numeric",timeZoneName:"short"})}}render(){let{event:e,team:a,now:s,lite:i}=this.props,n=_.has(e.type);return(0,t.jsx)(A.Consumer,{children:r=>(0,t.jsxs)("div",{"aria-label":"Event",role:"listitem",className:f.default.dynamic([["91e2326ff435c096",[i?0:"10px",i?0:"10px",r?"initial":"30px",i?`
            line-height: 20px;
            margin-top: 4px;
            margin-left: 5px;
            `:""]]])+" "+("event"+(r?" grouped":"")+(a?" team":"")||""),children:[(0,t.jsx)("div",{className:f.default.dynamic([["91e2326ff435c096",[i?0:"10px",i?0:"10px",r?"initial":"30px",i?`
            line-height: 20px;
            margin-top: 4px;
            margin-left: 5px;
            `:""]]])+" event-inner",children:(0,t.jsxs)("div",{className:f.default.dynamic([["91e2326ff435c096",[i?0:"10px",i?0:"10px",r?"initial":"30px",i?`
            line-height: 20px;
            margin-top: 4px;
            margin-left: 5px;
            `:""]]])+" main row",children:[(0,t.jsx)("span",{className:f.default.dynamic([["91e2326ff435c096",[i?0:"10px",i?0:"10px",r?"initial":"30px",i?`
            line-height: 20px;
            margin-top: 4px;
            margin-left: 5px;
            `:""]]])+" avatar",children:n?(0,t.jsx)(U,{size:r?16:30}):(0,t.jsx)(P.PrincipalAvatar,{principalId:e.principalId,principal:e.principal,viaIds:e.viaIds,via:e.via,size:r?16:32,iconSize:r?12:14,entities:e.entities,viewerId:this.props.viewer?.uid})}),(0,t.jsxs)("div",{className:f.default.dynamic([["91e2326ff435c096",[i?0:"10px",i?0:"10px",r?"initial":"30px",i?`
            line-height: 20px;
            margin-top: 4px;
            margin-left: 5px;
            `:""]]])+" main-body row",children:[(0,t.jsx)(F,{event:e,children:(0,t.jsx)(S,{team:a,...e})}),(0,t.jsx)(j.RelativeTimeCard,{date:e.createdAt,children:(0,t.jsx)("div",{className:f.default.dynamic([["91e2326ff435c096",[i?0:"10px",i?0:"10px",r?"initial":"30px",i?`
            line-height: 20px;
            margin-top: 4px;
            margin-left: 5px;
            `:""]]])+" created",children:(0,v.ago)(s-e.createdAt,{suffix:""})})})]})]})}),(0,t.jsx)(f.default,{id:"91e2326ff435c096",dynamic:[i?0:"10px",i?0:"10px",r?"initial":"30px",i?`
            line-height: 20px;
            margin-top: 4px;
            margin-left: 5px;
            `:""],children:`.event-inner.__jsx-style-dynamic-selector{padding:14px ${i?0:"10px"}}.grouped.__jsx-style-dynamic-selector .event-inner.__jsx-style-dynamic-selector{padding:5px ${i?0:"10px"}}hr.__jsx-style-dynamic-selector{border:none;border-top:1px solid var(--accents-2);margin:0}.grouped.__jsx-style-dynamic-selector hr.__jsx-style-dynamic-selector{border-top:none}.row.__jsx-style-dynamic-selector{gap:14px;display:flex}.main.__jsx-style-dynamic-selector{align-items:flex-start}.main-body.__jsx-style-dynamic-selector{line-height:${r?"initial":"30px"};${i?`
            line-height: 20px;
            margin-top: 4px;
            margin-left: 5px;
            `:""};flex:1;align-items:center}.avatar.__jsx-style-dynamic-selector{width:auto;height:auto;margin-top:2px;margin-right:10px;display:flex}.created.__jsx-style-dynamic-selector{color:var(--ds-gray-900);text-align:right;white-space:nowrap;margin-left:10px;transition:all .2s}@media (max-width:600px){.main-body.__jsx-style-dynamic-selector{line-height:24px}.main-body.__jsx-style-dynamic-selector .message{margin-top:4px;margin-bottom:4px}.avatar.__jsx-style-dynamic-selector{margin-top:0}}@media (max-width:1048px){.event.__jsx-style-dynamic-selector:hover{background:0 0}.event-inner.__jsx-style-dynamic-selector{padding:10px 0}.grouped.__jsx-style-dynamic-selector .event-inner.__jsx-style-dynamic-selector{padding:10px 0 10px 10px}.grouped.__jsx-style-dynamic-selector hr.__jsx-style-dynamic-selector{border-top:1px solid var(--accents-2);margin-left:10px}.grouped.__jsx-style-dynamic-selector .avatar.__jsx-style-dynamic-selector{display:none}.message.__jsx-style-dynamic-selector{width:calc(100vw - 200px)}}`})]})})}}class F extends y.Component{state={err:null};async componentDidCatch(e){this.setState({err:e}),await (0,b.captureError)(e)}render(){let{event:e,children:a}=this.props;return this.state.err?(0,t.jsxs)("div",{className:"jsx-cb738b8b8acd188c",children:["An error occurred rendering this event:"," ",(0,t.jsx)("pre",{className:"jsx-cb738b8b8acd188c",children:JSON.stringify(e,null,2)}),(0,t.jsx)(f.default,{id:"cb738b8b8acd188c",children:"pre.jsx-cb738b8b8acd188c{font-family:var(--font-mono);background:#fafbfc;border:1px solid #999;width:300px;max-width:100%;height:100px;padding:10px;overflow:auto}"})]}):a}}var Q=e.i(4193394),q=e.i(1042076),K=e.i(2503120),J=e.i(1157301),G=e.i(1748110),H=e.i(7909803),V=e.i(674684),Z=e.i(1265902),Y=e.i(2158583);let[X,ee]=(0,e.i(908737).default)(function(){let[e,t]=(0,a.useState)(void 0);return{dateRange:e,setDateRange:t}});var et=e.i(8186495);let ea={"last-1-day":{text:"Last Day",start:(0,K.startOfDay)((0,G.subDays)(new Date,1))},"last-3-days":{text:"Last 3 Days",start:(0,K.startOfDay)((0,G.subDays)(new Date,3))},"last-7-days":{text:"Last 7 Days",start:(0,K.startOfDay)((0,G.subDays)(new Date,7))},"last-14-days":{text:"Last 14 Days",start:(0,K.startOfDay)((0,G.subDays)(new Date,14))},"last-30-days":{text:"Last 30 Days",start:(0,K.startOfDay)((0,G.subDays)(new Date,30))},"last-3-months":{text:"Last 3 Months",start:(0,K.startOfDay)((0,H.subMonths)(new Date,3))},"last-12-months":{text:"Last 12 Months",start:(0,K.startOfDay)((0,H.subMonths)(new Date,12))}};function es(e){let{enabled:s}=e,{data:i}=(0,Y.useBillingCycles)(),{team:n,user:r}=(0,u.useAccount)(),l=!!(n||r)?.billing?.period,d=(0,V.useRouter)(),c=d.isReady?d.query.range:void 0,o=(()=>{let e,t,a=(0,V.useRouter)(),s=a.query.start,i=a.query.end;if("string"==typeof s&&"string"==typeof i){let a=Date.parse(s),n=Date.parse(i);isNaN(a)||isNaN(n)||(e=new Date(a),t=new Date(n))}return{startQueryParam:e,endQueryParam:t}})(),[p,x]=(0,a.useState)(!1),{dateRange:g,setDateRange:m}=ee(),h=(0,a.useMemo)(()=>l&&i?.current.start?{"current-billing-cycle":{text:"Current Billing Cycle",start:new Date(i.current.start),end:new Date(i.current.end)},"previous-billing-cycle":{text:"Previous Billing Cycle",start:new Date(i.previous.start),end:new Date(i.previous.end)},...ea}:{...ea},[l,i]),f=c&&c in h?h[c]:l&&"current-billing-cycle"in h?h["current-billing-cycle"]:h["last-7-days"],j=(0,K.startOfDay)((0,H.subMonths)(new Date,12)),y=(0,J.endOfDay)(new Date),[b,v]=(0,a.useState)(0);return(0,a.useEffect)(()=>{!p&&g?.start&&g.end&&o.startQueryParam&&o.endQueryParam&&(new Date(g.start).getTime()!==o.startQueryParam.getTime()||new Date(g.end).getTime()!==o.endQueryParam.getTime())&&(m({end:o.endQueryParam,start:o.startQueryParam}),x(!0),v(e=>e+1))},[g?.end,g?.start,o.endQueryParam,o.startQueryParam,p,m]),(0,a.useEffect)(()=>{void 0===g&&m({start:f.start,end:f.end||new Date,label:f.text})},[g,f.end,f.start,f.text,m]),(0,t.jsx)("div",{className:et.default.container,children:(0,t.jsx)(Z.Calendar,{allowClear:!1,disabled:!s,hideDateButton:!1,maxValue:y,minValue:j,onChange:(e,t)=>{if(m(e),t!==c&&d.replace({query:{...d.query,range:t}},void 0,{scroll:!1}),!t){let e=d.query;d.replace({query:e},void 0,{scroll:!1})}},presetIndex:Object.values(h).findIndex(e=>e.text===f.text),presets:h,stacked:!0,value:g,width:"100%"},b)})}var ei=e.i(1547168),en=e.i(1764679),er=e.i(9443759);let el=["January","February","March","April","May","June","July","August","September","October","November","December"],ed=new Map,ec=(0,a.memo)(e=>{let{groupedEvents:a,userData:s,team:i}=e;return 0===a.size?(0,t.jsx)(eo,{}):[...a.values()].map(e=>{let{createdAt:a}=e[0].events[0],n=new Date(a);return[(0,t.jsxs)("div",{className:(0,er.cn)(ei.default.month,"mt-1 -mb-1.5"),children:[el[n.getMonth()]," ",n.getFullYear()]},"month"),e.map((e,a)=>{if(1===e.events.length){let a=e.events[0];return(0,t.jsx)("div",{ref:e=>{ed.set(a.id,e)},children:(0,t.jsx)(B,{event:a,now:Date.now(),team:i,viewer:s.user})},a.id)}{let{events:n}=e;return(0,t.jsx)(W,{bitbucketLogin:e.bitbucketLogin,githubLogin:e.githubLogin,gitlabLogin:e.gitlabLogin,isSystem:e.isSystem,project:e.project,principalId:e.principalId,principal:e.auto?void 0:e.principal,viaIds:e.viaIds,via:e.via,viewer:s.user,children:n.map(e=>(0,t.jsx)("div",{ref:t=>{ed.set(e.id,t)},children:(0,t.jsx)(B,{event:e,now:Date.now(),team:i,viewer:s.user})},e.id))},`group${a}`)}})]})});function eo(){return(0,t.jsxs)(l.Stack,{children:[(0,t.jsx)(r.Skeleton,{height:22,style:{marginBottom:"32px"},width:120}),(0,t.jsx)(l.Stack,{gap:7,children:[420,260,320,480,300,270,490,290,370,500,310,430,360,470,510,330,380,390,350,460].map(e=>(0,t.jsxs)(l.Stack,{align:"center",className:ei.default.skeletonRow,direction:"row",gap:3,style:{height:"35px"},children:[(0,t.jsx)(r.Skeleton,{height:30,rounded:!0,style:{flexShrink:"0"},width:30}),(0,t.jsx)(r.Skeleton,{height:18,width:e})]},e))})]})}function ep(){let[e,n]=(0,a.useState)(""),{team:p,user:x}=(0,u.useAccount)(),f=p||x,j=(0,q.useUserEvents)(),[y,b]=(0,a.useState)(j.reduce((e,t)=>(e[t.name]=!0,e),{})),v=Object.entries(y).reduce((e,t)=>{let[a,s]=t;return s&&e.push(a),e},[]),_=(0,a.useMemo)(()=>Object.values(y).every(e=>e),[y]),w=(0,a.useMemo)(()=>""===e?j:j.filter(t=>t.name.toLowerCase().includes(e.toLowerCase())||t.description.toLowerCase().includes(e.toLowerCase())),[e,j]),k=RegExp(`(${e})`,"gi"),N=(0,a.useMemo)(()=>!_||""!==e,[_,e]);return(0,t.jsxs)("div",{className:ei.default.container,children:[(0,t.jsx)("div",{className:ei.default.filters,children:(0,t.jsxs)(l.Stack,{className:ei.default.filterHeader,gap:4,children:[(0,t.jsxs)(l.Stack,{align:"center",direction:"row",justify:"space-between",children:[(0,t.jsx)(d.Text,{className:ei.default.title,size:14,weight:600,children:"Filters"}),N?(0,t.jsx)(s.Button,{onClick:()=>{n(""),b(e=>{let t={};return Object.keys(e).forEach(e=>{t[e]=!_}),t})},prefix:(0,t.jsx)(c.CrossCircle,{}),size:"small",type:"secondary",children:"Reset"}):null]}),null===f?(0,t.jsx)(r.Skeleton,{height:80,width:280}):(0,t.jsx)(es,{enabled:!0}),null===f?null:(0,t.jsxs)(o.Disclosure,{title:"Type",children:[(0,t.jsxs)(l.Stack,{gap:2,children:[(0,t.jsx)("div",{className:ei.default.searchInput,children:(0,t.jsx)(h.default,{onChange:e=>{n(e.target.value)},placeholder:"Search types...",value:e,width:"100%"})}),(0,t.jsx)(i.Checkbox,{checked:_,className:ei.default.selectAll,onChange:()=>{b(e=>{let t={};return Object.keys(e).forEach(e=>{t[e]=!_}),t})},style:{flex:"0 0 33.3%"},children:"Select all"})]}),(0,t.jsxs)(l.Stack,{className:ei.default.optionsContainer,direction:"column",children:[0===w.length&&(0,t.jsxs)("div",{className:ei.default.emptyMessage,children:[(0,t.jsx)(d.Text,{color:"gray-900",children:"No matching events"}),(0,t.jsx)(s.Button,{onClick:()=>{n("")},size:"small",type:"secondary",children:"Clear Search"})]}),w.map(a=>{let s=a.name.split(k),n=a.description.split(k);return(0,t.jsx)(i.Checkbox,{checked:y[a.name],className:ei.default.option,onChange:e=>{b(t=>({...t,[a.name]:e.target.checked}))},style:{flex:"0 0 33.3%"},children:(0,t.jsxs)(l.Stack,{children:[""!==e?(0,t.jsx)(d.Text,{as:"span",children:s.filter(String).map((e,a)=>k.test(e)?(0,t.jsx)(m.Mark,{children:e},(0,g.getUnsafeKey)(a,e)):(0,t.jsx)("span",{children:e},(0,g.getUnsafeKey)(a,e)))}):(0,t.jsx)(d.Text,{as:"span",children:a.name}),""!==e?(0,t.jsx)(d.Text,{as:"span",color:"gray-900",children:n.filter(String).map((e,a)=>k.test(e)?(0,t.jsx)(m.Mark,{children:e},(0,g.getUnsafeKey)(a,e)):(0,t.jsx)("span",{children:e},(0,g.getUnsafeKey)(a,e)))}):(0,t.jsx)(d.Text,{as:"span",color:"gray-900",children:a.description})]})},a.name)})]})]})]})}),(0,t.jsx)(ex,{selectedTypes:v})]})}function ex(e){let{team:s,isReady:i}=(0,x.useTeam)(),{data:r}=(0,p.useUser)(),{dateRange:l}=ee(),[,{events:d,initialDataLoaded:c,isEmpty:o,loadMore:u,isLoadingMore:g,isReachingEnd:m}]=(0,Q.useEventsInfinite)({limit:20,fromDateTime:l?.label!=="Live"&&l?.start instanceof Date?l.start:void 0,toDateTime:l?.label!=="Live"&&l?.end instanceof Date?l.end:void 0,types:e.selectedTypes.join(",")}),h=(0,a.useMemo)(()=>(function(e){let t=new Map;for(let i of e){var a,s;let{createdAt:e}=i,n=new Date(e),r=n.getFullYear()+"-"+n.getMonth(),l=t.get(r)||[],d=l[l.length-1],c=i.entities.some(e=>"github_login"===e.type&&e.login),o=i.entities.some(e=>"gitlab_login"===e.type&&e.login),p=i.entities.some(e=>"bitbucket_login"===e.type&&e.login),x="system"===i.principalId||i.principal?.type==="system"||!!i.entities.find(e=>{let{type:t}=e;return"system"===t}),u=i.payload&&"deployment"in i.payload&&i.payload.deployment&&"object"==typeof i.payload.deployment?i.payload.deployment:void 0,g=i.principal,m={principalId:i.principalId,principal:g,viaIds:i.viaIds,via:i.via,isSystem:x,deployment:u,project:function(e){let{text:t,entities:a}=e,s=a.find(e=>"project_name"===e.type);return s?t.slice(s.start,s.end):null}(i)??(u&&"name"in u&&"string"==typeof u.name?u.name:null),githubLogin:c,gitlabLogin:o,bitbucketLogin:p,scale:i.payload&&"scale"in i.payload&&"string"==typeof i.payload.scale?i.payload.scale:void 0,auto:_.has(i.type),type:i.type,events:[i]};(a=d,s=m,a?.project&&s.project&&a?.project===s.project)?(d.events.push(i),d.isSystem=d.isSystem||x):l.push(m),t.set(r,l)}return t})(d),[d]);return(0,t.jsx)(t.Fragment,{children:i&&r&&l?(0,t.jsxs)("main",{className:ei.default.events,children:[o?(0,t.jsx)("div",{className:ei.default.empty,children:"NO EVENTS TO SHOW"}):(0,t.jsx)(en.TeamsActivityCriticalContentMarker,{children:(0,t.jsx)(ec,{groupedEvents:h,team:s,userData:r})}),m||!c?null:(0,t.jsx)(n.LoadMoreButton,{loading:g,onClick:u})]}):(0,t.jsx)(eo,{})})}function eu(){return(0,t.jsx)(a.Suspense,{fallback:null,children:(0,t.jsx)(X,{children:(0,t.jsx)(ep,{})})})}}}]);

//# sourceMappingURL=b109113bdff40f07.js.map
//# debugId=ed4398c5-6fa4-5de3-a584-1cb2304806f7
