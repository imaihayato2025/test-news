
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="6ab0ef7f-89d9-5f51-a1ee-75948a9c189f")}catch(e){}}();
(globalThis.TURBOPACK=globalThis.TURBOPACK||[]).push(["object"==typeof document?document.currentScript:void 0,{3275321:e=>{"use strict";function t(e){for(var t=arguments.length,r=Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];let n=[];for(let t=0;t<e.length;t++){let i=e[t];if(i&&n.push(i),e.length===r.length||t<e.length-1){let e=r[t];if(!e){n=[];break}n.push(e)}}return n.length?n.join(""):""}e.s({emptyStringFallback:()=>t})},984909:e=>{"use strict";e.s({getPathByType:()=>a,getStoreDetailPath:()=>l,usePushToStorePath:()=>c,useStoreOverviewPath:()=>o});var t=e.i(6530772),r=e.i(674684);e.i(9389778);var i=e.i(1310591),n=e.i(3275321),s=e.i(6911881);let a=e=>{switch(e){case"edge-config":default:return"items";case"blob":return"browser";case"integration":return"guides"}};function o(e){let{projectSlug:t,teamSlug:r}=(0,i.useProjectAndTeamSlug)(),n=e?e.overrideTeamSlug:r,a=e?e.overrideProjectSlug:t;return(0,s.getStoreOverviewPath)({teamSlug:n??"",projectSlug:a})}function l(e){let{id:t,path:r,baseDetailPath:i,type:s,integrationSlug:a}=e;return"integration"===s?n.emptyStringFallback`${i}/${s}/${a}/${t}/${r}`:n.emptyStringFallback`${i}/${s}/${t}/${r}`}function c(){let e=(0,r.useRouter)(),i=o(),n=(0,t.useCallback)(t=>e.push(l({baseDetailPath:i,...t})),[e,i]),s=(0,t.useCallback)(e=>{switch(e.type){case"blob":n({id:e.id,path:"guides",type:e.type});break;case"integration":n({id:e.id,path:"guides",type:e.type,integrationSlug:e.product.integration.slug});break;case"edge-config":n({id:e.id,path:"items",type:"edge-config"})}},[n]);return{storeOverviewPath:i,pushToDetailPath:n,handleResourceModalSucceeded:s}}},9029829:e=>{e.v({checked:"switch-control-module__WvDOda__checked",container:"switch-control-module__WvDOda__container",control:"switch-control-module__WvDOda__control",disabled:"switch-control-module__WvDOda__disabled",icon:"switch-control-module__WvDOda__icon",large:"switch-control-module__WvDOda__large",small:"switch-control-module__WvDOda__small",text:"switch-control-module__WvDOda__text"})},6636585:e=>{e.v({hideBorder:"switch-module__idkRsq__hideBorder",large:"switch-module__idkRsq__large",small:"switch-module__idkRsq__small",switch:"switch-module__idkRsq__switch"})},4946541:e=>{"use strict";e.s({Switch:()=>c},4946541);var t=e.i(6645307),r=e.i(6530772),i=e.i(5610210),n=e.i(889716),s=e.i(9189633),a=e.i(8084653),o=e.i(9029829),l=e.i(6636585);let c=Object.assign((0,r.forwardRef)(function(e,s){let{className:a,size:o,name:c,children:d,hideBorder:u,checkedColor:g,...p}=e;return(0,t.jsx)(n.Stack,{className:(0,i.clsx)(a,l.default.switch,{[String(l.default.large)]:"large"===o,[String(l.default.small)]:"small"===o,[String(l.default.hideBorder)]:u}),direction:"row",...p,ref:s,children:r.Children.map(d,e=>(0,r.cloneElement)(e,{name:c,size:o,checkedColor:g}))})}),{Control:function(e){let{className:n,icon:l,label:c,size:d,checked:u,disabled:g,checkedColor:p="var(--ds-gray-100)",innerDivClassName:h,...m}=e,f=void 0!==l,x=(0,i.clsx)(o.default.control,{[String(o.default.disabled)]:g,[String(o.default.checked)]:u,[String(o.default.large)]:"large"===d,[String(o.default.small)]:"small"===d,[String(o.default.text)]:!f,[String(o.default.icon)]:f}),j=l?(0,t.jsxs)(t.Fragment,{children:[(0,r.cloneElement)(l,{size:"large"===d?20:16}),(0,t.jsx)("span",{className:"geist-sr-only",children:c})]}):c;return"href"in m&&void 0!==m.href?g?(0,t.jsx)(a.Text,{as:"span",className:x,style:{"--switch-checked-color":p},children:j}):(0,t.jsx)(s.default,{className:x,href:m.href,onClick:m.onClick,prefetch:m.prefetch,scroll:!1,style:{"--switch-checked-color":p},children:j}):(0,t.jsxs)("label",{className:(0,i.clsx)(o.default.container,n),"data-disabled":g?"true":"false",children:[(0,t.jsx)("input",{...m,checked:u,className:"geist-sr-only",disabled:g,type:"radio"}),(0,t.jsx)("div",{className:(0,i.clsx)(x,h),style:{"--switch-checked-color":p},children:j})]})}})},4203388:e=>{"use strict";e.s({Copy:()=>t});let t=(0,e.i(6895406).withNewIcon)('<path fill-rule="evenodd" clip-rule="evenodd" d="M2.75 0.5C1.7835 0.5 1 1.2835 1 2.25V9.75C1 10.7165 1.7835 11.5 2.75 11.5H3.75H4.5V10H3.75H2.75C2.61193 10 2.5 9.88807 2.5 9.75V2.25C2.5 2.11193 2.61193 2 2.75 2H8.25C8.38807 2 8.5 2.11193 8.5 2.25V3H10V2.25C10 1.2835 9.2165 0.5 8.25 0.5H2.75ZM7.75 4.5C6.7835 4.5 6 5.2835 6 6.25V13.75C6 14.7165 6.7835 15.5 7.75 15.5H13.25C14.2165 15.5 15 14.7165 15 13.75V6.25C15 5.2835 14.2165 4.5 13.25 4.5H7.75ZM7.5 6.25C7.5 6.11193 7.61193 6 7.75 6H13.25C13.3881 6 13.5 6.11193 13.5 6.25V13.75C13.5 13.8881 13.3881 14 13.25 14H7.75C7.61193 14 7.5 13.8881 7.5 13.75V6.25Z" fill="currentColor"/>')},1294853:e=>{e.v({default:"index-module__w1cOja__default",root:"index-module__w1cOja__root"})},250828:e=>{"use strict";e.s({SplitButton:()=>g,SplitButtonMenuItem:()=>p});var t=e.i(6645307),r=e.i(5610210),i=e.i(9479286),n=e.i(4237550),s=e.i(5674541),a=e.i(653558),o=e.i(2733203),l=e.i(1190215),c=e.i(4105925),d=e.i(8084653),u=e.i(1294853);function g(e){let{buttonProps:c,className:d,children:g,menuButtonLabel:p,menuItems:h,menuProps:m,menuAlignment:f="bottom-start",Component:x=s.Button}=e,[j,v]=(0,i.default)();return(0,t.jsxs)("div",{className:(0,r.clsx)("flex",u.default.root,{[String(u.default.default)]:c?.type==="default"||c?.type===void 0,[String(u.default.secondary)]:c?.type==="secondary"},d),style:{"--divider-color":c?.type==="secondary"?"var(--ds-gray-300)":"var(--ds-gray-alpha-900)"},children:[(0,t.jsx)(x,{...c,ref:j,children:g}),(0,t.jsxs)(l.MenuContainer,{position:f,children:[(0,t.jsx)(o.MenuButton,{"aria-label":p,size:c?.size,svgOnly:!0,type:c?.type,children:(0,t.jsx)(n.ChevronDown,{})}),(0,t.jsx)(a.Menu,{...m,className:(0,r.clsx)(m?.className,"bottom-start"===f&&"md:translate-x-[var(--split-button-menu-offset)]"),style:{...m?.style,"--split-button-menu-offset":"bottom-start"===f?`${-v.width}px`:0},children:h})]})]})}function p(e){let{menuItemProps:r,description:i,title:n,descriptionClassName:s,icon:a}=e;return(0,t.jsx)(c.MenuItem,{...r,style:{height:"fit-content",padding:"8px"},children:(0,t.jsxs)("span",{className:"flex flex-col gap-y-1",children:[(0,t.jsxs)("span",{className:"flex items-center gap-x-2",children:[a||null,(0,t.jsx)(d.Text,{as:"span",weight:500,children:n})]}),i?(0,t.jsx)(d.Text,{as:"span",className:s,color:"gray-900",children:i}):null]})})}},8955572:e=>{"use strict";e.s({default:()=>l,getUseProjectEnvsSWRKey:()=>c});var t=e.i(3521787),r=e.i(6649026),i=e.i(1183506),n=e.i(9336536),s=e.i(3514588),a=e.i(3585235),o=e.i(5785123);function l(e,r,n){let{isReady:l,team:d}=(0,s.useTeam)(n),{can:u,isLoading:g}=(0,a.default)(),p=u(o.Action.Read,o.Resource.ProjectEnvVars),h=e&&l&&!g&&p;return(0,t.default)(()=>h?c(e,d?.id):"",e=>(0,i.fetchAPI)(e,{throwOnHTTPError:!0}),r)}function c(e,t){return`${(0,n.API_PROJECTS_VERSION)("v9")}/${encodeURIComponent(e)}/env${(0,r.encode)({teamId:t})}`}},3032247:e=>{"use strict";e.s({INTEGRATION_PROTOCOL_TYPES:()=>r,integrationAdapterTags:()=>t,paidIntegrationScopes:()=>i});let t=["postgres","mysql","redis","blob","edge-config","vector","libsql","sqlite"],r=["storage","ai","experimentation","observability","video","workflow","authentication","checks","logDrain","messaging","other"],i=["read-write:otel-endpoint","read-write:log-drain"]},7732468:e=>{"use strict";e.s({default:()=>r});var t=e.i(2567082);function r(e){return!!e&&e&&e>new Date("July 14, 2021").getTime()/1e3&&Date.now()-(0,t.default)("15d")<e}},1227837:[e=>{"use strict";e.s({useResourceModals:()=>a},1227837);var t=e.i(6530772),r=e.i(1310591);e.s({ResourceModalsActionTypes:()=>i},3331605);var i=function(e){return e.ModalClosed="modal-closed",e.BrowseProducts="browse-products",e.BrowseProudctsOrSelectResources="browse-products-or-select-resources",e.CreateResource="create-resource",e.CreateEnvs="create-envs",e.DeleteEnvs="delete-envs",e}({});e.s({getResourceModalsContext:()=>s},2535297);let n=(0,t.createContext)(null);function s(){return n}function a(e){let{onSuccess:s}=e,a=(0,t.useContext)(n);if(!a)throw Error("useResourceModals must be used within a CreateResourceModalProvider");let{hasProject:o}=(0,r.useProjectAndTeamSlug)(),{dispatch:l,state:c}=a,d=(0,t.useRef)(null),u=a.state.steps.some(e=>e===i.CreateEnvs),g=a.state.steps.some(e=>e===i.CreateResource);return(0,t.useEffect)(()=>{d.current&&g&&c.resource&&!c.isConnected&&(d.current(c.resource),d.current=null),s&&c.resource&&(!u||c.isConnected)&&s(c.resource)},[l,s,c.isConnected,c.resource,c.type,u,g]),(0,t.useEffect)(()=>{c.type===i.ModalClosed&&d.current&&(d.current=null)},[c.type]),{openCreateResource:(e,t)=>{l({type:"open-create-resource",resourceWithProduct:e}),d.current=t||null},openConnectProject:(e,t)=>{l({type:"open-create-envs",resource:e,connection:t})},openDisconnectProject:(e,t)=>{l({type:"open-delete-envs",resourceId:e,connections:t})},openBrowseProducts:e=>{o?l({type:"open-browse-products-or-select-resources",tab:e}):l({type:"open-browse-products"})}}}n.displayName="CreateModalContext"},[3331605,2535297]],7376344:e=>{"use strict";e.s({usePlaceholderCount:()=>r});var t=e.i(6530772);function r(e,r){return(0,t.useEffect)(()=>{"number"==typeof r&&localStorage?.setItem(e,String(r))},[e,r]),(0,t.useMemo)(()=>{if("number"==typeof r)return r;let t=localStorage?.getItem(e);return t?Number(t):null},[r,e])}},3959726:e=>{"use strict";e.s({useIntegrationPermissions:()=>i});var t=e.i(3585235),r=e.i(5785123);function i(){let{can:e,isLoading:i}=(0,t.default)(),n=e(r.Action.Read,r.Resource.IntegrationConfigurationProjects);return{canReadProjects:n,canUpdateIntegrationConfiguration:e(r.Action.Update,r.Resource.IntegrationConfiguration),canCreateIntegrationConfiguration:e(r.Action.Create,r.Resource.IntegrationConfiguration),isLoading:i}}},5006659:e=>{"use strict";e.s({useLogDrains:()=>m,useLogDrainsOperations:()=>f});var t=e.i(6530772),r=e.i(6649026),i=e.i(1183506),n=e.i(9336536),s=e.i(503726),a=e.i(3585235),o=e.i(5785123),l=e.i(4922888),c=e.i(6532952),d=e.i(3345839),u=e.i(7320579),g=e.i(3959726);e.i(7196151);var p=e.i(1915818);let h=new Set;function m(e){let{projectSlug:r,teamSlug:i,...s}=e,a=i?((e,t)=>{let r=new URLSearchParams;r.set("limit","20"),e&&r.set("teamId",e),t&&r.set("projectIdOrName",t);let i=`${n.API_LOG_DRAINS}?${r.toString()}&includes[]=integration&includes[]=project`;return h.add(i),i})(i,r):null,o=(0,d.useIsomorphicSWR)(a,(e,t)=>t(e),s),l=(0,t.useMemo)(()=>({selfServed:o.data?.filter(e=>"self-served"===e.createdFrom)??[],integrations:o.data?.filter(e=>"integration"===e.createdFrom)??[],active:o.data?.filter(e=>"disabled"!==e.status)??[],stopped:o.data?.filter(e=>"disabled"===e.status)??[]}),[o.data]);return{...o,logDrainsGroups:l}}function f(e){let{teamSlug:t}=e,{can:d,isLoading:m}=(0,a.default)(),f=(0,g.useIntegrationPermissions)(),{permissions:x}=(0,p.useResourcePermissions)(),j={list:d(o.Action.List,o.Resource.LogDrains),create:d(o.Action.Create,o.Resource.LogDrains),remove:d(o.Action.Delete,o.Resource.LogDrains),update:d(o.Action.Update,o.Resource.LogDrains),read:d(o.Action.Read,o.Resource.LogDrains),integration:{readProjects:f.canReadProjects,create:f.canCreateIntegrationConfiguration,update:f.canUpdateIntegrationConfiguration},resource:{read:x.read,create:x.create,update:x.update,remove:x.remove},isLoading:m},v=(0,r.encode)({teamId:t}),{team:C,user:w}=(0,s.useAccount)(),{mutate:y}=(0,u.useSWRConfig)(),b=()=>Promise.all(Array.from(h).map(e=>y(e)));return{deleteLogDrain:async e=>{let{id:t}=e,r=await (0,i.fetchAPI)(`${n.API_LOG_DRAINS}/${t}${v}`,{method:"DELETE",throwOnHTTPError:!0,returnStatus:!0});return await b(),r},createLogDrain:async e=>{let{deliveryFormat:t,sources:r,projectIds:s,url:a,headers:o,environments:l,branch:c,secret:d,samplingRate:u,name:g}=e,p=await (0,i.fetchAPI)(`${n.API_LOG_DRAINS}${v}`,{method:"POST",throwOnHTTPError:!0,body:{deliveryFormat:t,sources:r,projectIds:s,url:a,headers:o,environments:l,branch:c,secret:d,samplingRate:u,name:g}});return await b(),p},testLogDrain:async e=>{let t;return t="id"in e?{id:e.id}:{deliveryFormat:e.deliveryFormat,sources:e.sources,url:e.url,headers:e.headers,secret:e.secret},(0,i.fetchAPI)(`${n.API_LOG_DRAINS}/sample-test${v}`,{method:"POST",body:t,throwOnHTTPError:!0})},updateLogDrainStatus:async e=>{let{id:t,status:r}=e,s=await (0,i.fetchAPI)(`${n.API_LOG_DRAINS}/update-status${v}`,{method:"POST",body:JSON.stringify({id:t,status:r,disabledAt:"disabled"===r?Date.now():void 0,disabledReason:"disabled"===r?"disabled-by-owner":void 0}),throwOnHTTPError:!0});return(0,c.trackInSnowflake)(l.Topic.VercelAppV0LogDrainToggle,{event_time:Date.now(),user_id:null!==w?w.uid:"",team_id:null!==C?C.id:"",log_drain_id:t,enabled:"enabled"===r},"vercel-app"),await b(),s},permissions:j,updateLogDrain:async e=>{let t=await (0,i.fetchAPI)(`${n.API_LOG_DRAINS}/update${v}`,{method:"PATCH",body:JSON.stringify({...e}),throwOnHTTPError:!0});return await b(),t},checkLogDrainPermissions:(e,t)=>{if("integration"===e.createdFrom&&!t)return{isLoading:m,canRemove:j.remove&&j.integration.update,canUpdate:j.integration.update&&j.update,canRead:j.read&&j.integration.readProjects};let r=t?j.remove&&j.resource.remove:j.remove;return{isLoading:m,canRemove:r,canUpdate:t?j.update&&j.resource.update:j.update,canRead:t?j.read&&j.resource.read:j.read}},mutateLogDrains:b}}},120802:e=>{"use strict";e.s({default:()=>c});var t=e.i(6645307),r=e.i(5610210),i=e.i(889716),n=e.i(8084653),s=e.i(7093967),a=e.i(2362802),o=e.i(878537),l=e.i(9443759);let c=function(e){let{backLink:c,breadcrumbs:d,buttons:u,buttonsClassName:g,buttonsStackDirection:p,buttonsStackStyle:h={},children:m,className:f,columnClassName:x,containerStyle:j={},controls:v,darkFold:C,description:w,fullWidth:y,headerClassName:b,hideControlsOnMobile:S,message:I,noBorder:P=!1,noMargin:_,title:k,titleClassName:T,truncateTitle:N,updatedStyles:R}=e;return(0,t.jsxs)("div",{className:(0,r.clsx)(f),style:j,children:[(0,t.jsxs)("header",{className:(0,l.cn)(b,"text-gray-1000",{"w-auto px-[var(--geist-gap)]":y,"border-0 border-b border-solid border-b-gray-alpha-400":!P,"bg-background-200":R}),children:[(0,t.jsx)(o.default,{wrapper:!y,children:(0,t.jsxs)(i.Stack,{align:{sm:"stretch",md:"flex-start",lg:"center"},className:(0,l.cn)("mx-0 my-10",T),direction:{sm:"column",lg:"row"},gap:{sm:6,md:6,lg:10},children:[(0,t.jsxs)(i.Stack,{className:(0,r.clsx)(x),direction:"column",flex:1,gap:c||d?3:4,style:{minWidth:N?0:void 0,width:"100%"},children:[c?(0,t.jsx)(a.Link,{className:"w-max",href:c.href,children:(0,t.jsxs)(i.Stack,{align:"center",direction:"row",gap:2,children:[(0,t.jsx)(s.ArrowLeft,{color:"blue-900"}),(0,t.jsx)(n.Text,{color:"blue-900",variant:"label-14",children:c.label})]})}):null,d,"string"==typeof k?(0,t.jsx)(n.Text,{as:"h1",size:32,title:N?k:void 0,truncate:N,weight:500,wrap:!N,children:k}):k,!!w&&(0,t.jsx)("span",{className:"text-gray-900",children:w})]}),!!u&&(0,t.jsx)(i.Stack,{className:(0,r.clsx)(g),direction:p||{sm:"column",md:"row",lg:"row"},gap:{sm:4,md:4,lg:4},style:{flexWrap:"wrap",...h},children:u})]})}),I?(0,t.jsx)("div",{className:(0,l.cn)("mx-auto my-0 w-[var(--geist-page-width-with-margin)] max-w-full px-6 py-0",{"w-auto":y}),children:I}):null,v?(0,t.jsx)("div",{className:(0,l.cn)("mx-auto my-0 flex w-[var(--geist-page-width-with-margin)] max-w-full flex-row items-center justify-between p-0",{"w-auto":y,"justify-center md:justify-between":!v||S}),children:v?(0,t.jsx)("div",{className:(0,l.cn)("grow",{"hidden md:block":S}),children:v}):(0,t.jsx)("div",{})}):null]}),C||m?(0,t.jsx)("div",{className:(0,r.clsx)({"bg-background-200 px-0 py-6":C}),children:(0,t.jsx)("div",{className:(0,l.cn)("mx-auto my-6 min-h-[calc(100vh-366px)] w-[var(--geist-page-width-with-margin)] max-w-full px-6 py-0 md:min-h-[calc(100vh-273px)]",{"w-auto p-0":y,"mt-0":!!_,"flex flex-col my-0":C}),children:m})}):null]})}},1164918:e=>{"use strict";e.s({InformationFill:()=>t});let t=(0,e.i(6895406).withNewIcon)('<path fill-rule="evenodd" clip-rule="evenodd" d="M16 8C16 12.4183 12.4183 16 8 16C3.58172 16 0 12.4183 0 8C0 3.58172 3.58172 0 8 0C12.4183 0 16 3.58172 16 8ZM6.25002 7H7.00002H7.75C8.30229 7 8.75 7.44772 8.75 8V11.5V12.25H7.25V11.5V8.5H7.00002H6.25002V7ZM8 6C8.55229 6 9 5.55228 9 5C9 4.44772 8.55229 4 8 4C7.44772 4 7 4.44772 7 5C7 5.55228 7.44772 6 8 6Z" fill="currentColor"/>')},5019368:e=>{"use strict";e.s({FormTitleDescription:()=>i});var t=e.i(6645307),r=e.i(8084653);function i(e){let{title:i,description:n,...s}=e;return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(r.Text,{...s,color:"inherit",size:14,weight:500,children:i}),(0,t.jsx)(r.Text,{className:"mt-1.5",lineHeight:20,size:14,weight:300,children:n})]})}},664635:e=>{"use strict";e.s({Status:()=>t});let t=(0,e.i(6895406).withNewIcon)('<path d="M13 8C13 10.7614 10.7614 13 8 13C5.23858 13 3 10.7614 3 8C3 5.23858 5.23858 3 8 3C10.7614 3 13 5.23858 13 8Z" fill="currentColor"/>')},5245685:e=>{"use strict";e.s({LoadMore:()=>s});var t=e.i(6645307),r=e.i(6530772),i=e.i(3821772),n=e.i(889716);function s(e){let{swr:s}=e,a=(0,r.useRef)(null),[o,l]=(0,r.useState)(!1),{loadMore:c,isReachingEnd:d,isLoadingMore:u,initialDataLoaded:g}=s;return((0,r.useEffect)(()=>{g&&!d&&!u&&o&&c()},[g,o,u,d,c]),(0,r.useEffect)(()=>{let e=a.current;if(!e)return;let t=new IntersectionObserver(e=>{l(e[0].isIntersecting)});return t.observe(e),()=>{t.disconnect()}},[l]),!g||d)?null:(0,t.jsxs)(n.Stack,{direction:"row",justify:"center",paddingY:2,style:{position:"relative"},children:[(0,t.jsx)("div",{ref:a,style:{position:"absolute",top:"-150px"}}),u?(0,t.jsx)(i.Spinner,{}):null]})}},156912:e=>{"use strict";e.s({default:()=>i});var t=Number.isNaN||function(e){return"number"==typeof e&&e!=e};function r(e,r){if(e.length!==r.length)return!1;for(var i,n,s=0;s<e.length;s++)if(!((i=e[s])===(n=r[s])||t(i)&&t(n))&&1)return!1;return!0}function i(e,t){void 0===t&&(t=r);var i=null;function n(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];if(i&&i.lastThis===this&&t(r,i.lastArgs))return i.lastResult;var s=e.apply(this,r);return i={lastResult:s,lastArgs:r,lastThis:this},s}return n.clear=function(){i=null},n}},4601702:e=>{"use strict";e.s({scopeFormatter:()=>i},4601702);let t=function(e){return e[0].toUpperCase()+e.slice(1)},r={"integration-configuration":"Installation",deployment:"Deployments","deployment-check":"Deployment Checks",project:"Projects","project-env-vars":"Integration-owned Project Environment Variables","global-project-env-vars":"Global Account Project Environment Variables",team:"Team",user:"User","log-drain":"Log Drains",domain:"Domains","edge-config":"Edge Config","otel-endpoint":"OpenTelemetry",monitoring:"Monitoring",storage:"Stores","project-protection-bypass":"Project Protection Bypass"};function i(e){let[i,n]=e.split(":"),s=i.split("-").map(t).join(" and ");return n in r?{permission:s,resource:r[n]}:void 0}},7932046:e=>{"use strict";e.s({ICON_SIZE:()=>n,IconDefault:()=>s,IconUnavailable:()=>a});var t=e.i(6645307),r=e.i(1093245),i=e.i(5528554);let n=40;function s(e){return(0,t.jsx)(i.CheckCircleFill,{height:e.size??n,width:e.size??n})}function a(e){return(0,t.jsx)(r.WarningFill,{height:e.size??n,width:e.size??n})}},3431702:[e=>{"use strict";e.s({default:()=>h,preloadProjectListInfinite:()=>g,useProjectListInfinite:()=>p},3431702);var t=e.i(6530772),r=e.i(3521787),i=e.i(7095283),n=e.i(7766186),s=e.i(6649026),a=e.i(1183506),o=e.i(9336536),l=e.i(4418725),c=e.i(5454140);function d(e){let{version:t,until:r,limit:i,latestDeployments:n,search:a,slug:l,excludeRepos:c,edgeConfigId:d,edgeConfigTokenId:u,connectConfigurationId:g}=e;return`${(0,o.API_PROJECTS_VERSION)(t)}${(0,s.encode)({until:r,limit:i,latestDeployments:n,search:a,slug:l,excludeRepos:c,edgeConfigId:d,edgeConfigTokenId:u,connectConfigurationId:g})}`}e.s({getProjectListInfiniteKey:()=>d},405917);let u=null;function g(e,t){let{limit:r=8,latestDeployments:i=3,excludeReposRef:n}=e,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"v9",c=`${(0,o.API_PROJECTS_VERSION)(l)}${(0,s.encode)({limit:r,latestDeployments:i,slug:t,excludeRepos:n?.current[0]??null})}`;u=[c,(0,a.fetchAPI)(c)]}function p(){let{fetchEnabled:e=!0,limit:s=8,latestDeployments:o=3,search:c,excludeReposRef:g,revalidateFirstPage:p=!0,edgeConfigId:h,edgeConfigTokenId:m,connectConfigurationId:f,version:x="v9",slug:j}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},v=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},C=arguments.length>2&&void 0!==arguments[2]&&arguments[2],w=arguments.length>3&&void 0!==arguments[3]&&arguments[3],y=(0,n.useRouter)(),b=(0,l.useTeamSlug)(),S=j||b,I=(0,i.default)((t,r)=>{if(!e||y&&!y.isReady)return null;if(!t)return d({version:x,limit:s,latestDeployments:o,search:c,slug:S,excludeRepos:g?.current[0]??null,edgeConfigId:h,edgeConfigTokenId:m,connectConfigurationId:f});let i=r?.pagination.next?r.pagination.next:null;return i?d({version:x,until:i,limit:s,latestDeployments:o,search:c,slug:S,excludeRepos:g?.current[t]??null,edgeConfigId:h,edgeConfigTokenId:m,connectConfigurationId:f}):null},async e=>{if(u&&u[0]===e){let e=await u[1];return u=null,e}return(0,a.fetchAPI)(e,{throwOnHTTPError:!0})},{...v,keepPreviousData:w,revalidateFirstPage:p,persistSize:!0}),P=!!I.data,_=(I.data?.[I.data.length-1]?.projects.length??0)<s,k=(0,t.useMemo)(()=>I.data?I.data.flatMap(e=>e.projects):[],[I.data]),T=P&&0===k.length,N=!!(I.data&&I.size>I.data.length);return(0,r.default)(()=>{if(C||!I.data||_)return null;let e=I.data[I.data.length-1];return d({version:x,until:e?.pagination.next?e.pagination.next:null,limit:s,latestDeployments:o,search:c,slug:S,excludeRepos:g?.current[0]??null,edgeConfigId:h,edgeConfigTokenId:m,connectConfigurationId:f})},e=>(0,a.fetchAPI)(e,{throwOnHTTPError:!0})),[I,{projects:k,initialDataLoaded:P,isEmpty:T,loadMore:()=>I.setSize(e=>e+1),isLoadingMore:N,isReachingEnd:_,isValidating:I.isValidating}]}function h(){let{fetchEnabled:e=!0,limit:i,from:d,linked:u,search:g,hasProductionDomains:p,domain:h,latestDeployments:m=3,deploymentInfo:f,includePermissions:x=!1,edgeConfigId:j,edgeConfigTokenId:v,connectConfigurationId:C,excludeConnectConfigurationId:w,teamId:y}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},S=arguments.length>2?arguments[2]:void 0,I=arguments.length>3?arguments[3]:void 0,P=(0,l.useTeamSlug)(),_=(0,n.useRouter)(),{user:k,isNorthstar:T}=(0,c.useUser)(),[N,R]=(0,t.useState)(g);return(0,t.useEffect)(()=>{R(e=>e===g?e:g)},[g]),{...(0,r.default)(()=>e&&(!_||_.isReady)&&k&&(!T||k.defaultTeamId||y)?`${(0,o.API_PROJECTS_VERSION)("v8")}${(0,s.encode)({from:d||null,limit:i,linked:!!u||null,search:N,hasProductionDomains:p?"1":null,domain:h,latestDeployments:void 0===m?null:m,deploymentInfo:f||null,slug:S||P,includePermissions:x,edgeConfigId:j,edgeConfigTokenId:v,connectConfigurationId:C,excludeConnectConfigurationId:w,teamId:y||null})}`:null,e=>(0,a.fetchAPI)(e,{throwOnHTTPError:!0,throwOnScopeAuthError:I?.throwOnScopeAuthError}),b),updateSearch:R,search:N}}},[405917]],437915:e=>{"use strict";e.s({Dollar:()=>t});let t=(0,e.i(6895406).withNewIcon)('<path fill-rule="evenodd" clip-rule="evenodd" d="M8 14.5C11.5899 14.5 14.5 11.5899 14.5 8C14.5 4.41015 11.5899 1.5 8 1.5C4.41015 1.5 1.5 4.41015 1.5 8C1.5 11.5899 4.41015 14.5 8 14.5ZM8 16C12.4183 16 16 12.4183 16 8C16 3.58172 12.4183 0 8 0C3.58172 0 0 3.58172 0 8C0 12.4183 3.58172 16 8 16ZM8.62499 3.375V4V4.375H9C10.1736 4.375 11.125 5.3264 11.125 6.5H9.875C9.875 6.01675 9.48325 5.625 9 5.625H8.62499V7.375H9C10.1736 7.375 11.125 8.3264 11.125 9.5C11.125 10.6736 10.1736 11.625 9 11.625H8.62499V12V12.625H7.37499V12V11.625H7C5.8264 11.625 4.875 10.6736 4.875 9.5H6.125C6.125 9.98325 6.51675 10.375 7 10.375H7.37499V8.625H7C5.8264 8.625 4.875 7.6736 4.875 6.5C4.875 5.3264 5.8264 4.375 7 4.375H7.37499V4V3.375H8.62499ZM7.37499 5.625H7C6.51675 5.625 6.125 6.01675 6.125 6.5C6.125 6.98325 6.51675 7.375 7 7.375H7.37499V5.625ZM8.62499 8.625V10.375H9C9.48325 10.375 9.875 9.98325 9.875 9.5C9.875 9.01675 9.48325 8.625 9 8.625H8.62499Z" fill="currentColor"/>')},5076279:e=>{"use strict";e.s({DollarFill:()=>t});let t=(0,e.i(6895406).withNewIcon)('<path fill-rule="evenodd" clip-rule="evenodd" d="M16 8C16 12.4183 12.4183 16 8 16C3.58172 16 0 12.4183 0 8C0 3.58172 3.58172 0 8 0C12.4183 0 16 3.58172 16 8ZM8.625 3.375V4V4.375H9C10.1736 4.375 11.125 5.3264 11.125 6.5H9.875C9.875 6.01675 9.48325 5.625 9 5.625H8.625V7.375H9C10.1736 7.375 11.125 8.3264 11.125 9.5C11.125 10.6736 10.1736 11.625 9 11.625H8.625V12V12.625H7.375V12V11.625H7C5.8264 11.625 4.875 10.6736 4.875 9.5H6.125C6.125 9.98325 6.51675 10.375 7 10.375H7.375V8.625H7C5.8264 8.625 4.875 7.6736 4.875 6.5C4.875 5.3264 5.8264 4.375 7 4.375H7.375V4V3.375H8.625ZM7.375 5.625H7C6.51675 5.625 6.125 6.01675 6.125 6.5C6.125 6.98325 6.51675 7.375 7 7.375H7.375V5.625ZM8.625 8.625V10.375H9C9.48325 10.375 9.875 9.98325 9.875 9.5C9.875 9.01675 9.48325 8.625 9 8.625H8.625Z" fill="currentColor"/>')},5410717:e=>{"use strict";e.s({ScopeList:()=>x,ScopeListSkeleton:()=>j},5410717);var t=e.i(6645307),r=e.i(3920197);let i=(0,e.i(6895406).withNewIcon)('<path fill-rule="evenodd" clip-rule="evenodd" d="M8.75 5.25V4.5H7.25V5.25V9.43934L5.78033 7.96967L5.25 7.43934L4.18934 8.5L4.71967 9.03033L7.46967 11.7803C7.76256 12.0732 8.23744 12.0732 8.53033 11.7803L11.2803 9.03033L11.8107 8.5L10.75 7.43934L10.2197 7.96967L8.75 9.43934V5.25ZM1.5 8C1.5 4.41015 4.41015 1.5 8 1.5C11.5899 1.5 14.5 4.41015 14.5 8C14.5 11.5899 11.5899 14.5 8 14.5C4.41015 14.5 1.5 11.5899 1.5 8ZM8 0C3.58172 0 0 3.58172 0 8C0 12.4183 3.58172 16 8 16C12.4183 16 16 12.4183 16 8C16 3.58172 12.4183 0 8 0Z" fill="currentColor"/>');var n=e.i(2700425),s=e.i(5076279),a=e.i(3921802),o=e.i(5163670),l=e.i(889716),c=e.i(8084653),d=e.i(3514588),u=e.i(5454140),g=e.i(4601702),p=e.i(7932046);function h(e){let{size:s,type:a,isScopeAvailableToUser:o}=e;return"removed"===a?(0,t.jsx)(r.CrossCircle,{color:"red-700",size:s??p.ICON_SIZE}):"downgraded"===a?(0,t.jsx)(i,{color:"red-700",size:s??p.ICON_SIZE}):"pending"===a?o?(0,t.jsx)(n.CheckCircle,{color:"gray-600",size:s??p.ICON_SIZE}):(0,t.jsx)(r.CrossCircle,{color:"gray-700",size:s??p.ICON_SIZE}):o?(0,t.jsx)(p.IconDefault,{size:s??p.ICON_SIZE}):(0,t.jsx)(p.IconUnavailable,{size:s??p.ICON_SIZE})}function m(e){let{scopes:r,integrationControl:i,type:n="default"}=e;if(0===r.length)return null;let s=(i?.availableScopes||r).map(e=>{let t=(0,g.scopeFormatter)(e);return t?{...t,isPro:!!i?.proScopes.includes(e),isPaid:!!i?.paidScopes.includes(e)}:null}).filter(y).reduce((e,t)=>{let{permission:r}=t;return e[r].push(t),e},{Read:[],"Read and Write":[]}),a=i?.unavailableScopes.map(e=>{let t=(0,g.scopeFormatter)(e);return t?{...t,isPro:!0,isPaid:!!i.paidScopes.includes(e)}:null}).filter(y)??[];return(0,t.jsxs)(l.Stack,{as:"ul",className:"m-0 list-none p-0",gap:4,children:[(0,t.jsx)(f,{isScopeGroupAvailableToUser:!0,scopes:s,type:n}),a.length>0?(0,t.jsx)(f,{isScopeGroupAvailableToUser:!1,scopes:{"Missing Prerequisites":a},type:n}):null]})}function f(e){let{type:r,scopes:i,isScopeGroupAvailableToUser:n}=e;return(0,t.jsx)(t.Fragment,{children:Object.entries(i).map(e=>{let[i,s]=e;return 0===s.length?null:(0,t.jsxs)(l.Stack,{align:"center",as:"li",className:n?"":"border-t border-gray-200 pt-4",direction:"row",gap:3,children:[(0,t.jsx)("div",{className:"flex-basis",children:(0,t.jsx)(h,{isScopeAvailableToUser:n,size:24,type:r})}),(0,t.jsxs)(l.Stack,{gap:1,children:[(0,t.jsx)(v,{permission:i,type:r}),(0,t.jsxs)("ul",{className:"m-0 list-none p-0",children:[s.map((e,r)=>{let{isPaid:i,isPro:a,resource:o}=e;return(0,t.jsx)(C,{isLast:r===s.length-1,isPaid:i,isPro:a,isScopeAvailableToUser:n,resource:o},o)}),n?null:(0,t.jsxs)(t.Fragment,{children:[" ",(0,t.jsx)(w,{})]})]})]})]},i)})})}function x(e){let{scopes:r,type:i,integrationControl:n}=e,{isProEntAccount:s}=function(){let{team:e}=(0,d.useTeam)(),{user:t}=(0,u.useUser)(),r=e||t;return{isProEntAccount:r?.billing?.plan==="pro"||r?.billing?.plan==="enterprise"}}();return(0,t.jsx)(m,{integrationControl:n??null,isProEntAccount:s,scopes:r,type:i})}function j(e){let{rowCount:r}=e;return(0,t.jsx)(l.Stack,{gap:4,children:Array.from(Array(r)).map((e,r)=>(0,t.jsxs)(l.Stack,{align:"center",direction:"row",gap:3,children:[(0,t.jsx)(o.Skeleton,{height:p.ICON_SIZE,rounded:!0,width:p.ICON_SIZE}),(0,t.jsxs)(l.Stack,{gap:1,children:[(0,t.jsx)(o.Skeleton,{height:20,width:100}),(0,t.jsx)(o.Skeleton,{height:20,width:r%2==0?200:160})]})]},`key-${r}`))})}function v(e){let{permission:r,type:i}=e;return(0,t.jsx)(l.Stack,{align:"center",direction:"row",gap:2,children:(0,t.jsxs)(c.Text,{className:"whitespace-nowrap",weight:600,children:[r,"downgraded"===i?(0,t.jsxs)(t.Fragment,{children:[" ",(0,t.jsx)(c.Text,{as:"span",className:"line-through",weight:600,children:"and Write"})]}):null]})})}function C(e){let{isPro:r,isPaid:i,isLast:n,resource:a,isScopeAvailableToUser:o}=e;return(0,t.jsx)("li",{style:{display:"inline"},children:(0,t.jsxs)(c.Text,{as:"span",className:"tailwind-preflight",children:[a,r&&o&&i?(0,t.jsxs)(t.Fragment,{children:[" ",(0,t.jsx)(s.DollarFill,{className:"inline-block align-text-bottom",color:"gray-700"})]}):null,n?null:", "]})})}function w(){return(0,t.jsx)(a.Badge,{className:"bg-gray-300 text-gray-1000",children:"Pro / Enterprise"})}function y(e){return null!=e}},8404486:e=>{"use strict";e.s({useProjectCount:()=>a});var t=e.i(3521787),r=e.i(6649026),i=e.i(1183506),n=e.i(9336536),s=e.i(503726);function a(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0,{team:o,user:l}=(0,s.useAccount)(),c=e.teamId??o?.id??null,d=l?`${(0,n.API_PROJECTS_VERSION)("v6")}/count${(0,r.encode)({gitForkProtection:e.gitForkProtection??null,teamId:c})}`:null;return(0,t.default)(()=>d,e=>(0,i.fetchAPI)(e,{throwOnHTTPError:!0}),a)}},1509582:e=>{e.v({autocomplete:"autocomplete-module__pMHbKa__autocomplete",container:"autocomplete-module__pMHbKa__container",disabled:"autocomplete-module__pMHbKa__disabled",error:"autocomplete-module__pMHbKa__error",large:"autocomplete-module__pMHbKa__large",small:"autocomplete-module__pMHbKa__small"})},787594:[e=>{"use strict";e.s({ProjectSelect:()=>S},787594);var t=e.i(6645307),r=e.i(6530772),i=e.i(3071175),n=e.i(889716),s=e.i(8084653),a=e.i(1782286),o=e.i(1164214),l=e.i(604868),c=e.i(3431702),d=e.i(5785123);e.s({default:()=>y},6573519),e.i(442955);var u=e.i(3590197),g=e.i(5610210),p=e.i(4237550),h=e.i(3979315),m=e.i(7912618),f=e.i(4576696),x=e.i(1509582);let j=e=>(0,t.jsx)(i.components.DropdownIndicator,{...e,children:(0,t.jsx)(p.ChevronDown,{"data-testid":(0,o.tid)("autocomplete","arrow")})}),v=e=>(0,t.jsx)(i.components.ClearIndicator,{...e,children:(0,t.jsx)(h.Cross,{})});function C(e){return(0,t.jsx)(n.Stack,{...e.isDisabled&&{style:{cursor:"not-allowed",opacity:.5,pointerEvents:"none"}},children:(0,t.jsx)(i.components.Option,{...e,children:(0,t.jsxs)(n.Stack,{align:"center",direction:"row",gap:2,justify:"space-between",children:[(0,t.jsxs)(n.Stack,{align:"center",direction:"row",gap:1,children:[e.data.prefix,e.data.label]}),e.data.suffix]})})})}let w=e=>{let{Component:r,width:i,disabled:n,clearable:s=!0,errored:a,size:o,components:l,inlineMenu:c,maxMenuHeight:d,...u}=e;if(!r)throw Error("Component is required");return(0,t.jsx)("div",{className:(0,g.clsx)(x.default.container,{[x.default.disabled]:n,[x.default.error]:a,[x.default.large]:"large"===o,[x.default.small]:"small"===o},u.className),style:{width:i,"--geist-icon-size":(0,f.px)((0,m.getIxIconSize)(o))},children:(0,t.jsx)(r,{isClearable:s,...u,className:x.default.autocomplete,components:{...l,DropdownIndicator:j,ClearIndicator:v,Option:C},isDisabled:n,isOptionDisabled:e=>!!e.disabled,maxMenuHeight:d||(c?1e3:void 0),styles:{menu:c?e=>({...e,background:"var(--geist-background)",boxShadow:"var(--shadow-medium)",borderRadius:"var(--geist-radius)"}):void 0},theme:e=>({...e,borderRadius:5,colors:{...e.colors,primary:"var(--accents-2)",primary25:"var(--accents-1)"}})})})},y=e=>(0,t.jsx)(w,{Component:u.default,...e});var b=e.i(2146499);function S(e){let{teamId:u,disabled:g,hasLogo:p,onSelect:h,options:m,placeholder:f="Select Project",selected:x,unselected:j=[],value:v,verifyIntegrationsPermissions:C=!0,apiCallQueryParams:w}=e,S=(0,l.useIsMobile)(),[I,P]=(0,r.useState)(""),_=(0,r.useMemo)(()=>(0,a.default)(P,500),[]),k=20*Math.ceil((x.length+8)/20),{data:T}=(0,c.default)({limit:k,search:I,latestDeployments:null,...w},{},u),N=!!T,R=[...T?.projects??[],...j],O=(e=>{let t=new Set(x.map(e=>e.id));return e.filter(e=>!t.has(e.id)&&(!C||e.permissions?.[d.Resource.IntegrationConfigurationProjects]?.includes(d.Action.Create)))})(R).slice(0,8).map(e=>{let r={name:e.name,label:e.name,value:e.id,...m?.(e)};return p&&(r.label=(0,t.jsxs)(n.Stack,{align:{sm:"flex-start",md:"flex-start",lg:"center"},"data-testid":(0,o.tid)("project-select",e.id),direction:{sm:"column",md:"column",lg:"row"},gap:{sm:0,md:0,lg:2},children:[(0,t.jsxs)(n.Stack,{align:"center",direction:"row",gap:2,children:[(0,t.jsx)(b.ProjectLogo,{deploymentId:e.latestDeployments?.[e.latestDeployments.length-1]?.id,framework:e.framework,project:e,size:20}),(0,t.jsx)(s.Text,{color:"gray-900",style:{wordBreak:"break-all"},title:e.name,truncate:1,weight:600,children:e.name})]}),(0,t.jsx)(s.Text,{color:"gray-900",style:{wordBreak:"break-all"},title:e.targets?.production?.alias?.[0],truncate:1,children:e.targets?.production?.alias?.[0]})]})),r});return(0,t.jsx)(y,{components:{NoOptionsMessage:e=>(0,t.jsx)(i.components.NoOptionsMessage,{...e,children:N?I?`No project found with the name "${I}".`:"No project under this account.":"Loading..."})},disabled:g,getOptionLabel:e=>e.name,inlineMenu:S,isClearable:!1,onChange:e=>{let t=R.find(t=>t.id===e?.value);t&&h(t)},onInputChange:_,options:O,placeholder:f,value:v??null})}},[6573519]],810713:e=>{"use strict";e.s({InstallButton:()=>I,IntegrationScopeList:()=>k,ProjectSelectionStep:()=>P,getInitialSelection:()=>b,useProjectSelectionStep:()=>S},810713);var t=e.i(6645307),r=e.i(1917237),i=e.i(889716),n=e.i(8084653),s=e.i(555528),a=e.i(8934201),o=e.i(8158100),l=e.i(6465700),c=e.i(6530772),d=e.i(437915),u=e.i(2362802),g=e.i(3585235),p=e.i(5785123),h=e.i(1164214),m=e.i(5410717),f=e.i(5674541),x=e.i(5249128),j=e.i(3979315),v=e.i(2146499),C=e.i(787594),w=e.i(8404486);function y(e){let{data:r}=(0,w.useProjectCount)({gitForkProtection:"0",teamId:e.teamId},{dedupingInterval:1e4}),a=(0,c.useMemo)(()=>e.projects.length>0?e.projects.some(e=>!1===e.gitForkProtection):r?r.count>0:void 0,[r,e.projects]);return(0,t.jsxs)(i.Stack,{gap:4,children:[(0,t.jsxs)(i.Stack,{gap:2,children:[(0,t.jsxs)(i.Stack,{align:"center",direction:"row",gap:1,children:[(0,t.jsx)(n.Text,{color:"gray-900",children:"Select which projects the integration will have access to"}),(0,t.jsx)(s.Tooltip,{text:"This security option controls integration access to your projects through the Vercel API",children:(0,t.jsx)(l.InformationFillSmall,{size:16})})]}),(0,t.jsx)(s.Tooltip,{desktopOnly:!0,disableTriggers:!e.disabled,position:"bottom",text:"This integration is already installed on the selected account.",children:(0,t.jsx)(x.RadioGroup,{disabled:e.disabled,onChange:t=>{e.onSelectionChange(t),"all"===t&&e.onProjectsChange([])},value:e.selection,children:(0,t.jsxs)(i.Stack,{direction:"row",gap:6,children:[(0,t.jsx)(x.RadioGroup.Item,{value:"all",children:"All Projects"}),(0,t.jsx)(x.RadioGroup.Item,{value:"selected",children:"Specific Projects"})]})})})]}),"selected"===e.selection?(0,t.jsxs)(i.Stack,{gap:2,children:[(0,t.jsx)(C.ProjectSelect,{disabled:e.disabled,hasLogo:!0,onSelect:t=>{e.onProjectsChange([...e.projects,t])},selected:e.projects,teamId:e.teamId}),(0,t.jsx)("div",{className:"tailwind-preflight",children:(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:e.projects.map(r=>(0,t.jsxs)("div",{className:"flex w-max items-center rounded-md border p-2 space-x-2",children:[(0,t.jsxs)("div",{className:"flex space-x-2",children:[(0,t.jsx)(v.ProjectLogo,{deploymentId:r.latestDeployments?.[r.latestDeployments.length-1]?.id,framework:r.framework,project:r,size:20}),(0,t.jsx)(n.Text,{style:{wordBreak:"break-all"},title:r.name,truncate:1,weight:400,children:r.name})]}),(0,t.jsx)(f.Button,{"aria-label":"Remove Project",onClick:()=>{e.onProjectsChange(e.projects.filter(e=>e.id!==r.id))},shape:"square",size:"tiny",style:{width:"20px",height:"20px"},svgOnly:!0,type:"tertiary",children:(0,t.jsx)(j.Cross,{color:"gray-1000"})})]},r.id))})})]}):null,a?(0,t.jsxs)(o.Note,{type:"warning",children:["Some of your Projects have"," ",(0,t.jsx)(u.Link,{href:"/docs/projects/overview#git-fork-protection",variant:"blend",children:"Git Fork Protection"})," ","disabled so Environment Variables added by the Integration will be exposed to Git forks."]}):null]})}function b(e){return e?"selected":"all"}function S(e){let{account:t,onSuccess:r,configuration:i,initialProjects:n,integrationControl:s}=e,[a,o]=(0,c.useState)(b(i?.projects)),[l,d]=(0,c.useState)(n??[]),u=t&&"slug"in t?t.id:void 0,{can:h}=(0,g.default)({teamId:t&&"slug"in t?t.id:void 0}),m=h(p.Action.Create,p.Resource.IntegrationConfiguration),[f,x]=(0,c.useState)(!1);(0,c.useEffect)(()=>{("all"===a||l.length>0)&&x(!1)},[l,a,f]);let j=!!s?.canInstallIntegration;return{reset:()=>{d([])},projects:l,selection:a,projectSelectionProps:{setProjects:d,setSelection:o,projects:l,selection:a,teamId:u,showProjectsAreRequiredError:f,disabled:void 0!==i},installButtonProps:{account:t,hasPermission:m,canInstall:j,onClick:()=>{if(t&&j){if(!i){if("selected"===a&&0===l.length)return void x(!0);"all"===a&&f&&x(!1)}r?.({account:t,projects:l,configuration:i})}}}}}function I(e){let{account:r,hasPermission:i,permissionMessage:n,onClick:o,children:l,loading:c,canInstall:d}=e;return(0,t.jsx)(s.Tooltip,{disableTriggers:i,position:"bottom",text:n??`You need additional permissions to add integrations to ${r?.name||"this"} account.`,children:(0,t.jsx)(a.Modal.Action,{buttonType:"submit","data-testid":(0,h.tid)("connectable-integration-modal","install-button"),disabled:!r||!i||!d,loading:c,onClick:o,children:l})})}function P(e){let{setProjects:i,setSelection:n,projects:s,selection:a,teamId:o,showProjectsAreRequiredError:l,disabled:c}=e;return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(y,{disabled:c,onProjectsChange:i,onSelectionChange:n,projects:s,selection:a,teamId:o}),l?(0,t.jsx)(r.Error,{error:"You must select at least one project"}):null]})}function _(e){let{integrationControl:r}=e;return r&&r.hasPaidAPIScope?r.canInstallIntegration?(0,t.jsx)(i.Stack,{gap:2,children:(0,t.jsxs)(o.Note,{icon:(0,t.jsx)(d.Dollar,{color:"gray-900"}),children:["This integration may create ",(0,t.jsx)("b",{children:"Log Drains"})," which are billed $0.50 per 1GB processed."," ",(0,t.jsx)(u.Link,{href:"/docs/log-drains#usage-and-pricing",target:"_blank",underline:!0,children:"Learn more"})]})}):(0,t.jsx)(i.Stack,{gap:2,children:(0,t.jsxs)(o.Note,{fill:!0,type:"warning",children:["Log Drains are required to install this integration.",(0,t.jsx)("br",{}),(0,t.jsx)(u.Link,{href:"/dashboard?upgradeTeam=log-drains-cta",target:"_blank",variant:"highlight",children:"Upgrade to Pro"})," ","to continue."]})}):null}function k(e){let{scopes:r,integrationControl:a}=e;return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(i.Stack,{align:"center",direction:"row",gap:1,children:[(0,t.jsx)(n.Text,{color:"gray-900",children:"This integration requires the following permissions"}),(0,t.jsx)(s.Tooltip,{text:(0,t.jsxs)(n.Text,{children:["Learn more about"," ",(0,t.jsx)(u.Link,{external:!0,href:"/docs/integrations/permissions",type:"highlight",children:"integration permissions"})]}),children:(0,t.jsx)(l.InformationFillSmall,{size:16})})]}),(0,t.jsx)(i.Stack,{children:(0,t.jsx)(m.ScopeList,{integrationControl:a,scopes:r})}),(0,t.jsx)(_,{integrationControl:a})]})}},7555208:e=>{"use strict";e.s({filterMarketplaceConfigurations:()=>o,useConfigurations:()=>s,useMutateConfigurations:()=>a});var t=e.i(7320579),r=e.i(3345839),i=e.i(7207682),n=e.i(4418725);function s(e){let{integrationId:t,slug:s,type:a,skipBillingData:o,skip:l,...c}=e,d=(0,n.useTeamSlug)(),u=d&&!l?(0,i.getConfigurationsUrl)({teamSlug:d,installationType:a,integrationSlug:t??s,skipBillingData:o}):null,g=(0,r.useIsomorphicSWR)(u,{...c,ssr:{timeout:3e3}});return{...g,hasConfigurations:!!g.data?.length}}function a(e){let{type:r,integrationId:s,slug:a,skipBillingData:o}=e,l=(0,n.useTeamSlug)(),{mutate:c}=(0,t.useSWRConfig)();return()=>{l&&c((0,i.getConfigurationsUrl)({teamSlug:l,installationType:r,integrationSlug:s??a,skipBillingData:o}))}}function o(e){return e.filter(e=>"marketplace"===e.installationType)}}}]);

//# sourceMappingURL=cd022c8a88f8d5b2.js.map
//# debugId=6ab0ef7f-89d9-5f51-a1ee-75948a9c189f
