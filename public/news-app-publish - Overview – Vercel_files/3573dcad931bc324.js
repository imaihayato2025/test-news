
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="8c27cef9-6bab-55f6-be5b-e65a531ed2e6")}catch(e){}}();
(globalThis.TURBOPACK=globalThis.TURBOPACK||[]).push(["object"==typeof document?document.currentScript:void 0,{3719979:e=>{"use strict";var{m:t,e:r}=e;{class e{constructor(e={}){if(!(e.maxSize&&e.maxSize>0))throw TypeError("`maxSize` must be a number greater than 0");this.maxSize=e.maxSize,this.onEviction=e.onEviction,this.cache=new Map,this.oldCache=new Map,this._size=0}_set(e,t){if(this.cache.set(e,t),this._size++,this._size>=this.maxSize){if(this._size=0,"function"==typeof this.onEviction)for(let[e,t]of this.oldCache.entries())this.onEviction(e,t);this.oldCache=this.cache,this.cache=new Map}}get(e){if(this.cache.has(e))return this.cache.get(e);if(this.oldCache.has(e)){let t=this.oldCache.get(e);return this.oldCache.delete(e),this._set(e,t),t}}set(e,t){return this.cache.has(e)?this.cache.set(e,t):this._set(e,t),this}has(e){return this.cache.has(e)||this.oldCache.has(e)}peek(e){return this.cache.has(e)?this.cache.get(e):this.oldCache.has(e)?this.oldCache.get(e):void 0}delete(e){let t=this.cache.delete(e);return t&&this._size--,this.oldCache.delete(e)||t}clear(){this.cache.clear(),this.oldCache.clear(),this._size=0}*keys(){for(let[e]of this)yield e}*values(){for(let[,e]of this)yield e}*[Symbol.iterator](){for(let e of this.cache)yield e;for(let e of this.oldCache){let[t]=e;this.cache.has(t)||(yield e)}}get size(){let e=0;for(let t of this.oldCache.keys())!this.cache.has(t)&&e++;return Math.min(this._size+e,this.maxSize)}}t.exports=e}},4081040:e=>{"use strict";var{m:t,e:r}=e,i=e.i(442955);void 0!==i.default&&i.default.version&&0!==i.default.version.indexOf("v0.")&&(0!==i.default.version.indexOf("v1.")||0===i.default.version.indexOf("v1.8."))?t.exports=i.default:t.exports={nextTick:function(e,t,r,n){if("function"!=typeof e)throw TypeError('"callback" argument must be a function');var s,a,o=arguments.length;switch(o){case 0:case 1:return i.default.nextTick(e);case 2:return i.default.nextTick(function(){e.call(null,t)});case 3:return i.default.nextTick(function(){e.call(null,t,r)});case 4:return i.default.nextTick(function(){e.call(null,t,r,n)});default:for(s=Array(o-1),a=0;a<s.length;)s[a++]=arguments[a];return i.default.nextTick(function(){e.apply(null,s)})}}}},8123733:e=>{var{m:t,e:r}=e,i={}.toString;t.exports=Array.isArray||function(e){return"[object Array]"==i.call(e)}},7977179:e=>{var{m:t,e:r}=e;t.exports=e.r(2216485).EventEmitter},9635447:e=>{var{m:t,e:r}=e;function i(e){return Object.prototype.toString.call(e)}r.isArray=function(e){return Array.isArray?Array.isArray(e):"[object Array]"===i(e)},r.isBoolean=function(e){return"boolean"==typeof e},r.isNull=function(e){return null===e},r.isNullOrUndefined=function(e){return null==e},r.isNumber=function(e){return"number"==typeof e},r.isString=function(e){return"string"==typeof e},r.isSymbol=function(e){return"symbol"==typeof e},r.isUndefined=function(e){return void 0===e},r.isRegExp=function(e){return"[object RegExp]"===i(e)},r.isObject=function(e){return"object"==typeof e&&null!==e},r.isDate=function(e){return"[object Date]"===i(e)},r.isError=function(e){return"[object Error]"===i(e)||e instanceof Error},r.isFunction=function(e){return"function"==typeof e},r.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},r.isBuffer=e.r(9523966).Buffer.isBuffer},8368044:e=>{var{m:t,e:r}=e;"function"==typeof Object.create?t.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}},4721964:e=>{"use strict";var{m:t,e:r}=e,i=e.r(2745605).Buffer,n={};t.exports=function(){function e(){if(!(this instanceof e))throw TypeError("Cannot call a class as a function");this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},e.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},e.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(e){if(0===this.length)return"";for(var t=this.head,r=""+t.data;t=t.next;)r+=e+t.data;return r},e.prototype.concat=function(e){if(0===this.length)return i.alloc(0);if(1===this.length)return this.head.data;for(var t,r,n=i.allocUnsafe(e>>>0),s=this.head,a=0;s;)t=s.data,r=a,t.copy(n,r),a+=s.data.length,s=s.next;return n},e}(),n&&n.inspect&&n.inspect.custom&&(t.exports.prototype[n.inspect.custom]=function(){var e=n.inspect({length:this.length});return this.constructor.name+" "+e})},7098944:e=>{"use strict";var{m:t,e:r}=e,i=e.r(4081040);function n(e,t){e.emit("error",t)}t.exports={destroy:function(e,t){var r=this,s=this._readableState&&this._readableState.destroyed,a=this._writableState&&this._writableState.destroyed;return s||a?t?t(e):!e||this._writableState&&this._writableState.errorEmitted||i.nextTick(n,this,e):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(e){!t&&e?(i.nextTick(n,r,e),r._writableState&&(r._writableState.errorEmitted=!0)):t&&t(e)})),this},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},2143853:e=>{var{m:t,e:r}=e;function i(e){try{if(!globalThis.localStorage)return!1}catch(e){return!1}var t=globalThis.localStorage[e];return null!=t&&"true"===String(t).toLowerCase()}t.exports=function(e,t){if(i("noDeprecation"))return e;var r=!1;return function(){if(!r){if(i("throwDeprecation"))throw Error(t);i("traceDeprecation")?console.trace(t):console.warn(t),r=!0}return e.apply(this,arguments)}}},7213209:e=>{"use strict";var t,r,{m:i,e:n}=e,s=e.r(4081040);function a(e){var t=this;this.next=null,this.entry=null,this.finish=function(){var r=t,i=e,n=r.entry;for(r.entry=null;n;){var s=n.callback;i.pendingcb--,s(void 0),n=n.next}i.corkedRequestsFree?i.corkedRequestsFree.next=r:i.corkedRequestsFree=r}}i.exports=g;var o=s.nextTick;g.WritableState=m;var l=Object.create(e.r(9635447));l.inherits=e.r(8368044);var d={deprecate:e.r(2143853)},h=e.r(7977179),c=e.r(2745605).Buffer,u=globalThis.Uint8Array||function(){},f=e.r(7098944);function p(){}function m(r,i){t=t||e.r(8664629),r=r||{};var n=i instanceof t;this.objectMode=!!r.objectMode,n&&(this.objectMode=this.objectMode||!!r.writableObjectMode);var l=r.highWaterMark,d=r.writableHighWaterMark,h=this.objectMode?16:16384;l||0===l?this.highWaterMark=l:n&&(d||0===d)?this.highWaterMark=d:this.highWaterMark=h,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var c=!1===r.decodeStrings;this.decodeStrings=!c,this.defaultEncoding=r.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var r=e._writableState,i=r.sync,n=r.writecb;if(r.writing=!1,r.writecb=null,r.length-=r.writelen,r.writelen=0,t)--r.pendingcb,i?(s.nextTick(n,t),s.nextTick(E,e,r),e._writableState.errorEmitted=!0,e.emit("error",t)):(n(t),e._writableState.errorEmitted=!0,e.emit("error",t),E(e,r));else{var a=w(r);a||r.corked||r.bufferProcessing||!r.bufferedRequest||_(e,r),i?o(y,e,r,a,n):y(e,r,a,n)}}(i,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new a(this)}l.inherits(g,h),m.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t};try{Object.defineProperty(m.prototype,"buffer",{get:d.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}function g(i){if(t=t||e.r(8664629),!r.call(g,this)&&!(this instanceof t))return new g(i);this._writableState=new m(i,this),this.writable=!0,i&&("function"==typeof i.write&&(this._write=i.write),"function"==typeof i.writev&&(this._writev=i.writev),"function"==typeof i.destroy&&(this._destroy=i.destroy),"function"==typeof i.final&&(this._final=i.final)),h.call(this)}function b(e,t,r,i,n,s,a){t.writelen=i,t.writecb=a,t.writing=!0,t.sync=!0,r?e._writev(n,t.onwrite):e._write(n,s,t.onwrite),t.sync=!1}function y(e,t,r,i){var n,s;r||(n=e,0===(s=t).length&&s.needDrain&&(s.needDrain=!1,n.emit("drain"))),t.pendingcb--,i(),E(e,t)}function _(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var i=Array(t.bufferedRequestCount),n=t.corkedRequestsFree;n.entry=r;for(var s=0,o=!0;r;)i[s]=r,r.isBuf||(o=!1),r=r.next,s+=1;i.allBuffers=o,b(e,t,!0,t.length,i,"",n.finish),t.pendingcb++,t.lastBufferedRequest=null,n.next?(t.corkedRequestsFree=n.next,n.next=null):t.corkedRequestsFree=new a(t),t.bufferedRequestCount=0}else{for(;r;){var l=r.chunk,d=r.encoding,h=r.callback,c=t.objectMode?1:l.length;if(b(e,t,!1,c,l,d,h),r=r.next,t.bufferedRequestCount--,t.writing)break}null===r&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}function w(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function v(e,t){e._final(function(r){t.pendingcb--,r&&e.emit("error",r),t.prefinished=!0,e.emit("prefinish"),E(e,t)})}function E(e,t){var r=w(t);return r&&(t.prefinished||t.finalCalled||("function"==typeof e._final?(t.pendingcb++,t.finalCalled=!0,s.nextTick(v,e,t)):(t.prefinished=!0,e.emit("prefinish"))),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),r}"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(r=Function.prototype[Symbol.hasInstance],Object.defineProperty(g,Symbol.hasInstance,{value:function(e){return!!r.call(this,e)||this===g&&e&&e._writableState instanceof m}})):r=function(e){return e instanceof this},g.prototype.pipe=function(){this.emit("error",Error("Cannot pipe, not readable"))},g.prototype.write=function(e,t,r){var i,n,a,o,l,d,h,f,m=this._writableState,g=!1,y=!m.objectMode&&(i=e,c.isBuffer(i)||i instanceof u);return(y&&!c.isBuffer(e)&&(n=e,e=c.from(n)),"function"==typeof t&&(r=t,t=null),y?t="buffer":t||(t=m.defaultEncoding),"function"!=typeof r&&(r=p),m.ended)?(a=r,o=Error("write after end"),this.emit("error",o),s.nextTick(a,o)):(y||(l=e,d=r,h=!0,f=!1,null===l?f=TypeError("May not write null values to stream"):"string"==typeof l||void 0===l||m.objectMode||(f=TypeError("Invalid non-string/buffer chunk")),f&&(this.emit("error",f),s.nextTick(d,f),h=!1),h))&&(m.pendingcb++,g=function(e,t,r,i,n,s){if(!r){var a,o,l=(a=i,o=n,t.objectMode||!1===t.decodeStrings||"string"!=typeof a||(a=c.from(a,o)),a);i!==l&&(r=!0,n="buffer",i=l)}var d=t.objectMode?1:i.length;t.length+=d;var h=t.length<t.highWaterMark;if(h||(t.needDrain=!0),t.writing||t.corked){var u=t.lastBufferedRequest;t.lastBufferedRequest={chunk:i,encoding:n,isBuf:r,callback:s,next:null},u?u.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else b(e,t,!1,d,i,n,s);return h}(this,m,y,e,t,r)),g},g.prototype.cork=function(){var e=this._writableState;e.corked++},g.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||_(this,e))},g.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(g.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),g.prototype._write=function(e,t,r){r(Error("_write() is not implemented"))},g.prototype._writev=null,g.prototype.end=function(e,t,r){var i,n,a,o=this._writableState;"function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!=e&&this.write(e,t),o.corked&&(o.corked=1,this.uncork()),o.ending||o.finished||(i=this,n=o,a=r,n.ending=!0,E(i,n),a&&(n.finished?s.nextTick(a):i.once("finish",a)),n.ended=!0,i.writable=!1)},Object.defineProperty(g.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),g.prototype.destroy=f.destroy,g.prototype._undestroy=f.undestroy,g.prototype._destroy=function(e,t){this.end(),t(e)}},8664629:e=>{"use strict";var{m:t,e:r}=e,i=e.r(4081040),n=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};t.exports=c;var s=Object.create(e.r(9635447));s.inherits=e.r(8368044);var a=e.r(5362285),o=e.r(7213209);s.inherits(c,a);for(var l=n(o.prototype),d=0;d<l.length;d++){var h=l[d];c.prototype[h]||(c.prototype[h]=o.prototype[h])}function c(e){if(!(this instanceof c))return new c(e);a.call(this,e),o.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",u)}function u(){this.allowHalfOpen||this._writableState.ended||i.nextTick(f,this)}function f(e){e.end()}Object.defineProperty(c.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(c.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),c.prototype._destroy=function(e,t){this.push(null),this.end(),i.nextTick(t,e)}},5362285:e=>{"use strict";var t,r,{m:i,e:n}=e,s=e.i(442955),a=e.r(4081040);i.exports=_;var o=e.r(8123733);_.ReadableState=y,e.r(2216485).EventEmitter;var l=function(e,t){return e.listeners(t).length},d=e.r(7977179),h=e.r(2745605).Buffer,c=globalThis.Uint8Array||function(){},u=Object.create(e.r(9635447));u.inherits=e.r(8368044);var f={},p=void 0;p=f&&f.debuglog?f.debuglog("stream"):function(){};var m=e.r(4721964),g=e.r(7098944);u.inherits(_,d);var b=["error","close","destroy","pause","resume"];function y(i,n){t=t||e.r(8664629),i=i||{};var s=n instanceof t;this.objectMode=!!i.objectMode,s&&(this.objectMode=this.objectMode||!!i.readableObjectMode);var a=i.highWaterMark,o=i.readableHighWaterMark,l=this.objectMode?16:16384;a||0===a?this.highWaterMark=a:s&&(o||0===o)?this.highWaterMark=o:this.highWaterMark=l,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new m,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=i.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,i.encoding&&(r||(r=e.f({string_decoder:{id:()=>4115970,module:()=>e.r(4115970)},"string_decoder/":{id:()=>4115970,module:()=>e.r(4115970)}})("string_decoder/").StringDecoder),this.decoder=new r(i.encoding),this.encoding=i.encoding)}function _(r){if(t=t||e.r(8664629),!(this instanceof _))return new _(r);this._readableState=new y(r,this),this.readable=!0,r&&("function"==typeof r.read&&(this._read=r.read),"function"==typeof r.destroy&&(this._destroy=r.destroy)),d.call(this)}function w(e,t,r,i,n){var s,a,o,l=e._readableState;return null===t?(l.reading=!1,function(e,t){if(!t.ended){if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,S(e)}}(e,l)):(n||(o=function(e,t){var r;return h.isBuffer(t)||t instanceof c||"string"==typeof t||void 0===t||e.objectMode||(r=TypeError("Invalid non-string/buffer chunk")),r}(l,t)),o)?e.emit("error",o):l.objectMode||t&&t.length>0?("string"==typeof t||l.objectMode||Object.getPrototypeOf(t)===h.prototype||(a=t,t=h.from(a)),i?l.endEmitted?e.emit("error",Error("stream.unshift() after end event")):v(e,l,t,!0):l.ended?e.emit("error",Error("stream.push() after EOF")):(l.reading=!1,l.decoder&&!r?(t=l.decoder.write(t),l.objectMode||0!==t.length?v(e,l,t,!1):R(e,l)):v(e,l,t,!1))):i||(l.reading=!1),!(s=l).ended&&(s.needReadable||s.length<s.highWaterMark||0===s.length)}function v(e,t,r,i){t.flowing&&0===t.length&&!t.sync?(e.emit("data",r),e.read(0)):(t.length+=t.objectMode?1:r.length,i?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&S(e)),R(e,t)}function E(e,t){var r;if(e<=0||0===t.length&&t.ended)return 0;if(t.objectMode)return 1;if(e!=e)if(t.flowing&&t.length)return t.buffer.head.data.length;else return t.length;return(e>t.highWaterMark&&((r=e)>=8388608?r=8388608:(r--,r|=r>>>1,r|=r>>>2,r|=r>>>4,r|=r>>>8,r|=r>>>16,r++),t.highWaterMark=r),e<=t.length)?e:t.ended?t.length:(t.needReadable=!0,0)}function S(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(p("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?a.nextTick(x,e):x(e))}function x(e){p("emit readable"),e.emit("readable"),A(e)}function R(e,t){t.readingMore||(t.readingMore=!0,a.nextTick(j,e,t))}function j(e,t){for(var r=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(p("maybeReadMore read 0"),e.read(0),r!==t.length);)r=t.length;t.readingMore=!1}function I(e){p("readable nexttick read 0"),e.read(0)}function k(e,t){t.reading||(p("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),A(e),t.flowing&&!t.reading&&e.read(0)}function A(e){var t=e._readableState;for(p("flow",t.flowing);t.flowing&&null!==e.read(););}function C(e,t){var r,i,n,s,a;return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):(i=e,n=t.buffer,s=t.decoder,i<n.head.data.length?(a=n.head.data.slice(0,i),n.head.data=n.head.data.slice(i)):a=i===n.head.data.length?n.shift():s?function(e,t){var r=t.head,i=1,n=r.data;for(e-=n.length;r=r.next;){var s=r.data,a=e>s.length?s.length:e;if(a===s.length?n+=s:n+=s.slice(0,e),0==(e-=a)){a===s.length?(++i,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=s.slice(a));break}++i}return t.length-=i,n}(i,n):function(e,t){var r=h.allocUnsafe(e),i=t.head,n=1;for(i.data.copy(r),e-=i.data.length;i=i.next;){var s=i.data,a=e>s.length?s.length:e;if(s.copy(r,r.length-e,0,a),0==(e-=a)){a===s.length?(++n,i.next?t.head=i.next:t.head=t.tail=null):(t.head=i,i.data=s.slice(a));break}++n}return t.length-=n,r}(i,n),r=a),r)}function M(e){var t=e._readableState;if(t.length>0)throw Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,a.nextTick(N,t,e))}function N(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function T(e,t){for(var r=0,i=e.length;r<i;r++)if(e[r]===t)return r;return -1}Object.defineProperty(_.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),_.prototype.destroy=g.destroy,_.prototype._undestroy=g.undestroy,_.prototype._destroy=function(e,t){this.push(null),t(e)},_.prototype.push=function(e,t){var r,i=this._readableState;return i.objectMode?r=!0:"string"==typeof e&&((t=t||i.defaultEncoding)!==i.encoding&&(e=h.from(e,t),t=""),r=!0),w(this,e,t,!1,r)},_.prototype.unshift=function(e){return w(this,e,null,!0,!1)},_.prototype.isPaused=function(){return!1===this._readableState.flowing},_.prototype.setEncoding=function(t){return r||(r=e.f({string_decoder:{id:()=>4115970,module:()=>e.r(4115970)},"string_decoder/":{id:()=>4115970,module:()=>e.r(4115970)}})("string_decoder/").StringDecoder),this._readableState.decoder=new r(t),this._readableState.encoding=t,this},_.prototype.read=function(e){p("read",e),e=parseInt(e,10);var t,r=this._readableState,i=e;if(0!==e&&(r.emittedReadable=!1),0===e&&r.needReadable&&(r.length>=r.highWaterMark||r.ended))return p("read: emitReadable",r.length,r.ended),0===r.length&&r.ended?M(this):S(this),null;if(0===(e=E(e,r))&&r.ended)return 0===r.length&&M(this),null;var n=r.needReadable;return p("need readable",n),(0===r.length||r.length-e<r.highWaterMark)&&p("length less than watermark",n=!0),r.ended||r.reading?p("reading or ended",n=!1):n&&(p("do read"),r.reading=!0,r.sync=!0,0===r.length&&(r.needReadable=!0),this._read(r.highWaterMark),r.sync=!1,r.reading||(e=E(i,r))),null===(t=e>0?C(e,r):null)?(r.needReadable=!0,e=0):r.length-=e,0===r.length&&(r.ended||(r.needReadable=!0),i!==e&&r.ended&&M(this)),null!==t&&this.emit("data",t),t},_.prototype._read=function(e){this.emit("error",Error("_read() is not implemented"))},_.prototype.pipe=function(e,t){var r,i=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=e;break;case 1:n.pipes=[n.pipes,e];break;default:n.pipes.push(e)}n.pipesCount+=1,p("pipe count=%d opts=%j",n.pipesCount,t);var d=t&&!1===t.end||e===s.default.stdout||e===s.default.stderr?_:h;function h(){p("onend"),e.end()}n.endEmitted?a.nextTick(d):i.once("end",d),e.on("unpipe",function t(r,s){p("onunpipe"),r===i&&s&&!1===s.hasUnpiped&&(s.hasUnpiped=!0,p("cleanup"),e.removeListener("close",b),e.removeListener("finish",y),e.removeListener("drain",c),e.removeListener("error",g),e.removeListener("unpipe",t),i.removeListener("end",h),i.removeListener("end",_),i.removeListener("data",m),u=!0,n.awaitDrain&&(!e._writableState||e._writableState.needDrain)&&c())});var c=(r=i,function(){var e=r._readableState;p("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&l(r,"data")&&(e.flowing=!0,A(r))});e.on("drain",c);var u=!1,f=!1;function m(t){p("ondata"),f=!1,!1!==e.write(t)||f||((1===n.pipesCount&&n.pipes===e||n.pipesCount>1&&-1!==T(n.pipes,e))&&!u&&(p("false write response, pause",i._readableState.awaitDrain),i._readableState.awaitDrain++,f=!0),i.pause())}function g(t){p("onerror",t),_(),e.removeListener("error",g),0===l(e,"error")&&e.emit("error",t)}function b(){e.removeListener("finish",y),_()}function y(){p("onfinish"),e.removeListener("close",b),_()}function _(){p("unpipe"),i.unpipe(e)}return i.on("data",m),!function(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events[t]?o(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]:e.on(t,r)}(e,"error",g),e.once("close",b),e.once("finish",y),e.emit("pipe",i),n.flowing||(p("pipe resume"),i.resume()),e},_.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r)),this;if(!e){var i=t.pipes,n=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var s=0;s<n;s++)i[s].emit("unpipe",this,r);return this}var a=T(t.pipes,e);return -1===a||(t.pipes.splice(a,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r)),this},_.prototype.on=function(e,t){var r=d.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var i=this._readableState;i.endEmitted||i.readableListening||(i.readableListening=i.needReadable=!0,i.emittedReadable=!1,i.reading?i.length&&S(this):a.nextTick(I,this))}return r},_.prototype.addListener=_.prototype.on,_.prototype.resume=function(){var e,t,r=this._readableState;return r.flowing||(p("resume"),r.flowing=!0,e=this,(t=r).resumeScheduled||(t.resumeScheduled=!0,a.nextTick(k,e,t))),this},_.prototype.pause=function(){return p("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(p("pause"),this._readableState.flowing=!1,this.emit("pause")),this},_.prototype.wrap=function(e){var t=this,r=this._readableState,i=!1;for(var n in e.on("end",function(){if(p("wrapped end"),r.decoder&&!r.ended){var e=r.decoder.end();e&&e.length&&t.push(e)}t.push(null)}),e.on("data",function(n){if(p("wrapped data"),r.decoder&&(n=r.decoder.write(n)),!r.objectMode||null!=n)(r.objectMode||n&&n.length)&&(t.push(n)||(i=!0,e.pause()))}),e)void 0===this[n]&&"function"==typeof e[n]&&(this[n]=function(t){return function(){return e[t].apply(e,arguments)}}(n));for(var s=0;s<b.length;s++)e.on(b[s],this.emit.bind(this,b[s]));return this._read=function(t){p("wrapped _read",t),i&&(i=!1,e.resume())},this},Object.defineProperty(_.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),_._fromList=C},6479713:e=>{"use strict";var{m:t,e:r}=e;t.exports=a;var i=e.r(8664629),n=Object.create(e.r(9635447));function s(e,t){var r=this._transformState;r.transforming=!1;var i=r.writecb;if(!i)return this.emit("error",Error("write callback called multiple times"));r.writechunk=null,r.writecb=null,null!=t&&this.push(t),i(e);var n=this._readableState;n.reading=!1,(n.needReadable||n.length<n.highWaterMark)&&this._read(n.highWaterMark)}function a(e){if(!(this instanceof a))return new a(e);i.call(this,e),this._transformState={afterTransform:s.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",o)}function o(){var e=this;"function"==typeof this._flush?this._flush(function(t,r){l(e,t,r)}):l(this,null,null)}function l(e,t,r){if(t)return e.emit("error",t);if(null!=r&&e.push(r),e._writableState.length)throw Error("Calling transform done when ws.length != 0");if(e._transformState.transforming)throw Error("Calling transform done when still transforming");return e.push(null)}n.inherits=e.r(8368044),n.inherits(a,i),a.prototype.push=function(e,t){return this._transformState.needTransform=!1,i.prototype.push.call(this,e,t)},a.prototype._transform=function(e,t,r){throw Error("_transform() is not implemented")},a.prototype._write=function(e,t,r){var i=this._transformState;if(i.writecb=r,i.writechunk=e,i.writeencoding=t,!i.transforming){var n=this._readableState;(i.needTransform||n.needReadable||n.length<n.highWaterMark)&&this._read(n.highWaterMark)}},a.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},a.prototype._destroy=function(e,t){var r=this;i.prototype._destroy.call(this,e,function(e){t(e),r.emit("close")})}},6329786:e=>{"use strict";var{m:t,e:r}=e;t.exports=s;var i=e.r(6479713),n=Object.create(e.r(9635447));function s(e){if(!(this instanceof s))return new s(e);i.call(this,e)}n.inherits=e.r(8368044),n.inherits(s,i),s.prototype._transform=function(e,t,r){r(null,e)}},2154459:e=>{var{m:t,e:r}=e;(r=t.exports=e.r(5362285)).Stream=r,r.Readable=r,r.Writable=e.r(7213209),r.Duplex=e.r(8664629),r.Transform=e.r(6479713),r.PassThrough=e.r(6329786)},2806866:e=>{var{m:t,e:r}=e;t.exports=e.r(2216485).EventEmitter},8495880:e=>{"use strict";var{m:t,e:r}=e,i=e.r(2745605).Buffer,n={};t.exports=function(){function e(){if(!(this instanceof e))throw TypeError("Cannot call a class as a function");this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},e.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},e.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(e){if(0===this.length)return"";for(var t=this.head,r=""+t.data;t=t.next;)r+=e+t.data;return r},e.prototype.concat=function(e){if(0===this.length)return i.alloc(0);for(var t,r,n=i.allocUnsafe(e>>>0),s=this.head,a=0;s;)t=s.data,r=a,t.copy(n,r),a+=s.data.length,s=s.next;return n},e}(),n&&n.inspect&&n.inspect.custom&&(t.exports.prototype[n.inspect.custom]=function(){var e=n.inspect({length:this.length});return this.constructor.name+" "+e})},2623866:e=>{"use strict";var{m:t,e:r}=e,i=e.r(4081040);function n(e,t){e.emit("error",t)}t.exports={destroy:function(e,t){var r=this,s=this._readableState&&this._readableState.destroyed,a=this._writableState&&this._writableState.destroyed;return s||a?t?t(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,i.nextTick(n,this,e)):i.nextTick(n,this,e)):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(e){!t&&e?r._writableState?r._writableState.errorEmitted||(r._writableState.errorEmitted=!0,i.nextTick(n,r,e)):i.nextTick(n,r,e):t&&t(e)})),this},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},4667215:e=>{"use strict";var t,r,{m:i,e:n}=e,s=e.r(4081040);function a(e){var t=this;this.next=null,this.entry=null,this.finish=function(){var r=t,i=e,n=r.entry;for(r.entry=null;n;){var s=n.callback;i.pendingcb--,s(void 0),n=n.next}i.corkedRequestsFree.next=r}}i.exports=g;var o=s.nextTick;g.WritableState=m;var l=Object.create(e.r(9635447));l.inherits=e.r(8368044);var d={deprecate:e.r(2143853)},h=e.r(2806866),c=e.r(2745605).Buffer,u=globalThis.Uint8Array||function(){},f=e.r(2623866);function p(){}function m(r,i){t=t||e.r(3564484),r=r||{};var n=i instanceof t;this.objectMode=!!r.objectMode,n&&(this.objectMode=this.objectMode||!!r.writableObjectMode);var l=r.highWaterMark,d=r.writableHighWaterMark,h=this.objectMode?16:16384;l||0===l?this.highWaterMark=l:n&&(d||0===d)?this.highWaterMark=d:this.highWaterMark=h,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var c=!1===r.decodeStrings;this.decodeStrings=!c,this.defaultEncoding=r.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var r=e._writableState,i=r.sync,n=r.writecb;if(r.writing=!1,r.writecb=null,r.length-=r.writelen,r.writelen=0,t)--r.pendingcb,i?(s.nextTick(n,t),s.nextTick(E,e,r),e._writableState.errorEmitted=!0,e.emit("error",t)):(n(t),e._writableState.errorEmitted=!0,e.emit("error",t),E(e,r));else{var a=w(r);a||r.corked||r.bufferProcessing||!r.bufferedRequest||_(e,r),i?o(y,e,r,a,n):y(e,r,a,n)}}(i,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new a(this)}l.inherits(g,h),m.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t};try{Object.defineProperty(m.prototype,"buffer",{get:d.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}function g(i){if(t=t||e.r(3564484),!r.call(g,this)&&!(this instanceof t))return new g(i);this._writableState=new m(i,this),this.writable=!0,i&&("function"==typeof i.write&&(this._write=i.write),"function"==typeof i.writev&&(this._writev=i.writev),"function"==typeof i.destroy&&(this._destroy=i.destroy),"function"==typeof i.final&&(this._final=i.final)),h.call(this)}function b(e,t,r,i,n,s,a){t.writelen=i,t.writecb=a,t.writing=!0,t.sync=!0,r?e._writev(n,t.onwrite):e._write(n,s,t.onwrite),t.sync=!1}function y(e,t,r,i){var n,s;r||(n=e,0===(s=t).length&&s.needDrain&&(s.needDrain=!1,n.emit("drain"))),t.pendingcb--,i(),E(e,t)}function _(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var i=Array(t.bufferedRequestCount),n=t.corkedRequestsFree;n.entry=r;for(var s=0,o=!0;r;)i[s]=r,r.isBuf||(o=!1),r=r.next,s+=1;i.allBuffers=o,b(e,t,!0,t.length,i,"",n.finish),t.pendingcb++,t.lastBufferedRequest=null,n.next?(t.corkedRequestsFree=n.next,n.next=null):t.corkedRequestsFree=new a(t),t.bufferedRequestCount=0}else{for(;r;){var l=r.chunk,d=r.encoding,h=r.callback,c=t.objectMode?1:l.length;if(b(e,t,!1,c,l,d,h),r=r.next,t.bufferedRequestCount--,t.writing)break}null===r&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}function w(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function v(e,t){e._final(function(r){t.pendingcb--,r&&e.emit("error",r),t.prefinished=!0,e.emit("prefinish"),E(e,t)})}function E(e,t){var r=w(t);return r&&(t.prefinished||t.finalCalled||("function"==typeof e._final?(t.pendingcb++,t.finalCalled=!0,s.nextTick(v,e,t)):(t.prefinished=!0,e.emit("prefinish"))),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),r}"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(r=Function.prototype[Symbol.hasInstance],Object.defineProperty(g,Symbol.hasInstance,{value:function(e){return!!r.call(this,e)||this===g&&e&&e._writableState instanceof m}})):r=function(e){return e instanceof this},g.prototype.pipe=function(){this.emit("error",Error("Cannot pipe, not readable"))},g.prototype.write=function(e,t,r){var i,n,a,o,l,d,h,f,m=this._writableState,g=!1,y=!m.objectMode&&(i=e,c.isBuffer(i)||i instanceof u);return(y&&!c.isBuffer(e)&&(n=e,e=c.from(n)),"function"==typeof t&&(r=t,t=null),y?t="buffer":t||(t=m.defaultEncoding),"function"!=typeof r&&(r=p),m.ended)?(a=r,o=Error("write after end"),this.emit("error",o),s.nextTick(a,o)):(y||(l=e,d=r,h=!0,f=!1,null===l?f=TypeError("May not write null values to stream"):"string"==typeof l||void 0===l||m.objectMode||(f=TypeError("Invalid non-string/buffer chunk")),f&&(this.emit("error",f),s.nextTick(d,f),h=!1),h))&&(m.pendingcb++,g=function(e,t,r,i,n,s){if(!r){var a,o,l=(a=i,o=n,t.objectMode||!1===t.decodeStrings||"string"!=typeof a||(a=c.from(a,o)),a);i!==l&&(r=!0,n="buffer",i=l)}var d=t.objectMode?1:i.length;t.length+=d;var h=t.length<t.highWaterMark;if(h||(t.needDrain=!0),t.writing||t.corked){var u=t.lastBufferedRequest;t.lastBufferedRequest={chunk:i,encoding:n,isBuf:r,callback:s,next:null},u?u.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else b(e,t,!1,d,i,n,s);return h}(this,m,y,e,t,r)),g},g.prototype.cork=function(){var e=this._writableState;e.corked++},g.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||_(this,e))},g.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(g.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),g.prototype._write=function(e,t,r){r(Error("_write() is not implemented"))},g.prototype._writev=null,g.prototype.end=function(e,t,r){var i,n,a,o=this._writableState;"function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!=e&&this.write(e,t),o.corked&&(o.corked=1,this.uncork()),o.ending||(i=this,n=o,a=r,n.ending=!0,E(i,n),a&&(n.finished?s.nextTick(a):i.once("finish",a)),n.ended=!0,i.writable=!1)},Object.defineProperty(g.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),g.prototype.destroy=f.destroy,g.prototype._undestroy=f.undestroy,g.prototype._destroy=function(e,t){this.end(),t(e)}},3564484:e=>{"use strict";var{m:t,e:r}=e,i=e.r(4081040),n=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};t.exports=c;var s=Object.create(e.r(9635447));s.inherits=e.r(8368044);var a=e.r(8250534),o=e.r(4667215);s.inherits(c,a);for(var l=n(o.prototype),d=0;d<l.length;d++){var h=l[d];c.prototype[h]||(c.prototype[h]=o.prototype[h])}function c(e){if(!(this instanceof c))return new c(e);a.call(this,e),o.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",u)}function u(){this.allowHalfOpen||this._writableState.ended||i.nextTick(f,this)}function f(e){e.end()}Object.defineProperty(c.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(c.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),c.prototype._destroy=function(e,t){this.push(null),this.end(),i.nextTick(t,e)}},8250534:e=>{"use strict";var t,r,{m:i,e:n}=e,s=e.i(442955),a=e.r(4081040);i.exports=_;var o=e.r(8123733);_.ReadableState=y,e.r(2216485).EventEmitter;var l=function(e,t){return e.listeners(t).length},d=e.r(2806866),h=e.r(2745605).Buffer,c=globalThis.Uint8Array||function(){},u=Object.create(e.r(9635447));u.inherits=e.r(8368044);var f={},p=void 0;p=f&&f.debuglog?f.debuglog("stream"):function(){};var m=e.r(8495880),g=e.r(2623866);u.inherits(_,d);var b=["error","close","destroy","pause","resume"];function y(i,n){t=t||e.r(3564484),i=i||{};var s=n instanceof t;this.objectMode=!!i.objectMode,s&&(this.objectMode=this.objectMode||!!i.readableObjectMode);var a=i.highWaterMark,o=i.readableHighWaterMark,l=this.objectMode?16:16384;a||0===a?this.highWaterMark=a:s&&(o||0===o)?this.highWaterMark=o:this.highWaterMark=l,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new m,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=i.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,i.encoding&&(r||(r=e.f({string_decoder:{id:()=>4115970,module:()=>e.r(4115970)},"string_decoder/":{id:()=>4115970,module:()=>e.r(4115970)}})("string_decoder/").StringDecoder),this.decoder=new r(i.encoding),this.encoding=i.encoding)}function _(r){if(t=t||e.r(3564484),!(this instanceof _))return new _(r);this._readableState=new y(r,this),this.readable=!0,r&&("function"==typeof r.read&&(this._read=r.read),"function"==typeof r.destroy&&(this._destroy=r.destroy)),d.call(this)}function w(e,t,r,i,n){var s,a,o,l=e._readableState;return null===t?(l.reading=!1,function(e,t){if(!t.ended){if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,S(e)}}(e,l)):(n||(o=function(e,t){var r;return h.isBuffer(t)||t instanceof c||"string"==typeof t||void 0===t||e.objectMode||(r=TypeError("Invalid non-string/buffer chunk")),r}(l,t)),o)?e.emit("error",o):l.objectMode||t&&t.length>0?("string"==typeof t||l.objectMode||Object.getPrototypeOf(t)===h.prototype||(a=t,t=h.from(a)),i?l.endEmitted?e.emit("error",Error("stream.unshift() after end event")):v(e,l,t,!0):l.ended?e.emit("error",Error("stream.push() after EOF")):(l.reading=!1,l.decoder&&!r?(t=l.decoder.write(t),l.objectMode||0!==t.length?v(e,l,t,!1):R(e,l)):v(e,l,t,!1))):i||(l.reading=!1),!(s=l).ended&&(s.needReadable||s.length<s.highWaterMark||0===s.length)}function v(e,t,r,i){t.flowing&&0===t.length&&!t.sync?(e.emit("data",r),e.read(0)):(t.length+=t.objectMode?1:r.length,i?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&S(e)),R(e,t)}function E(e,t){var r;if(e<=0||0===t.length&&t.ended)return 0;if(t.objectMode)return 1;if(e!=e)if(t.flowing&&t.length)return t.buffer.head.data.length;else return t.length;return(e>t.highWaterMark&&((r=e)>=8388608?r=8388608:(r--,r|=r>>>1,r|=r>>>2,r|=r>>>4,r|=r>>>8,r|=r>>>16,r++),t.highWaterMark=r),e<=t.length)?e:t.ended?t.length:(t.needReadable=!0,0)}function S(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(p("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?a.nextTick(x,e):x(e))}function x(e){p("emit readable"),e.emit("readable"),A(e)}function R(e,t){t.readingMore||(t.readingMore=!0,a.nextTick(j,e,t))}function j(e,t){for(var r=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(p("maybeReadMore read 0"),e.read(0),r!==t.length);)r=t.length;t.readingMore=!1}function I(e){p("readable nexttick read 0"),e.read(0)}function k(e,t){t.reading||(p("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),A(e),t.flowing&&!t.reading&&e.read(0)}function A(e){var t=e._readableState;for(p("flow",t.flowing);t.flowing&&null!==e.read(););}function C(e,t){var r,i,n,s,a;return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):(i=e,n=t.buffer,s=t.decoder,i<n.head.data.length?(a=n.head.data.slice(0,i),n.head.data=n.head.data.slice(i)):a=i===n.head.data.length?n.shift():s?function(e,t){var r=t.head,i=1,n=r.data;for(e-=n.length;r=r.next;){var s=r.data,a=e>s.length?s.length:e;if(a===s.length?n+=s:n+=s.slice(0,e),0==(e-=a)){a===s.length?(++i,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=s.slice(a));break}++i}return t.length-=i,n}(i,n):function(e,t){var r=h.allocUnsafe(e),i=t.head,n=1;for(i.data.copy(r),e-=i.data.length;i=i.next;){var s=i.data,a=e>s.length?s.length:e;if(s.copy(r,r.length-e,0,a),0==(e-=a)){a===s.length?(++n,i.next?t.head=i.next:t.head=t.tail=null):(t.head=i,i.data=s.slice(a));break}++n}return t.length-=n,r}(i,n),r=a),r)}function M(e){var t=e._readableState;if(t.length>0)throw Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,a.nextTick(N,t,e))}function N(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function T(e,t){for(var r=0,i=e.length;r<i;r++)if(e[r]===t)return r;return -1}Object.defineProperty(_.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),_.prototype.destroy=g.destroy,_.prototype._undestroy=g.undestroy,_.prototype._destroy=function(e,t){this.push(null),t(e)},_.prototype.push=function(e,t){var r,i=this._readableState;return i.objectMode?r=!0:"string"==typeof e&&((t=t||i.defaultEncoding)!==i.encoding&&(e=h.from(e,t),t=""),r=!0),w(this,e,t,!1,r)},_.prototype.unshift=function(e){return w(this,e,null,!0,!1)},_.prototype.isPaused=function(){return!1===this._readableState.flowing},_.prototype.setEncoding=function(t){return r||(r=e.f({string_decoder:{id:()=>4115970,module:()=>e.r(4115970)},"string_decoder/":{id:()=>4115970,module:()=>e.r(4115970)}})("string_decoder/").StringDecoder),this._readableState.decoder=new r(t),this._readableState.encoding=t,this},_.prototype.read=function(e){p("read",e),e=parseInt(e,10);var t,r=this._readableState,i=e;if(0!==e&&(r.emittedReadable=!1),0===e&&r.needReadable&&(r.length>=r.highWaterMark||r.ended))return p("read: emitReadable",r.length,r.ended),0===r.length&&r.ended?M(this):S(this),null;if(0===(e=E(e,r))&&r.ended)return 0===r.length&&M(this),null;var n=r.needReadable;return p("need readable",n),(0===r.length||r.length-e<r.highWaterMark)&&p("length less than watermark",n=!0),r.ended||r.reading?p("reading or ended",n=!1):n&&(p("do read"),r.reading=!0,r.sync=!0,0===r.length&&(r.needReadable=!0),this._read(r.highWaterMark),r.sync=!1,r.reading||(e=E(i,r))),null===(t=e>0?C(e,r):null)?(r.needReadable=!0,e=0):r.length-=e,0===r.length&&(r.ended||(r.needReadable=!0),i!==e&&r.ended&&M(this)),null!==t&&this.emit("data",t),t},_.prototype._read=function(e){this.emit("error",Error("_read() is not implemented"))},_.prototype.pipe=function(e,t){var r,i=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=e;break;case 1:n.pipes=[n.pipes,e];break;default:n.pipes.push(e)}n.pipesCount+=1,p("pipe count=%d opts=%j",n.pipesCount,t);var d=t&&!1===t.end||e===s.default.stdout||e===s.default.stderr?_:h;function h(){p("onend"),e.end()}n.endEmitted?a.nextTick(d):i.once("end",d),e.on("unpipe",function t(r,s){p("onunpipe"),r===i&&s&&!1===s.hasUnpiped&&(s.hasUnpiped=!0,p("cleanup"),e.removeListener("close",b),e.removeListener("finish",y),e.removeListener("drain",c),e.removeListener("error",g),e.removeListener("unpipe",t),i.removeListener("end",h),i.removeListener("end",_),i.removeListener("data",m),u=!0,n.awaitDrain&&(!e._writableState||e._writableState.needDrain)&&c())});var c=(r=i,function(){var e=r._readableState;p("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&l(r,"data")&&(e.flowing=!0,A(r))});e.on("drain",c);var u=!1,f=!1;function m(t){p("ondata"),f=!1,!1!==e.write(t)||f||((1===n.pipesCount&&n.pipes===e||n.pipesCount>1&&-1!==T(n.pipes,e))&&!u&&(p("false write response, pause",n.awaitDrain),n.awaitDrain++,f=!0),i.pause())}function g(t){p("onerror",t),_(),e.removeListener("error",g),0===l(e,"error")&&e.emit("error",t)}function b(){e.removeListener("finish",y),_()}function y(){p("onfinish"),e.removeListener("close",b),_()}function _(){p("unpipe"),i.unpipe(e)}return i.on("data",m),!function(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events[t]?o(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]:e.on(t,r)}(e,"error",g),e.once("close",b),e.once("finish",y),e.emit("pipe",i),n.flowing||(p("pipe resume"),i.resume()),e},_.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r)),this;if(!e){var i=t.pipes,n=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var s=0;s<n;s++)i[s].emit("unpipe",this,{hasUnpiped:!1});return this}var a=T(t.pipes,e);return -1===a||(t.pipes.splice(a,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r)),this},_.prototype.on=function(e,t){var r=d.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var i=this._readableState;i.endEmitted||i.readableListening||(i.readableListening=i.needReadable=!0,i.emittedReadable=!1,i.reading?i.length&&S(this):a.nextTick(I,this))}return r},_.prototype.addListener=_.prototype.on,_.prototype.resume=function(){var e,t,r=this._readableState;return r.flowing||(p("resume"),r.flowing=!0,e=this,(t=r).resumeScheduled||(t.resumeScheduled=!0,a.nextTick(k,e,t))),this},_.prototype.pause=function(){return p("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(p("pause"),this._readableState.flowing=!1,this.emit("pause")),this},_.prototype.wrap=function(e){var t=this,r=this._readableState,i=!1;for(var n in e.on("end",function(){if(p("wrapped end"),r.decoder&&!r.ended){var e=r.decoder.end();e&&e.length&&t.push(e)}t.push(null)}),e.on("data",function(n){if(p("wrapped data"),r.decoder&&(n=r.decoder.write(n)),!r.objectMode||null!=n)(r.objectMode||n&&n.length)&&(t.push(n)||(i=!0,e.pause()))}),e)void 0===this[n]&&"function"==typeof e[n]&&(this[n]=function(t){return function(){return e[t].apply(e,arguments)}}(n));for(var s=0;s<b.length;s++)e.on(b[s],this.emit.bind(this,b[s]));return this._read=function(t){p("wrapped _read",t),i&&(i=!1,e.resume())},this},Object.defineProperty(_.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),_._fromList=C},7250053:e=>{"use strict";var{m:t,e:r}=e;t.exports=a;var i=e.r(3564484),n=Object.create(e.r(9635447));function s(e,t){var r=this._transformState;r.transforming=!1;var i=r.writecb;if(!i)return this.emit("error",Error("write callback called multiple times"));r.writechunk=null,r.writecb=null,null!=t&&this.push(t),i(e);var n=this._readableState;n.reading=!1,(n.needReadable||n.length<n.highWaterMark)&&this._read(n.highWaterMark)}function a(e){if(!(this instanceof a))return new a(e);i.call(this,e),this._transformState={afterTransform:s.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",o)}function o(){var e=this;"function"==typeof this._flush?this._flush(function(t,r){l(e,t,r)}):l(this,null,null)}function l(e,t,r){if(t)return e.emit("error",t);if(null!=r&&e.push(r),e._writableState.length)throw Error("Calling transform done when ws.length != 0");if(e._transformState.transforming)throw Error("Calling transform done when still transforming");return e.push(null)}n.inherits=e.r(8368044),n.inherits(a,i),a.prototype.push=function(e,t){return this._transformState.needTransform=!1,i.prototype.push.call(this,e,t)},a.prototype._transform=function(e,t,r){throw Error("_transform() is not implemented")},a.prototype._write=function(e,t,r){var i=this._transformState;if(i.writecb=r,i.writechunk=e,i.writeencoding=t,!i.transforming){var n=this._readableState;(i.needTransform||n.needReadable||n.length<n.highWaterMark)&&this._read(n.highWaterMark)}},a.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},a.prototype._destroy=function(e,t){var r=this;i.prototype._destroy.call(this,e,function(e){t(e),r.emit("close")})}},215735:e=>{"use strict";var{m:t,e:r}=e;t.exports=s;var i=e.r(7250053),n=Object.create(e.r(9635447));function s(e){if(!(this instanceof s))return new s(e);i.call(this,e)}n.inherits=e.r(8368044),n.inherits(s,i),s.prototype._transform=function(e,t,r){r(null,e)}},1588729:e=>{var{m:t,e:r}=e;(r=t.exports=e.r(8250534)).Stream=r,r.Readable=r,r.Writable=e.r(4667215),r.Duplex=e.r(3564484),r.Transform=e.r(7250053),r.PassThrough=e.r(215735)},446779:e=>{var{m:t,e:r}=e;t.exports=function e(t,r){if(t&&r)return e(t)(r);if("function"!=typeof t)throw TypeError("need wrapper function");return Object.keys(t).forEach(function(e){i[e]=t[e]}),i;function i(){for(var e=Array(arguments.length),r=0;r<e.length;r++)e[r]=arguments[r];var i=t.apply(this,e),n=e[e.length-1];return"function"==typeof i&&i!==n&&Object.keys(n).forEach(function(e){i[e]=n[e]}),i}}},6320516:e=>{var{m:t,e:r}=e,i=e.r(446779);function n(e){var t=function(){return t.called?t.value:(t.called=!0,t.value=e.apply(this,arguments))};return t.called=!1,t}function s(e){var t=function(){if(t.called)throw Error(t.onceError);return t.called=!0,t.value=e.apply(this,arguments)};return t.onceError=(e.name||"Function wrapped with `once`")+" shouldn't be called more than once",t.called=!1,t}t.exports=i(n),t.exports.strict=i(s),n.proto=n(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return n(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return s(this)},configurable:!0})})},9744857:e=>{var{m:t,e:r}=e,i=e.i(442955),n=e.r(6320516),s=function(){},a=function(e,t,r){if("function"==typeof t)return a(e,null,t);t||(t={}),r=n(r||s);var o=e._writableState,l=e._readableState,d=t.readable||!1!==t.readable&&e.readable,h=t.writable||!1!==t.writable&&e.writable,c=!1,u=function(){e.writable||f()},f=function(){h=!1,d||r.call(e)},p=function(){d=!1,h||r.call(e)},m=function(t){r.call(e,t?Error("exited with error code: "+t):null)},g=function(t){r.call(e,t)},b=function(){i.default.nextTick(y)},y=function(){if(!c&&(d&&!(l&&l.ended&&!l.destroyed)||h&&!(o&&o.ended&&!o.destroyed)))return r.call(e,Error("premature close"))},_=function(){e.req.on("finish",f)};return e.setHeader&&"function"==typeof e.abort?(e.on("complete",f),e.on("abort",b),e.req?_():e.on("request",_)):h&&!o&&(e.on("end",u),e.on("close",u)),e.stdio&&Array.isArray(e.stdio)&&3===e.stdio.length&&e.on("exit",m),e.on("end",p),e.on("finish",f),!1!==t.error&&e.on("error",g),e.on("close",b),function(){c=!0,e.removeListener("complete",f),e.removeListener("abort",b),e.removeListener("request",_),e.req&&e.req.removeListener("finish",f),e.removeListener("end",u),e.removeListener("close",u),e.removeListener("finish",f),e.removeListener("exit",m),e.removeListener("end",p),e.removeListener("error",g),e.removeListener("close",b)}};t.exports=a},5116665:e=>{var{m:t,e:r}=e;t.exports=function(e){var t,r=e._readableState;return r?r.objectMode||"number"==typeof e._duplexState?e.read():e.read((t=r).buffer.length?t.buffer.head?t.buffer.head.data.length:t.buffer[0].length:t.length):null}},2671021:e=>{var{m:t,e:r}=e,i=e.i(6615754),n=e.i(442955),s=e.r(1588729),a=e.r(9744857),o=e.r(8368044),l=e.r(5116665),d=i.Buffer.from&&i.Buffer.from!==Uint8Array.from?i.Buffer.from([0]):new i.Buffer([0]),h=function(e,t){e._corked?e.once("uncork",t):t()},c=function(e,t){e._autoDestroy&&e.destroy(t)},u=function(e,t){return function(r){r?c(e,"premature close"===r.message?null:r):t&&!e._ended&&e.end()}},f=function(e,t,r){if(!(this instanceof f))return new f(e,t,r);s.Duplex.call(this,r),this._writable=null,this._readable=null,this._readable2=null,this._autoDestroy=!r||!1!==r.autoDestroy,this._forwardDestroy=!r||!1!==r.destroy,this._forwardEnd=!r||!1!==r.end,this._corked=1,this._ondrain=null,this._drained=!1,this._forwarding=!1,this._unwrite=null,this._unread=null,this._ended=!1,this.destroyed=!1,e&&this.setWritable(e),t&&this.setReadable(t)};o(f,s.Duplex),f.obj=function(e,t,r){return r||(r={}),r.objectMode=!0,r.highWaterMark=16,new f(e,t,r)},f.prototype.cork=function(){1==++this._corked&&this.emit("cork")},f.prototype.uncork=function(){this._corked&&0==--this._corked&&this.emit("uncork")},f.prototype.setWritable=function(e){if(this._unwrite&&this._unwrite(),this.destroyed){e&&e.destroy&&e.destroy();return}if(null===e||!1===e)return void this.end();var t=this,r=a(e,{writable:!0,readable:!1},u(this,this._forwardEnd)),i=function(){var e=t._ondrain;t._ondrain=null,e&&e()};this._unwrite&&n.default.nextTick(i),this._writable=e,this._writable.on("drain",i),this._unwrite=function(){t._writable.removeListener("drain",i),r()},this.uncork()},f.prototype.setReadable=function(e){if(this._unread&&this._unread(),this.destroyed){e&&e.destroy&&e.destroy();return}if(null===e||!1===e){this.push(null),this.resume();return}var t=this,r=a(e,{writable:!1,readable:!0},u(this)),i=function(){t._forward()},n=function(){t.push(null)};this._drained=!0,this._readable=e,this._readable2=e._readableState?e:new s.Readable({objectMode:!0,highWaterMark:16}).wrap(e),this._readable2.on("readable",i),this._readable2.on("end",n),this._unread=function(){t._readable2.removeListener("readable",i),t._readable2.removeListener("end",n),r()},this._forward()},f.prototype._read=function(){this._drained=!0,this._forward()},f.prototype._forward=function(){var e;if(!this._forwarding&&this._readable2&&this._drained){for(this._forwarding=!0;this._drained&&null!==(e=l(this._readable2));)this.destroyed||(this._drained=this.push(e));this._forwarding=!1}},f.prototype.destroy=function(e){if(!this.destroyed){this.destroyed=!0;var t=this;n.default.nextTick(function(){t._destroy(e)})}},f.prototype._destroy=function(e){if(e){var t=this._ondrain;this._ondrain=null,t?t(e):this.emit("error",e)}this._forwardDestroy&&(this._readable&&this._readable.destroy&&this._readable.destroy(),this._writable&&this._writable.destroy&&this._writable.destroy()),this.emit("close")},f.prototype._write=function(e,t,r){return this.destroyed?r():this._corked?h(this,this._write.bind(this,e,t,r)):e===d?this._finish(r):this._writable?void(!1===this._writable.write(e)?this._ondrain=r:r()):r()},f.prototype._finish=function(e){var t=this;this.emit("preend"),h(this,function(){var r,i;r=t._forwardEnd&&t._writable,i=function(){!1===t._writableState.prefinished&&(t._writableState.prefinished=!0),t.emit("prefinish"),h(t,e)},!r||r._writableState&&r._writableState.finished?i():r._writableState?r.end(i):(r.end(),i())})},f.prototype.end=function(e,t,r){return"function"==typeof e?this.end(null,null,e):"function"==typeof t?this.end(e,null,t):(this._ended=!0,e&&this.write(e),this._writableState.ending||this.write(d),s.Writable.prototype.end.call(this,r))},t.exports=f},9056991:e=>{var{m:t,e:r}=e,i=null;"undefined"!=typeof WebSocket?i=WebSocket:"undefined"!=typeof MozWebSocket?i=MozWebSocket:"undefined"!=typeof window&&(i=window.WebSocket||window.MozWebSocket),t.exports=i},8900398:e=>{var{m:t,e:r}=e,i=e.r(9523966),n=i.Buffer;function s(e,t){for(var r in e)t[r]=e[r]}function a(e,t,r){return n(e,t,r)}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?t.exports=i:(s(i,r),r.Buffer=a),a.prototype=Object.create(n.prototype),s(n,a),a.from=function(e,t,r){if("number"==typeof e)throw TypeError("Argument must not be a number");return n(e,t,r)},a.alloc=function(e,t,r){if("number"!=typeof e)throw TypeError("Argument must be a number");var i=n(e);return void 0!==t?"string"==typeof r?i.fill(t,r):i.fill(t):i.fill(0),i},a.allocUnsafe=function(e){if("number"!=typeof e)throw TypeError("Argument must be a number");return n(e)},a.allocUnsafeSlow=function(e){if("number"!=typeof e)throw TypeError("Argument must be a number");return i.SlowBuffer(e)}},6623004:e=>{"use strict";var{m:t,e:r}=e,i=e.i(442955),n=e.r(2154459).Transform,s=e.r(2671021),a=e.r(9056991),o=e.r(8900398).Buffer;t.exports=function(e,t,r){var l,d,h,c,u,f,p="browser"===i.default.title,m=!!globalThis.WebSocket;t&&!Array.isArray(t)&&"object"==typeof t&&(r=t,t=null,("string"==typeof r.protocol||Array.isArray(r.protocol))&&(t=r.protocol)),r||(r={}),void 0===r.objectMode&&(r.objectMode=!0!==r.binary&&void 0!==r.binary);var g=(l=r,d=p?function e(t,r,i){if(f.bufferedAmount>b)return void setTimeout(e,y,t,r,i);_&&"string"==typeof t&&(t=o.from(t,"utf8"));try{f.send(t)}catch(e){return i(e)}i()}:function(e,t,r){if(f.readyState!==f.OPEN)return void r();_&&"string"==typeof e&&(e=o.from(e,"utf8")),f.send(e,r)},h=function(e){f.close(),e()},(c=new n({objectMode:l.objectMode}))._write=d,c._flush=h,c);r.objectMode||(g._writev=function(e,t){for(var r=Array(e.length),i=0;i<e.length;i++)"string"==typeof e[i].chunk?r[i]=o.from(e[i],"utf8"):r[i]=e[i].chunk;this._write(o.concat(r),"binary",t)});var b=r.browserBufferSize||524288,y=r.browserBufferTimeout||1e3;"object"==typeof e?f=e:(f=m&&p?new a(e,t):new a(e,t,r)).binaryType="arraybuffer",f.readyState===f.OPEN?u=g:(u=s.obj(),f.onopen=function(){u.setReadable(g),u.setWritable(g),u.emit("connect")}),u.socket=f,f.onclose=function(){u.end(),u.destroy()},f.onerror=function(e){u.destroy(e)},f.onmessage=function(e){var t=e.data;t=t instanceof ArrayBuffer?o.from(t):o.from(t,"utf8"),g.push(t)},g.on("close",function(){f.close()});var _=!r.objectMode;return u}},9010159:e=>{var{m:t,e:r}=e,i=e.r(4917093).Transform;function n(e){if(!(this instanceof n))throw TypeError("Cannot call a class as a function");e=e||{},i.call(this,{objectMode:!0}),this._memory="",this._emitInvalidLines=e.emitInvalidLines||!1}n.prototype=Object.create(i.prototype),n.prototype._handleLines=function(e,t){for(var r=0;r<e.length;r++)if(""!==e[r]){var i=null,n=null;try{n=JSON.parse(e[r])}catch(t){t.source=e[r],i=t}if(i)if(!this._emitInvalidLines)return t(i);else this.emit("invalid-line",i);else this.push(n)}t(null)},n.prototype._transform=function(e,t,r){var i=(this._memory+e.toString()).split("\n");this._memory=i.pop(),this._handleLines(i,r)},n.prototype._flush=function(e){if(!this._memory)return e(null);var t=this._memory;this._memory="",this._handleLines([t],e)},t.exports=n},2814407:e=>{var{m:t,e:r}=e,i=e.r(4917093).Transform;function n(){if(!(this instanceof n))throw TypeError("Cannot call a class as a function");i.call(this,{objectMode:!0})}n.prototype=Object.create(i.prototype),n.prototype._transform=function(e,t,r){var i;try{i=JSON.stringify(e)}catch(t){return t.source=e,r(t)}r(null,i+"\n")},t.exports=n},7451539:e=>{var{m:t,e:r}=e,i=e.r(9010159),n=e.r(2814407);r.parse=function(e){return new i(e)},r.stringify=function(){return new n}},5697522:e=>{var{m:t,e:r}=e;!function(){"use strict";if("object"==typeof window){if("IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype){"isIntersecting"in window.IntersectionObserverEntry.prototype||Object.defineProperty(window.IntersectionObserverEntry.prototype,"isIntersecting",{get:function(){return this.intersectionRatio>0}});return}var e=window.document,t=[];i.prototype.THROTTLE_TIMEOUT=100,i.prototype.POLL_INTERVAL=null,i.prototype.USE_MUTATION_OBSERVER=!0,i.prototype.observe=function(e){if(!this._observationTargets.some(function(t){return t.element==e})){if(!(e&&1==e.nodeType))throw Error("target must be an Element");this._registerInstance(),this._observationTargets.push({element:e,entry:null}),this._monitorIntersections(),this._checkForIntersections()}},i.prototype.unobserve=function(e){this._observationTargets=this._observationTargets.filter(function(t){return t.element!=e}),this._observationTargets.length||(this._unmonitorIntersections(),this._unregisterInstance())},i.prototype.disconnect=function(){this._observationTargets=[],this._unmonitorIntersections(),this._unregisterInstance()},i.prototype.takeRecords=function(){var e=this._queuedEntries.slice();return this._queuedEntries=[],e},i.prototype._initThresholds=function(e){var t=e||[0];return Array.isArray(t)||(t=[t]),t.sort().filter(function(e,t,r){if("number"!=typeof e||isNaN(e)||e<0||e>1)throw Error("threshold must be a number between 0 and 1 inclusively");return e!==r[t-1]})},i.prototype._parseRootMargin=function(e){var t=(e||"0px").split(/\s+/).map(function(e){var t=/^(-?\d*\.?\d+)(px|%)$/.exec(e);if(!t)throw Error("rootMargin must be specified in pixels or percent");return{value:parseFloat(t[1]),unit:t[2]}});return t[1]=t[1]||t[0],t[2]=t[2]||t[0],t[3]=t[3]||t[1],t},i.prototype._monitorIntersections=function(){!this._monitoringIntersections&&(this._monitoringIntersections=!0,this.POLL_INTERVAL?this._monitoringInterval=setInterval(this._checkForIntersections,this.POLL_INTERVAL):(n(window,"resize",this._checkForIntersections,!0),n(e,"scroll",this._checkForIntersections,!0),this.USE_MUTATION_OBSERVER&&"MutationObserver"in window&&(this._domObserver=new MutationObserver(this._checkForIntersections),this._domObserver.observe(e,{attributes:!0,childList:!0,characterData:!0,subtree:!0}))))},i.prototype._unmonitorIntersections=function(){this._monitoringIntersections&&(this._monitoringIntersections=!1,clearInterval(this._monitoringInterval),this._monitoringInterval=null,s(window,"resize",this._checkForIntersections,!0),s(e,"scroll",this._checkForIntersections,!0),this._domObserver&&(this._domObserver.disconnect(),this._domObserver=null))},i.prototype._checkForIntersections=function(){var e=this._rootIsInDom(),t=e?this._getRootRect():o();this._observationTargets.forEach(function(i){var n=i.element,s=a(n),o=this._rootContainsTarget(n),l=i.entry,d=e&&o&&this._computeTargetAndRootIntersection(n,t),h=i.entry=new r({time:window.performance&&performance.now&&performance.now(),target:n,boundingClientRect:s,rootBounds:t,intersectionRect:d});l?e&&o?this._hasCrossedThreshold(l,h)&&this._queuedEntries.push(h):l&&l.isIntersecting&&this._queuedEntries.push(h):this._queuedEntries.push(h)},this),this._queuedEntries.length&&this._callback(this.takeRecords(),this)},i.prototype._computeTargetAndRootIntersection=function(t,r){if("none"!=window.getComputedStyle(t).display){for(var i=a(t),n=d(t),s=!1;!s;){var o=null,l=1==n.nodeType?window.getComputedStyle(n):{};if("none"==l.display)return;if(n==this.root||n==e?(s=!0,o=r):n!=e.body&&n!=e.documentElement&&"visible"!=l.overflow&&(o=a(n)),o&&!(i=function(e,t){var r=Math.max(e.top,t.top),i=Math.min(e.bottom,t.bottom),n=Math.max(e.left,t.left),s=Math.min(e.right,t.right),a=s-n,o=i-r;return a>=0&&o>=0&&{top:r,bottom:i,left:n,right:s,width:a,height:o}}(o,i)))break;n=d(n)}return i}},i.prototype._getRootRect=function(){var t;if(this.root)t=a(this.root);else{var r=e.documentElement,i=e.body;t={top:0,left:0,right:r.clientWidth||i.clientWidth,width:r.clientWidth||i.clientWidth,bottom:r.clientHeight||i.clientHeight,height:r.clientHeight||i.clientHeight}}return this._expandRectByRootMargin(t)},i.prototype._expandRectByRootMargin=function(e){var t=this._rootMarginValues.map(function(t,r){return"px"==t.unit?t.value:t.value*(r%2?e.width:e.height)/100}),r={top:e.top-t[0],right:e.right+t[1],bottom:e.bottom+t[2],left:e.left-t[3]};return r.width=r.right-r.left,r.height=r.bottom-r.top,r},i.prototype._hasCrossedThreshold=function(e,t){var r=e&&e.isIntersecting?e.intersectionRatio||0:-1,i=t.isIntersecting?t.intersectionRatio||0:-1;if(r!==i)for(var n=0;n<this.thresholds.length;n++){var s=this.thresholds[n];if(s==r||s==i||s<r!=s<i)return!0}},i.prototype._rootIsInDom=function(){return!this.root||l(e,this.root)},i.prototype._rootContainsTarget=function(t){return l(this.root||e,t)},i.prototype._registerInstance=function(){0>t.indexOf(this)&&t.push(this)},i.prototype._unregisterInstance=function(){var e=t.indexOf(this);-1!=e&&t.splice(e,1)},window.IntersectionObserver=i,window.IntersectionObserverEntry=r}function r(e){this.time=e.time,this.target=e.target,this.rootBounds=e.rootBounds,this.boundingClientRect=e.boundingClientRect,this.intersectionRect=e.intersectionRect||o(),this.isIntersecting=!!e.intersectionRect;var t=this.boundingClientRect,r=t.width*t.height,i=this.intersectionRect,n=i.width*i.height;r?this.intersectionRatio=Number((n/r).toFixed(4)):this.intersectionRatio=+!!this.isIntersecting}function i(e,t){var r,i,n,s=t||{};if("function"!=typeof e)throw Error("callback must be a function");if(s.root&&1!=s.root.nodeType)throw Error("root must be an Element");this._checkForIntersections=(r=this._checkForIntersections.bind(this),i=this.THROTTLE_TIMEOUT,n=null,function(){n||(n=setTimeout(function(){r(),n=null},i))}),this._callback=e,this._observationTargets=[],this._queuedEntries=[],this._rootMarginValues=this._parseRootMargin(s.rootMargin),this.thresholds=this._initThresholds(s.threshold),this.root=s.root||null,this.rootMargin=this._rootMarginValues.map(function(e){return e.value+e.unit}).join(" ")}function n(e,t,r,i){"function"==typeof e.addEventListener?e.addEventListener(t,r,i||!1):"function"==typeof e.attachEvent&&e.attachEvent("on"+t,r)}function s(e,t,r,i){"function"==typeof e.removeEventListener?e.removeEventListener(t,r,i||!1):"function"==typeof e.detatchEvent&&e.detatchEvent("on"+t,r)}function a(e){var t;try{t=e.getBoundingClientRect()}catch(e){}return t?(t.width&&t.height||(t={top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:t.right-t.left,height:t.bottom-t.top}),t):o()}function o(){return{top:0,bottom:0,left:0,right:0,width:0,height:0}}function l(e,t){for(var r=t;r;){if(r==e)return!0;r=d(r)}return!1}function d(e){var t=e.parentNode;return t&&11==t.nodeType&&t.host?t.host:t&&t.assignedSlot?t.assignedSlot.parentNode:t}}()},9232520:e=>{e.v({body:"domains-overlay-module__YoPLYa__body",heading:"domains-overlay-module__YoPLYa__heading",hint:"domains-overlay-module__YoPLYa__hint",message:"domains-overlay-module__YoPLYa__message",overlay:"domains-overlay-module__YoPLYa__overlay",picker:"domains-overlay-module__YoPLYa__picker",price:"domains-overlay-module__YoPLYa__price",queryPart:"domains-overlay-module__YoPLYa__queryPart",show:"domains-overlay-module__YoPLYa__show",tldPart:"domains-overlay-module__YoPLYa__tldPart"})},3777284:e=>{"use strict";let t;e.s({DomainsContainer:()=>eQ},3777284);var r,i=e.i(6645307),n=e.i(2531953),s=e.i(6530772),a=e.i(2250501),o=e.i(5610210),l=e.i(1532957),d=e.i(674684),h=e.i(6649026),c=e.i(9336536),u=e.i(5454140),f=e.i(3514588),p=e.i(9185154),m=e.i(8811733),g=e.i(2362802);function b(e){let{scrollX:t,scrollY:r}=e;window.scrollTo(t,r)}var y=e.i(2448773),_=e.i(878537);let w=/[^\0-\x7F]/,v=/[\x2E\u3002\uFF0E\uFF61]/g,E={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},S=Math.floor,x=String.fromCharCode;function R(e){throw RangeError(E[e])}let j=function(e,t){return e+22+75*(e<26)-((0!=t)<<5)},I=function(e,t,r){let i=0;for(e=r?S(e/700):e>>1,e+=S(e/t);e>455;i+=36)e=S(e/35);return S(i+36*e/(e+38))},k=function(e){let t=[],r=(e=function(e){let t=[],r=0,i=e.length;for(;r<i;){let n=e.charCodeAt(r++);if(n>=55296&&n<=56319&&r<i){let i=e.charCodeAt(r++);(64512&i)==56320?t.push(((1023&n)<<10)+(1023&i)+65536):(t.push(n),r--)}else t.push(n)}return t}(e)).length,i=128,n=0,s=72;for(let r of e)r<128&&t.push(x(r));let a=t.length,o=a;for(a&&t.push("-");o<r;){let r=0x7fffffff;for(let t of e)t>=i&&t<r&&(r=t);let l=o+1;for(let d of(r-i>S((0x7fffffff-n)/l)&&R("overflow"),n+=(r-i)*l,i=r,e))if(d<i&&++n>0x7fffffff&&R("overflow"),d===i){let e=n;for(let r=36;;r+=36){let i=r<=s?1:r>=s+26?26:r-s;if(e<i)break;let n=e-i,a=36-i;t.push(x(j(i+n%a,0))),e=S(n/a)}t.push(x(j(e,0))),s=I(n,l,o===a),n=0,++o}++n,++i}return t.join("")},A={toASCII:function(e){var t=e,r=function(e){return w.test(e)?"xn--"+k(e):e};let i=t.split("@"),n="";return i.length>1&&(n=i[0]+"@",t=i[1]),n+(function(e,t){let r=[],i=e.length;for(;i--;)r[i]=t(e[i]);return r})((t=t.replace(v,".")).split("."),r).join(".")}};var C=e.i(6768476);let M=/([^.]*)[.](.*)/;function N(e){let[,t=e,r=""]=e.match(M)||[];return{hostname:t,partialTLD:r}}let T=(r=C.ALL_TLDS,function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,{hostname:i,hostnameASCII:n,partialTLD:s}=function(e){var t;let{hostname:r}=N(e),{hostname:i,partialTLD:n}=N((t=e,A.toASCII(t)));return{hostname:r,hostnameASCII:i,partialTLD:n}}(e);if(!i)return{results:[],max:0};let a=r.filter(e=>e.startsWith(`.${s}`)).filter(e=>(function(e,t){let r=(0,C.get)(e.slice(1));return!r||!(t.length<r.nameLength.min)&&!(t.length>r.nameLength.max)})(e,i)).map(e=>(function(e){let{hostname:t,hostnameASCII:r,tld:i}=e;return{domain:`${t}${i}`,path:null,query:t,queryASCII:r,tld:i.slice(1)}})({hostname:i,hostnameASCII:n,tld:e}));return{results:t?a.slice(0,t):a,max:a.length}}),O=function(e){return t=>t.reduce((t,r)=>{let{partialTLD:i}=N(r),n=`.${i}`;return t[e[n]]?t[e[n]].push(r):t[e[n]]=[r],t},{})}(C.TLDS_BACKEND);var L=e.i(3719979);class P{_status;domain;price;error;_premium;constructor(e){this._status=D.PENDING,this.domain=e,this.price=null}get status(){return this._status}set status(e){var t;e.includes(B.INACTIVE)?(this._premium=e.includes(B.PREMIUM),this._status=D.AVAILABLE):(t=e).includes(B.UNDELEGATED)||t.includes(B.CLAIMED)||t.includes(B.ACTIVE)||t.includes(B.DPML)||t.includes(B.RESERVED)||t.includes(B.PENDING)?this._status=D.UNAVAILABLE:this._status=e}get premium(){return!!this._premium}toJSON(){return{domain:this.domain,premium:this.premium}}}let D=Object.freeze({AVAILABLE:"INTERNAL_AVAILABLE",ERRORED:"INTERNAL_ERRORED",PENDING:"INTERNAL_PENDING",UNAVAILABLE:"INTERNAL_UNAVAILABLE"}),B={ACTIVE:"active",CLAIMED:"claimed",DPML:"dpml",INACTIVE:"inactive",PENDING:"pending",PREMIUM:"premium",RESERVED:"reserved",UNDELEGATED:"undelegated"},q=function(){let e=new L.default({maxSize:3e3}),t=new Map;function r(t){return e.get(t)||new P(t)}function i(t,i){let n=r(t);return n.price=i,e.set(t,n),s(t,{price:n.price}),n}function n(e){return t.get(e)||[]}function s(e,r){(t.get(e)||[]).forEach(e=>e(r))}return{get:r,resetPrices:function(){[...e.keys()].forEach(e=>i(e,void 0))},subscribe:function(e,r){let i=n(e);return i.push(r),t.set(e,i),function(){let i=n(e),s=i.indexOf(r);t.set(e,i.slice(0,s).concat(i.slice(s+1)))}},updatePrice:i,updateStatus:function(t,i){let n=r(t);return n.status=i,e.set(t,n),s(t,{status:n.status}),n},updateError:function(t,i){let n=r(t);return n.status=D.ERRORED,n.error=i,e.set(t,n),s(t,{error:n.error}),n}}}();var U=e.i(6623004),W=e.i(7451539);let V="message",F="reconnect",Y={REQUEST_PRICE:"REQUEST_PRICE",REQUEST_PRICES:"REQUEST_PRICES",REQUEST_STATUS:"REQUEST_STATUS",REQUEST_TEAM_SWITCH:"REQUEST_TEAM_SWITCH",REQUEST_VISIBILITY:"REQUEST_VISIBILITY",RESPONSE_ERROR:"RESPONSE_ERROR",RESPONSE_PRICE:"RESPONSE_PRICE",RESPONSE_PRICES:"RESPONSE_PRICES",RESPONSE_STATUS:"RESPONSE_STATUS"};class ${constructor(e){this.items=new Map,this.domainProcesser=function(){let e=new Set;return{clearProcessDomains:()=>e.clear(),processDomains:t=>{let r=!1,i=[],n=[];return t.forEach(t=>{if(!e.has(t)){let e=q.get(t);r=!0,e.status===D.PENDING&&i.push(t),e.status!==D.AVAILABLE||e.price||n.push(t)}}),e=new Set(t.values()),{newVisibleItems:r,toRequestPrice:n,toRequestStatus:i}}}}(),this.domainsStream=function(e){let{url:t,onReconnect:r}=e,i=function(e){let t,r,i,n,s=new Set,a=[],o=!0,l=!1;function d(){(n=(0,U.default)(e)).on("connect",h),n.on("error",g),n.on("close",b),r=W.default.stringify(),t=W.default.parse(),window.addEventListener("beforeunload",p)}function h(){l&&s.forEach(e=>e(F)),l=!1,a.length>0&&(a.forEach(f),a=[])}function c(){n.pipe(t),r.pipe(n)}function u(){d(),c()}function f(e){if(l)a.push(e);else try{r.write(e)}catch(t){a.push(e)}}function p(){window.removeEventListener("beforeunload",p),o=!1,m()}function m(){n.destroy(),r.destroy(),t.destroy()}function g(){m()}function b(){o&&(console.error("Socket connection was lost. Reconnecting..."),i=setTimeout(y,2e3))}function y(){l=!0,clearTimeout(i),m(),d(),c(),s.forEach(e=>{t.on("data",t=>{e(V,t)})})}return u(),{addListener:function(e){s.add(e),t.on("data",t=>e(V,t))},close:p,connect:u,removeListener:function(e){s.delete(e),t.off(e)},write:f}}(t);function n(e){i.write({type:Y.REQUEST_PRICE,payload:{domain:q.get(e).toJSON()}})}return i.addListener(function(e,t){var i,s,a;e===V?(i=t).type===Y.RESPONSE_STATUS?i.payload.status.forEach(e=>{q.updateStatus(e.domain,e.status).status===D.AVAILABLE&&n(e.domain)}):i.type===Y.RESPONSE_PRICE?(s=i,q.updatePrice(s.payload.domain,s.payload.price)):i.type===Y.RESPONSE_PRICES?i.payload.prices.forEach(e=>q.updatePrice(e.domain,e.price)):i.type===Y.RESPONSE_ERROR?((a=i).payload.extra.domains&&a.payload.extra.domains.forEach(e=>q.updateError(e,a.payload.message)),console.error(`[${a.payload.code}]: ${a.payload.message}
`,a.payload.extra)):console.error("[UNKWNON_MESSAGE]: Received unknown message for domains WS"):e===F&&r()}),{close:function(){i.close()},requestPrice:n,requestPrices:function(e){e.length>0&&i.write({type:Y.REQUEST_PRICES,payload:{domains:e.map(e=>q.get(e).toJSON())}})},requestStatus:function(e){e.length>0&&Object.values(O(e)).forEach(e=>{(function(e,t){if(t.length<15)return[t];{let r=[];for(let i=0;i<Math.ceil(t.length/e);i++)r.push(t.slice(i*e,i*e+e));return r}})(15,e).forEach(e=>{i.write({type:Y.REQUEST_STATUS,payload:{domains:e}})})})},requestTeamSwitch:function(e){i.write({type:Y.REQUEST_TEAM_SWITCH,payload:{teamId:e}})},setVisibility:function(e){i.write({type:Y.REQUEST_VISIBILITY,payload:{domains:e}})}}}({url:e,onReconnect:()=>{this.currentTeam?this.requestTeamSwitch(this.currentTeam):this.updateVisibleItems()}}),this.onVisibilityChange=(0,l.default)(this.onVisibilityChange,200)}onVisibilityChange=()=>{let{newVisibleItems:e,toRequestPrice:t,toRequestStatus:r}=this.domainProcesser.processDomains(this.items);e&&this.domainsStream.setVisibility(Array.from(this.items.values())),this.domainsStream.requestStatus(r),this.domainsStream.requestPrices(t)};getVisible=()=>this.items;isItemVisible=e=>this.items.has(e);destroy=()=>this.domainsStream.close();updateVisibleItems=()=>this.onVisibilityChange();requestTeamSwitch=e=>{this.currentTeam=e,this.domainsStream.requestTeamSwitch(e),q.resetPrices(),this.domainProcesser.clearProcessDomains(),this.updateVisibleItems()};updateItemVisibility=(e,t,r)=>{t?this.items.set(e,r):this.items.delete(e),this.onVisibilityChange()}}var G=s,H=e.i(6621512),z=e.i(555528),Q=e.i(1164214),K=e.i(7573892),J=e.i(9802771),Z=e.i(2270026),X=e.i(1183506),ee=e.i(6795435),et=e.i(9934081),er=s;function ei(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{rootMargin:function(e){let t=(e||"0px").trim().split(/\s+/);return t.forEach(es),t[1]=t[1]||t[0],t[2]=t[2]||t[0],t[3]=t[3]||t[1],t.join(" ")}(t.rootMargin),threshold:Array.isArray(e=t.threshold)?e:[void 0!==e?e:0]}}function en(e,t){return ea(t.rootMargin,e.rootMargin)&&ea(t.threshold,e.thresholds)}function es(e){if(!/^-?\d*\.?\d+(px|%)$/.test(e))throw Error("rootMargin must be specified as a CSS margin property")}function ea(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===t.length?e.every((r,i)=>ea(e[i],t[i])):e===t}e.r(5697522);let eo=function(){let e=new Map;function t(t){return e.has(t)?e.get(t):e.set(t,new Map).get(t)}function r(e,r){for(let i of e){let e=t(r).get(i.target);e&&e(i)}}return{getObserver:function(t){return function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=ei(t);for(let t of e.keys())if(en(t,r))return t;return null}(t)||new IntersectionObserver(r,t)},observeTarget:function(e,r,i){t(e).set(r,i),e.observe(r)},unobserveTarget:function(e,r){t(e).delete(r),e.unobserve(r)}}}(),{getObserver:el}=eo,{observeTarget:ed}=eo,{unobserveTarget:eh}=eo;class ec extends er.Component{static defaultProps={disabled:!1,once:!1};shouldReobserve=!1;observer;target=null;componentDidMount(){this.observer=el(eu(this.props)),this.observe()}componentDidUpdate(e){let t=eu(this.props),r=ei(t);en(this.observer,r)||(this.unobserve(),this.observer=el(t),this.shouldReobserve=!0),e.disabled&&!this.props.disabled&&(this.shouldReobserve=!0),!e.disabled&&this.props.disabled&&this.unobserve(),this.shouldReobserve&&(this.observe(),this.shouldReobserve=!1)}componentWillUnmount(){this.unobserve()}handleTarget=e=>{if(null!==e&&"object"==typeof e&&!function(e){return e&&"function"==typeof e.getBoundingClientRect}(e))throw Error("Child did not forward the ref to a DOM element. Did you accidentally pass a class component?");this.target&&this.target!==e&&(this.unobserve(),this.shouldReobserve=!0),this.target=e};observe(){!this.props.disabled&&this.target&&ed(this.observer,this.target,this.handleIntersect)}unobserve(){this.target&&eh(this.observer,this.target)}handleIntersect=e=>{this.props.onIntersect(e,this.props.value),this.props.once&&e.isIntersecting&&this.unobserve()};render(){return(0,er.cloneElement)(er.Children.only(this.props.children),{ref:this.handleTarget})}}let eu=e=>({rootMargin:e.rootMargin,threshold:e.threshold});var ef=e.i(6325202),ep=e.i(4470337),em=s;let eg=(0,e.i(6895406).withNewIcon)('<path fill-rule="evenodd" clip-rule="evenodd" d="M15 16H1C0.447715 16 0 15.5523 0 15V1C0 0.447715 0.447716 0 1 0L15 8.17435e-06C15.5523 8.47532e-06 16 0.447724 16 1.00001V15C16 15.5523 15.5523 16 15 16ZM11.7803 6.28033L12.3107 5.75L11.25 4.68934L10.7197 5.21967L6.5 9.43935L5.28033 8.21967L4.75001 7.68934L3.68934 8.74999L4.21967 9.28033L5.96967 11.0303C6.11032 11.171 6.30109 11.25 6.5 11.25C6.69891 11.25 6.88968 11.171 7.03033 11.0303L11.7803 6.28033Z" fill="currentColor"/>');var eb=e.i(3277953),ey=e.i(6626337),e_=e.i(6143279),ew=e.i(1268665),ev=e.i(5674541),eE=e.i(5017554);e.i(7597982);var eS=e.i(9598711),ex=e.i(5163670),eR=e.i(8247297),ej=e.i(503726),eI=e.i(8995384);let ek=e=>{let{domain:t,checked:r,onChange:n}=e,s=(0,ej.useAccount)(),a=s?.team||s?.user,{data:o}=(0,eI.default)({name:t,type:"renewal"});return o?(0,i.jsxs)(eR.Checkbox,{checked:r,onChange:n,children:["Auto renew yearly for"," ",(0,ef.formatCurrency)(100*o.price,a?.billing?.currency)]}):(0,i.jsx)(ex.Skeleton,{height:24,width:"100%"})},eA=e=>{let{domain:t}=e;return(0,eI.default)({name:t,type:"renewal"}),null};var eC=e.i(9232520);let eM={CONFIRM:"confirm",ERRORED:"errored",LOADING:"loading",CHECKING_AVAILABILITY:"checking_availability",INITIATING_PAYMENT:"initiating_payment",PROCESSING_PAYMENT:"processing_payment",COMPLETING_PAYMENT:"completing_payment",PURCHASING_DOMAIN:"purchasing_domain",READY:"ready",PENDING:"pending",SUCCESS:"success"},eN={NO_SOURCE:"source_not_found",PAYMENT_ERROR:"payment_error",NOT_AVAILABLE:"not_available",DOMAIN_TAKEN:"domain_taken",UPSTREAM_ERROR:"upstream_error",INVOICE_FAILED:"invoice_failed",PAYMENT_FAILED:"payment_failed",INTERNAL_SERVER_ERROR:"internal_server_error",BAD_REQUEST:"bad_request",NOT_FOUND:"not_found"};class eT extends em.Component{state={renew:!0,creditCardModal:!1};buyButton;cancelButton;componentDidUpdate(e){!eP(e.purchaseState,e.errorCode)&&eP(this.props.purchaseState,this.props.errorCode)&&!this.state.creditCardModal&&this.setState({creditCardModal:!0}),e.purchaseState===eM.READY&&this.props.purchaseState===eM.CONFIRM&&this.cancelButton.focus()}componentDidMount(){this.buyButton&&this.buyButton.focus()}handleBuyButtonRef=e=>{this.buyButton=e};handleCancelButton=e=>{this.cancelButton=e};renderPrice=()=>this.props.success?(0,i.jsx)(eg,{}):0!==this.props.price?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("strong",{children:this.props.price})," (",(0,C.getBuyPeriod)(this.props.tld||""),"yr)"]}):"FREE";showCreditCardModal=e=>{e&&e.preventDefault(),this.setState({creditCardModal:!0})};hideCreditCardModal=()=>{this.setState({creditCardModal:!1})};renderOverlay=e=>{var t,r,n,s,a,o,l,d,h,c;let{innerRef:u,onPointerDownCapture:f}=e,{domainSize:p,errorCode:m,onClickAbort:b,onClickBuy:y,onClickConfirmBuy:_,path:w,purchaseState:v,query:E,queryASCII:S,team:x,tld:R,user:j}=this.props,I=p?`calc(${p.width} + var(--overlay-padding) * 2)`:"auto",k=x?"/teams/[teamSlug]/settings/billing":"/account/billing",A=x?`/${x.slug}/~/settings/billing`:"/account/billing",{creditCardModal:M}=this.state,N=`${S}.${R}`,T=(0,C.getBuyPeriod)(R||"");return(0,i.jsxs)("div",{className:eC.default.overlay,onPointerDownCapture:f,ref:u,style:{width:`${I}px`},children:[(0,i.jsxs)("div",{className:eC.default.heading,style:{height:p?`${p.height}px`:"auto"},children:[(0,i.jsxs)("span",{className:eC.default.queryPart,children:[E,"."]}),(0,i.jsx)("span",{className:eC.default.tldPart,children:`${R}${w?`/${w}`:""}`}),(0,i.jsx)("span",{className:eC.default.price,children:this.renderPrice()})]}),(0,i.jsxs)("div",{className:eC.default.body,style:{height:p?`calc(100% - ${p.height}px)`:"auto"},children:[(0,i.jsx)(eA,{domain:N}),(eO(v)||eL(v))&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{className:eC.default.message,children:[(0,i.jsxs)(eE.P,{children:["Are you sure you want to purchase"," ",(0,i.jsxs)("strong",{children:[E,".",R]})," ","for"," ",(0,i.jsx)("strong",{children:1===T?"one year":`${T} years`})," ",j||x?(0,i.jsxs)(i.Fragment,{children:["for"," ",x?(0,i.jsxs)(i.Fragment,{children:["team ",(0,i.jsx)("strong",{children:x.name})]}):(0,i.jsxs)(i.Fragment,{children:["your"," ",(0,i.jsxs)("strong",{children:["personal account (",j.username||j.email,")"]})]})]}):null,"?"]}),S!==E?(0,i.jsxs)(eE.P,{children:[(0,i.jsx)("span",{className:"text-geist-warning",children:(0,i.jsx)(eb.Warning,{className:"pt-1"})}),"This is a punycode domain and will be registered as"," ",(0,i.jsxs)("strong",{children:[S,".",R]})]}):null,(0,i.jsx)(ek,{checked:this.state.renew,domain:N,onChange:()=>{this.setState(e=>({renew:!e.renew}))}})]}),(0,i.jsxs)("div",{className:"flex w-full flex-row items-center justify-center gap-2 p-2",children:[(0,i.jsx)(ev.Button,{className:"w-1/2",passthroughOnClick:b,ref:this.handleCancelButton,type:"secondary",children:"Cancel"}),(0,i.jsx)(ev.Button,{className:"w-1/2",passthroughOnClick:e=>{if(eO(v))return void y?.(e);eL(v)&&_?.(this.state.renew)},children:eO(v)?"Buy":"Confirm"})]})]}),v===eM.LOADING&&(0,i.jsx)("div",{className:eC.default.message,children:(0,i.jsxs)(eE.P,{children:["Please wait while"," ",(0,i.jsx)("strong",{children:"your domain is being purchased"})," ",(0,i.jsx)(ew.LoadingDots,{})]})}),v===eM.CHECKING_AVAILABILITY&&(0,i.jsx)("div",{className:eC.default.message,children:(0,i.jsxs)(eE.P,{children:["Please wait while"," ",(0,i.jsx)("strong",{children:"we check the availability of your domain"})," ",(0,i.jsx)(ew.LoadingDots,{})]})}),v===eM.INITIATING_PAYMENT&&(0,i.jsx)("div",{className:eC.default.message,children:(0,i.jsxs)(eE.P,{children:["Please wait while ",(0,i.jsx)("strong",{children:"we initiate your payment"})," ",(0,i.jsx)(ew.LoadingDots,{})]})}),v===eM.PROCESSING_PAYMENT&&(0,i.jsx)("div",{className:eC.default.message,children:(0,i.jsxs)(eE.P,{children:["Please wait while ",(0,i.jsx)("strong",{children:"we process your payment"})," ",(0,i.jsx)(ew.LoadingDots,{})]})}),v===eM.COMPLETING_PAYMENT&&(0,i.jsx)("div",{className:eC.default.message,children:(0,i.jsxs)(eE.P,{children:["Please wait while ",(0,i.jsx)("strong",{children:"we complete your purchase"})," ",(0,i.jsx)(ew.LoadingDots,{})]})}),v===eM.PURCHASING_DOMAIN&&(0,i.jsx)("div",{className:eC.default.message,children:(0,i.jsxs)(eE.P,{children:["Please wait while ",(0,i.jsx)("strong",{children:"we purchase your domain"})," ",(0,i.jsx)(ew.LoadingDots,{})]})}),v===eM.SUCCESS&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:eC.default.message,children:(0,i.jsx)(eE.P,{children:"Congratulations! The domain was successfully purchased."})}),(0,i.jsxs)("div",{className:"flex w-full flex-row justify-around gap-1 p-1.5",children:[(0,i.jsx)(ev.Button,{className:"grow",passthroughOnClick:b,children:"Dismiss"}),(0,i.jsx)(ev.Button,{Component:g.Link,className:"grow",href:`${x?`/${x.slug}/~`:"/account"}/domains`,children:"View Domains"})]})]}),v===eM.PENDING&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:eC.default.message,children:(0,i.jsx)(eE.P,{children:"The purchase order was successfuly submitted. An email will be sent upon completion for you to start using your new domain"})}),(0,i.jsx)("div",{className:"flex w-full flex-row justify-around gap-1 p-1.5",children:(0,i.jsx)(ev.Button,{className:"grow",passthroughOnClick:b,children:"Dismiss"})})]}),eP(v,m)&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:eC.default.message,children:(0,i.jsx)(eE.P,{style:{margin:0},children:"We can't find a billing source, please add a payment method."})}),(0,i.jsxs)("div",{className:"flex w-full flex-row justify-around gap-1 p-1.5",children:[(0,i.jsx)(ev.Button,{className:"grow",passthroughOnClick:b,type:"secondary",children:"Cancel"}),(0,i.jsx)(ev.Button,{className:"grow",passthroughOnClick:this.showCreditCardModal,children:"Add Card"})]})]}),function(e,t){return e===eM.ERRORED&&(t===eN.PAYMENT_ERROR||t===eN.PAYMENT_FAILED)}(v,m)&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:eC.default.message,children:(0,i.jsx)(eE.P,{children:"Purchase failed, please review your payment method"})}),(0,i.jsxs)("div",{className:"flex w-full flex-row justify-around gap-1 p-1.5",children:[(0,i.jsx)(ev.Button,{className:"grow",passthroughOnClick:b,type:"secondary",children:"Cancel"}),(0,i.jsx)(ev.Button,{Component:g.Link,as:A,className:"grow",href:k,children:"Payment"})]})]}),(t=v,r=m,t===eM.ERRORED&&r===eN.NOT_AVAILABLE&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:eC.default.message,children:(0,i.jsx)(eE.P,{children:"This domain is not available to purchase"})}),(0,i.jsx)("div",{className:"flex w-full flex-row justify-around gap-1 p-1.5",children:(0,i.jsx)(ev.Button,{className:"grow",passthroughOnClick:b,children:"Ok"})})]})),(n=v,s=m,n===eM.ERRORED&&s===eN.UPSTREAM_ERROR&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:eC.default.message,children:(0,i.jsx)(eE.P,{children:"Our upstream provider is having trouble processing this request. Please try again later."})}),(0,i.jsx)("div",{className:"flex w-full flex-row justify-around gap-1 p-1.5",children:(0,i.jsx)(ev.Button,{className:"grow",passthroughOnClick:b,children:"Ok"})})]})),(a=v,o=m,a===eM.ERRORED&&o===eN.INTERNAL_SERVER_ERROR&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:eC.default.message,children:(0,i.jsx)(eE.P,{children:this.props.purchaseErrorMessage})}),(0,i.jsx)("div",{className:"flex w-full flex-row justify-around gap-1 p-1.5",children:(0,i.jsx)(ev.Button,{className:"grow",passthroughOnClick:b,children:"Ok"})})]})),(l=v,d=m,l===eM.ERRORED&&d===eN.NOT_FOUND&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:eC.default.message,children:(0,i.jsx)(eE.P,{children:this.props.purchaseErrorMessage})}),(0,i.jsx)("div",{className:"flex w-full flex-row justify-around gap-1 p-1.5",children:(0,i.jsx)(ev.Button,{className:"grow",passthroughOnClick:b,children:"Ok"})})]})),(h=v,c=m,h===eM.ERRORED&&c===eN.BAD_REQUEST&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:eC.default.message,children:(0,i.jsx)(eE.P,{children:this.props.purchaseErrorMessage})}),(0,i.jsx)("div",{className:"flex w-full flex-row justify-around gap-1 p-1.5",children:(0,i.jsx)(ev.Button,{className:"grow",passthroughOnClick:b,children:"Ok"})})]})),function(e,t){return e===eM.ERRORED&&t!==eN.UPSTREAM_ERROR&&t!==eN.NOT_AVAILABLE&&t!==eN.NO_SOURCE&&t!==eN.INTERNAL_SERVER_ERROR&&t!==eN.NOT_FOUND&&t!==eN.BAD_REQUEST&&t!==eN.PAYMENT_FAILED}(v,m)&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:eC.default.message,children:(0,i.jsxs)(eE.P,{children:["An unexpected error occurred (",m,"). Please try again later.",(0,i.jsx)("br",{}),(0,i.jsx)("br",{}),"Our team was automatically informed and will take a look at the error."]})}),(0,i.jsx)("div",{className:"flex w-full flex-row justify-around gap-1 p-1.5",children:(0,i.jsx)(ev.Button,{className:"grow",passthroughOnClick:b,children:"Ok"})})]})]}),(0,i.jsx)(eS.CreditCardModal,{isActive:M,onAbort:this.hideCreditCardModal,onContinue:()=>{this.hideCreditCardModal(),_?.(this.state.renew)},team:x})]})};render(){let{onClickOutside:e,onEscKeyPress:t}=this.props,{creditCardModal:r}=this.state;return(0,i.jsx)(e_.Keyboard,{handlers:{ESC:t},useKeys:!0,children:(0,i.jsx)(ey.ClickOutside,{onClick:r?void 0:e,render:this.renderOverlay})})}}function eO(e){return e===eM.READY}function eL(e){return e===eM.CONFIRM}function eP(e,t){return e===eM.ERRORED&&t===eN.NO_SOURCE}var eD=e.i(5662294);class eB extends G.Component{state={errorCode:null,domainSize:null,purchaseState:eM.READY,purchaseErrorMessage:"",confirmingPayment:!1};_domain=q.get(this.props.domain||"");unsubscribe;rootNode;updateIdle;pendingUpdate;componentDidMount(){this.unsubscribe=q.subscribe(this.props.domain||"",this.handleDomainUpdate),this.props.active&&this.setState({domainSize:this.calculateSizeAndAjustScroll()})}componentDidUpdate(e){this.props.active!==e.active&&(this.props.active?this.setState({domainSize:this.calculateSizeAndAjustScroll()}):this.setState({domainSize:null,purchaseState:eM.READY}))}shouldComponentUpdate(e,t){let r=!e.domainsManager||e.domainsManager.isItemVisible(e.id);return"requestIdleCallback"in window&&!r&&this.props.domain!==e.domain&&(this.updateIdle&&cancelIdleCallback(this.updateIdle),this.updateIdle=requestIdleCallback(()=>{this.pendingUpdate=null,this.forceUpdate()})),this.props.domain!==e.domain&&(this._domain=q.get(e.domain||""),this.pendingUpdate=!0,this.unsubscribe(),this.unsubscribe=q.subscribe(e.domain||"",this.handleDomainUpdate)),this.props.active!==e.active||r&&this.props.domain!==e.domain||r&&this.state.domainSize!==t.domainSize||r&&this.state.purchaseState!==t.purchaseState||r&&this.props.isCorrectTeamRequested!==e.isCorrectTeamRequested}componentWillUnmount(){this.unsubscribe()}calculateSizeAndAjustScroll=()=>{let{top:e,height:t,width:r}=this.rootNode.getBoundingClientRect(),{scrollY:i,scrollX:n}={scrollX:window.scrollX,scrollY:window.scrollY},{height:s}={height:window.innerHeight||document.documentElement.offsetHeight,width:window.innerWidth||document.documentElement.offsetWidth};return s&&(e<0||e>s)&&setTimeout(()=>{b({scrollY:i+e-s/2,scrollX:n})},200),{height:t,width:r}};handleDomainUpdate=()=>{this._domain=q.get(this.props.domain||""),this.props.domainsManager?.isItemVisible(this.props.id)?this.forceUpdate():this.pendingUpdate=!0};handlePressEsc=e=>{this.props.onClickOutsideDomain?.(e),this.rootNode&&this.rootNode.focus()};handleRootNode=e=>{this.rootNode=e};handleClickDomain=e=>{this.props.onClick?.(e,this.props.group||"",this.props.tld||"")};handleClickBuy=()=>{this.setState({purchaseState:eM.CONFIRM})};submitPayment=async e=>{this._domain.price="number"==typeof this._domain.price?this._domain.price:await (0,eD.getDomainPrice)({name:this._domain.domain,type:"new",team:this.props.team}).then(e=>e.price).catch(()=>null);let{paymentProcessor:t,elements:r,confirmPayment:i,paymentMethods:n,team:s}=this.props;if(this.state.confirmingPayment||!t||!r)return;let a=n;if(a?.defaultSource||(a=await this.props.revalidatePaymentMethods()),!a?.defaultSource)return void this.setState({errorCode:eN.NO_SOURCE,purchaseState:eM.ERRORED});this.setState({purchaseState:eM.LOADING,confirmingPayment:!0});try{this.setState({purchaseState:eM.CHECKING_AVAILABILITY});let{status:t,error:r}=await function(e,t){let r=`${c.API_DOMAINS_V5}/${encodeURIComponent(e)}/availability?expectedPrice=${t}`;return(0,X.default)(r,{method:"GET",throwOnHTTPError:!0})}(this._domain.domain,this._domain.price);if("available"!==t||r)throw{code:eN.NOT_AVAILABLE};let n={domains:{name:this._domain.domain,priceAction:"new",invoiceAction:"domain_registration",period:(0,C.getBuyPeriod)(this.props.tld||""),renew:e}};this.setState({purchaseState:eM.INITIATING_PAYMENT});let{id:o,clientSecret:l,status:d}=await (0,et.generatePaymentIntent)({teamId:s?.id,product:"domains",metadata:n});if("requires_payment_method"===d){this.setState({purchaseState:eM.PROCESSING_PAYMENT});let{error:e}=await i({clientSecret:l,confirmParams:{payment_method:a.defaultSource},redirect:"if_required"});if(e)throw{code:eN.PAYMENT_FAILED,originalError:e}}this.setState({purchaseState:eM.COMPLETING_PAYMENT});let h=await (0,et.completePurchase)({teamId:s?.id,paymentIntentId:o,product:"domains",metadata:n,enableProductProvisioning:!1});if(h.code)throw{code:h.code,message:h.clientMessage,type:h.type,options:h.options};if("domains"!==h.product)throw{code:eN.INVALID_PRODUCT};if("paid"!==h.invoiceStatus)throw{code:eN.INVOICE_FAILED};if("succeeded"!==h.paymentIntentStatus)throw{code:eN.PAYMENT_FAILED};this.setState({purchaseState:eM.PURCHASING_DOMAIN});let{code:u,message:f,status:p}=await function(e,t,r,i,n,s,a){let o=`${c.API_DOMAINS_V5}/${e}/buy`;return a?.id&&(o+=`?teamId=${a?.id}`),(0,X.default)(o,{method:"POST",body:JSON.stringify({name:e,expectedPrice:t,invoiceId:r,paymentIntentId:i,period:n,renew:s}),throwOnHTTPError:e=>e.status<200||e.status>=400})}(this._domain.domain,this._domain.price,h.invoiceId,o,(0,C.getBuyPeriod)(this.props.tld||""),e,this.props.team);if(!p)throw{code:u,message:f};this.setState({purchaseState:"processing"===p?eM.PENDING:eM.SUCCESS}),q.updateStatus(this._domain.domain,D.UNAVAILABLE),K.analytics.track(J.AnalyticsEvent.DOMAIN_PURCHASED),this.props.team&&(0,ep.triggerOnboardingEvent)("domain",this.props.team.id)}catch(e){[eN.NOT_AVAILABLE,eN.NO_SOURCE,eN.INTERNAL_SERVER_ERROR,eN.BAD_REQUEST,eN.NOT_FOUND,eN.PAYMENT_FAILED].includes(e.code)||await (0,Z.captureError)(Error(`Unknown domain purchase error for domain ${this._domain.domain} (code: ${e.code})`,e)),this.setState({errorCode:e.code,purchaseState:eM.ERRORED,purchaseErrorMessage:e.message,confirmingPayment:!1})}};handleClickConfirmBuy=async e=>{this.submitPayment(e)};handleDismissOverlay=e=>{e.preventDefault(),(this.state.purchaseState===eM.SUCCESS||this.state.purchaseState===eM.PENDING)&&q.updatePrice(this._domain.domain,void 0),this.props.onClickOutsideDomain?.(e)};handleIntersect=e=>{this.props.domainsManager?.updateItemVisibility(this.props.id,e.isIntersecting,this.props.domain),e.isIntersecting&&this.pendingUpdate&&(this.pendingUpdate=null,this.forceUpdate())};isSettled(){return this.hasCorrectPrice()||this._domain.status===D.UNAVAILABLE||this._domain.status===D.ERRORED||null!=this._domain.price&&this.hasUnknownPrice()}isDisabled(){return this._domain.status===D.PENDING||this._domain.status===D.UNAVAILABLE||this._domain.status===D.ERRORED||!this.hasCorrectPrice()}hasCorrectPrice(){let e=null!=this._domain.price,t="number"==typeof this._domain.price;return e&&t&&this.props.isCorrectTeamRequested}hasUnknownPrice(){return"number"!=typeof this._domain.price}renderPrice(){return this._domain.status===D.PENDING?(0,i.jsx)("span",{className:"price",children:"$"}):0===this._domain.price?(0,i.jsx)("span",{className:"price",children:"FREE"}):(0,i.jsx)("span",{className:"price",children:(0,ef.formatCurrency)(100*this._domain.price,(this.props.team??this.props.user)?.billing?.currency)})}render(){let{query:e,queryASCII:t,tld:r,path:s,team:a,teams:l,user:d}=this.props,{domainSize:h,errorCode:c,purchaseState:u}=this.state;return(0,i.jsxs)("li",{"data-testid":(0,Q.tid)("domains","search-item"),className:n.default.dynamic([["53fed3e9c24ef66f",[D.AVAILABLE,D.UNAVAILABLE,D.PENDING,D.ERRORED,D.AVAILABLE]]]),children:[(0,i.jsx)(ec,{onIntersect:this.handleIntersect,rootMargin:"40% 0%",children:(0,i.jsxs)("div",{className:n.default.dynamic([["53fed3e9c24ef66f",[D.AVAILABLE,D.UNAVAILABLE,D.PENDING,D.ERRORED,D.AVAILABLE]]])+" "+((0,o.clsx)("wrapper",{unsettled:!this.isSettled()})||""),children:[(0,i.jsxs)("button",{disabled:this.isDisabled(),onClick:this.handleClickDomain,ref:this.handleRootNode,className:n.default.dynamic([["53fed3e9c24ef66f",[D.AVAILABLE,D.UNAVAILABLE,D.PENDING,D.ERRORED,D.AVAILABLE]]])+" "+(this._domain.status||""),children:[(0,i.jsxs)("span",{className:n.default.dynamic([["53fed3e9c24ef66f",[D.AVAILABLE,D.UNAVAILABLE,D.PENDING,D.ERRORED,D.AVAILABLE]]])+" query-part",children:[e,"."]}),(0,i.jsx)("span",{className:n.default.dynamic([["53fed3e9c24ef66f",[D.AVAILABLE,D.UNAVAILABLE,D.PENDING,D.ERRORED,D.AVAILABLE]]])+" tld-part",children:`${r}${s?`/${s}`:""}`}),this._domain.status===D.PENDING||null===this._domain.price||void 0===this._domain.price||Number.isNaN(Number(this._domain.price))?null:0===this._domain.price?(0,i.jsx)("span",{className:n.default.dynamic([["53fed3e9c24ef66f",[D.AVAILABLE,D.UNAVAILABLE,D.PENDING,D.ERRORED,D.AVAILABLE]]])+" price",children:"FREE"}):(0,i.jsx)("span",{className:n.default.dynamic([["53fed3e9c24ef66f",[D.AVAILABLE,D.UNAVAILABLE,D.PENDING,D.ERRORED,D.AVAILABLE]]])+" price",children:(0,ef.formatCurrency)(100*this._domain.price,(this.props.team??this.props.user)?.billing?.currency)})]}),this._domain.error?(0,i.jsx)(z.Tooltip,{text:this._domain.error,children:(0,i.jsx)(H.Information,{})}):null,h&&this.hasCorrectPrice()?(0,i.jsx)(eT,{domainSize:h,errorCode:c,onClickAbort:this.handleDismissOverlay,onClickBuy:this.handleClickBuy,onClickConfirmBuy:this.handleClickConfirmBuy,onClickOutside:this.handleDismissOverlay,onEscKeyPress:this.handlePressEsc,path:s,price:(0,ef.formatCurrency)(100*this._domain.price,(a||d)?.billing?.currency),purchaseErrorMessage:this.state.purchaseErrorMessage,purchaseState:u,query:e,queryASCII:t,team:a,teams:l,tld:r,user:d}):null]})}),(0,i.jsx)(n.default,{id:"53fed3e9c24ef66f",dynamic:[D.AVAILABLE,D.UNAVAILABLE,D.PENDING,D.ERRORED,D.AVAILABLE],children:`.wrapper.__jsx-style-dynamic-selector{position:relative}li.__jsx-style-dynamic-selector{flex:0 25%;max-width:25%;margin:5px 0;padding:0 20px}@media screen and (max-width:820px){li.__jsx-style-dynamic-selector{flex:0 33.33%;max-width:33.33%}}@media screen and (max-width:480px){li.__jsx-style-dynamic-selector{flex:0 50%;max-width:50%}}@media screen and (max-width:420px){li.__jsx-style-dynamic-selector{flex:0 100%;max-width:100%}}button.__jsx-style-dynamic-selector{color:var(--accents-3);cursor:pointer;text-overflow:ellipsis;white-space:nowrap;background-color:#0000;border:0;outline:0;align-items:center;width:100%;max-width:100%;height:33px;padding:0;font-size:14px;line-height:16px;display:flex;overflow:hidden}button.__jsx-style-dynamic-selector:focus,button.__jsx-style-dynamic-selector:active{color:var(--geist-foreground)}button.__jsx-style-dynamic-selector:focus{text-decoration:underline}.wrapper.unsettled.__jsx-style-dynamic-selector{pointer-events:all}.wrapper.unsettled.__jsx-style-dynamic-selector,.wrapper.unsettled.__jsx-style-dynamic-selector button.${D.AVAILABLE}.__jsx-style-dynamic-selector{cursor:wait}button.${D.UNAVAILABLE}.__jsx-style-dynamic-selector{color:var(--accents-3);pointer-events:none;text-decoration:line-through}button.${D.PENDING}.__jsx-style-dynamic-selector{color:var(--accents-3);pointer-events:none}button.${D.ERRORED}.__jsx-style-dynamic-selector{color:var(--geist-error);pointer-events:none}button.${D.AVAILABLE}.__jsx-style-dynamic-selector{color:var(--geist-foreground)}.price.__jsx-style-dynamic-selector{color:var(--geist-success);margin-left:auto;padding-left:10px}.query-part.__jsx-style-dynamic-selector{text-overflow:ellipsis;max-width:100%;overflow:hidden}.tld-part.__jsx-style-dynamic-selector{font-weight:700}`})]})}}let eq=(0,ee.withBillingContext)(function(e){let{paymentMethods:t,paymentProcessor:r,elements:n,confirmPayment:s,revalidatePaymentMethods:a}=(0,et.useBillingPlatform)();return(0,i.jsx)(eB,{confirmPayment:s,elements:n,paymentMethods:t,paymentProcessor:r,revalidatePaymentMethods:a,...e})}),eU=e=>{let{children:t}=e;return(0,i.jsxs)("ul",{className:"jsx-bb5edc2f8f9f77e7",children:[t,(0,i.jsx)(n.default,{id:"bb5edc2f8f9f77e7",children:"ul.jsx-bb5edc2f8f9f77e7{flex-wrap:wrap;margin:30px -20px;padding:0;list-style:none;display:flex}"})]})};var eW=s,eV=e.i(2824080),eF=s;class eY extends eF.Component{static defaultProps={defaultWidth:"auto"};state={showSpaceholder:""!==this.props.value,width:2};placeholderNode;calculatedWidth;componentDidUpdate(e){this.props.value!==e.value&&(this.updateInput(this.props.value||""),this.setState({width:Math.ceil(this.calculatedWidth||0)}))}componentDidMount(){this.setState({showSpaceholder:!1,width:this.getInputWidth()})}updateInput=e=>{this.placeholderNode&&(this.placeholderNode.textContent=e,this.calculatedWidth=this.getInputWidth())};handleChange=e=>{let t=(e.target.value||"").toLowerCase();this.updateInput(t),this.props.onChange?.(t)};handlePlaceholderRef=e=>{this.placeholderNode=e};getInputWidth=()=>{if(this.placeholderNode){let{width:e}=this.placeholderNode.getBoundingClientRect();return e}return 0};render(){let{autoFocus:e,defaultWidth:t,id:r,innerRef:s,name:a,onBlur:l,onFocus:d,placeholder:h,value:c}=this.props,{showSpaceholder:u,width:f}=this.state,p=(0,o.clsx)("wrapper",{"show-spaceholder":u});return(0,i.jsxs)("div",{className:"jsx-118527afc1089c43 "+(p||""),children:[(0,i.jsxs)("label",{htmlFor:`#${r}`,className:"jsx-118527afc1089c43",children:[a,":"]}),(0,i.jsx)("input",{"aria-label":r,autoCapitalize:"off",autoComplete:"off",autoCorrect:"off",autoFocus:e,"data-testid":(0,Q.tid)("domains","search-input"),id:r,name:a,onBlur:l,onChange:this.handleChange,onFocus:d,placeholder:h,ref:s,spellCheck:"false",style:{width:""!==c?f+2:t},value:c,className:"jsx-118527afc1089c43"}),(0,i.jsx)("div",{ref:this.handlePlaceholderRef,className:"jsx-118527afc1089c43 spaceholder",children:c}),(0,i.jsx)(n.default,{id:"118527afc1089c43",children:".wrapper.jsx-118527afc1089c43{height:20px;position:relative}.wrapper.show-spaceholder.jsx-118527afc1089c43>input.jsx-118527afc1089c43{display:none}.wrapper.jsx-118527afc1089c43:not(.show-spaceholder)>.spaceholder.jsx-118527afc1089c43{visibility:hidden}label.jsx-118527afc1089c43{display:none}input.jsx-118527afc1089c43{color:var(--geist-foreground)}input.jsx-118527afc1089c43,.spaceholder.jsx-118527afc1089c43{font:16px var(--font-sans);background:0 0;border:0;outline:0;height:20px;padding:0;line-height:20px;display:block;top:0;left:0}input.jsx-118527afc1089c43::placeholder{color:#9b9b9b}.spaceholder.jsx-118527afc1089c43{display:inline-block;position:relative}"})]})}}let e$=/^[a-zA-Z0-9-]{0,61}(?:\.[a-zA-Z]{0,})*$/;class eG extends eW.Component{inputElement;handleChange=e=>{this.props.onChange&&this.props.onChange(e)};handleRef=e=>{this.inputElement=e,this.props.innerRef?.(e)};handleWrapperClick=()=>{this.inputElement.focus()};render(){return(0,i.jsxs)("div",{onClick:this.handleWrapperClick,className:"jsx-5951635abddea1fa "+(this.props.className||""),children:[(0,i.jsx)(eV.MagnifyingGlass,{color:"gray-700"}),(0,i.jsx)(eY,{autoFocus:this.props.autoFocus,defaultWidth:"160px",id:this.props.id,innerRef:this.handleRef,name:"q",onBlur:this.props.onBlur,onChange:this.handleChange,onFocus:this.props.onFocus,placeholder:"Search for domains...",value:this.props.value}),(0,i.jsx)(n.default,{id:"5951635abddea1fa",children:"div.jsx-5951635abddea1fa{cursor:text;justify-content:center;align-items:center;display:flex}div.jsx-5951635abddea1fa svg{flex:0 0 16px;margin-right:10px}"})]})}}let eH="input-query",ez=C.ALL_TLDS.length;function eQ(){let{team:e,teams:t,teamSlug:r}=(0,f.useTeam)(),{user:n}=(0,u.useUser)(),s=(0,d.useRouter)();return n&&t?(0,i.jsx)(eK,{isCorrectTeamRequested:!0,router:s,team:e,teamSlug:r,teams:t,user:n}):null}class eK extends s.default.Component{constructor(e){var t;super(e);let r=Number.parseInt(this.props.router.query.limit)||24,i=eJ(this.props.router.query.q);this.state={buyOverlayId:this.props.router.query.buy&&(t=this.props.router.query.group,t+this.props.router.query.buy),focused:!1,q:eZ(this.props.router.query.q),searchOnTop:i,showResults:i,searchResults:T(this.props.router.query.q,r),limit:r};{let e=document.getElementById(eH);e&&e.value&&e.value!==this.state.q&&(this.__prehydrateValue__=e.value)}}componentDidMount(){var e;t?this.domainsManager=t:(this.domainsManager=new $(`${c.API_DOMAINS_WS_SERVER}${(0,h.encode)({uid:this.props.user.uid})}`),t=this.domainsManager),this.inputElement.setSelectionRange(this.inputElement.value.length,this.inputElement.value.length),this.__prehydrateValue__?this.handleInputChange(this.__prehydrateValue__):this.state.q&&this.handleInputChange(this.state.q),e=this.props.router.query.q,e$.test(e)||this.handleInputChange("")}componentWillUnmount(){}componentDidUpdate(e,t){if(this.props.router!==e.router){var r;let e=Number.parseInt(this.props.router.query.limit)||24,t=eJ(this.props.router.query.q);this.setState({buyOverlayId:this.props.router.query.buy&&(r=this.props.router.query.group,r+this.props.router.query.buy),q:eZ(this.props.router.query.q),searchOnTop:t,showResults:t,searchResults:T(this.props.router.query.q,e),limit:e})}let{router:i}=e,{router:n}=this.props,{query:s}=i,{query:a}=n;if(!a.q&&a.q!==s.q||t.limit!==this.state.limit){let e=this.props.router.query.q||"";this.replaceQuerystring({q:""===e?void 0:e}),this.setState({searchOnTop:eJ(e),buyOverlayId:void 0,q:e}),this.calculateResults(e)}this.state.searchOnTop!==t.searchOnTop&&(this.setState({showResults:this.state.searchOnTop}),this.state.searchOnTop&&b({scrollY:0})),e.team!==this.props.team&&this.domainsManager.requestTeamSwitch(this.props.team?.id)}handleInputChange=(e,t)=>{this.replaceQuerystring({q:e});let r=()=>this.setState(()=>({searchOnTop:eJ(e),buyOverlayId:void 0,q:e}));t?a.default.flushSync(r):r(),this.calculateResults(e)};handleDomainClick=(e,t,r)=>{this.replaceQuerystring({buy:r,group:t}),this.setState({buyOverlayId:t+r})};handleClickOutsideDomain=()=>{this.replaceQuerystring({buy:void 0,group:void 0}),this.setState({buyOverlayId:void 0})};calculateResults=(0,l.default)(e=>{this.setState({searchResults:T(e,this.state.limit)})},150);loadMore=(0,l.default)(()=>{this.setState({limit:Math.min(this.state.limit+24,ez)})},150);replaceQuerystring=(0,l.default)(e=>{let{pathname:t}=this.props.router,r={buy:this.state.buyOverlayId,q:this.state.q,teamSlug:this.props.teamSlug,limit:this.state.limit},i=`${t}${(0,h.encode)({...r,...e})}`;this.props.router.replace(i,i,{shallow:!0,scroll:!1})},250);handleInputFocus=()=>{this.setState({focused:!0})};handleInputBlur=()=>{this.setState({focused:!1})};handleInputRef=e=>{this.inputElement=e};renderSearch(){let{team:e,teamSlug:t,router:r}=this.props,{q:s,focused:a,searchOnTop:l}=this.state,d=(0,o.clsx)("search-bar",{"on-top":l}),h=e?`/${encodeURIComponent(t)}/~/domains`:"/account/domains";return(0,i.jsxs)("form",{action:r.pathname,method:"GET",onSubmit:e=>e.preventDefault(),className:n.default.dynamic([["f8f1278de843c916",[a?"var(--geist-foreground)":"var(--accents-2)"]]]),children:[(0,i.jsx)("div",{className:n.default.dynamic([["f8f1278de843c916",[a?"var(--geist-foreground)":"var(--accents-2)"]]])+" "+(d||""),children:(0,i.jsxs)(_.default,{row:!0,style:{height:60},vcenter:!0,wrapper:!0,children:[(0,i.jsx)(_.default,{children:(0,i.jsx)(eG,{autoFocus:!0,className:"query",id:eH,innerRef:this.handleInputRef,onBlur:this.handleInputBlur,onChange:e=>this.handleInputChange(e,!0),onFocus:this.handleInputFocus,value:s},"query")}),(0,i.jsx)("div",{className:n.default.dynamic([["f8f1278de843c916",[a?"var(--geist-foreground)":"var(--accents-2)"]]])+" geist-hide-on-mobile",children:l?(0,i.jsx)(g.Link,{href:h,variant:"highlight",children:"My Domains"}):null})]})}),(0,i.jsx)(n.default,{id:"f8f1278de843c916",dynamic:[a?"var(--geist-foreground)":"var(--accents-2)"],children:`.search-bar.__jsx-style-dynamic-selector{color:var(--geist-foreground);justify-content:center;align-items:center;max-width:100vw;display:flex;position:relative}.search-bar.__jsx-style-dynamic-selector:before{background-color:${a?"var(--geist-foreground)":"var(--accents-2)"};content:"";transform-origin:50%;width:300px;max-width:calc(100vw - 40px);height:1px;position:absolute;top:100%;left:50%;right:0;transform:translate(-50%)}.search-bar.on-top.__jsx-style-dynamic-selector:before{background-color:var(--accents-2);width:100%;max-width:100vw;left:0;right:0;transform:none}@media screen and (max-width:600px){.search-bar.on-top.__jsx-style-dynamic-selector{border-top:1px solid var(--accents-2)}.search-bar.on-top.__jsx-style-dynamic-selector .wrapper{width:100%}.search-bar.on-top.__jsx-style-dynamic-selector input{max-width:100%}}`})]})}renderResults(){let{searchResults:e,q:t,showResults:r,limit:s}=this.state,{results:a,max:l}=e;return(0,i.jsx)(_.default,{wrapper:!0,children:(0,i.jsxs)("div",{className:"jsx-693903c673fe87f7 "+((0,o.clsx)("results",{visible:r,empty:""===t})||""),children:[r&&a.length>0?(0,i.jsxs)("div",{className:"jsx-693903c673fe87f7 top-results",children:[(0,i.jsx)(y.default,{h3:!0,children:"Top Results"}),(0,i.jsx)(eU,{children:a.map(e=>(0,i.jsx)(eq,{active:this.state.buyOverlayId==="top"+e.tld,domain:`${e.queryASCII}.${e.tld}`,domainsManager:this.domainsManager,group:"top",id:"top"+e.tld,isCorrectTeamRequested:this.props.isCorrectTeamRequested,onClick:this.handleDomainClick,onClickOutsideDomain:this.handleClickOutsideDomain,path:e.path,query:e.query,queryASCII:e.queryASCII,team:this.props.team,teamSlug:this.props.teamSlug,teams:this.props.teams,tld:e.tld,user:this.props.user},e.domain))})]}):null,s<l&&(0,i.jsx)(p.LoadMoreButton,{loading:!1,onClick:this.loadMore}),(0,i.jsx)(n.default,{id:"693903c673fe87f7",children:".results.jsx-693903c673fe87f7{opacity:0;transition:opacity .3s;position:relative}.results.empty.jsx-693903c673fe87f7{visibility:hidden}.results.visible.jsx-693903c673fe87f7{opacity:1}.top-results.jsx-693903c673fe87f7{margin-top:65px}@media screen and (max-width:600px){.top-results.jsx-693903c673fe87f7{margin-top:var(--geist-gap-double)}}"})]})})}render(){let{searchOnTop:e}=this.state,t=this.renderSearch();return(0,i.jsxs)(_.default,{center:!e,full:!0,style:{minHeight:e?void 0:"calc(100vh - 200px)"},children:[e?null:(0,i.jsx)(y.default,{Component:"h1",h2:!0,style:{textAlign:"center",padding:"0 var(--geist-gap)",hyphens:"none"},children:"Find Your Perfect Domain"}),t,e?this.renderResults():null,e?(0,i.jsx)(m.Spacer,{y:2}):null]})}}function eJ(e){let t=eZ(e);return!!t&&t.length>1}function eZ(e){return e?e.toLowerCase():""}}}]);

//# sourceMappingURL=21dc9943958fb4fe.js.map
//# debugId=8c27cef9-6bab-55f6-be5b-e65a531ed2e6
