
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="ed1b725c-3141-5683-9dae-5c5b4a93c3c1")}catch(e){}}();
(globalThis.TURBOPACK=globalThis.TURBOPACK||[]).push(["object"==typeof document?document.currentScript:void 0,{1326694:e=>{e.v({card:"file-tree-module__DJZovq__card",file:"file-tree-module__DJZovq__file",folder:"file-tree-module__DJZovq__folder",icon:"file-tree-module__DJZovq__icon",name:"file-tree-module__DJZovq__name",open:"file-tree-module__DJZovq__open",tree:"file-tree-module__DJZovq__tree"})},2113904:e=>{e.v({code:"file-code-module__RzuWVa__code",highlight:"file-code-module__RzuWVa__highlight",line:"file-code-module__RzuWVa__line",number:"file-code-module__RzuWVa__number",pre:"file-code-module__RzuWVa__pre"})},1491492:e=>{"use strict";var{m:t,e:i}=e;t.exports=e.r(4940324)},3167939:e=>{var{m:t,e:i}=e;t.exports=function(e,t,i){return e==e&&(void 0!==i&&(e=e<=i?e:i),void 0!==t&&(e=e>=t?e:t)),e}},6729193:e=>{var{m:t,e:i}=e,l=e.r(3167939),n=e.r(9705026);t.exports=function(e,t,i){return void 0===i&&(i=t,t=void 0),void 0!==i&&(i=(i=n(i))==i?i:0),void 0!==t&&(t=(t=n(t))==t?t:0),l(n(e),t,i)}},4799843:e=>{e.v({"animation-1":"panel-module__a8x0_G__animation-1","animation-2":"panel-module__a8x0_G__animation-2","delayed-pointer-events-1":"panel-module__a8x0_G__delayed-pointer-events-1","delayed-pointer-events-2":"panel-module__a8x0_G__delayed-pointer-events-2",handle:"panel-module__a8x0_G__handle"})},4838792:e=>{"use strict";e.s({default:()=>eZ},4838792);var t=e.i(6645307),i=e.i(2531953),l=e.i(6530772),n=e.i(3167438),a=e.i(5610210),r=e.i(3521787),s=e.i(2156254),o=e.i(5535439),d=e.i(2934175),c=e.i(1268665),u=e.i(5163670),h=e.i(889716),m=e.i(8084653),p=e.i(1098821),f=e.i(1202246),g=e.i(6916731),x=e.i(9959661),j=e.i(9632010),v=e.i(1039838),y=e.i(6948514);let b=(0,l.createContext)(0);b.displayName="IndentContext";let{Provider:w,Consumer:N}=b;function S(){return(0,l.useContext)(b)}var _=e.i(1326694);let L=(0,l.createContext)(!1);L.displayName="CardContext";let C=e=>{let{children:i,card:l=!1}=e;return(0,t.jsx)("div",{className:(0,a.clsx)(_.default.tree,l&&_.default.card,"flex flex-col gap-[1px]"),children:(0,t.jsx)(L.Provider,{value:l,children:(0,t.jsx)(w,{value:0,children:i})})})},k=(0,l.memo)(function(e){let{label:i,name:n,open:r,children:s=null,defaultOpen:o,onToggle:d}=e,c=S(),[u,h]=(0,l.useState)(o||!1),m=(0,l.useCallback)(()=>{d?.(!u),h(!u)},[u,d]),p=void 0===r?u:r;return(0,t.jsxs)("li",{className:(0,a.clsx)(_.default.folder,p&&_.default.open,"flex flex-col"),title:i??n,children:[(0,t.jsxs)("button",{className:"grow-1 -ml-2 flex bg-transparent border-none h-7 w-full items-center rounded px-2 py-1 hover:bg-gray-200",onClick:m,style:{width:"calc(100% + 8px)"},type:"button",children:[[...Array(c)].map((e,i)=>(0,t.jsx)("span",{"data-tree-indent":""},i)),(0,t.jsx)("span",{className:_.default.icon,children:p?(0,t.jsx)(x.FolderOpen,{}):(0,t.jsx)(g.FolderClosed,{})}),(0,t.jsx)("span",{className:(0,a.clsx)(_.default.name,"block overflow-hidden text-ellipsis font-mono"),children:i??n})]}),p?(0,t.jsx)("ul",{children:(0,t.jsx)(w,{value:c+1,children:s})}):null]})});k.displayName="Folder";let $=(0,l.memo)(function(e){let{label:i,name:l,active:n,type:r="file",...s}=e,o=S();return(0,t.jsxs)("li",{className:(0,a.clsx)(_.default.file,"grow-1 flex items-center"),title:i??l,children:[[...Array(o)].map((e,i)=>(0,t.jsx)("span",{"data-tree-indent":""},i)),(0,t.jsxs)("a",{...s,className:(0,a.clsx)("-ml-2 flex h-7 w-full items-center overflow-hidden rounded px-2 hover:bg-gray-200",n&&"font-semibold"),style:{width:"calc(100% + 8px)"},children:[(0,t.jsx)("span",{className:(0,a.clsx)(_.default.icon,n&&"text-gray-1000"),children:"lambda"===r?(0,t.jsx)(j.FunctionSquare,{size:14}):"edge-function"===r?(0,t.jsx)(y.FunctionEdge,{size:14}):"middleware"===r?(0,t.jsx)(v.FunctionMiddleware,{size:14}):(0,t.jsx)(f.File,{size:14})}),(0,t.jsx)("span",{className:(0,a.clsx)(_.default.name,"block overflow-hidden text-ellipsis font-mono"),children:i??l})]})]})});$.displayName="File";var z=e.i(6649026),E=e.i(743345),I=e.i(2362802),R=e.i(878537),T=e.i(7639870);let O=(e,t)=>e===T.POSITION.LEFT?`
    min-width: 0%;
    order: 0;
    margin: 0 ${16*t}pt 0 0;
  `:e===T.POSITION.RIGHT?`
    min-width: 0%;
    order: 1;
    margin: 0 0 0 ${16*t}pt;
  `:e===T.POSITION.TOP?`
    min-width: 100%;
    order: 0;
    margin: 0 0 ${16*t}pt 0;
  `:e===T.POSITION.BOTTOM?`
    min-width: 100%;
    order: 1;
    margin: ${16*t}pt 0 0 0;
  `:void 0;function M(e){let{width:l="50%",gap:n=1,position:r=T.POSITION.LEFT,positionTablet:s=T.POSITION.TOP,positionMobile:o=T.POSITION.TOP,sticky:d,stickyTablet:c,children:u,className:h,...m}=e;return(0,t.jsxs)("div",{...m,className:i.default.dynamic([["6b9f636e697869b6",[l,d?d+"px":0,O(r,n),O(s,n),!1===c?"position: unset;":"",O(o,n)]]])+" "+(m&&null!=m.className&&m.className||(0,a.clsx)("geist-aside",{sticky:d},h)||""),children:[u,(0,t.jsx)(i.default,{id:"6b9f636e697869b6",dynamic:[l,d?d+"px":0,O(r,n),O(s,n),!1===c?"position: unset;":"",O(o,n)],children:`.geist-aside.__jsx-style-dynamic-selector{width:${l}}.geist-aside.sticky.__jsx-style-dynamic-selector{top:${d?d+"px":0};position:sticky}@media screen and (min-width:961px){.geist-aside.__jsx-style-dynamic-selector{${O(r,n)}}}@media screen and (max-width:960px){.geist-aside.__jsx-style-dynamic-selector{${O(s,n)}}.geist-aside.sticky.__jsx-style-dynamic-selector{${!1===c?"position: unset;":""}}}@media screen and (max-width:600px){.geist-aside.__jsx-style-dynamic-selector{${O(o,n)}}}`})]})}var P=e.i(2448773),F=e.i(5172876),D=e.i(6859825);let U=(0,e.i(6895406).withNewIcon)('<path fill-rule="evenodd" clip-rule="evenodd" d="M6.51404 3.15793C7.48217 2.87411 8.51776 2.87411 9.48589 3.15793L9.90787 1.71851C8.66422 1.35392 7.33571 1.35392 6.09206 1.71851L6.51404 3.15793ZM10.848 3.78166C11.2578 4.04682 11.6393 4.37568 11.9783 4.76932L13.046 6.00934L14.1827 5.03056L13.1149 3.79054C12.6818 3.28761 12.1918 2.86449 11.6628 2.52224L10.848 3.78166ZM4.02168 4.76932C4.36065 4.37568 4.74209 4.04682 5.15195 3.78166L4.33717 2.52225C3.80815 2.86449 3.3181 3.28761 2.88503 3.79054L1.81723 5.03056L2.95389 6.00934L4.02168 4.76932ZM14.1138 7.24936L14.7602 7.99999L14.1138 8.75062L15.2505 9.72941L16.3183 8.48938V7.5106L15.2505 6.27058L14.1138 7.24936ZM1.88609 7.24936L1.23971 7.99999L1.88609 8.75062L0.749437 9.72941L-0.318359 8.48938V7.5106L0.749436 6.27058L1.88609 7.24936ZM13.0461 9.99064L11.9783 11.2307C11.6393 11.6243 11.2578 11.9532 10.848 12.2183L11.6628 13.4777C12.1918 13.1355 12.6818 12.7124 13.1149 12.2094L14.1827 10.9694L13.0461 9.99064ZM4.02168 11.2307L2.95389 9.99064L1.81723 10.9694L2.88503 12.2094C3.3181 12.7124 3.80815 13.1355 4.33717 13.4777L5.15195 12.2183C4.7421 11.9532 4.36065 11.6243 4.02168 11.2307ZM9.90787 14.2815L9.48589 12.8421C8.51776 13.1259 7.48217 13.1259 6.51405 12.8421L6.09206 14.2815C7.33572 14.6461 8.66422 14.6461 9.90787 14.2815ZM6.49997 7.99999C6.49997 7.17157 7.17154 6.49999 7.99997 6.49999C8.82839 6.49999 9.49997 7.17157 9.49997 7.99999C9.49997 8.82842 8.82839 9.49999 7.99997 9.49999C7.17154 9.49999 6.49997 8.82842 6.49997 7.99999ZM7.99997 4.99999C6.34311 4.99999 4.99997 6.34314 4.99997 7.99999C4.99997 9.65685 6.34311 11 7.99997 11C9.65682 11 11 9.65685 11 7.99999C11 6.34314 9.65682 4.99999 7.99997 4.99999Z" fill="currentColor"/>');var V=e.i(5674541),W=e.i(663357);function A(e){let{description:i,icon:l,title:n,url:a,downloadFileName:r,ctaLabel:s,logsUrl:o,monitoringUrl:d,download:c}=e;return(0,t.jsx)("div",{children:(0,t.jsx)(W.EmptyState.Root,{description:i,icon:(0,t.jsx)(W.EmptyState.Icon,{icon:l}),title:n,children:(0,t.jsxs)(h.Stack,{direction:{sm:"column",md:"row"},gap:{sm:4,md:2},children:[a?(0,t.jsx)(I.ButtonLink,{download:r,href:a,size:"small",type:"secondary",children:s||""}):null,c?(0,t.jsx)(V.Button,{onClick:c,size:"small",type:"secondary",children:s}):null,o?(0,t.jsx)(I.ButtonLink,{href:o,size:"small",type:"secondary",children:"View Logs"}):null,d?(0,t.jsx)(I.ButtonLink,{href:d,size:"small",type:"secondary",children:"Open in Monitoring"}):null]})})})}let Z=[{pattern:/^\.env(?:\.[a-zA-Z0-9_-]+)?$/,Component:function(e){let i=(0,o.useParams)();return(0,t.jsx)("div",{children:(0,t.jsx)(A,{ctaLabel:"View Environment Variables",description:"Previewing .env files is not supported.",icon:(0,t.jsx)(U,{size:32}),title:"Unsupported Preview",url:`/${i?.teamSlug}/${i?.project}/settings/environment-variables`})})}}],B=e=>{let t=Z.find(t=>t.pattern.test(e));return t?t.Component:null};function q(e){let{url:i}=e;return(0,t.jsx)("audio",{controls:!0,src:i})}var G=e.i(8216039),H=e.i(4113687),J=e.i(189871),K=e.i(2113904);let Q=function(e){let i=function(e){let t=e.split(".").pop();return void 0!==t?t in X?X[t]:t:"plain"}(e.file),l=null!==e.highlightStart&&null!==e.highlightEnd,n=(e.code?.match(/\n/g)||[]).length,r=!e.fileMeta.path?.startsWith("out/");return n>2e3||(e.code?.length||0)>5e4?(0,t.jsx)("div",{className:"px-4",children:(0,t.jsx)(A,{ctaLabel:r?"View file":"Download file",download:r||null===e.data||void 0===e.fileMeta.path?void 0:()=>{if(null===e.data||void 0===e.fileMeta.path)return;let t=e.fileMeta.mime?.split(";")[0],i=new Blob([e.data],{type:t||"application/json"}),l=URL.createObjectURL(i),n=document.createElement("a");n.href=l,n.download=e.fileMeta.path,document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(l)},icon:(0,t.jsx)(U,{size:32}),title:"Large files cannot be previewed",url:r&&e.gitUrl||void 0})}):(0,t.jsx)(G.default,{...G.defaultProps,code:e.code||"",language:i,theme:void 0,children:i=>{let{className:n,style:r,tokens:s,getLineProps:o,getTokenProps:d}=i;return(0,t.jsx)("pre",{className:(0,a.clsx)(n,K.default.pre,J.default.code,{[K.default.hasHighlight]:l},"h-full"),style:r,children:(0,t.jsx)(H.Virtuoso,{data:s,increaseViewportBy:300,itemContent:(i,n)=>((i,n,r,s)=>{let o=l&&null!==e.highlightStart&&null!==e.highlightEnd&&n>=e.highlightStart&&n<=e.highlightEnd,{key:d,...c}=r({line:i,key:n});return(0,t.jsxs)("div",{...c,className:(0,a.clsx)(K.default.line,{[K.default.highlight]:o}),children:[(0,t.jsx)("span",{className:K.default.number,onClick:t=>{let i,l;t.shiftKey?null!==e.highlightStart&&null!==e.highlightEnd&&(i=Math.min(n,e.highlightStart),l=Math.max(n,e.highlightEnd)):i=l=e.highlightStart===e.highlightEnd?o?null:n:n,e.onHighlightChange(i||null,l||null)},children:n+1}),i.map((e,i)=>{let{key:l,...n}=s({token:e,key:i});return(0,t.jsx)("span",{...n},l)})]},d)})(n,i,o,d),style:{height:"100%"}})})}})},X={js:"javascript",mjs:"javascript",py:"python",rb:"ruby",ps1:"powershell",psm1:"powershell",sh:"bash",bat:"batch",h:"c",tex:"latex",gitignore:"shell",cjs:"javascript",npmrc:"shell",prettierignore:"shell",gitconfig:"markdown",gitattributes:"bash","git-blame-ignore-revs":"bash",editorconfig:"bash",approvers:"yaml",ini:"shell",mdx:"markdown",patch:"diff"};var Y=e.i(6621512);function ee(e){let{file:i,isV2:n,data:a}=e,[r,s]=(0,l.useState)(""),o=n?i.replace(/^(out|src)\//,""):i;return(0,l.useEffect)(()=>{let e;e=o.includes(".")&&""!==o.split(".").pop()?new Blob([a]):new Blob([a],{type:"application/octet-stream"});let t=URL.createObjectURL(e);return s(t),()=>URL.revokeObjectURL(t)},[a,o]),(0,t.jsx)("div",{children:(0,t.jsx)(W.EmptyState.Root,{description:`Previewing .${o.split(".").at(-1)} files is not supported.`,icon:(0,t.jsx)(W.EmptyState.Icon,{icon:(0,t.jsx)(Y.Information,{size:32})}),title:"Unsupported Preview",children:(0,t.jsx)(I.ButtonLink,{download:o,href:r,size:"small",type:"secondary",children:"Download File"})})})}function et(e){let{url:l,...n}=e;return n?.fileMeta?.path?.startsWith("out/")?(0,t.jsx)(W.EmptyState.Root,{description:"Previewing images for the deployment output is not supported.",icon:(0,t.jsx)(W.EmptyState.Icon,{icon:(0,t.jsx)(Y.Information,{size:32})}),title:"Cannot Preview Image"}):(0,t.jsxs)("div",{className:"jsx-6d3cc424d1f78725",children:[(0,t.jsx)("img",{alt:"",src:l,className:"jsx-6d3cc424d1f78725"}),(0,t.jsx)(i.default,{id:"6d3cc424d1f78725",children:"img.jsx-6d3cc424d1f78725{max-width:100%}"})]})}function ei(e){let{url:i,file:l}=e,{teamSlug:n,project:a,id:r}=(0,o.useParams)(),s=l.replace(/^out\//,""),d=s.startsWith("/")?s:`/${s}`;return(0,t.jsx)("div",{children:(0,t.jsx)(A,{ctaLabel:"Invoke Function",description:d,icon:(0,t.jsx)(j.FunctionSquare,{size:32}),logsUrl:`/${n}/${a}/${r}/logs?targetPaths=${d}`,monitoringUrl:`/${n}/~/monitoring?title=Draft&visualize=sum(requests)&where=(request_path='${d}' AND deployment_id='${r}')`,title:"Serverless Function",url:i})})}function el(){return(0,t.jsx)("div",{children:(0,t.jsx)(A,{ctaLabel:"Invoke Function",description:"Cannot preview middleware",icon:(0,t.jsx)(v.FunctionMiddleware,{size:32}),title:"Middleware"})})}function en(e){let{fileMeta:{path:i}}=e,l=(0,o.useParams)(),n=i.replace(/^out\//,""),a=n.startsWith("/")?n:`/${n}`;return(0,t.jsx)("div",{children:(0,t.jsx)(A,{ctaLabel:"Invoke Function",description:a,icon:(0,t.jsx)(y.FunctionEdge,{size:32}),logsUrl:`/${l?.teamSlug}/${l?.project}/${l?.id}/logs?targetPaths=${a}`,monitoringUrl:`/${l?.teamSlug}/~/monitoring?title=Draft&visualize=sum(requests)&where=(request_path='${a}' AND deployment_id='${l?.id}')`,title:"Edge Function"})})}function ea(e){let{url:i}=e;return(0,t.jsx)("video",{controls:!0,src:i})}function er(e){let i=B(e.file);if(i)return(0,t.jsx)(i,{...e});switch(e.type){case"code":case"file":case"text":return(0,t.jsx)("div",{className:"tailwind-preflight h-full",children:(0,t.jsx)("div",{className:"-mx-4 h-full",children:(0,t.jsx)(Q,{...e,code:e.data})})});case"lambda":return(0,t.jsx)(ei,{...e});case"image":return(0,t.jsx)(et,{...e});case"video":return(0,t.jsx)(ea,{...e});case"audio":return(0,t.jsx)(q,{...e});case"empty":return(0,t.jsx)(P.default,{noMargin:!0,preset:"body-2",type:"secondary",children:"This file is empty."});case"loading":return null;case"middleware":return(0,t.jsx)(el,{...e});case"edge-function":return(0,t.jsx)(en,{...e});default:return(0,t.jsx)(ee,{...e})}}var es=e.i(9378398),eo=e.i(1491492);let ed=new Set([".dockerignore",".gitignore",".npmignore",".nowignore",".vercelignore",".prettierignore",".npmrc",".yarnrc",".babelrc",".env","schema.prisma","Dockerfile","yarn.lock",".node-version",".gitconfig",".gitattributes",".git-blame-ignore-revs",".editorconfig",".vercel.approvers"]),ec=new Set(["toml","re",...eo.default]);var eu=e.i(4640326),eh=e.i(399439),em=e.i(5938635),ep=e.i(4128009),ef=e.i(5002066),eg=e.i(2240289),ex=e.i(1505837),ej=e.i(769008),ev=e.i(2198335),ey=e.i(537146),eb=e.i(1782286),ew=e.i(6729193),eN=e.i(2605724),eS=e.i(4799843);!function(e){e.Horizontal="horizontal",e.Vertical="Vertical"}({});let e_=l.memo(function(e){let{children:i,direction:n="horizontal",template:a,className:r,isLeaf:s=!1}=e,o=(0,ey.useMotionValue)(a),d=l.useRef(-1),c=l.useRef(void 0),[u,h]=l.useState((0,eN.default)(l.Children.count(i)-1).map(()=>(0,ej.motionValue)(0))),m=l.Children.map(i,e=>({min:e.props.min||0,max:e.props.max||1/0}))||[],{ref:p,width:f,height:g}=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=l.useRef(null),i=e.onResize,n=l.useRef(void 0);n.current=i;let a=l.useRef(void 0),r=e.ref||t,s=(0,ey.useMotionValue)(e.initial?e.initial.width:0),o=(0,ey.useMotionValue)(e.initial?e.initial.height:0),d=l.useRef({width:void 0,height:void 0});return l.useLayoutEffect(()=>{a.current||(a.current=new ResizeObserver(e=>{if(!Array.isArray(e)||!e.length)return;let t=e[0],i=Math.round(t.contentRect.width),l=Math.round(t.contentRect.height);(d.current.width!==i||d.current.height!==l)&&(n.current&&n.current({width:i,height:l}),d.current.width=i,d.current.height=l,s.set(i),o.set(l))}))},[s,o,a]),l.useLayoutEffect(()=>{if("object"!=typeof r||null===r||!(r.current instanceof Element))return;let e=r.current;return a.current.observe(e),()=>a.current.unobserve(e)},[r]),l.useMemo(()=>({ref:r,width:s,height:o}),[r,s,o])}(),x="horizontal"===n?f:g,j=l.useCallback(()=>{let e=p.current;if(!e)return;let t=Array.from(e.childNodes).slice(0,l.Children.count(i)-1).map(e=>e.getBoundingClientRect()["horizontal"===n?"width":"height"]),a=t.map((e,i)=>t.slice(0,i+1).reduce((e,t)=>Math.round(e+t),-5));o.set(t.reduce((e,t)=>`${e}${t}px `,"")),u.forEach((e,t)=>e.set(a[t]))},[u,o,n,i,p]),v=l.useCallback(()=>{let e=d.current;u.forEach((t,i)=>{if(e!==i)return void t.stop();let l=t.get(),n=m[i],a=u[i],r=u[i-1],s=u[i+1],o=r?r.get():-5,d=s?s.get():x.get()-5;if(l<n.min+o?l=n.min+o:l>o+n.max&&(l=o+n.max),s){let e=m[i+1];d-l<e.min&&(l=d-e.min),d-l>e.max&&(l=d-e.max)}(l<o+10||l>d-10)&&a.stop();let c=(0,ew.default)(l,o+10,d-10);a.set(Math.round(c))})},[u,x]),y=l.useCallback(()=>{let e=x.get(),t=c.current;if(t)for(let i of u){let l=i.get()/t;i.set(Math.round(e*l))}c.current=e},[u,x]);l.useLayoutEffect(()=>{h((0,eN.default)(l.Children.count(i)-1).map(()=>(0,ej.motionValue)(0)))},[i]),l.useLayoutEffect(()=>{j();let e=u.map(e=>e.get());o.set(eL(e))},[j,o,u]),eE([f],()=>{y(),v();let e=u.map(e=>e.get());o.set(eL(e))}),eE(u,()=>{v();let e=u.map(e=>e.get());o.set(eL(e))});let b="horizontal"===n?eC:ek,w="horizontal"===n?e$:ez,[N,S]=l.useState(0);return(0,t.jsxs)(b,{className:r,ref:p,template:o,children:[i,!s&&u.map((e,i)=>{let l=u[i-1],a=u[i+1];return(0,t.jsx)(w,{dragConstraints:0===N?void 0:"horizontal"===n?{left:l?l.get():10,right:a?a.get():f.get()-10}:{top:l?l.get():10,bottom:a?a.get():g.get()-10},motionValue:e,onDragEnd:()=>{document.querySelectorAll(".source-resize-panel").forEach(e=>{e.style.pointerEvents="auto"}),S(e=>e+1)},onDragStart:()=>{d.current=i},onPointerDown:()=>{document.querySelectorAll(".source-resize-panel").forEach(e=>{e.style.pointerEvents="none"})},onPointerUp:()=>{document.querySelectorAll(".source-resize-panel").forEach(e=>{e.style.pointerEvents="auto"})}},i)})]})});function eL(e){let t="",i=-5;for(let l of e){let e=l-i;i=l,t+=`${e}px `}return t+"1fr"}let eC=l.forwardRef((e,i)=>{let{template:l,...n}=e;return(0,t.jsx)(ev.motion.div,{...n,className:(0,a.clsx)("grid",n.className),ref:i,style:{...n.style,height:"100%",width:"100%",position:"relative",gridAutoFlow:"column",gridTemplateColumns:l,gridAutoColumns:"1fr",gridGap:0,boxSizing:"border-box"}})});eC.displayName="HorizontalContainer";let ek=l.forwardRef((e,i)=>{let{template:l,...n}=e;return(0,t.jsx)(ev.motion.div,{...n,className:(0,a.clsx)("grid",n.className),ref:i,style:{...n.style,height:"100%",width:"100%",position:"relative",gridAutoFlow:"row",gridTemplateRows:l,gridAutoRows:"1fr",gridGap:0,boxSizing:"border-box"}})});function e$(e){let{motionValue:i,onDragStart:n,onDragEnd:r,onPointerDown:s,onPointerUp:o,dragConstraints:d}=e,[c,u]=l.useState(0);return(0,t.jsx)(ev.motion.div,{className:(0,a.clsx)(eS.default.handle,"opacity-0 duration-0 hover:opacity-100 hover:duration-200",c%2==0?eS.default["animation-1"]:eS.default["animation-2"]),"data-type":"handle-horizontal",drag:"x",dragConstraints:d,dragMomentum:!1,onDragEnd:r,onDragStart:n,onHoverEnd:()=>{u(e=>e+1)},onPointerDown:s,onPointerUp:o,style:{x:i,position:"absolute",top:0,left:2,width:5,height:"100%",cursor:"ew-resize",zIndex:10,boxSizing:"border-box",backgroundColor:"var(--ds-gray-700)",opacity:0},transition:{duration:.2},variants:{idle:{opacity:0}},whileDrag:"idle",whileHover:{opacity:1},whileTap:"idle"})}function ez(e){let{motionValue:i,onDragStart:l,onDragEnd:n,dragConstraints:a}=e;return(0,t.jsx)(ev.motion.div,{"data-type":"handle-vertical",drag:"y",dragConstraints:a,dragMomentum:!0,onDragEnd:n,onDragStart:l,style:{y:i,position:"absolute",top:0,left:0,width:"100%",height:11,cursor:"ns-resize",zIndex:10,boxSizing:"border-box"},transition:{duration:.2},variants:{idle:{backgroundColor:"transparent"},active:{backgroundColor:"var(--ds-gray-400)"}},whileHover:"active",whileTap:"idle"})}function eE(e,t){l.useLayoutEffect(()=>{let i=(0,eb.default)(()=>t(...e.map(eR)),16);i();let l=e.map(e=>eI(e)&&e.onChange(i)).filter(e=>e);return()=>l.forEach(e=>e())},[e])}ek.displayName="VerticalContainer";let eI=e=>e instanceof ej.MotionValue,eR=e=>eI(e)?e.get():e,eT=["package.json","now.json","vercel.json","index.html","index.js"];function eO(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"replace",i=`${new URL(location.pathname,location.origin).toString()}${(0,z.encode)(e)}`,l=`${t}State`;history[l](history.state,"",i)}let eM=(0,l.memo)(function(e){let{activeFile:n,children:r}=e,[s,o]=(0,l.useState)(!1);return(0,l.useEffect)(()=>{o(!1)},[n]),(0,t.jsxs)("div",{className:"jsx-e70c12c066a4207 "+((0,a.clsx)("expandable",{expand:s})||""),children:[(0,t.jsxs)("button",{onClick:()=>o(!s),type:"button",className:"jsx-e70c12c066a4207",children:[n?n.name:"Select File",(0,t.jsx)(d.ChevronUpDown,{})]}),(0,t.jsx)("div",{className:"jsx-e70c12c066a4207 geist-overflow-scroll-y container",children:r}),(0,t.jsx)(i.default,{id:"e70c12c066a4207",children:'button.jsx-e70c12c066a4207{-webkit-appearance:none;appearance:none;min-height:30px;color:"gray-1000";padding:0;padding:0 var(--geist-gap-half);-webkit-tap-highlight-color:transparent;background:0 0;border:none;outline:none;justify-content:space-between;align-items:center;margin:0;font-size:13px;font-weight:500;display:inline-flex}.expandable.jsx-e70c12c066a4207{width:calc(100% - (2*var(--geist-gap)));background:"background-100";z-index:2;border:1px solid gray-500;border-radius:5px;flex-flow:column;height:24vh;max-height:24pt;transition:max-height .3s,box-shadow .2s;display:flex;position:absolute;overflow:hidden}.expandable.expand.jsx-e70c12c066a4207{height:40vh;max-height:40vh;box-shadow:var(--shadow-small)}.container.jsx-e70c12c066a4207{margin-top:var(--geist-gap-half);padding:var(--geist-gap);flex:auto;padding-top:0}'})]})});function eP(e){let{message:i}=e,l=S();return(0,t.jsxs)("span",{style:{marginLeft:l?30*l+5:0,color:"gray-700"},children:[i||"Loading"," ",(0,t.jsx)(c.LoadingDots,{})]})}function eF(e){let{name:i,defaultExpand:n=!1,...a}=e,[r,s]=(0,l.useState)(n);return r?(0,t.jsx)(eD,{name:i,...a,onToggle:e=>e||s(!1)}):(0,t.jsx)(k,{name:i,onToggle:e=>e&&s(!0)})}function eD(e){let{deployment:i,base:n,name:a,onToggle:r,onSelect:s,onData:o,defaultExpandPath:d,activeFile:c,onDefaultFile:u,topLevel:h}=e;d&&(d.startsWith(n+"/")||(d=null));let{data:m,error:p}=(0,ep.useFileTree)(i,n);if((0,l.useEffect)(()=>{if(m&&(o&&o(m),d))for(let e of m)`${n}/${e.name}`===d&&u({...e,path:d})},[n,m,d,o,u]),p&&h)return(0,t.jsx)(P.default,{children:p.message});let f=m?m.map((e,l)=>{let a=e.name+"-"+l,r=n+"/"+e.name;if("directory"===e.type)return(0,t.jsx)(eF,{activeFile:c,base:r,defaultExpand:d?d.startsWith(`${r}/`):null,defaultExpandPath:d,deployment:i,name:e.name,onDefaultFile:u,onSelect:s},a);let o=c&&(e.link?e.link===c.link:r===c.path);return(0,t.jsx)($,{active:o,name:e.name,onClick:()=>{o||s({...e,path:r})},type:e.type},a)}):(0,t.jsx)(eV,{isTopLevel:h});return h?f:(0,t.jsx)(k,{defaultOpen:!0,name:a,onToggle:r,children:p?null:f})}function eU(e){let{fileNameWidth:i}=e;return(0,t.jsxs)(h.Stack,{align:"center",className:"w-full py-[6px] pr-2",direction:"row",gap:2,children:[(0,t.jsx)(u.Skeleton,{className:"shrink-0",height:16,width:16}),(0,t.jsx)(u.Skeleton,{height:16,width:i})]})}function eV(e){let{isTopLevel:i=!1}=e,l=S();return(0,t.jsx)(h.Stack,{className:(0,a.clsx)(i&&"geist-gradient-mask py-px"),gap:.25,children:i?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(eU,{fileNameWidth:"80%"}),(0,t.jsx)(eU,{fileNameWidth:"70%"}),(0,t.jsx)(eU,{fileNameWidth:"65%"}),(0,t.jsx)(eU,{fileNameWidth:"76%"}),(0,t.jsx)(eU,{fileNameWidth:"82%"}),(0,t.jsx)(eU,{fileNameWidth:"85%"}),(0,t.jsx)(eU,{fileNameWidth:"61%"}),(0,t.jsx)(eU,{fileNameWidth:"69%"}),(0,t.jsx)(eU,{fileNameWidth:"94%"})]}):(0,t.jsxs)("div",{className:"flex items-center",children:[[...Array(l)].map((e,i)=>(0,t.jsx)("span",{className:"shrink-0","data-tree-indent":""},i)),(0,t.jsx)(eU,{fileNameWidth:"100%"})]})})}function eW(e){let{file:i,teamId:n,setFileClipboardContent:a,gitUrl:r}=e,s=(0,o.useRouter)(),d=(0,o.useSearchParams)(),{data:c,isLoading:u}=(0,ef.useFileContent)("lambda"===i.type||"middleware"===i.type||"edge-function"===i.type||B(i.name)?null:i,n),h=(0,l.useRef)(i),m="string"==typeof c?c.replace(/\n$/,""):c,p="object"==typeof m&&"error"in m,f=p?m.error:m??null,g="lambda"===i.type||"middleware"===i.type||"edge-function"===i.type||B(i.name)?i.type:""===m?"empty":m?"lambda"===i.type?i.type:function(e){let t=(0,es.basename)(e);if(ed.has(t))return!0;let i=(0,es.extname)(e)||"";return ec.has(i.slice(1).toLowerCase())}(i.name)||i.mime?.includes("application/x-nextjs")?"file":i.mime?i.mime.split("/")[0]:null:"loading",x=!p&&!u&&("code"===g||"text"===g||"file"===g)&&!B(i.name),j={type:g,file:i.name},v=function(e,t){let[i,n]=(0,l.useState)();return(0,l.useEffect)(()=>{t||n(e)},[t]),i}(j,u),y=u&&v||j,b=d?.get("h")||"",w=null,N=null;if(b){let[e,t]=b.split(";");w=Number.isNaN(e)?null:Number(e),N=Number.isNaN(t)?null:Number(t)}let[S,_]=(0,l.useState)(w),[L,C]=(0,l.useState)(N);(0,l.useEffect)(()=>{h.current.path!==i.path&&(h.current=i,_(null),C(null),eO({f:i.path}))},[s,i]),(0,l.useEffect)(()=>{x?a(f):a(null)},[f,x,a]);let k="loading"===g||u;return(0,t.jsx)("div",{className:"h-full",style:{opacity:k?.5:1,transition:"opacity 140ms ease",cursor:k?"wait":"default"},children:(0,t.jsx)("div",{className:"h-full overflow-auto p-4",children:(0,t.jsx)(er,{data:f,fileMeta:i,gitUrl:r,highlightEnd:L,highlightStart:S,onHighlightChange:(e,t)=>{_(e),C(t),null!==e&&null!==t&&eO({f:d?.get("f"),h:`${e};${t}`})},url:i.link,...y},y.file)})})}let eA=new Set(["QUEUED","BUILDING"]),eZ=function(){let e=(0,l.useRef)(!1),i=new URLSearchParams(window.location.search).get("f")||"",a=(0,ex.default)(),d=(0,o.useSearchParams)(),c=(d?.get("f")||i).startsWith("out/")?"out":"src",u=d?.get("h")??null,h=(0,l.useMemo)(()=>{if(u){let[e,t]=u.split(";");return{start:e?Number(e)+1:null,end:t?Number(t)-1:null}}return null},[u]),{data:f,error:g}=(0,em.default)(a),x=(0,o.useParams)()?.teamSlug,{data:j}=(0,eg.useProject)(f?.projectId),[v,y]=(0,l.useState)(null),b=(0,D.getGitMeta)(f?.meta),{data:w}=(0,r.default)(()=>`last-active-${f?.host}`,()=>void 0),[N,S]=(0,l.useState)(c),[_,L]=(0,l.useState)(w),[k,$]=(0,l.useState)(null),z=(0,l.useCallback)(e=>{(0,s.mutate)(`last-active-${f?.host}`,e),L(e)},[f]);(0,l.useEffect)(()=>{if(!_&&k&&!e.current&&(e.current=!0,!i)){let e=k.filter(e=>"file"===e.type&&eT.includes(e.name)).sort((e,t)=>eT.indexOf(e.name)-eT.indexOf(t.name))[0];e&&z(e)}},[_,i,k,z]);let O=(0,l.useMemo)(()=>(0,t.jsx)("div",{className:"tailwind-preflight",children:f?.status==="INITIALIZING"?(0,t.jsx)(eP,{message:"Initializing"}):(0,t.jsx)(C,{children:(0,t.jsx)(eD,{activeFile:_,base:N,defaultExpandPath:i,deployment:f,name:N,onData:$,onDefaultFile:L,onSelect:L,topLevel:!0},N)})}),[f,N,L,i,_]),U=(0,ep.useFileTree)(f,"src"),V=_?.path||_?.name||d?.get("f")||"",W=V?V.replace("src/","").replace("out/",""):"",A=`${b?.commitUrl.replace("commit","blob")}/${W}`,Z=U.error?function(e){if(!e||!e.gitSource)return null;let{meta:t,gitSource:i}=e;return t.githubDeployment?{caption:eu.ORIGINS[i.type],sourceUrl:`https://github.com/${t.githubOrg}/${t.githubRepo}/tree/${t.githubCommitSha}`}:t.gitlabDeployment?{caption:eu.ORIGINS[i.type],sourceUrl:`https://gitlab.com/${t.gitlabProjectPath}/tree/${t.gitlabCommitSha}/`}:t.bitbucketDeployment?{caption:eu.ORIGINS[i.type],sourceUrl:`https://bitbucket.org/${t.bitbucketRepoOwner}/${t.bitbucketRepoSlug}/src/${t.bitbucketCommitSha}/`}:null}(f):null,q=_?_.syncing||!x?(0,t.jsx)(m.Text,{as:"h6",children:"Syncing file"}):(0,t.jsx)(eW,{file:_,gitUrl:A,setFileClipboardContent:y,teamId:x}):Z&&"src"===N?(0,t.jsx)("div",{className:"flex h-full items-center",children:(0,t.jsx)(R.default,{center:!0,hcenter:!0,style:{textAlign:"center"},children:(0,t.jsxs)(I.ButtonLink,{href:Z.sourceUrl,children:["View Source on ",Z.caption]})})}):null;return(0,eh.default)(g),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.default,{children:(0,t.jsx)("title",{children:j?.name?`${j.name} â€“ Deployment Source`:"Deployment Source"})}),(0,t.jsx)("div",{className:"tailwind full-height-dashboard",children:(0,t.jsx)("div",{className:"h-[calc(100dvh-102px)] overflow-auto md:overflow-hidden",children:"out"===N&&f?.readyState==="ERROR"?(0,t.jsxs)(R.default,{center:!0,className:"h-full",hcenter:!0,style:{textAlign:"center"},children:[(0,t.jsx)(P.default,{h3:!0,noMargin:!0,children:"Deployment Failed"}),(0,t.jsx)(R.default,{flex:0,style:{color:"gray-700",maxWidth:320},children:(0,t.jsx)(P.default,{noMargin:!0,preset:"body-2",children:"The deployment failed; no output was created for your deployment."})})]}):"out"===N&&f?.readyState&&eA.has(f.readyState)?(0,t.jsxs)(R.default,{center:!0,className:"h-full",hcenter:!0,style:{textAlign:"center"},children:[(0,t.jsx)(P.default,{h3:!0,noMargin:!0,children:"Deployment In Progress"}),(0,t.jsxs)(R.default,{flex:0,style:{color:"gray-700",maxWidth:320},children:[(0,t.jsx)(P.default,{noMargin:!0,preset:"body-2",children:"This build hasn't completed yet"}),(0,t.jsx)(I.ButtonLink,{className:"mt-2",href:f.inspectorUrl,children:"View Build Logs"})]})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(R.default,{className:"geist-show-on-mobile h-full",direction:"column",children:[(0,t.jsxs)(M,{className:"geist-overflow-scroll geist-overflow-reset-mobile",position:T.POSITION.LEFT,positionTablet:T.POSITION.LEFT,style:{maxHeight:"100%",padding:"var(--geist-gap)",paddingRight:0},width:"240px",children:[(0,t.jsxs)("div",{className:"geist-show-on-mobile",children:[(0,t.jsx)("div",{className:"relative -mt-6 mb-4 pt-[7px]",children:(0,t.jsx)(p.Tabs,{selected:N,setSelected:e=>{S(e),L(void 0)},tabClassName:"pb-[18px] z-10 relative",tabs:[{title:"Source",value:"src"},{title:"Output",value:"out"}]})}),(0,t.jsx)(eM,{activeFile:_,children:O})]}),(0,t.jsx)("div",{className:"geist-hide-on-mobile",children:O})]}),(0,t.jsx)(R.default,{className:"geist-overflow-scroll !py-0",style:{height:"100%",padding:"var(--geist-gap) 0",position:"unset"},children:q})]}),(0,t.jsx)("div",{className:"geist-hide-on-mobile flex h-full overflow-hidden shadow-border",children:(0,t.jsxs)(e_,{template:"240px auto",children:[(0,t.jsx)(e_,{className:"!flex h-full flex-col overflow-hidden bg-background-100",isLeaf:!0,max:800,min:184,children:(0,t.jsxs)("div",{className:"source-resize-panel h-full",children:[(0,t.jsx)("div",{className:"relative border-r border-gray-400 pl-4 pt-[7px]",children:(0,t.jsx)(p.Tabs,{selected:N,setSelected:e=>S(e),tabClassName:"pb-[18px] z-10 relative",tabs:[{title:"Source",value:"src"},{title:"Output",value:"out"}]})}),(0,t.jsxs)(M,{className:"geist-overflow-reset-mobile h-[calc(100%-57px)] overflow-auto",position:T.POSITION.LEFT,positionTablet:T.POSITION.LEFT,style:{maxHeight:"100%",padding:"16px",paddingRight:8,paddingTop:12,borderRight:"1px solid var(--ds-gray-400)",marginRight:0},width:"100%",children:[(0,t.jsx)("div",{className:"geist-show-on-mobile",children:(0,t.jsx)(eM,{activeFile:_,children:O})}),(0,t.jsx)("div",{className:"geist-hide-on-mobile",children:O})]})]})}),(0,t.jsxs)(e_,{className:"!flex h-full flex-col overflow-hidden",isLeaf:!0,children:[(0,t.jsxs)("div",{className:"flex items-center justify-between gap-3 border-b border-gray-400 bg-background-100 px-4 py-3",children:[(0,t.jsx)("div",{className:"flex items-center overflow-hidden",children:(0,t.jsx)(m.Text,{monospace:!0,truncate:!0,children:W})}),(0,t.jsxs)("div",{className:"flex flex-row gap-2",children:[(0,t.jsx)(I.ButtonLink,{"aria-label":`View file on ${f?.gitSource?.type}`,disabled:!!(!b||""===W||_?.path?.startsWith("out")||B(W)),href:`${A}${h?.start?`#L${h.start}`:""}${h?.end?`-L${h.end}`:""}`,shape:"square",size:"small",svgOnly:!0,target:"_blank",type:"secondary",children:b?.logo||(0,t.jsx)(E.LogoGithub,{size:14})}),(0,t.jsx)(F.default,{className:"geist-hide-on-mobile",disabled:null===v,label:"Copy",size:"small",textToCopy:v||"",title:"Copy file contents to clipboard"})]})]}),(0,t.jsx)("div",{className:"source-resize-panel h-[calc(100%-57px)] bg-background-100",children:q})]})]})})]})})})]})}}}]);

//# sourceMappingURL=70b1f1621726e080.js.map
//# debugId=ed1b725c-3141-5683-9dae-5c5b4a93c3c1
