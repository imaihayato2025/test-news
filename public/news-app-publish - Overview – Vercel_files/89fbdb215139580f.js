
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="5e5bfad3-4ae9-5930-969b-5779256fa60d")}catch(e){}}();
(globalThis.TURBOPACK=globalThis.TURBOPACK||[]).push(["object"==typeof document?document.currentScript:void 0,{8995384:e=>{"use strict";e.s({default:()=>r});var n=e.i(3521787),t=e.i(6649026),a=e.i(1183506),i=e.i(9336536),s=e.i(3514588);function r(e,r){let{name:l,type:d}=e,{isReady:o,team:c}=(0,s.useTeam)();return(0,n.default)(()=>l&&d&&o?`${i.API_DOMAINS_PRICE}${(0,t.encode)({teamId:c?.id,name:l,type:d})}`:"",e=>(0,a.fetchAPI)(e,{throwOnHTTPError:!0}),r)}},3603648:e=>{"use strict";var{m:n,e:t}=e;{var a=e.e&&e.e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});let n=a(e.r(4170889));t.default=function(){let{config:e=n.default}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{canRenew:function(n){return!!e[n]},get:function(n){return e[n]??null},isAvailable:function(n){let t=e[n]??null;if(!t)return!1;let{available:a,availableBy:i}=t;return i?Date.now()>=i&&a:a},SUPPORTED_TLDS:e}}}},6576707:e=>{e.v({command:"heading-module__xbadEW__command",h1:"heading-module__xbadEW__h1",h2:"heading-module__xbadEW__h2",h3:"heading-module__xbadEW__h3",h4:"heading-module__xbadEW__h4",h5:"heading-module__xbadEW__h5",span:"heading-module__xbadEW__span"})},6815196:e=>{"use strict";e.s({H2:()=>s,H4:()=>r});var n=e.i(6645307),t=e.i(6530772),a=e.i(5610210),i=e.i(6576707);let s=(0,t.forwardRef)((e,t)=>{let{children:s,className:r,...l}=e;return(0,n.jsx)("h2",{className:(0,a.clsx)(i.default.h2,r),...l,ref:t,children:s})});function r(e){let{children:t,isCommand:s,className:r,...l}=e;return(0,n.jsx)("h4",{className:(0,a.clsx)(i.default.h4,r,{[i.default.command]:s}),...l,children:t})}s.displayName="H2"},4131991:e=>{"use strict";e.s({checkCanRedeemDomain:()=>o,checkCanRenewDomain:()=>c,getDomainConnectApplyUrl:()=>m,getSuggestedApex:()=>l,isApexDomain:()=>d,isAutoRenewing:()=>s,isDomainExpired:()=>r,isExternalDomain:()=>i,useHasDomainBeenConfiguredWithDomainConnect:()=>u});var n=e.i(7415104),t=e.i(7736448),a=e.i(5535439);function i(e){return!e||!e.boughtAt}function s(e){return!!e&&(void 0===e.renew||!!e.renew)}function r(e){return!!e?.expiresAt&&e.expiresAt<Date.now()}function l(e){let t=e.startsWith("*.")?(0,n.parse)(e.slice(2)):(0,n.parse)(e);return t.error?e:t.domain||e}function d(e){return l(e)===e}function o(e){return!("redemption-period"!==e.renewalStatus||i(e.domain))&&!!e.canRenewDomainPermission}function c(e){let n=new Date(e.domain?.expiresAt||0),a=new Date;return!((0,t.differenceInDays)(n,a)>365||"active"!==e.renewalStatus&&"grace-period"!==e.renewalStatus||i(e.domain))&&!!e.canRenewDomainPermission}function m(e,n,t){let a=new URLSearchParams;return n&&a.append("teamId",n),t&&a.append("redirect",t),`https://vercel.com/api/v9/projects/${e.projectId}/domains/${e.name}/domain-connect/apply?${a.toString()}`}function u(e){let n=(0,a.useSearchParams)(),t=n?.get("domainconnect-domain"),i=n?.get("error"),s=n?.get("errorDescription");return!i&&!s&&t===e}},5662294:e=>{"use strict";e.s({addDNSRecord:()=>m,addPreset:()=>u,checkTransfer:()=>d,deleteRecord:()=>h,editRecord:()=>x,getDomainPrice:()=>l,importZoneFile:()=>o,moveInDomain:()=>c,setDomainCDN:()=>i,setZone:()=>p,toggleRenewal:()=>f,transferDomain:()=>r,updateNameservers:()=>g,verifyDomain:()=>s});var n=e.i(1183506),t=e.i(9336536),a=e.i(4131991);async function i(e){let{domain:a,cdnEnabled:i,team:s}=e,r=`${t.API_DOMAINS}/${encodeURIComponent(a)}${j(s)}`;return(0,n.default)(r,{body:JSON.stringify({op:"setCdn",value:i}),throwOnHTTPError:!0,method:"PATCH"})}async function s(e){let{domain:a,team:i}=e,{name:s}=a,r=`${t.API_DOMAINS}/${encodeURIComponent(s)}/verify${j(i)}`;return(0,n.default)(r,{body:JSON.stringify({}),method:"POST"})}async function r(e){let{name:a,authCode:i,expectedPrice:s,team:r}=e,l=`${t.API_DOMAINS}${j(r)}`;return(0,n.default)(l,{method:"POST",body:JSON.stringify({method:"transfer-in",name:a,authCode:i,expectedPrice:s}),throwOnHTTPError:!0})}async function l(e){let{name:a,type:i,team:s}=e,r=function(e){let n=Object.keys(e).filter(n=>!!e[n]).map(n=>`${n}=${encodeURIComponent(e[n])}`).join("&");return n?`?${n}`:""}({teamId:s?s.id:null,name:a,type:i});return(0,n.default)(`${t.API_DOMAINS_PRICE}${r}`,{throwOnHTTPError:!0})}async function d(e){let{name:a}=e;return(0,n.default)(`${t.API_DOMAINS}/${a}/registry`,{throwOnHTTPError:!0})}async function o(e){let{name:a,team:i,zoneFile:s}=e,r=`${t.API_DOMAINS}/${a}/records${j(i)}`;return(0,n.default)(r,{headers:{"Content-Type":"text/dns"},method:"PUT",body:s,throwOnHTTPError:!0})}async function c(e){let{name:a,moveToken:i,team:s}=e,r="none"===i?t.API_DOMAINS_V7:t.API_DOMAINS_V6,l=`${r}${j(s)}`;return(0,n.default)(l,{method:"POST",body:JSON.stringify({method:"move-in",name:a,token:i}),throwOnHTTPError:!0})}async function m(e){let{domain:a,name:i,type:s,value:r,priority:l,weight:d,port:o,target:c,svcPriority:m,svcTarget:u,svcParams:h,team:x,ttl:f,comment:p}=e,g=`${t.API_DOMAINS_RECORDS}/${a}/records${j(x)}`,y={name:i,type:s,value:r,ttl:Number.isNaN(Number(f))?f:Number(f),comment:p};return"MX"===s&&l&&(y.mxPriority=Number(l)),"SRV"===s&&(y.srv={target:c,weight:d?Number(d):null,port:o?Number(o):null,priority:l?Number(l):null}),"HTTPS"===s&&(y.https={priority:m?Number(m):null,target:u,params:h}),(0,n.default)(g,{method:"POST",body:JSON.stringify(y),throwOnHTTPError:!1,returnHeaders:!0})}async function u(e){let{domain:a,records:i,team:s}=e,r=`${t.API_DOMAINS_RECORDS}/${a}/records/batch${j(s)}`;return(0,n.default)(r,{method:"POST",body:JSON.stringify({records:i}),throwOnHTTPError:!0})}async function h(e){let{id:a,domain:i,team:s}=e;return(0,n.default)(`${t.API_DOMAINS_RECORDS}/${i}/records/${a}${j(s)}`,{throwOnHTTPError:!0,method:"DELETE"})}async function x(e){let{id:a,payload:i,team:s}=e;return(0,n.default)(`${t.API_DOMAINS_RECORDS}/records/${a}${j(s)}`,{body:JSON.stringify(i),throwOnHTTPError:!1,method:"PATCH"})}async function f(e){let{domain:i,team:s}=e,r=(0,a.isAutoRenewing)(i),{name:l}=i,d=null!==i.userId&&!i.teamId,o=`${t.API_DOMAINS}/${encodeURIComponent(l)}${d?"":j(s||{id:i.teamId})}`;return(0,n.default)(o,{method:"PATCH",body:JSON.stringify({renew:!r}),throwOnHTTPError:!0})}async function p(e){let{domain:a,team:i,zone:s}=e,{name:r}=a,l=`${t.API_DOMAINS}/${encodeURIComponent(r)}${j(i)}`;return(0,n.default)(l,{method:"PATCH",body:JSON.stringify({zone:s}),throwOnHTTPError:!0})}async function g(e){let{domain:a,payload:i,team:s}=e;return(0,n.default)(`${t.API_DOMAINS}/${encodeURIComponent(a)}${j(s)}`,{method:"PATCH",body:JSON.stringify(i),throwOnHTTPError:!0})}function j(e){return e?`?teamId=${encodeURIComponent(e.id)}`:""}},7678504:e=>{e.v({disabled:"index-module__FSmOKq__disabled",domainEntity:"index-module__FSmOKq__domainEntity",expirationDateItem:"index-module__FSmOKq__expirationDateItem",gradientOverlay:"index-module__FSmOKq__gradientOverlay",headerGrid:"index-module__FSmOKq__headerGrid",hidden:"index-module__FSmOKq__hidden",interactive:"index-module__FSmOKq__interactive",leftGroup:"index-module__FSmOKq__leftGroup",link:"index-module__FSmOKq__link",list:"index-module__FSmOKq__list",listItem:"index-module__FSmOKq__listItem",placeholderTable:"index-module__FSmOKq__placeholderTable",rbacTooltip:"index-module__FSmOKq__rbacTooltip",search:"index-module__FSmOKq__search",secondaryInformation:"index-module__FSmOKq__secondaryInformation"})},6949622:e=>{"use strict";e.s({ExpirationDateV2:()=>l});var n=e.i(6645307),t=e.i(9324662),a=e.i(3432213),i=e.i(3277953),s=e.i(889716),r=e.i(4131991);function l(e){let{domain:l,prefix:d=!0,style:o}=e;if(l.expiresAt){let e=new Date(l.expiresAt).toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"});return(0,r.isDomainExpired)(l)?(0,n.jsxs)(s.Stack,{align:"center",as:"span",direction:"row",gap:2,style:o,children:[(0,n.jsx)(i.Warning,{color:"amber-700",size:16}),(0,n.jsxs)("span",{children:[d?(0,n.jsx)(n.Fragment,{children:"Expired on"}):null," ",e]})]}):(0,n.jsx)(s.Stack,{align:"center",as:"span",direction:"row",gap:2,style:o,children:(0,r.isAutoRenewing)(l)?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(t.RotateClockwise,{color:"blue-700",size:16}),(0,n.jsxs)("span",{children:[d?(0,n.jsx)(n.Fragment,{children:"Auto Renews on"}):null," ",e]})]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(a.Clock,{color:"amber-700",size:16})," ",(0,n.jsxs)("span",{children:[d?(0,n.jsx)(n.Fragment,{children:"Expires on"}):null," ",e]})]})})}return null}},6162729:e=>{"use strict";e.s({Registrar:()=>i});var n=e.i(6645307),t=e.i(5163670),a=e.i(3904906);let i=e=>{let{domain:i,canReadDomain:s=!0}=e;return i&&s?i.boughtAt?a.PRODUCT:"number"!=typeof i.orderedAt||i.boughtAt?"Third Party":"Purchase in Process":(0,n.jsx)(t.Skeleton,{height:20,width:75})}},4795915:e=>{"use strict";e.s({useDomainRenewalStatus:()=>i});var n=e.i(3521787),t=e.i(1183506),a=e.i(9336536);function i(e,i){return(0,n.default)(void 0===e?null:encodeURI(`${a.API_DOMAINS}/${e}/renewal-status?${new URLSearchParams({domainName:e}).toString()}`),e=>(0,t.fetchAPI)(e),i)}},2684743:e=>{"use strict";e.s({autoRenewOnlyTlds:()=>n});let n=[".ae",".af",".africa",".ar",".as",".at",".cd",".ch",".cl",".cn",".cx",".de",".dk",".fi",".gd",".gl",".gs",".gy",".hm",".hr",".ht",".hu",".im",".is",".it",".jp",".kg",".ki",".kr",".lc",".li",".lt",".lu",".lv",".ly",".ma",".ms",".no",".ph",".pr",".pw",".qa",".ru",".sb",".sr",".sx",".tc",".tk",".tl",".tm",".ua",".uy",".ve",".vg",".wien",".za"]},9405339:e=>{e.v({content:"delete-domains-warn-modal-module__WT-nVW__content",inset:"delete-domains-warn-modal-module__WT-nVW__inset",loadingItem:"delete-domains-warn-modal-module__WT-nVW__loadingItem",outset:"delete-domains-warn-modal-module__WT-nVW__outset",subitem:"delete-domains-warn-modal-module__WT-nVW__subitem"})},5038523:[e=>{"use strict";e.s({},5038523),e.s({DomainSelfServeRenewModal:()=>v},6667889);var n=e.i(6645307),t=e.i(6530772),a=e.i(8247297),i=e.i(8934201),s=e.i(8158100),r=e.i(5163670),l=e.i(2362802),d=e.i(1183506),o=e.i(4374461),c=e.i(9336536),m=e.i(3514588),u=e.i(3603648),h=e.i(7415104),x=e.i(4795915),f=e.i(8995384),p=e.i(4131991);e.i(6791234);var g=e.i(4722050),j=e.i(7150089);let{canRenew:y}=(0,u.default)();function _(e){let n=Number.isInteger(e);return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2*!n,maximumFractionDigits:2}).format(e)}function w(e){let t="please contact support for assistance.",a=e.message.toLowerCase().indexOf(t);if(-1===a)return(0,n.jsx)("span",{children:e.message});let i=e.message.slice(0,a),s=e.message.slice(a,a+t.length),r=e.message.slice(a+t.length);return(0,n.jsxs)("span",{children:[i," ",(0,n.jsx)(g.Link,{className:"text-geist-link underline",href:"https://vercel.com/help",children:s})," ",r]})}function v(e){let{onDismiss:u,domain:g,onConfirm:v}=e,b=g&&(0,h.parse)(g.name),N=b&&"tld"in b&&b.tld&&y(b.tld),[S,D]=(0,t.useState)(!0),{data:A,isLoading:I}=(0,x.useDomainRenewalStatus)(g?.name,{keepPreviousData:!1}),{data:T,isLoading:P,error:O}=(0,f.default)({name:g?.name,type:"renewal"}),M=!g?.teamId,$=(0,j.useStripeSources)({enabled:!!g,forceUserSources:M}),C=$.data?.defaultSource,R=$.data?.sources.find(e=>e.id===C),k=(0,p.checkCanRedeemDomain)({domain:g,canRenewDomainPermission:!0,renewalStatus:A?.status}),{data:E,isLoading:H,error:F}=(0,f.default)({name:k?g?.name:void 0,type:"redemption"}),{isMutating:U,trigger:L,data:W}=function(e,n,t){let a=new URLSearchParams({enableAutoRenew:n?"enabled":"disabled"});return void 0!==t&&a.append("teamId",t),(0,o.default)(e?encodeURI(`${c.API_DOMAIN}/${e}/renew?${a.toString()}`):null,async e=>await (0,d.fetchAPI)(e,{method:"POST",headers:{"Content-Type":"application/json"}}))}(g?.name,S,g?.teamId??void 0),q=(0,m.useTeam)(),K=k?"Redeem and Renew Domain":"Renew Domain",B=(0,n.jsx)("span",{className:"text-muted-foreground text-[15px] leading-6",children:k?(0,n.jsxs)(n.Fragment,{children:["Redeem and renew ",(0,n.jsx)("span",{className:"font-semibold",children:g?.name})," ","for"," ",P?(0,n.jsx)(r.Skeleton,{className:"inline-flex align-middle",height:20,width:40}):(0,n.jsx)("span",{className:"font-semibold",children:`${_(T?.price??0)}`})," ","/year, after fulfilling a redemption fee of"," ",H?(0,n.jsx)(r.Skeleton,{className:"inline-flex align-middle",height:20,width:40}):(0,n.jsx)("span",{className:"font-semibold",children:`${_(E?.price??0)}`}),"."]}):(0,n.jsxs)(n.Fragment,{children:["Renew ",(0,n.jsx)("span",{className:"font-semibold",children:g?.name})," for"," ",P?(0,n.jsx)(r.Skeleton,{className:"inline-flex align-middle",height:20,width:40}):(0,n.jsx)("span",{className:"font-semibold",children:`${_(T?.price??0)}`})," ","/year."]})}),V=H||P,J=(E?.price||0)+(T?.price||0);if(!N)return(0,n.jsx)(i.Modal.Modal,{active:!0,onClickOutside:u,width:450,children:(0,n.jsxs)(i.Modal.Body,{className:"p-0",children:[(0,n.jsxs)("div",{className:"p-8",children:[(0,n.jsx)(i.Modal.Header,{children:(0,n.jsx)(i.Modal.Title,{children:"Domain not supported for manual renewal"})}),(0,n.jsx)("div",{className:"space-y-6",children:(0,n.jsx)("div",{className:"text-muted-foreground text-sm leading-6",children:(0,n.jsx)(w,{message:`${g?.name} is not supported for manual renewal due to TLD restrictions. Please contact support for assistance.`})})})]}),(0,n.jsx)(i.Modal.Actions,{className:"flex justify-end p-8",children:(0,n.jsx)(i.Modal.Action,{onClick:u,type:"default",children:"Close"})})]})});if(O||F){let e=null;return"object"==typeof O&&"message"in O&&(e=O.message),"object"==typeof F&&"message"in F&&(e=F.message),(0,n.jsx)(i.Modal.Modal,{active:!0,onClickOutside:u,width:450,children:(0,n.jsxs)(i.Modal.Body,{className:"p-0",children:[(0,n.jsxs)("div",{className:"p-8",children:[(0,n.jsx)(i.Modal.Header,{children:(0,n.jsx)(i.Modal.Title,{children:"Error loading domain price"})}),(0,n.jsxs)("div",{className:"space-y-6",children:[(0,n.jsx)(w,{message:`We encountered an error loading the domain price for renewal of ${g.name}. If the problem persists please contact support for assistance.`}),(0,n.jsxs)("div",{className:"text-red-800",children:["Error: ",e]})]})]}),(0,n.jsx)(i.Modal.Actions,{className:"flex justify-end p-8",children:(0,n.jsx)(i.Modal.Action,{onClick:u,type:"default",children:"Close"})})]})})}if(!g.name)return null;let z=W&&!("error"in W),G=(()=>{if(U)return"Processing...";if(H||P||$.isLoading)return"Loading...";if(!R?.card)return"Add Payment Method";let e=new Date(R.card.exp_year,R.card.exp_month-1),n=new Date;return n.getFullYear()>e.getFullYear()||e.getFullYear()===n.getFullYear()&&n.getMonth()>e.getMonth()?"Update Payment Method":"Confirm and Pay"})();return z?(0,n.jsx)(i.Modal.Modal,{active:!0,onClickOutside:u,width:450,children:(0,n.jsxs)(i.Modal.Body,{className:"p-0",children:[(0,n.jsxs)("div",{className:"p-8",children:[(0,n.jsx)(i.Modal.Header,{children:(0,n.jsx)(i.Modal.Title,{children:K})}),(0,n.jsx)("div",{className:"space-y-6",children:(0,n.jsxs)("div",{className:"text-muted-foreground text-[15px] leading-6",children:[(0,n.jsx)("span",{className:"font-semibold",children:g.name})," was successfully"," ",k?"redeemed and renewed":"renewed"," for",(0,n.jsxs)("span",{className:"font-semibold",children:[" ",_(J)]}),"."]})})]}),(0,n.jsx)(i.Modal.Actions,{className:"flex justify-end p-8",children:(0,n.jsx)(i.Modal.Action,{onClick:u,type:"default",children:"Close"})})]})}):(0,n.jsx)(i.Modal.Modal,{active:!0,onClickOutside:u,width:450,children:(0,n.jsxs)(i.Modal.Body,{className:"p-0",children:[(0,n.jsxs)("div",{className:"p-6",children:[(0,n.jsx)(i.Modal.Header,{children:I?(0,n.jsx)(r.Skeleton,{height:28,width:300}):(0,n.jsx)(i.Modal.Title,{children:K})}),(0,n.jsxs)("div",{className:"space-y-6",children:[(0,n.jsxs)("div",{className:"text-muted-foreground text-sm leading-6",children:[B," An amount of",V?(0,n.jsx)(r.Skeleton,{className:"mr-1 inline-flex align-middle",height:20,width:40}):(0,n.jsx)("span",{className:"font-semibold",children:` ${_(J)} `}),"will be added to your invoice and your credit card will be charged immediately."]}),(0,n.jsx)("div",{className:"flex items-center space-x-2",children:(0,n.jsx)(a.Checkbox,{checked:S,disabled:U,onChange:()=>D(!S),children:(0,n.jsx)("span",{className:"select-none text-sm font-semibold leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"Auto-renew before expiration"})})}),"Add Payment Method"===G&&(0,n.jsx)("div",{style:{backgroundColor:"var(--ds-red-200)",borderRadius:"6px"},children:(0,n.jsx)(s.Note,{style:{backgroundColor:"var(--ds-red-200)"},type:"error",children:(0,n.jsx)("div",{children:"You don't have a payment method on file. Please add a payment method to renew this domain."})})}),"Update Payment Method"===G&&R?.card?(0,n.jsx)("div",{className:"flex items-start gap-2 self-stretch rounded-md  bg-red-200",children:(0,n.jsx)(s.Note,{type:"error",children:(0,n.jsxs)("div",{children:["Your card ending in ",R.card.last4," has expired. Please update your payment method to renew this domain."]})})}):null]})]}),(0,n.jsxs)(i.Modal.Actions,{className:"flex flex-col px-6 pt-2",children:[(0,n.jsx)("div",{className:"flex flex-col pb-6 text-sm",children:(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{style:{color:"var(--ds-gray-900)"},children:[k?(0,n.jsxs)("div",{className:"flex items-center justify-between border-0 border-b border-solid border-gray-500 py-4",children:[(0,n.jsx)("div",{className:"flex items-center gap-2",children:(0,n.jsx)("span",{className:"",children:"Domain redemption"})}),(0,n.jsx)("span",{className:"text-sm",children:_(E?.price??0)})]}):null,(0,n.jsxs)("div",{className:"flex items-center justify-between border-0 border-b border-solid border-gray-500 py-4",children:[(0,n.jsx)("span",{children:"Domain renewal"}),(0,n.jsxs)("span",{children:[_(T?.price??0)," /year"]})]})]}),(0,n.jsxs)("div",{className:"flex items-center justify-between pt-4",children:[(0,n.jsx)("span",{className:"font-medium",children:"Total"}),(0,n.jsx)("span",{className:"font-medium",children:V?(0,n.jsx)(r.Skeleton,{className:"inline-flex align-middle",height:20,width:40}):`${_(J)}`})]})]})}),(0,n.jsxs)("div",{className:"-mx-6 flex justify-between border-0 border-t border-solid border-gray-500 px-6 pt-4 ",children:[(0,n.jsx)(i.Modal.Action,{disabled:U,onClick:u,type:"secondary",children:"Cancel"}),"Add Payment Method"===G||"Update Payment Method"===G?(0,n.jsx)(l.ButtonLink,{href:M?"/account/settings/billing":`/${q.teamSlug}/~/settings/billing`,children:G}):(0,n.jsx)(i.Modal.Action,{disabled:"Confirm and Pay"!==G,loading:"Processing..."===G||"Loading..."===G,onClick:async()=>{"error"in await L()||v?.()},type:"default",children:G})]}),(0,n.jsx)("div",{children:W&&"error"in W?(0,n.jsx)("div",{className:"pt-6 text-red-800",children:(0,n.jsx)(w,{message:W.error.message})}):null})]})]})})}e.s({DeleteDomainsModal:()=>U},4929861);var b=e.i(584439),N=e.i(6937468),S=e.i(7315479),D=e.i(2531953),A=e.i(1268665),I=e.i(9185154),T=e.i(8811733),P=e.i(3821772),O=e.i(2226734),M=e.i(969352),$=e.i(8673823),C=e.i(6815196),R=e.i(9405339);function k(e){let{active:t,status:a,domains:s,deletedDomains:r,onCancel:l,onConfirm:d,team:o}=e,[c,{aliases:m,loadMore:u,isLoadingMore:h,isReachingEnd:x,initialDataLoaded:f}]=(0,$.useAliasesInfinite)({domains:s.map(e=>e.name),limit:20}),p=s.some(e=>0===e.nameservers.length);return(0,n.jsxs)(i.Modal.Modal,{active:t,onClickOutside:l,children:[(0,n.jsxs)(i.Modal.Body,{children:[(0,n.jsxs)("header",{className:"jsx-aedf4df6a7382869",children:[(0,n.jsx)(C.H2,{children:1===s.length?"Delete Domain":"Delete Domains"}),(0,n.jsxs)("p",{className:"jsx-aedf4df6a7382869",children:["The following ",1===s.length?"domain":"domains"," will be permanently deleted along with related ",(0,n.jsx)("strong",{className:"jsx-aedf4df6a7382869",children:"aliases"}),"."]}),(0,n.jsxs)("p",{className:"jsx-aedf4df6a7382869",children:["If you would like to use a domain on another project, consider"," ",(0,n.jsx)("strong",{className:"jsx-aedf4df6a7382869",children:"moving"})," it instead."]}),p?(0,n.jsxs)("p",{className:"jsx-aedf4df6a7382869",children:[1===s.length?"This domain uses":"These domains use"," ",(0,n.jsx)("strong",{className:"jsx-aedf4df6a7382869",children:"third-party nameservers"}),". If you have manually directed these to Vercel, please ensure you update your DNS configuration accordingly to"," ",(0,n.jsx)("strong",{className:"jsx-aedf4df6a7382869",children:"prevent service disruptions"}),"."]}):null]}),(0,n.jsx)(T.Spacer,{y:.5}),(0,n.jsxs)(i.Modal.Outset,{children:[(0,n.jsx)(E,{count:s.length,open:!0,title:(0,n.jsxs)("span",{className:"jsx-aedf4df6a7382869",children:[s.length," ",1===s.length?"Domain":"Domains"," ","will be deleted."]}),children:(0,n.jsx)("div",{className:"jsx-aedf4df6a7382869",children:s.map(e=>(0,n.jsxs)(H,{children:[(0,n.jsx)("span",{style:{flexGrow:"1"},title:e.name,className:"jsx-aedf4df6a7382869",children:e.name}),(0,n.jsx)("span",{className:"jsx-aedf4df6a7382869 added",children:r&&r[e.id]>0?`deleted ${(0,O.ago)(Date.now()-r[e.id],{justNowLabel:"now"})}`:`added ${(0,O.ago)(Date.now()-e.createdAt,{justNowLabel:"now"})}`})]},e.name))})}),(0,n.jsx)(E,{count:m.length,loading:!f,title:0===m.length?"No aliases will be deleted":(0,n.jsxs)("span",{className:"jsx-aedf4df6a7382869",children:[m.length,x?" ":"+ ",1===m.length?"Related alias":"Related aliases"," ","will be deleted."]}),children:(0,n.jsxs)("div",{className:"jsx-aedf4df6a7382869",children:[m.map(e=>(0,n.jsxs)(H,{children:[(0,n.jsx)("span",{title:e.alias,className:"jsx-aedf4df6a7382869",children:e.alias}),(0,n.jsxs)("span",{className:"jsx-aedf4df6a7382869 added",children:["updated"," ",(0,O.ago)(Date.now()-e.updatedAt,{justNowLabel:"now"})]})]},e.alias)),!x&&(0,n.jsxs)("div",{className:"jsx-aedf4df6a7382869 "+(R.default.inset||""),children:[(0,n.jsx)(I.LoadMoreButton,{loading:h,onClick:u}),(0,n.jsx)(T.Spacer,{})]})]})}),(0,n.jsx)(T.Spacer,{y:-1})]})]}),(0,n.jsxs)(i.Modal.Actions,{children:[(0,n.jsx)(i.Modal.Action,{onClick:l,type:"secondary",children:"Cancel"}),(0,n.jsx)(i.Modal.Action,{disabled:"loading"===a,onClick:()=>{d(s,o)},children:"loading"===a?(0,n.jsx)(A.LoadingDots,{children:"Deleting"}):`Delete (${s.length+m.length}${x?"":"+"})`})]}),(0,n.jsx)(D.default,{id:"aedf4df6a7382869",children:"header.jsx-aedf4df6a7382869{max-width:440px;margin:0 auto}header.jsx-aedf4df6a7382869>h2{text-align:center;margin:0}header.jsx-aedf4df6a7382869>p{color:var(--accents-5);margin:10px auto 0}.added.jsx-aedf4df6a7382869{color:#999;flex:none}"})]})}function E(e){let{title:t,children:a,loading:i,count:s,open:r}=e;return i?(0,n.jsx)("div",{className:R.default.loadingItem,children:(0,n.jsx)(P.Spinner,{size:14})}):0===s?(0,n.jsx)(M.Details,{title:t}):(0,n.jsx)(M.Details,{open:r,title:t,children:(0,n.jsx)("div",{className:R.default.content,children:a})})}function H(e){let{children:t}=e;return(0,n.jsx)(M.Item,{className:R.default.subitem,children:t})}async function F(e){let{domain:n,teamId:t}=e,a=`${c.API_DOMAINS}/${encodeURIComponent(n)}${t?`?teamId=${t}`:""}`;try{await (0,d.fetchAPI)(a,{throwOnHTTPError:!0,method:"DELETE"})}catch(t){let e=(0,S.normalizeError)(t);if(!("code"in e))throw e;if("domain_removal_conflict"===e.code){let{suffix:t,transferring:a,pendingAsyncPurchase:i}=e;if(t)throw Error(e.message,{cause:e});if(a)throw Error(`Cannot delete ${n}. Transfer in progress.`,{cause:e});if(i)throw Error(`Cannot delete ${n}. Processing purchase.`,{cause:e});throw e}}}function U(e){let{active:a,domains:i,onCancel:s,onSuccess:r}=e,[l,d]=(0,t.useState)("notasked"),{team:o}=(0,m.useTeam)(),c=(0,b.useToasts)();async function u(){d("loading");try{let e=await Promise.all(i.map(async e=>{try{return await F({domain:e.name,teamId:e.isPersonalDomain?void 0:o?.id}),{domain:e}}catch(n){return{domain:e,error:n}}})),n=e.filter(e=>{let{error:n}=e;return!n}).map(e=>{let{domain:n}=e;return n}),t=e.map(e=>{let{error:n}=e;return n?.message}).filter(Boolean);if(t.length>0){d("failure"),t.forEach(e=>c.error(e));return}d("success"),c.success(`Removed ${(0,N.pluralize)("Domain",i.length)} successfully.`),r(n)}catch(e){d("failure"),c.error(e.message)}}return(0,n.jsx)(k,{active:a,deletedDomains:null,domains:i,onCancel:s,onConfirm:()=>void u(),status:l,team:o})}},[6667889,4929861]],4679958:e=>{"use strict";e.s({DomainsMoveOutModal:()=>_},4679958);var n=e.i(6645307),t=e.i(6530772),a=e.i(5175803),i=e.i(8934201),s=e.i(1268665),r=e.i(1917237),l=e.i(8084653),d=e.i(3621043),o=e.i(889716),c=e.i(2824080),m=e.i(1985209),u=e.i(3514588),h=e.i(5454140),x=e.i(584439),f=e.i(2362802);function p(e){let{active:p,domains:g,errors:j,onCancel:y,onConfirm:_,status:w}=e,[v,b]=(0,t.useState)(""),[N,S]=(0,t.useState)(),{team:D,teams:A}=(0,u.useTeam)(),{user:I}=(0,h.useUser)(),T=(0,x.useToasts)(),P=async()=>{let e=(()=>{if(I?.username===v)return I.uid||v;let e=(A||[]).find(e=>e.name===v);return e?e.id||e.slug:v})(),n=await _(g,e,D);if(n){let{movedDomains:e,requestedDomains:t}=n;e.length>0&&T.success(`${1===e.length?`"${e[0].name}"`:`${e.length} domains`} moved!`),t.length>0&&T.success(`Request sent to move ${1===t.length?`"${t[0].name}"`:`${t.length} domains`}`)}};(0,t.useEffect)(()=>{p&&b(""),"failure"===w&&j&&j.forEach(e=>T.error(e))},[p,N,j,w,T]);let O=1===g.length,M=v?I?.username===v?I:A?.find(e=>e.name===v||e.slug===v)||null:null;return(0,n.jsx)("div",{children:(0,n.jsxs)(i.Modal.Modal,{active:p,onClickOutside:()=>{y(),S(null)},width:450,children:[(0,n.jsxs)(i.Modal.Body,{children:[(0,n.jsxs)(i.Modal.Header,{children:[(0,n.jsx)(i.Modal.Title,{children:`Move Domain${O?"":"s"}`}),(0,n.jsx)(i.Modal.Subtitle,{children:(0,n.jsx)(l.Text,{children:"All existing project domains associated with this domain will remain and not be moved to prevent service disruption."})})]}),(0,n.jsxs)(d.Combobox,{errored:"failure"===w,onChange:e=>{e?b(e):b("")},placeholder:"Enter destination user or team slug...",prefixIcon:M?(0,n.jsx)(a.Avatar,{hash:M.avatar,size:24,teamId:"id"in M?M.id:M.uid}):(0,n.jsx)(c.MagnifyingGlass,{}),children:[(0,n.jsx)(d.Combobox.Input,{onChange:e=>b(e.target.value)}),(0,n.jsx)(d.Combobox.List,{children:A?.map(e=>(0,n.jsx)(d.Combobox.Option,{value:e.name,children:(0,n.jsxs)(o.Stack,{direction:"row",gap:2,style:{display:"inline-flex",alignItems:"center",verticalAlign:"middle"},children:[(0,n.jsx)(a.Avatar,{hash:e.avatar,size:24,teamId:e.id}),(0,n.jsx)(l.Text,{size:14,children:e.name})]})},e.id))})]}),(0,n.jsx)(o.Stack,{style:{marginTop:"1rem",marginBottom:"1rem"},children:N?(0,n.jsx)(r.Error,{children:N}):null}),(0,n.jsx)(o.Stack,{style:{marginTop:"1rem",marginBottom:"1rem"},children:(0,n.jsxs)(l.Text,{children:["The following domain",O?"":"s"," will be ",(0,n.jsx)("b",{children:"moved"})," ","and any"," ",(0,n.jsx)(f.Link,{external:!0,href:"/docs/cli/alias",type:"highlight",children:"custom aliases"})," ","that are not part of project domains will be"," ",(0,n.jsx)("b",{children:"removed immediately"}),"."]})}),g.map(e=>(0,n.jsxs)(o.Stack,{align:"center",direction:"row",gap:2,style:{paddingLeft:"16px"},children:[(0,n.jsx)(m.ArrowCircleRight,{}),(0,n.jsx)(l.Text,{children:e.name})]},e.id))]}),(0,n.jsxs)(i.Modal.Actions,{children:[(0,n.jsx)(i.Modal.Action,{onClick:()=>{y(),S(null)},type:"secondary",children:"Cancel"}),(0,n.jsxs)(i.Modal.Action,{disabled:"loading"===w,onClick:()=>{v?(S(null),P()):S("Select a destination Vercel Scope.")},children:["loading"===w&&(0,n.jsx)(s.LoadingDots,{}),"loading"!==w&&"Continue"]})]})]})})}var g=e.i(9336536),j=e.i(1183506);async function y(e){let{name:n,destination:t,teamId:a}=e,i=`${g.API_DOMAINS_V7}/${encodeURIComponent(n)}${a?`?teamId=${a}`:""}`;try{return await (0,j.fetchAPI)(i,{throwOnHTTPError:!0,method:"PATCH",body:JSON.stringify({op:"move-out",destination:t})})}catch(e){if("domain_move_conflict"===e.code){let{suffix:t,pendingAsyncPurchase:a}=e;if(t)throw Error(e.message);if(a)throw Error(`Cannot move ${n}. Processing purchase.`)}throw e}}function _(e){let{active:a,domains:i,onCancel:s,onSuccess:r}=e,[l,d]=(0,t.useState)({status:"notasked"});async function o(e){d({status:"loading"});try{let n=await Promise.all(i.map(async n=>{try{let t=await y({name:n.name,destination:e,teamId:n.teamId??void 0});return{domain:n,moved:t.moved}}catch(e){return{domain:n,moved:!1,error:e}}})),t=n.filter(e=>{let{error:n}=e;return!n}),a=t.filter(e=>{let{moved:n}=e;return n}).map(e=>{let{domain:n}=e;return n}),s=n.map(e=>{let{error:n}=e;return n?.message}).filter(Boolean),l=t.length>0?"success":"failure";if("failure"===l)return void d({status:"failure",errors:s});let o=t.filter(e=>!e.moved).map(e=>e.domain);return d({status:"success"}),r({movedDomains:a,requestedDomains:o}),{movedDomains:a,requestedDomains:o}}catch(e){d({status:"failure",errors:[e.message]})}}return(0,n.jsx)(p,{active:a,domains:i,errors:"failure"===l.status?l.errors:void 0,onCancel:s,onConfirm:(e,n)=>o(n),status:l.status})}},4472992:e=>{"use strict";e.s({DomainTransferOutModal:()=>p},4472992);var n=e.i(6645307),t=e.i(3514588),a=e.i(1183506),i=e.i(9336536),s=e.i(6530772),r=e.i(8934201),l=e.i(6649026),d=e.i(1917237),o=e.i(3821772),c=e.i(209032),m=e.i(889716),u=e.i(8084653),h=e.i(7293895);function x(e){let{active:t,onDismiss:a,domain:i,handleDomainTransferOut:x,team:f}=e,[p,g]=(0,s.useState)(""),[j,y]=(0,s.useState)("");return(0,s.useEffect)(()=>{async function e(){try{if(i){let e=await x(i.name);g(e)}}catch(e){e instanceof h.ApiError&&y(e.message)}}t&&i&&e()},[t,i,x,f]),(0,n.jsxs)(r.Modal.Modal,{active:t,onAnimationDone:()=>{g(""),y("")},onClickOutside:a,width:450,children:[(0,n.jsxs)(r.Modal.Body,{children:[(0,n.jsxs)(r.Modal.Header,{children:[(0,n.jsx)(r.Modal.Title,{children:"Transfer Out Domain"}),(0,n.jsx)(r.Modal.Subtitle,{children:p?(0,n.jsxs)(u.Text,{children:["Use this auth code to move ",(0,n.jsx)("strong",{children:i?.name})," to another registrar:"]}):(0,n.jsxs)(u.Text,{children:["Please wait while we fetch the auth code for"," ",(0,n.jsx)("strong",{children:i?.name})," ..."]})})]}),j?(0,n.jsx)(m.Stack,{align:"center",justify:"center",style:{height:"40px"},children:(0,n.jsx)(d.Error,{error:{message:j,action:"Contact Us",link:`/help${(0,l.encode)({teamSlug:f?f.slug:null})}`}})}):null,p?(0,n.jsx)(m.Stack,{align:"center",justify:"center",children:(0,n.jsx)(c.Snippet,{text:p,width:"300px"})}):!j&&(0,n.jsx)(m.Stack,{align:"center",justify:"center",style:{height:"40px"},children:(0,n.jsx)(o.Spinner,{})})]}),(0,n.jsx)(r.Modal.Actions,{children:(0,n.jsx)(r.Modal.Action,{onClick:a,type:"secondary",children:"Dismiss"})})]})}async function f(e){let{domain:n,teamId:t}=e;return(await (0,a.fetchAPI)(`${i.API_DOMAINS}/${encodeURIComponent(n)}/auth-code${t?`?teamId=${t}`:""}`,{method:"GET",throwOnHTTPError:!0})).authCode}function p(e){let{active:a,domain:i,onCancel:s}=e,{team:r}=(0,t.useTeam)();return(0,n.jsx)(x,{active:a,domain:i,handleDomainTransferOut:e=>f({domain:e,teamId:i?.teamId??void 0}),onDismiss:s,team:r})}}}]);

//# sourceMappingURL=e55a1506e7606c77.js.map
//# debugId=5e5bfad3-4ae9-5930-969b-5779256fa60d
