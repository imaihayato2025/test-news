
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="af2c9e02-a58c-5efb-a9cf-7f4b0084b761")}catch(e){}}();
(globalThis.TURBOPACK=globalThis.TURBOPACK||[]).push(["object"==typeof document?document.currentScript:void 0,{8368603:e=>{e.v({check:"radio-module__3k_T0a__check",disabled:"radio-module__3k_T0a__disabled",icon:"radio-module__3k_T0a__icon",input:"radio-module__3k_T0a__input"})},2773196:e=>{"use strict";e.s({Radio:()=>o});var t=e.i(6645307),r=e.i(5610210),a=e.i(6530772),n=e.i(9362924),i=e.i(8368603);let o=(0,a.forwardRef)((e,a)=>{let{alignRadioToText:o,checked:s,className:l,disabled:d,iconClassName:c,inputClassName:u,onChange:g,value:f,...m}=e,h=(0,n.useDisabled)()||d;return(0,t.jsxs)("span",{className:(0,r.clsx)(i.default.check,h&&i.default.disabled,l),children:[o?(0,t.jsx)(t.Fragment,{children:"​"}):null,(0,t.jsx)("input",{...m,checked:s,className:(0,r.clsx)(i.default.input,"geist-sr-only",u),disabled:h,onChange:g,ref:a,type:"radio",value:f}),(0,t.jsx)("span",{"aria-hidden":!0,className:(0,r.clsx)(i.default.icon,c)})]})});o.displayName="Radio"},5291977:e=>{e.v({disabled:"radio-group-module__neb8na__disabled","full-width":"radio-group-module__neb8na__full-width",item:"radio-group-module__neb8na__item","no-margin-left":"radio-group-module__neb8na__no-margin-left","radio-check":"radio-group-module__neb8na__radio-check","radio-icon":"radio-group-module__neb8na__radio-icon","radio-input":"radio-group-module__neb8na__radio-input",text:"radio-group-module__neb8na__text"})},5249128:e=>{"use strict";e.s({RadioGroup:()=>c,useRadio:()=>g,useRadioContext:()=>d});var t=e.i(6645307),r=e.i(6530772),a=e.i(5610210),n=e.i(9362924),i=e.i(567017),o=e.i(2773196),s=e.i(5291977);let l=(0,r.createContext)({disabled:!1,name:"",required:!1,selectedValue:"",setSelected:e=>{}});l.displayName="RadioContext";let d=()=>(0,r.useContext)(l);function c(e){let{children:a,disabled:o,label:s,name:d,onChange:c,required:u,value:g}=e,f=(0,n.useDisabled)(),m=(0,i.useId)("radio-"),h=(0,i.useId)("radio-name-"),p=(0,r.useMemo)(()=>({name:d??h,selectedValue:g,setSelected:c,required:u,disabled:o||f}),[o,f,d,h,c,u,g]);return(0,t.jsxs)("div",{"aria-labelledby":s?m:void 0,"data-geist-radio-group":"","data-version":"v1",role:"radiogroup",children:[s?(0,t.jsx)("span",{className:"geist-sr-only",id:m,children:s}):null,(0,t.jsx)(l.Provider,{value:p,children:a})]})}let u=(0,r.forwardRef)((e,n)=>{let{children:i,className:l,disabled:c,label:u=!0,value:g,fullWidth:f,noMarginLeft:m}=e,{selectedValue:h,setSelected:p,...b}=d(),y=(0,r.useCallback)(()=>p?.(g),[g,p]);return(0,t.jsxs)(u?"label":"span",{className:(0,a.clsx)(s.default.item,(b.disabled||c)&&s.default.disabled,l),"data-geist-radio-item":"",children:[(0,t.jsx)(o.Radio,{checked:g===h,className:(0,a.clsx)(s.default["radio-check"]),iconClassName:(0,a.clsx)(s.default["radio-icon"]),inputClassName:(0,a.clsx)(s.default["radio-input"]),...b,alignRadioToText:!!i,disabled:b.disabled||c,onChange:y,ref:n,value:g}),i?(0,t.jsx)("span",{className:(0,a.clsx)(s.default.text,f&&s.default["full-width"],m&&s.default["no-margin-left"]),children:i}):null]})});u.displayName="RadioItem",c.Item=u;let g=e=>{let{value:r,disabled:a}=e,{selectedValue:n,...i}=d();return{component:(0,t.jsx)(c.Item,{disabled:a,label:!1,value:r}),checked:r===n,...i}}},6960707:e=>{"use strict";e.s({MinusCircle:()=>t});let t=(0,e.i(6895406).withNewIcon)('<path fill-rule="evenodd" clip-rule="evenodd" d="M14.5 8C14.5 11.5899 11.5899 14.5 8 14.5C4.41015 14.5 1.5 11.5899 1.5 8C1.5 4.41015 4.41015 1.5 8 1.5C11.5899 1.5 14.5 4.41015 14.5 8ZM16 8C16 12.4183 12.4183 16 8 16C3.58172 16 0 12.4183 0 8C0 3.58172 3.58172 0 8 0C12.4183 0 16 3.58172 16 8ZM5 7.25H4.25V8.75H5H11H11.75V7.25H11H5Z" fill="currentColor"/>')},5440190:e=>{"use strict";e.s({default:()=>o});var t=e.i(3521787),r=e.i(6649026),a=e.i(1183506),n=e.i(9336536),i=e.i(3514588);function o(e,o,s){let{isReady:l,team:d}=(0,i.useTeam)(),c=(0,t.default)(()=>e&&"$cfgId"!==e&&l?`${n.API_INTEGRATION_CONTROLLER}/configuration/${e}${(0,r.encode)({teamId:d?.id})}`:"",e=>(0,a.fetchAPI)(e,o),s),u=async(t,i)=>{await (0,a.fetchAPI)(`${n.API_INTEGRATION_CONTROLLER}/configuration/${e}${(0,r.encode)({teamId:d?.id})}`,{method:"PATCH",body:JSON.stringify({billingPlanId:t,authorizationId:i}),throwOnHTTPError:!0}),await c.mutate()};return{...c,updateConfiguration:u}}},4701001:e=>{"use strict";e.s({useAwaitAuthorization:()=>l,useMarketplaceBillingAuthorizationApi:()=>o,usePollAuthorization:()=>s});var t=e.i(6530772),r=e.i(1183506),a=e.i(9336536),n=e.i(3521787),i=e.i(9934081);function o(){let{confirmPayment:e}=(0,i.useBillingPlatform)();return(0,t.useMemo)(()=>({createAuthorization:async(e,t)=>{let{integrationIdOrSlug:n,productId:i,resourceId:o,billingPlanId:s,prepaymentAmountCents:l,metadata:d,integrationConfigurationId:c,paymentMethodId:u,transferRequestId:g,overrideTeamForInstallationTransfer:f}=t;return(await (0,r.fetchAPI)(`${a.API_INTEGRATION_CONTROLLER}/billing/authorization?teamId=${e}`,{throwOnHTTPError:!0,method:"POST",body:JSON.stringify({integrationIdOrSlug:n,productId:i,resourceId:o,billingPlanId:s,prepaymentAmountCents:l,metadata:JSON.stringify(d),integrationConfigurationId:c,paymentMethodId:u,transferRequestId:g,overrideTeamForInstallationTransfer:f})})).authorization},getAuthorizationState:async(e,t)=>await (0,r.fetchAPI)(`${a.API_INTEGRATION_CONTROLLER}/billing/authorization/${t}?teamId=${e}`,{throwOnHTTPError:!0}),handleUserActions:async t=>{let r=t.paymentIntent?.clientSecret;if(e&&r)try{await e({clientSecret:r,redirect:"if_required"})}catch(e){console.error("handleUserActions failed",e)}}}),[e])}function s(e,i){let{handleUserActions:s}=o(),l=(0,t.useRef)(1e3),{data:d,error:c}=(0,n.default)(i?`${a.API_INTEGRATION_CONTROLLER}/billing/authorization/${i}?teamId=${e}`:null,e=>(0,r.fetchAPI)(e,{throwOnHTTPError:!0}),{refreshInterval:l.current});(d?.status==="succeeded"||d?.status==="failed")&&(l.current=0);let u=(0,t.useCallback)(async()=>{d&&await s(d)},[d,s]);return(0,t.useMemo)(()=>({authorization:d,error:c,handleUserActions:u}),[d,c,u])}function l(){let{getAuthorizationState:e}=o(),r=(0,t.useRef)([]);return(0,t.useEffect)(()=>()=>{for(let e of r.current)clearInterval(e)},[]),(0,t.useCallback)(async(t,a)=>{let n,i,o,s=new Promise((e,t)=>{n=e,i=t});async function l(){let s;try{s=await e(t,a)}catch(e){i(e)}if(!o)return void i(Error("canceled"));s&&("succeeded"===s.status||"failed"===s.status)&&(n(s),clearInterval(o),r.current=r.current.filter(e=>e!==o),o=void 0)}return o=setInterval(()=>{l()},1e3),r.current.push(o),s},[e])}},3261281:[e=>{"use strict";e.s({},3261281),e.i(1985432),e.i(2985809),e.i(4392991),e.i(2711971),e.i(4848638),e.i(5595475),e.s({useAwaitData:()=>r},2169587);var t=e.i(6530772);function r(e,r){let[n,i]=(0,t.useState)(a);return(0,t.useEffect)(()=>{void 0!==e?n.resolve(e):r&&n.reject(r)},[n,e,r]),n.promise}function a(){let e=()=>void 0,t=()=>void 0,r=new Promise((r,a)=>{e=r,t=a});return{resolve:e,reject:t,promise:r}}},[2169587]],5396709:[e=>{"use strict";e.s({requiresSeparatePaymentMethodForInstallation:()=>g,updateInstallationPaymentMethod:()=>u,useInstallationPaymentMethodState:()=>d,useIntegrationPaymentMethodState:()=>c},5396709);var t=e.i(3514588),r=e.i(3521787),a=e.i(6530772),n=e.i(1183506),i=e.i(9336536),o=e.i(3585235),s=e.i(5785123),l=e.i(7150089);function d(e){let{team:d}=(0,t.useTeam)(),{can:c}=(0,o.default)(),u=c(s.Action.Update,s.Resource.PaymentMethod),g=c(s.Action.Update,s.Resource.PaymentMethod),m=(0,r.default)(d?`${i.API_INTEGRATION_CONTROLLER}/installations/${e}/payment-method?teamId=${d.id}`:null,e=>(0,n.fetchAPI)(e,{throwOnHTTPError:!0})),h=(0,l.useStripeSources)(),p=(0,a.useCallback)(async()=>{await Promise.all([m.mutate(),h.mutate()])},[m,h]);return(0,a.useMemo)(()=>{let e,t=m.data,r=h.data;if(!d||!t||!r)return{isLoading:!0,data:void 0,mutate:p};let a=f(d),n=!1;null!==t.paymentMethodId?(e=t.paymentMethodId,n=!0===t.valid):"account"===a&&"string"==typeof r.defaultSource&&(n=!!(e=r.defaultSource));let i=!!e,o=r.sources.find(t=>t.id===e),s=n&&(!u||!!o?.card);return{isLoading:!1,data:{type:a,required:!t.ledgerAvailable,provided:i,valid:s,ledgerAvailable:t.ledgerAvailable,canRead:u,canUpdate:g,paymentMethodId:e,unmaskedPaymentMethod:o},mutate:p}},[d,m,h,u,g,p])}function c(){let{team:e}=(0,t.useTeam)(),{can:r}=(0,o.default)(),n=r(s.Action.Update,s.Resource.PaymentMethod),i=r(s.Action.Update,s.Resource.PaymentMethod),d=(0,l.useStripeSources)(),c=(0,a.useCallback)(async()=>{await Promise.all([d.mutate()])},[d]);return(0,a.useMemo)(()=>{let t,r=d.data;if(!e||!r)return{isLoading:!0,data:void 0,mutate:c};let a=f(e),o=!1;"account"===a&&"string"==typeof r.defaultSource&&(o=!!(t=r.defaultSource));let s=!!t,l=r.sources.find(e=>e.id===t);return{isLoading:!1,data:{type:a,required:!0,provided:s,valid:o&&(!n||!!l?.card),ledgerAvailable:!1,canRead:n,canUpdate:i,paymentMethodId:t,unmaskedPaymentMethod:l},mutate:c}},[e,d,n,i,c])}async function u(e,t,r,a){await (0,n.fetchAPI)(`${i.API_INTEGRATION_CONTROLLER}/installations/${t}/payment-method?teamId=${e}`,{throwOnHTTPError:!0,method:"POST",body:JSON.stringify({paymentMethodId:r,...a})})}function g(e){return"installation"===f(e)}function f(e){return"enterprise"===e.billing?.plan?"installation":"account"}e.s({SelectPaymentMethodAction:()=>w,SelectPaymentMethodActionForTeam:()=>P,SelectPaymentMethodModal:()=>k},8327270);var m=e.i(6645307),h=e.i(889716),p=e.i(3921802),b=e.i(5674541),y=e.i(8934201),x=e.i(6530145),v=e.i(663357),R=e.i(5249128),_=e.i(6083415),A=e.i(7281916),I=e.i(6984098),C=e.i(5528554),S=e.i(9024310),T=e.i(7857565);e.i(7597982);var j=e.i(9598711);function k(e){let{initialPaymentMethodId:t,isActive:r,onAbort:a,onContinue:n}=e;return(0,m.jsx)(y.Modal.Modal,{active:r,onClickOutside:a,children:(0,m.jsx)(w,{initialPaymentMethodId:t,onAbort:a,onContinue:e=>n(e)})})}function w(e){let{initialPaymentMethodId:t,onAbort:r,onContinue:a,cancelLabel:n="Cancel",continueLabel:i="Select"}=e,{can:d}=(0,o.default)(),c=d(s.Action.Read,s.Resource.PaymentMethod),u=d(s.Action.Write,s.Resource.PaymentMethod),g=(0,l.useStripeSources)();return(0,m.jsx)(N,{canReadPaymentMethod:c,canWritePaymentMethod:u,cancelLabel:n,continueLabel:i,initialPaymentMethodId:t,onAbort:r,onContinue:a,sourceData:g})}function P(e){let{initialPaymentMethodId:t,onAbort:r,onContinue:a,cancelLabel:n="Cancel",continueLabel:i="Select",team:d}=e,{can:c}=(0,o.default)({teamId:d.id}),u=c(s.Action.Read,s.Resource.PaymentMethod),g=c(s.Action.Write,s.Resource.PaymentMethod),f=(0,l.useStripeSourcesForTeam)(d.id);return(0,m.jsx)(N,{canReadPaymentMethod:u,canWritePaymentMethod:g,cancelLabel:n,continueLabel:i,initialPaymentMethodId:t,onAbort:r,onContinue:a,sourceData:f,team:d})}function N(e){let{canReadPaymentMethod:t,canWritePaymentMethod:r,sourceData:n,initialPaymentMethodId:i,onAbort:o,onContinue:s,cancelLabel:l="Cancel",continueLabel:d="Select",team:c}=e,u=n.data?.defaultSource,g=(0,a.useMemo)(()=>(n.data?.sources||[]).sort((e,t)=>e.id.localeCompare(t.id)),[n]),f=n.isLoading,[_,A]=(0,a.useState)(!1),[I,k]=(0,a.useState)(i??"");return(0,m.jsxs)(h.Stack,{children:[(0,m.jsxs)(y.Modal.Body,{children:[(0,m.jsx)(y.Modal.Title,{children:"Select a Payment Method"}),t?(0,m.jsxs)(h.Stack,{direction:"column",gap:2,paddingTop:4,children:[g.length>0?(0,m.jsx)(R.RadioGroup,{onChange:e=>k(e),value:I,children:(0,m.jsx)(x.Table,{children:(0,m.jsx)(x.Table.Body,{children:g.map(e=>{let{card:t}=e;if(!t)return null;let r=e.id===u;return(0,m.jsxs)(x.Table.Row,{className:"border-t",children:[(0,m.jsx)(x.Table.Cell,{className:"text-gray-1000",children:(0,m.jsxs)("span",{className:"flex items-center gap-x-2",children:[(0,m.jsx)(L,{brand:t.brand}),`${(0,T.cardBrand)(t.brand)} ${t.funding} •••• ${t.last4}`,r?(0,m.jsx)(p.Badge,{icon:(0,m.jsx)(C.CheckCircleFill,{}),variant:"gray-subtle",children:"Default"}):null]})}),(0,m.jsxs)(x.Table.Cell,{className:"text-right text-gray-1000",children:["Valid until ",t.exp_month,"/",t.exp_year]}),(0,m.jsx)(x.Table.Cell,{className:"w-[3%]",children:(0,m.jsx)(R.RadioGroup.Item,{value:e.id})})]},e.id)})})})}):(0,m.jsx)(v.EmptyState.Root,{description:"No payment methods on file.",icon:(0,m.jsx)(v.EmptyState.Icon,{icon:(0,m.jsx)(S.CreditCard,{size:32})})}),(0,m.jsxs)(h.Stack,{children:[(0,m.jsx)(j.CreditCardModal,{isActive:_,makeDefault:!1,onAbort:()=>A(!1),onContinue:e=>{A(!1),k(e),n.mutate()},paying:!1,team:c}),(0,m.jsx)(h.Stack,{direction:"row",gap:2,justify:"end",children:(0,m.jsx)(b.Button,{className:"add-new-card",disabled:!!r&&g.length>=3,loading:f,onClick:()=>A(!0),size:"small",title:"At most, three credit cards can be added.",type:"secondary",children:"Add Card"})})]})]}):(0,m.jsx)(v.EmptyState.Root,{description:"You don't have permission to view payment methods",icon:(0,m.jsx)(v.EmptyState.Icon,{icon:(0,m.jsx)(S.CreditCard,{size:32})})})]}),(0,m.jsxs)(y.Modal.Actions,{children:[(0,m.jsx)(y.Modal.Action,{onClick:o,type:"secondary",children:l}),(0,m.jsx)(y.Modal.Action,{buttonType:"submit",disabled:!I&&I!==i,onClick:()=>s(I),children:d})]})]})}function L(e){let{brand:t}=e;switch(t){case"visa":return(0,m.jsx)(A.LogoVisa,{});case"mastercard":return(0,m.jsx)(I.LogoMastercard,{});case"amex":return(0,m.jsx)(_.LogoAmex,{});default:return(0,m.jsx)(S.CreditCard,{})}}},[8327270]],7812637:e=>{"use strict";e.s({PaymentMethodAction:()=>A,PaymentMethodInstallationAction:()=>I,getIsPaymentMethodStepNeeded:()=>_},7812637);var t=e.i(6645307),r=e.i(6530772),a=e.i(1917237),n=e.i(1268665),i=e.i(8934201),o=e.i(8811733),s=e.i(3514588),l=e.i(503726),d=e.i(7150089),c=e.i(974550),u=e.i(2382182);let g=(0,c.withStripe)(function(e){let{active:r,assignCardToEntity:g,children:f,cancelLabel:m="Cancel",continueLabel:h="Continue",description:p,disabled:b,error:y,formDescription:x,loading:v=!1,onAdded:R,onCancel:_,onSubmit:A,savingLabel:I="Saving Card",title:C,wrapDescription:S=!0,shouldUseTeam:T=!0}=e,{account:j}=(0,l.useAccount)(),{team:k,mutate:w}=(0,s.useTeam)(),{stripe:P,submit:N,...L}=(0,c.useBillingForm)(),{mutate:M}=(0,d.useStripeSources)({enabled:r});if(!j)return null;let O=v||L.disabled,E=L.disabled||b;return(0,t.jsx)(t.Fragment,{children:P?(0,t.jsxs)("form",{onSubmit:async e=>{A?.(),e.preventDefault();let t=k?.id,r=await N({assignCardToEntity:g,teamId:t,shouldUseTeam:T});r&&(await Promise.all([M(),w()]),R(r))},children:[C||p?(0,t.jsxs)(i.Modal.Body,{children:[(0,t.jsx)(i.Modal.Title,{children:C}),(0,t.jsx)(o.Spacer,{y:.75}),S?(0,t.jsx)(i.Modal.Subtitle,{children:p}):p]}):null,(0,t.jsx)(u.BillingFormModalBody,{account:j,assignCardToEntity:g,description:x,...L,disabled:E}),f,y?(0,t.jsx)(i.Modal.Body,{className:"border-0 border-t border-solid border-gray-200",children:(0,t.jsx)(a.Error,{error:y})}):null,(0,t.jsxs)(i.Modal.Actions,{children:[(0,t.jsx)(i.Modal.Action,{disabled:O,onClick:_,type:"secondary",children:m}),(0,t.jsx)(i.Modal.Action,{buttonType:"submit",disabled:O||b,children:O?(0,t.jsx)(n.LoadingDots,{children:I}):h})]})]}):(0,t.jsxs)(i.Modal.Body,{children:[(0,t.jsx)(i.Modal.P,{children:"The payment method modal could not be loaded. Our engineers have already been informed. Please try again later."}),(0,t.jsx)(i.Modal.P,{children:"To increase the chances of success, please disable any browser extensions that could be blocking third-party scripts."})]})})});var f=e.i(8327270),m=e.i(5396709),h=e.i(8084653),p=e.i(36632),b=e.i(7293895),y=e.i(6434038),x=e.i(5693066),v=e.i(5687260);function R(e){let{mutate:a}=(0,s.useTeam)(),[n,o]=(0,r.useState)(null),[l,d]=(0,r.useState)(!1),c=e.submitLabel??"Continue",u=e.backLabel??"Back",g=async t=>{o(null),d(!0);let r=(0,x.validateAddressFormData)(t);if((0,p.isError)(r))return void o("Invalid billing address.");try{await (0,y.saveBillingDetails)(e.team.id,r);try{await a()}finally{e.onAdded()}}catch(e){e instanceof b.ApiError?o(e.message):o("There was a problem saving your billing address")}finally{d(!1)}};return(0,t.jsxs)("form",{onSubmit:e=>{e.preventDefault(),g(new FormData(e.currentTarget))},children:[(0,t.jsxs)(i.Modal.Body,{children:[(0,t.jsxs)(i.Modal.Header,{children:[(0,t.jsx)(i.Modal.Title,{children:"Billing Address"}),(0,t.jsx)(i.Modal.Subtitle,{children:(0,t.jsx)(h.Text,{children:"Please provide a billing address for your active payment."})})]}),(0,t.jsx)(v.FullBillingAddressForm,{disabled:!1})]}),n?(0,t.jsx)(i.Modal.Error,{children:n}):null,(0,t.jsxs)(i.Modal.Actions,{children:[(0,t.jsx)(i.Modal.Action,{buttonType:"button",onClick:e.onBack,type:"secondary",children:u}),(0,t.jsx)(i.Modal.Action,{buttonType:"submit",loading:l,children:c})]})]})}function _(e,t,r){return!!r.paymentMethodRequired&&!!(t.required&&!t.valid||C(e))}function A(e){let{team:a,requireNew:n,paymentMethodState:i,onBack:o,onNext:s}=e,l=(0,r.useMemo)(()=>!!n||i.required&&!i.valid,[n,i]);return((0,r.useEffect)(function(){l||C(a)||s()},[l,a,s]),!l&&C(a))?(0,t.jsx)(R,{onAdded:s,onBack:o,team:a}):(0,m.requiresSeparatePaymentMethodForInstallation)(a)?(0,t.jsx)(f.SelectPaymentMethodAction,{cancelLabel:"Back",continueLabel:"Continue",onAbort:o,onContinue:e=>{s(e)}}):(0,t.jsx)(g,{active:!0,cancelLabel:"Back",description:"You must have a payment method for this operation.",onAdded:()=>s(),onCancel:o,title:"Add Payment Method"})}function I(e){let{team:r,installationId:a,requireNew:n,paymentMethodState:i,onBack:o,onNext:s}=e,l=async e=>{await (0,m.updateInstallationPaymentMethod)(r.id,a,e),s()};return(0,t.jsx)(A,{team:r,requireNew:n,paymentMethodState:i,onBack:o,onNext:e=>{e?l(e):s()}})}function C(e){return!e.billing?.address?.postalCode&&e.billing?.plan!=="enterprise"}},9147016:[e=>{"use strict";e.s({useInstallationPermissions:()=>l},9147016);var t=e.i(3521787),r=e.i(3514588),a=e.i(1183506),n=e.i(9336536),i=e.i(3585235),o=e.i(5785123),s=e.i(5440190);function l(e){let{team:l}=(0,r.useTeam)(),{can:d,isLoading:c}=(0,i.default)(),{data:u,isLoading:g}=(0,t.default)(l&&e?`${n.API_INTEGRATION_CONTROLLER}/installations/${e}/membership?teamId=${l.id}`:null,e=>(0,a.fetchAPI)(e,{throwOnHTTPError:!0})),{data:f,isLoading:m}=(0,s.default)(e),h=!!f?.deleteRequestedAt,p=u?.role==="ADMIN";return{isLoading:c||g||m,canCreateResource:d(o.Action.Create,o.Resource.IntegrationResource)&&p,canDeleteResource:d(o.Action.Delete,o.Resource.IntegrationResource)&&p,isDeleteRequested:h}}e.s({MAX_RESOURCE_NAME_LENGTH:()=>b,generateRandomName:()=>h,useResourceName:()=>y},6032772);var d=e.i(6530772);e.i(7196151);var c=e.i(5330315),u=e.i(4325351),g=e.i(5037292);let f=["gray","red","rose","yellow","amber","green","lime","emerald","blue","lightBlue","cyan","purple","violet","fuchsia","orange","pink","indigo","teal","sky"],m=["apple","ball","car","dog","elephant","flower","garden","house","island","jacket","kite","lamp","mountain","notebook","ocean","park","queen","river","school","tree","umbrella","village","window","xylophone","yacht","zebra","book","chair","door","grass"];function h(){return`${p(f)}-${p(m)}`}function p(e){return e[Math.round((e.length-1)*Math.random())]}let b=128,y=e=>{let{defaultName:t,projectName:r,product:a,resourceId:n}=e,[i,o]=(0,d.useState)(),[s,l]=(0,d.useState)(t??""),f=(0,g.getPrimaryProtocolByProduct)(a),{isNameTaken:m}=(0,c.useResourceList)({protocolType:f}),h=(0,u.getResourceTitleByProduct)(a);return(0,d.useEffect)(()=>{r&&r.length>0&&l(e=>""===e?[r.replaceAll("_","-").slice(0,b-h.length),h].join(""):e)},[r,h]),{resourceNameError:i,name:s,setName:(0,d.useCallback)(e=>{let t=e.trim();o(void 0),l(t),t.length<5?o("The name must be at least 5 characters."):t.length>b?o(`The name must be at most ${b} characters.`):/^[a-zA-Z0-9_-\s]*$/.test(t)?m({name:t,storeType:"integration",productId:a.id,storeId:n})&&o(`This name is already in use by another ${h}`):o("The name can only contain letters, numbers, and the following characters: _ - ")},[m,a.id,n,h]),touched:s!==t}}},[6032772]],503549:e=>{"use strict";e.s({LogDrainConnection:()=>s});var t=e.i(6645307),r=e.i(8700049),a=e.i(889716),n=e.i(8084653),i=e.i(1460036),o=e.i(3941020);function s(e){let{connection:i,inlineCode:s,wrap:d}=e,c=(0,o.getLogDrainProtocolSettings)(i);if(!c)return null;let u=`Sampling ${100*c.samplingRate}%`,g=`${c.sources.map(l).join(", ")}, ${u}`;return s||d?(0,t.jsx)(a.Stack,{className:"w-full flex-wrap",direction:"row",gap:1,justify:"end",children:s?(0,t.jsxs)(t.Fragment,{children:[c.sources.map(e=>(0,t.jsx)("div",{children:(0,t.jsx)(r.InlineCode,{children:l(e)})},e)),(0,t.jsx)("div",{children:(0,t.jsx)(r.InlineCode,{children:u})})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.Text,{className:"text-end",color:"gray-900",children:c.sources.map(l).join(", ")}),",",(0,t.jsx)(n.Text,{className:"text-end",color:"gray-900",children:u})]})}):(0,t.jsx)(n.Text,{className:"whitespace-nowrap rounded-[var(--geist-radius)] bg-[var(--accents-2)] px-[4px]",color:"gray-900",monospace:!0,size:13,title:g,truncate:!0,children:g})}function l(e){return i.LogSourcesWithDescription.find(t=>t.value===e)?.label??e}},1460036:e=>{"use strict";e.s({DEFAULT_LOG_ENVIRONMENTS:()=>a,DEFAULT_LOG_SOURCES:()=>r,DeliveryFormats:()=>t,LOG_ENVIRONMENT_LABELS:()=>n,LogSourcesWithDescription:()=>i});var t=function(e){return e.JSON="json",e.NDJSON="ndjson",e}({});let r=["lambda","build","edge","external"],a=["production","preview"],n={production:"Production",preview:"Pre-production"},i=[{label:"Static",value:"static",description:"Requests to static assets like HTML and CSS files"},{label:"External",value:"external",description:"External rewrites to a different domain"},{label:"Edge",value:"edge",description:"Output from Edge Functions like Middleware"},{label:"Build",value:"build",description:"Output from the Build Step"},{label:"Function",value:"lambda",description:"Output from Vercel Functions like API Routes"},{label:"Firewall",value:"firewall",description:"Requests rejected by the Vercel Firewall"}]},2613125:e=>{e.v({code:"code-module__bxZiJq__code",disabled:"code-module__bxZiJq__disabled",lite:"code-module__bxZiJq__lite","no-wrap":"code-module__bxZiJq__no-wrap",pre:"code-module__bxZiJq__pre"})},8700049:e=>{"use strict";e.s({InlineCode:()=>i});var t=e.i(6645307),r=e.i(5610210),a=e.i(9362924),n=e.i(2613125);function i(e){let{className:i,children:o,noWrap:s,fontSize:l,...d}=e,c=(0,a.useDisabled)();return(0,t.jsx)("code",{className:(0,r.clsx)(i,n.default.code,{[String(n.default["no-wrap"])]:s,[String(n.default.disabled)]:c}),style:{fontSize:l},...d,children:o})}},3509620:e=>{"use strict";e.s({ENV_VAR_COMMENT_MAX_LENGTH:()=>n,EnvTarget:()=>t,EnvType:()=>a,isSystemEnvTarget:()=>r});var t=function(e){return e.Production="production",e.Preview="preview",e.Development="development",e}({});function r(e){return Object.values(t).includes(e)}var a=function(e){return e.Plain="plain",e.Secret="secret",e.System="system",e.Encrypted="encrypted",e.Sensitive="sensitive",e}({});let n=500},2146499:e=>{"use strict";e.s({ProjectLogo:()=>s});var t=e.i(6645307),r=e.i(5610210),a=e.i(5163670),n=e.i(5175803),i=e.i(1389821),o=e.i(5261442);function s(e){let{project:s,framework:l,deploymentId:d,size:c=20}=e,{data:u,isLoading:g}=(0,o.default)({project:d?s:void 0}),f=(0,i.useFramework)({framework:l});return!f||d&&g?(0,t.jsx)(a.Skeleton,{height:c,rounded:!0,style:{flexShrink:0},width:c}):(0,t.jsx)(n.Avatar,{className:(0,r.clsx)({"bg-white/75 rounded-full shadow-border shadow-background-100 dark:bg-foreground dark:shadow-foreground":!!(!u&&l),"[mask-image:none] border-none rounded-none":!u?.isSquare}),size:c,src:u?.src||f.logo,title:`${f.name}`})}},4326901:e=>{"use strict";e.s({stringifyTarget:()=>r});var t=e.i(3509620);function r(e){return e===t.EnvTarget.Production?"Production":e===t.EnvTarget.Preview?"Preview":"Development"}},263946:e=>{"use strict";e.s({ProjectConnectionsListInModal:()=>g});var t=e.i(6645307),r=e.i(6530772),a=e.i(4237550),n=e.i(8290327),i=e.i(889716),o=e.i(8084653),s=e.i(2146499),l=e.i(3941020),d=e.i(4326901),c=e.i(503549),u=e.i(5610210);function g(e){let{connections:o,className:s}=e,[l,d]=(0,r.useState)(!1);if(1===o.length)return(0,t.jsx)(f,{connection:o[0],index:0});let c=l?o:o.slice(0,2);return(0,t.jsxs)(i.Stack,{className:(0,u.clsx)("border-1 relative rounded-md border-gray-alpha-400 bg-[var(--geist-background)] shadow-border",s),padding:2,children:[o.length>2?(0,t.jsx)(i.Stack,{align:"center",className:"absolute -bottom-3 right-[calc(50%-12px)] size-6 rounded-full border border-solid border-gray-400 bg-background-100",justify:"center",onClick:()=>d(!l),children:l?(0,t.jsx)(n.ChevronUp,{}):(0,t.jsx)(a.ChevronDown,{})}):null,c.map((e,r)=>(0,t.jsx)(f,{connection:e,index:r,padding:2},e.id))]})}function f(e){let{connection:r,padding:a,index:n}=e,g=3===r.environments.length?"All Environments":r.environments.map(d.stringifyTarget).join(", ");return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(i.Stack,{align:"center",className:(0,u.clsx)(n%2==1&&"bg-[var(--accents-1)]","rounded-md"),direction:"row",gap:2,justify:"space-between",padding:a,children:[(0,t.jsxs)(i.Stack,{direction:"row",gap:2,children:[(0,t.jsx)(s.ProjectLogo,{deploymentId:r.latestDeployment,framework:r.framework,project:r,size:20}),(0,t.jsx)(o.Text,{children:r.name})]}),(0,t.jsx)(i.Stack,{color:"gray-900",direction:"row",gap:2,children:(0,t.jsx)(o.Text,{color:"gray-900",children:g})})]},r.id),(0,l.isLogDrainInConnection)(r)?(0,t.jsxs)(i.Stack,{align:"center",direction:"row",gap:2,justify:"space-between",padding:a,children:[(0,t.jsx)(o.Text,{className:"shrink-0",weight:500,children:"Log Drain"}),(0,t.jsx)(c.LogDrainConnection,{connection:r,wrap:!0})]},r.id):null]})}},388402:e=>{"use strict";e.s({useModalState:()=>r});var t=e.i(6530772);function r(e){let[r,a]=(0,t.useState)(!1),n=(0,t.useCallback)(()=>{a(!1)},[]),i=(0,t.useCallback)(()=>{a(!0)},[]),[o,s]=(0,t.useState)(0),l=(0,t.useCallback)(()=>{s(e=>e+1)},[s]);return[i,{active:r,onClickOutside:n,key:`${e}${String(o)}`,onAnimationDone:l}]}},4602144:e=>{var{m:t,e:r}=e;!function(){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r={rotl:function(e,t){return e<<t|e>>>32-t},rotr:function(e,t){return e<<32-t|e>>>t},endian:function(e){if(e.constructor==Number)return 0xff00ff&r.rotl(e,8)|0xff00ff00&r.rotl(e,24);for(var t=0;t<e.length;t++)e[t]=r.endian(e[t]);return e},randomBytes:function(e){for(var t=[];e>0;e--)t.push(Math.floor(256*Math.random()));return t},bytesToWords:function(e){for(var t=[],r=0,a=0;r<e.length;r++,a+=8)t[a>>>5]|=e[r]<<24-a%32;return t},wordsToBytes:function(e){for(var t=[],r=0;r<32*e.length;r+=8)t.push(e[r>>>5]>>>24-r%32&255);return t},bytesToHex:function(e){for(var t=[],r=0;r<e.length;r++)t.push((e[r]>>>4).toString(16)),t.push((15&e[r]).toString(16));return t.join("")},hexToBytes:function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(parseInt(e.substr(r,2),16));return t},bytesToBase64:function(t){for(var r=[],a=0;a<t.length;a+=3)for(var n=t[a]<<16|t[a+1]<<8|t[a+2],i=0;i<4;i++)8*a+6*i<=8*t.length?r.push(e.charAt(n>>>6*(3-i)&63)):r.push("=");return r.join("")},base64ToBytes:function(t){t=t.replace(/[^A-Z0-9+\/]/ig,"");for(var r=[],a=0,n=0;a<t.length;n=++a%4)0!=n&&r.push((e.indexOf(t.charAt(a-1))&Math.pow(2,-2*n+8)-1)<<2*n|e.indexOf(t.charAt(a))>>>6-2*n);return r}};t.exports=r}()},8037431:e=>{var{m:t,e:r}=e,a={utf8:{stringToBytes:function(e){return a.bin.stringToBytes(unescape(encodeURIComponent(e)))},bytesToString:function(e){return decodeURIComponent(escape(a.bin.bytesToString(e)))}},bin:{stringToBytes:function(e){for(var t=[],r=0;r<e.length;r++)t.push(255&e.charCodeAt(r));return t},bytesToString:function(e){for(var t=[],r=0;r<e.length;r++)t.push(String.fromCharCode(e[r]));return t.join("")}}};t.exports=a},8662726:e=>{var{m:t,e:r}=e;function a(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}t.exports=function(e){var t;return null!=e&&(a(e)||"function"==typeof(t=e).readFloatLE&&"function"==typeof t.slice&&a(t.slice(0,0))||!!e._isBuffer)}},1683260:e=>{var{m:t,e:r}=e;!function(){var r=e.r(4602144),a=e.r(8037431).utf8,n=e.r(8662726),i=e.r(8037431).bin,o=function(e,t){e.constructor==String?e=t&&"binary"===t.encoding?i.stringToBytes(e):a.stringToBytes(e):n(e)?e=Array.prototype.slice.call(e,0):Array.isArray(e)||(e=e.toString());for(var s=r.bytesToWords(e),l=8*e.length,d=0x67452301,c=-0x10325477,u=-0x67452302,g=0x10325476,f=0;f<s.length;f++)s[f]=(s[f]<<8|s[f]>>>24)&0xff00ff|(s[f]<<24|s[f]>>>8)&0xff00ff00;s[l>>>5]|=128<<l%32,s[(l+64>>>9<<4)+14]=l;for(var m=o._ff,h=o._gg,p=o._hh,b=o._ii,f=0;f<s.length;f+=16){var y=d,x=c,v=u,R=g;d=m(d,c,u,g,s[f+0],7,-0x28955b88),g=m(g,d,c,u,s[f+1],12,-0x173848aa),u=m(u,g,d,c,s[f+2],17,0x242070db),c=m(c,u,g,d,s[f+3],22,-0x3e423112),d=m(d,c,u,g,s[f+4],7,-0xa83f051),g=m(g,d,c,u,s[f+5],12,0x4787c62a),u=m(u,g,d,c,s[f+6],17,-0x57cfb9ed),c=m(c,u,g,d,s[f+7],22,-0x2b96aff),d=m(d,c,u,g,s[f+8],7,0x698098d8),g=m(g,d,c,u,s[f+9],12,-0x74bb0851),u=m(u,g,d,c,s[f+10],17,-42063),c=m(c,u,g,d,s[f+11],22,-0x76a32842),d=m(d,c,u,g,s[f+12],7,0x6b901122),g=m(g,d,c,u,s[f+13],12,-0x2678e6d),u=m(u,g,d,c,s[f+14],17,-0x5986bc72),c=m(c,u,g,d,s[f+15],22,0x49b40821),d=h(d,c,u,g,s[f+1],5,-0x9e1da9e),g=h(g,d,c,u,s[f+6],9,-0x3fbf4cc0),u=h(u,g,d,c,s[f+11],14,0x265e5a51),c=h(c,u,g,d,s[f+0],20,-0x16493856),d=h(d,c,u,g,s[f+5],5,-0x29d0efa3),g=h(g,d,c,u,s[f+10],9,0x2441453),u=h(u,g,d,c,s[f+15],14,-0x275e197f),c=h(c,u,g,d,s[f+4],20,-0x182c0438),d=h(d,c,u,g,s[f+9],5,0x21e1cde6),g=h(g,d,c,u,s[f+14],9,-0x3cc8f82a),u=h(u,g,d,c,s[f+3],14,-0xb2af279),c=h(c,u,g,d,s[f+8],20,0x455a14ed),d=h(d,c,u,g,s[f+13],5,-0x561c16fb),g=h(g,d,c,u,s[f+2],9,-0x3105c08),u=h(u,g,d,c,s[f+7],14,0x676f02d9),c=h(c,u,g,d,s[f+12],20,-0x72d5b376),d=p(d,c,u,g,s[f+5],4,-378558),g=p(g,d,c,u,s[f+8],11,-0x788e097f),u=p(u,g,d,c,s[f+11],16,0x6d9d6122),c=p(c,u,g,d,s[f+14],23,-0x21ac7f4),d=p(d,c,u,g,s[f+1],4,-0x5b4115bc),g=p(g,d,c,u,s[f+4],11,0x4bdecfa9),u=p(u,g,d,c,s[f+7],16,-0x944b4a0),c=p(c,u,g,d,s[f+10],23,-0x41404390),d=p(d,c,u,g,s[f+13],4,0x289b7ec6),g=p(g,d,c,u,s[f+0],11,-0x155ed806),u=p(u,g,d,c,s[f+3],16,-0x2b10cf7b),c=p(c,u,g,d,s[f+6],23,0x4881d05),d=p(d,c,u,g,s[f+9],4,-0x262b2fc7),g=p(g,d,c,u,s[f+12],11,-0x1924661b),u=p(u,g,d,c,s[f+15],16,0x1fa27cf8),c=p(c,u,g,d,s[f+2],23,-0x3b53a99b),d=b(d,c,u,g,s[f+0],6,-0xbd6ddbc),g=b(g,d,c,u,s[f+7],10,0x432aff97),u=b(u,g,d,c,s[f+14],15,-0x546bdc59),c=b(c,u,g,d,s[f+5],21,-0x36c5fc7),d=b(d,c,u,g,s[f+12],6,0x655b59c3),g=b(g,d,c,u,s[f+3],10,-0x70f3336e),u=b(u,g,d,c,s[f+10],15,-1051523),c=b(c,u,g,d,s[f+1],21,-0x7a7ba22f),d=b(d,c,u,g,s[f+8],6,0x6fa87e4f),g=b(g,d,c,u,s[f+15],10,-0x1d31920),u=b(u,g,d,c,s[f+6],15,-0x5cfebcec),c=b(c,u,g,d,s[f+13],21,0x4e0811a1),d=b(d,c,u,g,s[f+4],6,-0x8ac817e),g=b(g,d,c,u,s[f+11],10,-0x42c50dcb),u=b(u,g,d,c,s[f+2],15,0x2ad7d2bb),c=b(c,u,g,d,s[f+9],21,-0x14792c6f),d=d+y>>>0,c=c+x>>>0,u=u+v>>>0,g=g+R>>>0}return r.endian([d,c,u,g])};o._ff=function(e,t,r,a,n,i,o){var s=e+(t&r|~t&a)+(n>>>0)+o;return(s<<i|s>>>32-i)+t},o._gg=function(e,t,r,a,n,i,o){var s=e+(t&a|r&~a)+(n>>>0)+o;return(s<<i|s>>>32-i)+t},o._hh=function(e,t,r,a,n,i,o){var s=e+(t^r^a)+(n>>>0)+o;return(s<<i|s>>>32-i)+t},o._ii=function(e,t,r,a,n,i,o){var s=e+(r^(t|~a))+(n>>>0)+o;return(s<<i|s>>>32-i)+t},o._blocksize=16,o._digestsize=16,t.exports=function(e,t){if(null==e)throw Error("Illegal argument "+e);var a=r.wordsToBytes(o(e,t));return t&&t.asBytes?a:t&&t.asString?i.bytesToString(a):r.bytesToHex(a)}}()},7207682:e=>{"use strict";e.s({getConfigurationsUrl:()=>b,getConfigureUrl:()=>m,getMarketplaceIntegrationsApiUrl:()=>p,hasCustomCta:()=>o,isCodeRepository:()=>i,isContentfulIcon:()=>l,isExternalIntegration:()=>f,isLegacyIntegration:()=>u,isMarketplaceInstallation:()=>g,isMarketplaceIntegration:()=>d,isMarketplaceOnlyIntegration:()=>c,isPublicApprovedIntegration:()=>h,isRealIntegration:()=>n,requestIntegration:()=>s},7207682),e.i(1683260);var t=e.i(6649026),r=e.i(9336536),a=e.i(442955);a.default.env.TRAY_BECOME_PARTNER,a.default.env.TRAY_CASE_CREATE,a.default.env.TRAY_COMMUNICATION_CENTER,a.default.env.TRAY_CONTACT_SOLUTION_PARTNER,a.default.env.TRAY_RESOURCES_DOWNLOAD,a.default.env.TRAY_SALES_EMAIL,a.default.env.TRAY_SUBMIT_SURVEY,a.default.env.TRAY_TRY_REGISTER,a.default.env.TRAY_TURBOREPO_SIGNUP;let n=e=>"id"in e&&void 0!==e.id,i=e=>"Code Repository"===e.category,o=e=>!!(e.ctaText&&e.ctaUrl),s=async e=>{if(!(await fetch("https://7e73bb91-b1bd-4552-b379-61d2bc0f669f.trayapp.io",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify("userId"in e?{email:e.email,userId:e.userId,slug:e.slug,heap_user_id:e.heapUserId,heap_identity:e.heapIdentity}:{firstName:e.firstName,lastName:e.lastName,email:e.email,slug:e.slug,heap_user_id:e.heapUserId,heap_identity:e.heapIdentity})})).ok)throw Error("An unexpected error. Please try again later.")},l=e=>e?.fields!==void 0;function d(e){return"products"in e&&e.products.length>0}function c(e){return d(e)&&!e.redirectUri}function u(e){return"uiHookUri"in e}function g(e){return"marketplace"===e.installationType}function f(e){return!!e.redirectUri}function m(e,t,r){if(!e.configurationUri)return e.website;let a=new URL(e.configurationUri);return a.searchParams.set("configurationId",t??""),r&&a.searchParams.set("path",r),a.toString()}function h(e){return!!e.public&&!!e.approvedAt&&!e.slug.startsWith("_")}function p(e){let{protocolType:a,teamIdOrSlug:n,integrationType:i="marketplace"}=e;return`${r.API_INTEGRATION_CONTROLLER_V2}/integrations${(0,t.encode)({teamId:n,productType:a,integrationType:i})}`}function b(e){let{teamSlug:a,integrationSlug:n,installationType:i,skipBillingData:o}=e;return`${r.API_INTEGRATION_CONTROLLER_V2}/configurations${(0,t.encode)({view:"account",teamId:a,installationType:i,integrationIdOrSlug:n,skipBillingData:o})}`}},6799491:e=>{"use strict";e.s({prefetchIntegration:()=>l,useIntegration:()=>d,useIntegrationAndProduct:()=>c},6799491);var t=e.i(3521787),r=e.i(2156254),a=e.i(6530772),n=e.i(1183506),i=e.i(7207682),o=e.i(9336536);function s(e){let{teamIdOrSlug:t,configurationId:r,integrationIdOrSlug:a}=e,n=new URLSearchParams;return t&&n.append("teamId",t),r&&n.append("configurationId",r),`${o.API_INTEGRATION_CONTROLLER_V2}/integration/${a}?${n.toString()}`}let l=e=>{let t=s({integrationIdOrSlug:e});return(0,r.mutate)(t,(0,n.fetchAPI)(t,{throwOnHTTPError:!0}))};function d(e,r){let a=(0,t.default)(()=>e?s({integrationIdOrSlug:e,teamIdOrSlug:r?.teamId}):null,n.fetchAPI,r);return{...a,integration:a.data??null}}function c(e){let{integrationIdOrSlug:t,productIdOrSlug:r,teamIdOrSlug:n}=e,{integration:o}=d(t,{teamId:n,keepPreviousData:!0}),s=(0,a.useMemo)(()=>o&&(0,i.isMarketplaceIntegration)(o)&&r?o.products.find(e=>e.id===r||e.slug===r)??null:null,[o,r]);return{integration:o,product:s,isLoading:!o}}},5602331:e=>{e.v({checked:"toggle-module__fUrgQa__checked",disabled:"toggle-module__fUrgQa__disabled",input:"toggle-module__fUrgQa__input "+e.i(7431715).visuallyHidden,large:"toggle-module__fUrgQa__large",medium:"toggle-module__fUrgQa__medium",noMargin:"toggle-module__fUrgQa__noMargin",switchFirst:"toggle-module__fUrgQa__switchFirst",thumb:"toggle-module__fUrgQa__thumb",thumbIcon:"toggle-module__fUrgQa__thumbIcon",titleCasing:"toggle-module__fUrgQa__titleCasing",toggle:"toggle-module__fUrgQa__toggle",wrapper:"toggle-module__fUrgQa__wrapper"})},9495609:e=>{"use strict";e.s({Toggle:()=>l});var t=e.i(6645307),r=e.i(6530772),a=e.i(5610210),n=e.i(1164214),i=e.i(9362924),o=e.i(5602331);let s={amber:{background:"--ds-amber-700",foreground:"--ds-amber-100",lightModeForeground:"--ds-amber-1000",checkedBackground:"--ds-gray-100"},"amber-inverted":{background:"--ds-gray-100",foreground:"--ds-gray-100",lightModeForeground:"--ds-amber-1000",checkedBackground:"--ds-amber-700"},"amber-track-only":{background:"--ds-amber-700",foreground:"--ds-black",lightModeForeground:"--ds-black",checkedBackground:"--ds-gray-100"},red:{background:"--ds-red-600",foreground:"--ds-red-100",lightModeForeground:"--ds-red-1000",checkedBackground:"--ds-gray-100"}},l=e=>{let{className:l,children:d,size:c,disabled:u,name:g,checked:f,onChange:m,onClick:h,onBlur:p,onFocus:b,onKeyDown:y,noMargin:x,direction:v="label-first",labelCasing:R="title",stopPropagation:_=!1,icon:A,color:I,...C}=e,S=(0,i.useDisabled)()||u,T=(0,r.useCallback)(e=>{!S&&m&&(_&&e.stopPropagation(),m(!f))},[f,m,S,_]),j={...C.style};if(I){let e=s[I];j["--unchecked-bg-color-override"]=`var(${e.background})`,j["--checked-bg-color-override"]=`var(${e.checkedBackground})`,j["--thumb-fg-color-override"]=`var(${e.foreground})`,e.lightModeForeground&&(j["--thumb-light-fg-color-override"]=`var(${e.lightModeForeground})`)}return(0,t.jsxs)("label",{className:(0,a.clsx)(o.default.wrapper,l,{[String(o.default.large)]:"large"===c,[String(o.default.medium)]:"medium"===c,[String(o.default.switchFirst)]:"switch-first"===v,[String(o.default.titleCasing)]:"title"===R}),"data-version":"v1",...C,style:j,children:[d?(0,t.jsx)("span",{children:d}):null,(0,t.jsx)("input",{checked:f,className:(0,a.clsx)(o.default.input,"group"),"data-testid":(0,n.tid)(C["data-testid"]??"toggle","input"),disabled:S,name:g,onBlur:p,onChange:T,onClick:h,onFocus:b,onKeyDown:e=>{"Enter"===e.key&&T(e),y?.(e)},type:"checkbox"}),(0,t.jsx)("span",{className:(0,a.clsx)(o.default.toggle,{[String(o.default.checked)]:f,[String(o.default.disabled)]:S,[String(o.default.noMargin)]:x},""),children:(0,t.jsx)("div",{className:(0,a.clsx)(o.default.thumb,{[String(o.default.checked)]:f}),children:A?(0,t.jsxs)("div",{"aria-hidden":!0,className:(0,a.clsx)({[String(o.default.checked)]:f,[String(o.default.thumbIcon)]:!S},"flex justify-center items-center w-full h-full",S?"text-gray-700":"text-gray-900 dark:text-background-100"),children:[f?A.checked:null,f?null:A.unchecked]}):null})})]})}},8935741:e=>{"use strict";e.s({isAPIError:()=>r,isAPIErrorForbidden:()=>a,isAPIErrorNotFound:()=>n}),e.i(7315479);var t=e.i(36632);e.i(395526);let r=e=>(0,t.isErrorLike)(e)&&"code"in e,a=e=>r(e)&&"forbidden"===e.code,n=e=>r(e)&&"not_found"===e.code},6102061:e=>{"use strict";e.s({CodeBlock:()=>t});let t=(0,e.i(6895406).withNewIcon)('<path fill-rule="evenodd" clip-rule="evenodd" d="M1.80808 4.44191L2.25003 4.88386L3.13391 3.99997L2.69196 3.55803L1.63391 2.49997L2.69197 1.44191L3.13391 0.999972L2.25003 0.116089L1.80808 0.558031L0.484858 1.88126C0.143149 2.22296 0.143149 2.77698 0.484859 3.11869L1.80808 4.44191ZM12 0.999972H11.25V2.49997H12H13.5V11.75C13.5 12.7165 12.7165 13.5 11.75 13.5H4.25002C3.28353 13.5 2.50003 12.7165 2.50003 11.75V6.99997V6.24997H1.00003V6.99997V11.75C1.00003 13.5449 2.4551 15 4.25002 15H11.75C13.545 15 15 13.5449 15 11.75V1.74997V0.999972H14.25H12ZM7.75003 4.88386L8.19197 4.44191L9.51519 3.11869C9.8569 2.77698 9.8569 2.22296 9.51519 1.88126L8.19196 0.55803L7.75002 0.116089L6.86614 0.999973L7.30808 1.44191L8.36614 2.49997L7.30809 3.55803L6.86615 3.99997L7.75003 4.88386ZM4.13155 3.89688L4.02847 4.51535L5.26541 4.7215L5.36848 4.10303L5.86848 1.10303L5.97156 0.484566L4.73462 0.278409L4.63155 0.896878L4.13155 3.89688Z" fill="currentColor"/>')},6658426:[e=>{"use strict";e.s({useDomainsList:()=>u},6658426);var t=e.i(503726);e.s({useDomains:()=>c,useDomainsInfinite:()=>d},7698932);var r=e.i(6530772),a=e.i(3521787),n=e.i(7095283),i=e.i(6649026),o=e.i(1183506),s=e.i(9336536),l=e.i(3514588);function d(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,{isReady:a,team:d}=(0,l.useTeam)(),c=(0,n.default)((r,n)=>{let o=t?.limit??20;if(!a&&!t?.isAccount)return null;let l=t?.filters?function(e){let t={expired:e.expired};return e.renewOn&&e.renewOff?t.renew=[!0,!1]:e.renewOn?t.renew=!0:e.renewOff&&(t.renew=!1),JSON.stringify(t)}(t.filters):void 0;if(!r)return`${s.API_DOMAINS}${(0,i.encode)({limit:o+1,teamId:t?.isAccount?void 0:d?.id,or:l,search:e,all:t?.all,teamIds:t?.teamIds,includeUser:t?.includePersonalDomains})}`;let c=n?.domains&&n.domains.length>20?n.domains[19].createdAt:null;return c?`${s.API_DOMAINS}${(0,i.encode)({limit:o+1,teamId:t?.isAccount?void 0:d?.id,or:l,until:c,search:e,all:t?.all,teamIds:t?.teamIds,includeUser:t?.includePersonalDomains})}`:null},e=>(0,o.fetchAPI)(e,{throwOnHTTPError:!0}),t),u=(0,r.useMemo)(()=>c.data?[].concat(...c.data.filter(Boolean).map(e=>e.domains.slice(0,20))):[],[c.data]),g=!!c.data,f=!!(c.data&&0===u.length),m=!!(c.data&&c.size>c.data.length),h=c.data&&c.data[c.data.length-1]?.domains.length<=20;return[c,{domains:u,initialDataLoaded:g,isEmpty:f,loadMore:()=>c.setSize(e=>e+1),isLoadingMore:m,isReachingEnd:h}]}function c(e){let{ignoreTeam:t,limit:r=20,until:n}=e,{isReady:d,team:c}=(0,l.useTeam)(),u=t?void 0:c?.id;return(0,a.default)(()=>d?`${s.API_DOMAINS}${(0,i.encode)({limit:r,teamId:u,until:n})}`:null,e=>(0,o.fetchAPI)(e,{throwOnHTTPError:!0}))}function u(e){let{search:a,filters:n,includePersonalDomains:i}=e,{team:o}=(0,t.useAccount)(),s=!o||o.membership?.role==="OWNER",[l,c]=d(a,{keepPreviousData:!0,revalidateFirstPage:!1,filters:n,includePersonalDomains:!!(o&&(s||i))}),{domains:u,personalDomains:g}=(0,r.useMemo)(()=>{let e=c.domains.map(e=>({...e,isPersonalDomain:!e.teamId}));return{personalDomains:e.filter(e=>e.isPersonalDomain),domains:s?e:e.filter(e=>!e.isPersonalDomain)}},[c.domains,s]);return{revalidateDomains:async()=>{await l.mutate()},isLoading:l.isLoading,domains:u,personalDomains:g,loadMore:async()=>{c.isReachingEnd||await c.loadMore()},isLoadingMore:c.isLoadingMore,isReachingEnd:c.isReachingEnd,initialDataLoaded:c.initialDataLoaded}}},[7698932]],9439174:e=>{"use strict";e.s({AutocompleteDomainInput:()=>s});var t=e.i(6645307),r=e.i(6658426),a=e.i(2198583),n=e.i(1164214),i=e.i(3621043),o=e.i(6530772);function s(e){let{value:s,onChange:l,onSubmit:d,error:c,disabled:u=!1,placeholder:g,waitForUserInput:f=!0}=e,[m,h]=(0,o.useState)(s.toLowerCase()),{domains:p}=(0,r.useDomainsList)({search:m}),[b,y]=(0,o.useState)(!1),[x,v]=(0,o.useState)(!1),R=(0,a.useDebouncedCallback)(e=>{h(e)},200);return(0,t.jsxs)(i.Combobox,{disabled:u,errored:!!c,noTextSelection:!0,value:s.toLowerCase(),onChange:e=>{l(e?.toLowerCase()||null)},onChangeOpen:e=>{y(e)},placeholder:g||"example.com",showMenuButton:p.length>0,prefixIcon:null,children:[(0,t.jsx)(i.Combobox.Input,{"data-testid":(0,n.tid)("domains","alias-domain-input"),onChange:e=>{v(!0);let t=e.target.value.toLowerCase();R(t),l(t)},onInput:e=>{let t=e.target;if(t instanceof HTMLInputElement){let e=t.value.toLowerCase();t.value!==e&&(t.value=e)}},autoFocus:!0,onKeyDown:e=>{"Enter"!==e.key||b&&0!==p.length&&""!==m||(e.preventDefault(),d?.())}}),(x||!f)&&p.length>0?(0,t.jsx)(i.Combobox.List,{children:p.map(e=>(0,t.jsx)(i.Combobox.Option,{value:e.name,children:e.name},e.id))}):(0,t.jsx)(t.Fragment,{})]})}},9986412:e=>{e.v(JSON.parse('{"$schema":"http://json-schema.org/draft-07/schema#","$id":"http://json-schema.org/draft-07/schema#","title":"Core schema meta-schema","definitions":{"schemaArray":{"type":"array","minItems":1,"items":{"$ref":"#"}},"nonNegativeInteger":{"type":"integer","minimum":0},"nonNegativeIntegerDefault0":{"allOf":[{"$ref":"#/definitions/nonNegativeInteger"},{"default":0}]},"simpleTypes":{"enum":["array","boolean","integer","null","number","object","string"]},"stringArray":{"type":"array","items":{"type":"string"},"uniqueItems":true,"default":[]}},"type":["object","boolean"],"properties":{"$id":{"type":"string","format":"uri-reference"},"$schema":{"type":"string","format":"uri"},"$ref":{"type":"string","format":"uri-reference"},"$comment":{"type":"string"},"title":{"type":"string"},"description":{"type":"string"},"default":true,"readOnly":{"type":"boolean","default":false},"examples":{"type":"array","items":true},"multipleOf":{"type":"number","exclusiveMinimum":0},"maximum":{"type":"number"},"exclusiveMaximum":{"type":"number"},"minimum":{"type":"number"},"exclusiveMinimum":{"type":"number"},"maxLength":{"$ref":"#/definitions/nonNegativeInteger"},"minLength":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"pattern":{"type":"string","format":"regex"},"additionalItems":{"$ref":"#"},"items":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/schemaArray"}],"default":true},"maxItems":{"$ref":"#/definitions/nonNegativeInteger"},"minItems":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"uniqueItems":{"type":"boolean","default":false},"contains":{"$ref":"#"},"maxProperties":{"$ref":"#/definitions/nonNegativeInteger"},"minProperties":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"required":{"$ref":"#/definitions/stringArray"},"additionalProperties":{"$ref":"#"},"definitions":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"properties":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"patternProperties":{"type":"object","additionalProperties":{"$ref":"#"},"propertyNames":{"format":"regex"},"default":{}},"dependencies":{"type":"object","additionalProperties":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/stringArray"}]}},"propertyNames":{"$ref":"#"},"const":true,"enum":{"type":"array","items":true,"minItems":1,"uniqueItems":true},"type":{"anyOf":[{"$ref":"#/definitions/simpleTypes"},{"type":"array","items":{"$ref":"#/definitions/simpleTypes"},"minItems":1,"uniqueItems":true}]},"format":{"type":"string"},"contentMediaType":{"type":"string"},"contentEncoding":{"type":"string"},"if":{"$ref":"#"},"then":{"$ref":"#"},"else":{"$ref":"#"},"allOf":{"$ref":"#/definitions/schemaArray"},"anyOf":{"$ref":"#/definitions/schemaArray"},"oneOf":{"$ref":"#/definitions/schemaArray"},"not":{"$ref":"#"}},"default":true}'))},2363485:e=>{e.v(JSON.parse('{"$schema":"http://json-schema.org/draft-07/schema#","$id":"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#","description":"Meta-schema for $data reference (JSON Schema extension proposal)","type":"object","required":["$data"],"properties":{"$data":{"type":"string","anyOf":[{"format":"relative-json-pointer"},{"format":"json-pointer"}]}},"additionalProperties":false}'))},9590492:e=>{"use strict";e.s({ListUnordered:()=>t});let t=(0,e.i(6895406).withNewIcon)('<path fill-rule="evenodd" clip-rule="evenodd" d="M2.5 4C3.19036 4 3.75 3.44036 3.75 2.75C3.75 2.05964 3.19036 1.5 2.5 1.5C1.80964 1.5 1.25 2.05964 1.25 2.75C1.25 3.44036 1.80964 4 2.5 4ZM2.5 9.25C3.19036 9.25 3.75 8.69036 3.75 8C3.75 7.30964 3.19036 6.75 2.5 6.75C1.80964 6.75 1.25 7.30964 1.25 8C1.25 8.69036 1.80964 9.25 2.5 9.25ZM3.75 13.25C3.75 13.9404 3.19036 14.5 2.5 14.5C1.80964 14.5 1.25 13.9404 1.25 13.25C1.25 12.5596 1.80964 12 2.5 12C3.19036 12 3.75 12.5596 3.75 13.25ZM6.75 2H6V3.5H6.75H14.25H15V2H14.25H6.75ZM6.75 7.25H6V8.75H6.75H14.25H15V7.25H14.25H6.75ZM6.75 12.5H6V14H6.75H14.25H15V12.5H14.25H6.75Z" fill="currentColor"/>')},3861519:e=>{"use strict";e.s({},3861519),e.i(9990438)},4583851:e=>{"use strict";e.s({FriendlyRegionNameMapping:()=>C,cle1:()=>i,default:()=>A,groups:()=>I,lhr1:()=>y,pdx1:()=>n,regions:()=>_,syd1:()=>f});let t="https://assets.vercel.com/image/upload/front/flags",r={name:"San Francisco, USA",key:"sfo1",cardinal:"West",flagURL:`${t}/us.svg`,providerRegion:"us-west-1",CFRegion:"SJC",worldRegion:"North America"},a={name:"Washington, D.C., USA",key:"iad1",cardinal:"East",flagURL:`${t}/us.svg`,providerRegion:"us-east-1",CFRegion:"IAD",worldRegion:"North America"},n={name:"Portland, USA",cardinal:"West",key:"pdx1",flagURL:`${t}/us.svg`,providerRegion:"us-west-2",CFRegion:"SEA",worldRegion:"North America"},i={name:"Cleveland, USA",cardinal:"East",key:"cle1",flagURL:`${t}/us.svg`,providerRegion:"us-east-2",CFRegion:"ORD",worldRegion:"North America"},o={name:"São Paulo, Brazil",cardinal:"East",key:"gru1",flagURL:`${t}/br.svg`,providerRegion:"sa-east-1",CFRegion:"GRU",worldRegion:"South America"},s={name:"Hong Kong",cardinal:"East",key:"hkg1",flagURL:`${t}/hk.svg`,providerRegion:"ap-east-1",CFRegion:"HKG",worldRegion:"Asia Pacific"},l={name:"Tokyo, Japan",cardinal:"Northeast",key:"hnd1",flagURL:`${t}/jp.svg`,providerRegion:"ap-northeast-1",CFRegion:"NRT",worldRegion:"Asia Pacific"},d={name:"Osaka, Japan",cardinal:"Northeast",key:"kix1",flagURL:`${t}/jp.svg`,providerRegion:"ap-northeast-3",CFRegion:"KIX",worldRegion:"Asia Pacific"},c={name:"Seoul, South Korea",cardinal:"Northeast",key:"icn1",flagURL:`${t}/kr.svg`,providerRegion:"ap-northeast-2",CFRegion:"ICN",worldRegion:"Asia Pacific"},u={name:"Singapore",cardinal:"Southeast",key:"sin1",flagURL:`${t}/sg.svg`,providerRegion:"ap-southeast-1",CFRegion:"SIN",worldRegion:"Asia Pacific"},g={name:"Mumbai, India",cardinal:"South",key:"bom1",flagURL:`${t}/in.svg`,providerRegion:"ap-south-1",CFRegion:"BOM",worldRegion:"Asia Pacific"},f={name:"Sydney, Australia",cardinal:"Southeast",key:"syd1",flagURL:`${t}/au.svg`,providerRegion:"ap-southeast-2",CFRegion:"SYD",worldRegion:"Asia Pacific"},m={name:"Paris, France",cardinal:"West",key:"cdg1",flagURL:`${t}/fr.svg`,providerRegion:"eu-west-3",CFRegion:"CDG",worldRegion:"Europe"},h={name:"Stockholm, Sweden",cardinal:"North",key:"arn1",flagURL:`${t}/se.svg`,providerRegion:"eu-north-1",CFRegion:"ARN",worldRegion:"Europe"},p={name:"Brussels, Belgium",cardinal:"West",deprecated:!0,key:"bru1",flagURL:`${t}/eu.svg`,providerRegion:"eu-central-1",CFRegion:"BRU",worldRegion:"Europe"},b={name:"Dublin, Ireland",cardinal:"West",key:"dub1",flagURL:`${t}/ie.svg`,providerRegion:"eu-west-1",CFRegion:"DUB",worldRegion:"Europe"},y={name:"London, United Kingdom",cardinal:"West",key:"lhr1",flagURL:`${t}/uk.svg`,providerRegion:"eu-west-2",CFRegion:"LHR",worldRegion:"Europe"},x={name:"Frankfurt, Germany",cardinal:"West",key:"fra1",flagURL:`${t}/de.svg`,providerRegion:"eu-central-1",CFRegion:"FRA",worldRegion:"Europe"},v={name:"Cape Town, South Africa",cardinal:"South",key:"cpt1",flagURL:`${t}/za.svg`,providerRegion:"af-south-1",CFRegion:"CPT",worldRegion:"Africa"},R={name:"Dubai, United Arab Emirates",cardinal:"East",key:"dxb1",flagURL:`${t}/ae.svg`,providerRegion:"me-central-1",CFRegion:"DXB",worldRegion:"Middle East"},_={cdg1:m,arn1:h,bru1:p,dub1:b,dxb1:R,lhr1:y,iad1:a,sfo1:r,pdx1:n,cle1:i,gru1:o,hkg1:s,hnd1:l,icn1:c,sin1:u,bom1:g,syd1:f,fra1:x,cpt1:v,kix1:d},A=_,I={Europe:[m,h,p,b,y,x],"North America":[a,r,n,i],"South America":[o],"Asia Pacific":[s,l,c,u,g,f,d],Africa:[v],"Middle East":[R]},C={arn1:"Stockholm, Sweden",bom1:"Mumbai, India",cdg1:"Paris, France",cle1:"Cleveland, Ohio",cpt1:"Cape Town, South Africa",dub1:"Dublin, Ireland",fra1:"Frankfurt, Germany",gru1:"São Paulo, Brazil",hkg1:"Hong Kong",hnd1:"Tokyo, Japan",iad1:"Washington, DC., USA",icn1:"Seoul, South Korea",kix1:"Osaka, Japan",lhr1:"London, United Kingdom",pdx1:"Portland, USA",sfo1:"San Francisco, USA",sin1:"Singapore",syd1:"Sydney, Australia",dev1:"localhost"}},3093478:e=>{"use strict";var{m:t,e:r}=e;t.exports=function e(t,r){if(t===r)return!0;if(t&&r&&"object"==typeof t&&"object"==typeof r){if(t.constructor!==r.constructor)return!1;if(Array.isArray(t)){if((a=t.length)!=r.length)return!1;for(n=a;0!=n--;)if(!e(t[n],r[n]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if((a=(i=Object.keys(t)).length)!==Object.keys(r).length)return!1;for(n=a;0!=n--;)if(!Object.prototype.hasOwnProperty.call(r,i[n]))return!1;for(n=a;0!=n--;){var a,n,i,o=i[n];if(!e(t[o],r[o]))return!1}return!0}return t!=t&&r!=r}},4168375:e=>{"use strict";e.s({IconAction:()=>n});var t=e.i(6645307),r=e.i(6530772),a=e.i(5610210);let n=(0,r.forwardRef)(function(e,n){let{onAction:i,Icon:o,size:s,className:l}=e,d=(0,r.useCallback)(e=>{"Enter"===e.key&&i()},[i]);return(0,t.jsx)("div",{className:"flex items-center",onClick:i,onKeyUp:d,ref:n,role:"button",tabIndex:0,children:(0,t.jsx)(o,{className:(0,a.clsx)("cursor-pointer stroke-gray-900 hover:stroke-foreground",l),size:s})})})}}]);

//# sourceMappingURL=6544bb63a3d98591.js.map
//# debugId=af2c9e02-a58c-5efb-a9cf-7f4b0084b761
