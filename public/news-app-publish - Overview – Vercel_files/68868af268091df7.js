
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="b74f974c-f386-5b69-b81c-26aa7e57c537")}catch(e){}}();
(globalThis.TURBOPACK=globalThis.TURBOPACK||[]).push(["object"==typeof document?document.currentScript:void 0,{1201680:e=>{"use strict";e.s({getDeploymentKey:()=>a,getFinishedState:()=>n,getUrl:()=>i,transform:()=>s});var t=e.i(6649026),r=e.i(9336536);let n=e=>{let t=e?.readyState==="CANCELED",r=e?.readyState==="READY",n=e?.readyState==="ERROR";return t||r||n};function i(e){if(!e)return"";let n=e;return(n=n.replace(/^https?:\/\//,"")).startsWith("dpl_")?`${(0,r.API_DEPLOYMENTS)("v13")}/${n}`:`${(0,r.API_DEPLOYMENTS)("v13")}/get${(0,t.encode)({url:n})}`}function a(e,r,n){let a=i(e);if(a){let e={projectId:n?.projectId,withAutomaticAliases:n?.automaticAliases?1:null},i=a.includes("?url");i||(e.teamId=r,e.withGitRepoInfo=n?.gitRepo?"true":null),a+=(0,t.encode)(e,!i)}return a}function s(e){return e&&(e.host=e.url,e.isPrivate=e.public),e}},5938635:e=>{"use strict";e.s({default:()=>a});var t=e.i(3521787),r=e.i(5535439),n=e.i(1183506),i=e.i(1201680);function a(e,n,a){let{teamSlug:l}=(0,r.useParams)()??{};return(0,t.default)((0,i.getDeploymentKey)(e,l,a),s,n)}async function s(e){let t=await (0,n.fetchAPI)(e,{throwOnHTTPError:!0});return(0,i.transform)(t)}},8173982:e=>{"use strict";e.s({Microfrontends:()=>t});let t=(0,e.i(6895406).withNewIcon)('<path fill-rule="evenodd" clip-rule="evenodd" d="M2.25 5C2.59736 5 2.92634 4.92129 3.22006 4.78073L7.00001 8.56067L10.7799 4.78073C11.0737 4.92129 11.4027 5 11.75 5C12.9927 5 14 3.99264 14 2.75C14 1.50736 12.9927 0.5 11.75 0.5C10.5074 0.5 9.50001 1.50736 9.50001 2.75C9.50001 3.09736 9.57872 3.42634 9.71929 3.72006L7.00001 6.43934L4.28073 3.72006C4.42129 3.42634 4.5 3.09736 4.5 2.75C4.5 1.50736 3.49264 0.5 2.25 0.5C1.00736 0.5 0 1.50736 0 2.75C0 3.99264 1.00736 5 2.25 5ZM3 2.75C3 3.16422 2.66422 3.5 2.25 3.5C1.83579 3.5 1.5 3.16422 1.5 2.75C1.5 2.33579 1.83579 2 2.25 2C2.66422 2 3 2.33579 3 2.75ZM11.75 3.5C12.1642 3.5 12.5 3.16422 12.5 2.75C12.5 2.33579 12.1642 2 11.75 2C11.3358 2 11 2.33579 11 2.75C11 3.16422 11.3358 3.5 11.75 3.5Z" fill="currentColor"/><path fill-rule="evenodd" clip-rule="evenodd" d="M2.25 13.5C3.49264 13.5 4.5 12.4927 4.5 11.25C4.5 10.2703 3.8739 9.43691 3 9.12804V6.5H1.5V9.12804C0.626106 9.43691 0 10.2703 0 11.25C0 12.4927 1.00736 13.5 2.25 13.5ZM3 11.25C3 11.6642 2.66422 12 2.25 12C1.83579 12 1.5 11.6642 1.5 11.25C1.5 10.8358 1.83579 10.5 2.25 10.5C2.66422 10.5 3 10.8358 3 11.25Z" fill="currentColor"/><path fill-rule="evenodd" clip-rule="evenodd" d="M11.75 13.5C12.9927 13.5 14 12.4927 14 11.25C14 10.2703 13.3739 9.43691 12.5 9.12804V6.5H11V9.12804C10.1261 9.43691 9.50001 10.2703 9.50001 11.25C9.50001 12.4927 10.5074 13.5 11.75 13.5ZM12.5 11.25C12.5 11.6642 12.1642 12 11.75 12C11.3358 12 11 11.6642 11 11.25C11 10.8358 11.3358 10.5 11.75 10.5C12.1642 10.5 12.5 10.8358 12.5 11.25Z" fill="currentColor" />',{viewBox:"0 0 14 14",size:14})},6717519:e=>{"use strict";e.s({useMicrofrontendsConfig:()=>a});var t=e.i(3521787),r=e.i(6649026),n=e.i(1183506),i=e.i(3514588);function a(e){let{deploymentId:a}=e,{isReady:s,team:l}=(0,i.useTeam)();return(0,t.default)(()=>s&&a?`/api/v1/microfrontends/${a}/config${(0,r.encode)({teamId:l?.id})}`:null,async e=>{let t=await (0,n.fetchAPI)(e);return"error"in t?null:t})}},6700141:e=>{"use strict";e.s({useAllAccountTypeBadgesFlag:()=>h,useEmailNotificationRulesFlag:()=>L,useEnableAnsiLogs:()=>S,useEnableNewInstantRollbackFlow:()=>p,useEnhancedBuilds:()=>b,useFeedbackVariantsDeployStep:()=>$,useInstantRollbackHobbyRestrictionFlag:()=>j,useIsOemPartner:()=>f,useJWTAccessTokenFlag:()=>R,useLaunchDarklyFeatureFlag:()=>m,useLaunchDarklyFlags:()=>u,useLoginWithVercelTeamFlag:()=>k,useLoginWithVercelUserFlag:()=>F,useManualGitDeployFlag:()=>T,useMonitoringExitSurveyFlag:()=>y,useNetCpuFunctionsFlag:()=>P,useNewFeedbackSharingModal:()=>v,useOpenTelemetryApiScopeFlag:()=>g,useRestrictLogDrainsForHobbyFlag:()=>w,useShowCronJobsSummary:()=>C,useStorageEnterpriseFlag:()=>x,useTrustedIpsCustomLimitFlag:()=>M,useVercelAppsFlag:()=>I});var t=e.i(6530772);e.i(6611132);var r=e.i(6558958),n=e.i(1782286),i=e.i(9902218),a=e.i(5454140),s=e.i(3514588),l=e.i(3326412);let o="vercel:ldFlags",c=(0,r.default)(()=>{let e=i.localStorageWrapper.getItem(o);if(e)return JSON.parse(e)}),d=(0,n.default)(e=>{i.localStorageWrapper.setItem(o,JSON.stringify(e))},1e3),u=()=>{let{flags:e,isLoading:r,mutate:n,isLoggedOut:s}=(0,a.useUser)(),l=(0,t.useMemo)(()=>e??c(),[e]);return(0,t.useEffect)(()=>{e&&(d(e),c.cache.set(void 0,e))},[e]),(0,t.useEffect)(()=>{s&&(i.localStorageWrapper.removeItem(o),c.cache.clear?.(),d.cancel())},[s]),{flags:l,isReady:!r&&void 0!==l,mutate:n}},m=e=>{let{flags:t,isReady:r,mutate:n}=u();return{isReady:r,value:t?.[e]??null,mutate:()=>n().then(t=>({isReady:r,value:t?.flags?.[e]??null}))}},p=()=>m("new-instant-rollback-flow"),h=()=>m("show-all-account-type-badges"),f=()=>m("is-oem-partner"),g=()=>m("open-telemetry-api-scope"),y=()=>m("monitoring-exit-survey"),j=()=>m("instant-rollback-hobby-restriction"),x=e=>{let t=(0,l.useLaunchDarklyTeamFeatureFlag)("storage-enterprise",e),r=t.value?.split(",").map(e=>e.trim()).filter(Boolean)||[];return{isReady:t.isReady,isStorageEnterpriseEnabled:e=>{let{storeType:n,isUnbundled:i,isTrialing:a}=e;return"edge-config"===n||"integration"===n||!!i||!!a||t.isReady&&r.includes(n)}}},v=()=>(0,l.useLaunchDarklyTeamFeatureFlag)("feedback-sharing-modal"),$=()=>{let{isReady:e,value:t}=(0,l.useLaunchDarklyTeamFeatureFlag)("feedback-variants-deploy-step"),{isReady:r,value:n}=m("feedback-variants-deploy-step");return(e&&t||r&&n)??!1},C=()=>{let{isReady:e,value:t}=(0,l.useLaunchDarklyTeamFeatureFlag)("cron-jobs-deploy-summary"),{isReady:r,value:n}=m("cron-jobs-deploy-summary");return(e&&t||r&&n)??!1},b=()=>{let e=(0,l.useLaunchDarklyTeamFeatureFlag)("route-to-pdx1-jelly"),t=!!e.isReady,r=!!e.value;return{readyValue:t&&r,isReady:t,value:r}},T=()=>{let e=(0,s.useTeam)(),t=(0,l.useLaunchDarklyTeamFeatureFlag)("manual-git-deploys"),r=m("manual-git-deploys");return{isReady:e.isTeam?t.isReady:r.isReady,value:!!(e.isTeam?t.value:r.value)}},S=()=>{let e=(0,s.useTeam)(),t=(0,l.useLaunchDarklyTeamFeatureFlag)("ansi-logs"),r=m("ansi-logs");return{isReady:e.isTeam?t.isReady:r.isReady,value:!!(e.isTeam?t.value:r.value)}},w=()=>{let e=(0,s.useTeam)(),t=(0,l.useLaunchDarklyTeamFeatureFlag)("restrict-log-drains-for-hobby"),r=m("restrict-log-drains-for-hobby");return{isReady:e.isTeam?t.isReady:r.isReady,value:!!(e.isTeam?t.value:r.value)}},k=()=>{let e=(0,l.useLaunchDarklyTeamFeatureFlag)("login-with-vercel");return{isReady:e.isReady,value:!!e.value}},F=()=>{let e=m("login-with-vercel");return{isReady:e.isReady,value:!!e.value}},L=()=>{let{isReady:e,value:t}=m("email-notification-rules");return{isReady:e,value:!!t}},M=()=>{let e=(0,l.useLaunchDarklyTeamFeatureFlag)("trusted-i-ps-custom-limit");return{isReady:e.isReady,value:e.value}},R=()=>{let e=m("jwt-access-tokens");return{isReady:e.isReady,value:!!e.value}},I=()=>{let e=(0,l.useLaunchDarklyTeamFeatureFlag)("vercel-apps");return{isReady:e.isReady,value:!!e.value}},P=()=>{let e=(0,l.useLaunchDarklyTeamFeatureFlag)("net-cpu-functions");return{isReady:e.isReady,value:!!e.value}}},7117133:e=>{"use strict";e.s({useIsomorphicSWRInfinite:()=>o});var t=e.i(6530772),r=e.i(7095283),n=e.i(1497618),i=e.i(7631057),a=e.i(1902201),s=e.i(6168322),l=e.i(7244164);function o(e,o,c){let{isServer:d,config:u,fetcher:m,fallbackSource:p}=(0,n.useIsomorphicSwrContext)(!0),h=(0,t.useMemo)(()=>"function"==typeof o?(e,t)=>o(e,t):(e,t)=>t(e),[o]),f=(0,t.useMemo)(()=>e=>{if(d)throw Error("useSWR: swrFetcher is not available on server");return h(e,m)},[d,h,m]),g="object"==typeof o?o:c,{ssr:y,...j}=g??{},x=(0,i.mergeConfig)(u,g),v=e(0,null),$=p(v??null,h,x,!1),{data:C,isLoading:b,error:T}=(0,a.useAsyncValue)(d,$),S=(0,r.default)((t,r)=>{let n=e(t,r);return b&&!d?null:n},f,{...j,suspense:!1,fallback:{[(0,r.unstable_serialize)(e)]:C?[C]:void 0},revalidateOnMount:!d&&(j.revalidateOnMount??(!C&&!b))}),{mutate:w,data:k,isLoading:F}=S,L=(0,t.useMemo)(()=>(0,s.withThrottle)(v,()=>{(0,l.debug)(`Client fallback data fetch for ${v}`),w()},2e3),[v,w]);return(0,t.useEffect)(()=>{!T||F||k||L()},[T,L,k,F]),{...S,isLoading:S.isLoading&&void 0===S.data||b||d}}},1766200:e=>{"use strict";e.s({default:()=>g,useDeploymentsInfinite:()=>f},1766200);var t=e.i(6530772),r=e.i(3521787),n=e.i(6649026),i=e.i(1183506),a=e.i(9336536),s=e.i(3514588),l=e.i(1782286),o=e.i(5454140),c=e.i(5535439),d=e.i(7117133),u=e.i(3326412),m=e.i(6700141),p=e.i(8285977),h=e.i(6676545);function f(e){let{limit:r,project:i,projectId:f,requireProject:g,users:y,target:j,state:x,meta:v,rollbackCandidate:$,since:C,until:b,subscribeToUpdates:T,branch:S,ignoreProjectSlug:w}=e,{refreshInterval:k,...F}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},L=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"v6",{isReady:M,team:R}=(0,s.useTeam)(),{user:I}=(0,o.useUser)(),[P,D]=(0,t.useState)(()=>k),N=y&&y.length>0?y.map(e=>e.uid).join(","):null,A=i?.id||f,{value:E}=(0,m.useInstantRollbackHobbyRestrictionFlag)(),{value:W}=(0,u.useInstantRollbackHobbyRestrictionTeamFlag)(),{teamSlug:O,project:H}=(0,c.useParams)()??{},V={projectId:A,limit:r,teamId:R?.id,target:j||null,users:N,state:x,meta:v,rollbackCandidate:$,since:C,until:b,branch:S},q=g||(E||W)&&void 0!==$&&(!R||R.billing?.plan==="hobby"),B=(0,d.useIsomorphicSWRInfinite)((e,t)=>{if(O&&H&&!w){if(!e)return`${(0,a.API_DEPLOYMENTS)(L)}${(0,n.encode)({...V,teamId:O,projectId:H})}`;let i=t&&t.deployments.length>=r?t.deployments[t.deployments.length-1].created-1:null;return i?`${(0,a.API_DEPLOYMENTS)(L)}${(0,n.encode)({...V,teamId:O,projectId:H,from:i})}`:null}if(q&&!A)return null;if(!e)return M?`${(0,a.API_DEPLOYMENTS)(L)}${(0,n.encode)(V)}`:null;let i=t&&t.deployments.length>=r?t.deployments[t.deployments.length-1].created-1:null;return i&&M?`${(0,a.API_DEPLOYMENTS)(L)}${(0,n.encode)({...V,from:i})}`:null},{...F,refreshInterval:P,ssr:{timeout:1e3}}),{mutate:z}=B,_=(0,t.useMemo)(()=>(0,l.default)(()=>{z()},100),[z]),{isListening:Y}=function(e,t){let r=e?`${e.accountId}-${e.id}`:void 0;return(0,p.usePusherEvent)("deployments",r,"deployment-created",t)}(T?i:void 0,_);Y||k===P?Y&&3e4!==P&&D(3e4):D(k);let U=(0,t.useMemo)(()=>B.data?B.data.flatMap(e=>e.deployments):[],[B.data]),Z=R?R.id:I?.uid,G=(0,t.useMemo)(()=>T&&Z?U.map(e=>({id:e.uid,readyState:e.readyState??e.state,aliasAssigned:!!e.aliasAssigned,ownerId:Z})):[],[U,T,Z]);(0,h.useDeploymentsStatusPing)(G,_);let J=!!B.data,K=J&&0===U.length,Q=J&&B.data&&B.size>B.data.length,X=J&&B.data&&B.data[B.data.length-1]?.deployments.length<r;return[B,{deployments:U,initialDataLoaded:J,isEmpty:K,loadMore:()=>B.setSize(e=>e+1),isLoadingMore:Q,isReachingEnd:X,mutate:B.mutate}]}function g(e){let{limit:t,projectId:l,project:o,from:c,target:d,users:u=[],...m}=e,p=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},h=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"v6",{isReady:f,team:g}=(0,s.useTeam)(),y=u.length>0?u.map(e=>e.uid).join(","):null,j=!!l||!!o?.id;return(0,r.default)(f&&j&&t>0?`${(0,a.API_DEPLOYMENTS)(h)}${(0,n.encode)({projectId:l||o?.id,limit:t,from:c||null,teamId:g?.id,target:d,users:y,...m})}`:null,e=>(0,i.fetchAPI)(e,{throwOnHTTPError:!0}),p)}},8532192:e=>{"use strict";e.s({getScopeHref:()=>n});var t=e.i(643333),r=e.i(5973311);let n=e=>{let{pathname:t,pathParams:n,searchParams:o,team:c,user:u,project:m}=e,p=c?.slug||u?.username,h=function(e){let{pathname:t,pathParams:r,searchParams:n,team:o,user:c,project:u}=e;if(!t)return"/";if(c&&!o){let e=s();return t.endsWith("/~/domains")?`${e}/domains`:t.endsWith("/~/activity")?`${e}/activity`:t.endsWith("/~/settings")?`${e}/settings`:e}let m=o?.slug,p=o?.slug||c?.username,h=u?.name,f=r?.teamSlug??n.get("teamSlug"),g=r?.project??n.get("project"),y=function(e){let t={};for(let[r,n]of e)t[r]=n;return t}(n),j=t.split("/").filter(Boolean),x=j.filter(e=>!/\[.*\]/.test(e)),v=x[0],$=x[x.length-1],C=x[2],b={pathname:t,page:$,query:y,teamSlug:o?.slug};if(f&&g&&h&&p&&t.includes(g))return t.replace(f,p).replace(g,h);if("/dashboard"===t||"/"===t)return`/${p}`;if("help"===v)return m?`/help?teamSlug=${m}`:"/help/";if("new"===v){if("import"===$)return(delete y["create-team-collapsed"],m)?d({pathname:`/new/${m&&m!==c?.username?`${m}/`:""}import`,query:{...y}}):(delete y.teamSlug,d({pathname:"/new/import",query:{...y}}));if("repo"===$)return m?d({pathname:`/new/${m&&m!==c?.username?`${m}/`:""}import/repo`,query:{...y}}):(delete y.teamSlug,d({pathname:"/new/import/repo",query:{...y}}));if("clone"===$)return(p!==y["create-team-collapsed"]&&delete y["create-team-collapsed"],m)?d({pathname:`/new/${p}/clone`,query:{...y}}):(delete y.teamSlug,d({pathname:"/new/clone",query:{...y}}));else if("third-party"===$)return d({pathname:`/new/${p}/git/third-party`});else if(j.includes("templates")){let e=[...j];return e.splice(1,+!!(f&&t.includes(f)),p||""),d({pathname:`/${e.join("/")}`})}return d({pathname:`/new/${p}`})}if(j.includes("account"))return m?l(b):s();if(j.includes("settings"))return m?m!==f&&!h&&g?`/${m}`:l(b,!0):s();if("dashboard"===v||t.includes("/~"))return p&&"integrations"===C?`/${p}/~/integrations`:p&&"domains"===$?`/${p}/~/domains`:p&&f&&t.startsWith(`/${f}/~/repos`)?`/${p}`:p&&f&&t.startsWith(`/${f}/~/ai`)?`/${p}/~/ai`:f&&t.startsWith(`/${f}/~/stores`)||t.startsWith("/dashboard/stores")?m?`/${m}/~/stores`:"/dashboard/stores":t.endsWith("/domains/[domain]")||y.domain||f&&t.startsWith(`/${f}/~/domains`)||t.startsWith("/dashboard/domains")?m?`/${m}/~/domains`:"/dashboard/domains":t.endsWith("/monitoring/[chart]")||y.chart||f&&t.startsWith(`/${f}/~/monitoring`)||t.startsWith("/dashboard/monitoring")?m?`/${m}/~/monitoring`:"/dashboard/monitoring":f&&t.startsWith(`/${f}/~/support/cases`)?m?`/${m}/~/support/cases`:"/dashboard/support/cases":f&&p&&t.includes(`/${f}`)?t.replace(`/${f}`,`/${p}`):t.replace($,p?`${p}/${$}`:$);if(f&&t.startsWith(`/${f}/~/support/cases`)||t.startsWith("/support/cases")){let e=t.split("/support/cases")[1]||"";return(e.startsWith("/[case-id]")&&(e=""),o)?`/${o.slug}/~/support/cases${e}`:`/support/cases${e}`}return f&&g&&t.startsWith(`/${f}/${g}`)?`/${p}`:"domains"===$?m?a(b):i(b):`/${p}`}({pathname:t,pathParams:n,searchParams:o,team:c,user:u,project:m});if((0,r.isAuthenticationRequired)(c)){let e=(0,r.getTeamLimitedBy)(c);return 1===e.length&&e.includes("mfa")?d({pathname:"/two-factor-required",query:{teamSlug:c?.slug}}):d({pathname:`/login/scope/${p}`,query:{missingScope:"1",next:h}})}return h},i=e=>{let{query:t}=e;return d({pathname:"/domains",query:{...t,teamSlug:void 0}})},a=e=>{let{query:t,teamSlug:r}=e;return d({pathname:"/domains",query:{...t,teamSlug:r}})},s=()=>"/account",l=(e,t)=>{let{pathname:r,page:n,teamSlug:i}=e,a=function(e){let{pathname:t,page:r,fromSettings:n}=e;return n&&r&&"settings"!==r?o.exec(t)?"/invoices":c.exec(t)?"/secure-compute":t.endsWith("/microfrontends/new")?"/microfrontends/new":`/${r}`:""}({pathname:r,page:n,fromSettings:t});return`/${String(i)}/~/settings${a}`},o=/\/settings\/invoices\//,c=/\/settings\/secure-compute\//;function d(e){return(0,t.format)(e)}},2605482:e=>{"use strict";e.s({CornerDownRight:()=>t});let t=(0,e.i(6895406).withNewIcon)('<path fill-rule="evenodd" clip-rule="evenodd" d="M2.5 3V2.25H1V3V9.25C1 10.2165 1.7835 11 2.75 11H12.4393L10.4697 12.9697L9.93934 13.5L11 14.5607L11.5303 14.0303L14.7803 10.7803C15.0732 10.4874 15.0732 10.0126 14.7803 9.71967L11.5303 6.46967L11 5.93934L9.93934 7L10.4697 7.53033L12.4393 9.5H2.75C2.61193 9.5 2.5 9.38807 2.5 9.25V3Z" fill="currentColor"/>')},8761340:e=>{"use strict";e.s({default:()=>s});var t=e.i(3521787),r=e.i(6649026),n=e.i(1183506),i=e.i(9336536),a=e.i(3514588);let s=(e,s)=>{let{domain:l,filterDeleted:o=!0}=e,{isReady:c,team:d}=(0,a.useTeam)();return(0,t.default)(()=>l&&c?`${i.API_ALIASES}/${encodeURIComponent(l)}${(0,r.encode)({filterDeleted:o,teamId:d?.id})}`:null,e=>(0,n.fetchAPI)(e,{throwOnHTTPError:!0}),s)}},2232998:e=>{"use strict";e.s({getSuggestedMicrofrontendsConfig:()=>a,partitionConfigReferencedProjects:()=>r,partitionMicrofrontendsProjects:()=>t,postprocessConfig:()=>i,validateMicrofrontendsGroupName:()=>n});let t=(e,t)=>{let r=e.find(e=>e.microfrontends?.isDefaultApp),{viewingProjectName:n,applications:i}=t||{},a=e.filter(e=>e.id!==r?.id).sort((e,t)=>e.name.localeCompare(t.name)),s=r?[r,...a.sort((e,t)=>{if(e.name===n)return -1;if(t.name===n)return 1;let r=i?.[e.id]?.deploymentId,a=i?.[t.id]?.deploymentId;return r&&!a?-1:!r&&a?1:e.name.localeCompare(t.name)})]:[];return{defaultProject:r,otherProjects:a,sortedProjects:s}},r=(e,t)=>{let r=(e=>e&&"applications"in e?Object.entries(e.applications):[])(e);return{missingReferences:t.filter(e=>!r.some(t=>{let[r]=t;return r===e.name})),extraReferences:r.filter(e=>{let[r]=e;return!t.some(e=>e.name===r)}).map(e=>{let[t]=e;return{name:t}})}};function n(e){return e?e.length>48?"Group name must be less than 48 characters":null:"Group name is required"}let i=e=>e.replaceAll('"paths": []','"paths": [/* add paths here */]');function a(e,t,r){return i(JSON.stringify({$schema:"https://openapi.vercel.sh/microfrontends.json",applications:{[e.name]:{development:{fallback:r??"...loading.vercel.app"}},...t.reduce((e,t)=>(e[t.name]={routing:[{paths:[]}]},e),{})}},null,2))}},214964:[e=>{"use strict";e.s({IconInCircleWrapper:()=>a,MicrofrontendsIconInCircle:()=>i},214964);var t=e.i(6645307),r=e.i(8173982),n=e.i(5610210);function i(e){let{className:n,size:i=28,color:s}=e;return(0,t.jsx)(a,{className:n,size:i,children:(0,t.jsx)(r.Microfrontends,{color:s})})}function a(e){let{className:r,size:i=28,children:a}=e;return(0,t.jsx)("div",{className:(0,n.clsx)(`flex h-[${i}px] min-w-[${i}px] items-center justify-center rounded-full text-center`,r),children:a})}e.s({useMicrofrontendsHelpModal:()=>v},7441384);var s=e.i(6530772),l=e.i(889716),o=e.i(8934201),c=e.i(7311779),d=e.i(8084653),u=e.i(2362802),m=e.i(4418725),p=e.i(9505396),h=e.i(2232998),f=e.i(2240289),g=e.i(5485417);function y(e){let{config:r,extraReferences:n,missingReferences:i,onClose:a,projects:s,group:l}=e;return(0,t.jsxs)(o.Modal.Modal,{active:!0,onClickOutside:a,width:720,children:[(0,t.jsx)(o.Modal.Body,{children:(0,t.jsx)(x,{config:r,extraReferences:n,missingReferences:i,projects:s,group:l})}),(0,t.jsx)(o.Modal.Actions,{className:"justify-end",children:(0,t.jsx)(o.Modal.Action,{onClick:a,children:"Done"})})]})}function j(e){let{reference:r,teamSlug:n}=e,{data:i}=(0,f.useProject)(r.name);return(0,t.jsxs)(d.Text,{color:"gray-900",children:[(0,t.jsx)("pre",{className:"inline",children:r.name})," ",i?(0,t.jsxs)(t.Fragment,{children:["-"," ",(0,t.jsxs)(u.Link,{href:`/${n}/${i.name}/settings/microfrontends`,variant:"underline",children:["add project to group ",(0,t.jsx)(g.ArrowRight,{size:12})]})]}):null]},`missing-references-${r.name}`)}function x(e){let{config:r,extraReferences:n,missingReferences:i,group:a,projects:s}=e,f=(0,m.useTeamSlug)(),{defaultProject:g,otherProjects:y}=(0,h.partitionMicrofrontendsProjects)(s),{domain:x}=(0,p.useBestProductionDomain)(g?.id);if(!g||!f)return null;let v=g.rootDirectory?`${g.rootDirectory}/microfrontends.json`:"microfrontends.json";if(!r){let e=(0,h.getSuggestedMicrofrontendsConfig)(g,y,x?.name);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(o.Modal.Header,{children:(0,t.jsx)(o.Modal.Title,{children:"Create Your Config"})}),(0,t.jsxs)(l.Stack,{direction:"column",gap:4,children:[(0,t.jsxs)(d.Text,{children:["The latest production deployment for"," ",(0,t.jsx)(u.Link,{href:`/${f}/${g.name}`,variant:"underline",children:g.name})," ","does not yet have a"," ",(0,t.jsx)("pre",{className:"inline",children:"microfrontends.json"})," configuration file. Until a config file is added, deployments will work like any regular project, not as part of a Microfrontends group. If the file already exists, redeploy the project to upload it."]}),(0,t.jsxs)(d.Text,{children:["Add your ",(0,t.jsx)("pre",{className:"inline",children:"microfrontends.json"})," ","configuration file to the root of your default project",g.rootDirectory?(0,t.jsxs)(t.Fragment,{children:[" ","(",(0,t.jsx)("pre",{className:"inline",children:v}),")"," "]}):"",". See the"," ",(0,t.jsx)(u.Link,{href:"/docs/microfrontends/quickstart#define-microfrontends.json",external:!0,tab:!0,variant:"highlight",children:"docs"})," ","for details on how to define your routes."]}),(0,t.jsx)(c.CodeBlock,{filename:v,language:"json",className:"m-0",children:e})]})]})}return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(o.Modal.Header,{children:(0,t.jsx)(o.Modal.Title,{children:"Update Your Config"})}),(0,t.jsxs)(l.Stack,{direction:"column",gap:4,children:[i.length?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(d.Text,{color:"gray-900",lineHeight:24,children:["The latest production deployment for"," ",(0,t.jsxs)(d.Text,{color:"gray-1000",as:"span",children:[(0,t.jsx)(u.Link,{href:`/${f}/${g.name}`,variant:"underline",children:g.name})," "]})," ","does not include configuration for all projects in the microfrontends group"," ",(0,t.jsx)(d.Text,{color:"gray-1000",as:"span",children:(0,t.jsx)(u.Link,{href:`/${f}/${g.name}/settings/microfrontends`,variant:"underline",children:a.name})}),". Add the missing application",i.length>1?"s":""," to your"," ",(0,t.jsx)("pre",{className:"inline",children:"microfrontends.json"}),", or remove the project",i.length>1?"s":""," from the group:"]}),(0,t.jsx)(c.CodeBlock,{language:"json",hideLineNumbers:!0,className:"m-0",children:(0,h.postprocessConfig)(JSON.stringify({applications:i.map(e=>({[e.name]:"microfrontends"in e&&{routing:[{paths:[]}]}}))},null,2))})]}):null,n.length?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(d.Text,{color:"gray-900",lineHeight:24,children:[n.length>1?"Applications definitions ":"An application definition ",n.length>1?"were":"was"," found in your"," ",(0,t.jsx)("pre",{className:"inline",children:"microfrontends.json"})," that"," ",n.length>1?"are":"is"," not a project in the microfrontends group"," ",(0,t.jsx)(d.Text,{color:"gray-1000",as:"span",children:(0,t.jsx)(u.Link,{href:`/${f}/${g.name}/settings/microfrontends`,variant:"underline",children:a.name})}),":"]}),(0,t.jsx)(l.Stack,{className:"border-0 border-l-2 border-solid border-gray-400 pl-4",gap:4,children:n.map(e=>(0,t.jsx)(j,{reference:e,teamSlug:f},`extra-reference-${e.name}`))}),(0,t.jsxs)(d.Text,{color:"gray-900",children:["Note: application names in the"," ",(0,t.jsx)("pre",{className:"inline",children:"microfrontends.json"})," must match the Vercel project name."]})]}):null]})]})}function v(){let{config:e,projects:r,group:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},[i,a]=(0,s.useState)(!1),l=(0,s.useCallback)(()=>{a(!1)},[a]),o=(0,s.useCallback)(()=>{a(!0)},[a]);if(!r||!n)return null;let{missingReferences:c,extraReferences:d}=(0,h.partitionConfigReferencedProjects)(e,r);if(0===c.length&&0===d.length)return null;let{defaultProject:u}=(0,h.partitionMicrofrontendsProjects)(r);return u?{showingMicrofrontendsHelpModal:i,openMicrofrontendsHelpModal:o,microfrontendsHelpModal:(0,t.jsx)(t.Fragment,{children:i?(0,t.jsx)(y,{config:e,extraReferences:d,missingReferences:c,onClose:l,projects:r,group:n}):null})}:null}},[7441384]],5400681:e=>{"use strict";e.s({MicrofrontendsBadge:()=>D});var t=e.i(6645307),r=e.i(5535439),n=e.i(5610210),i=e.i(3583950),a=e.i(8084653),s=e.i(5674541),l=e.i(7358004),o=e.i(8173982),c=e.i(3277953),d=e.i(2605482),u=e.i(6465700),m=e.i(2362802),p=e.i(4651050),h=e.i(6717519),f=e.i(214964),g=e.i(7441384),y=e.i(5938635),j=e.i(2240289),x=e.i(2232998),v=e.i(6937468),$=e.i(8532192),C=e.i(3514588),b=e.i(8761340),T=e.i(6530772),S=e.i(1766200),w=e.i(3184563),k=e.i(8025298);function F(e){let{className:r,hasWarning:i,children:a}=e;return(0,t.jsx)(f.IconInCircleWrapper,{className:(0,n.clsx)({"bg-blue-300 text-blue-900 hover:bg-blue-400":!i,"bg-amber-300 text-amber-900 hover:bg-amber-400":i},r),children:a})}function L(e){let{project:t,viewingDeployment:r}=e,{data:n}=(0,w.useProjectProductionDeployment)(t?.id,{config:{revalidateOnFocus:!1}}),i=r?.gitSource?.ref,{deployments:a}=(0,S.useDeploymentsInfinite)({limit:1,project:t,branch:i,requireProject:!0,ignoreProjectSlug:!0})[1],s=i?a[0]:void 0;return r?s:n?.deployment}function M(e){let{project:r,viewingDeployment:n}=e,i=L({project:r,viewingDeployment:n});if(!i)return null;let a=+("READY"!==i.readyState);return(0,t.jsx)(l.StatusDot,{state:i.readyState,className:`absolute z-${a}`})}function R(e){let{viewingProject:r,viewingDeployment:n,hideOtherChildren:i,applications:a,pathParams:s,projects:l}=e,[o,c]=(0,T.useState)(!1),d=()=>c(!o),{sortedProjects:u}=(0,x.partitionMicrofrontendsProjects)(l,{viewingProjectName:r?.name,applications:a}),m=u[0],p=r?.name===m.name,h=!r||p,f=h?i?1:4:2,g=o?u.length:f,y=i&&!h?[]:[...u.length>g?[{onClick:d,name:(0,v.pluralize)(1===f?"child project":"other child project",u.length-g,!0),hideArrow:f>1,statusDots:(0,t.jsx)("div",{className:"relative size-2",children:u.slice(g).map(e=>(0,t.jsx)(M,{project:e,viewingDeployment:n},e.id))})}]:[],...1===u.length?[{onClick:d,name:"0 child projects"}]:[]],j=[...u.slice(0,g),...y];return(0,t.jsx)(t.Fragment,{children:j.map(e=>(0,t.jsx)(I,{viewingDeployment:n,pathParams:s,projectLink:e,viewingProject:r},e.name))})}function I(e){let{viewingProject:n,viewingDeployment:i,pathParams:s,projectLink:o}=e,{name:c}=o,u="hideArrow"in o&&o.hideArrow,{isDefaultApp:p}="microfrontends"in o&&o.microfrontends||{},h=n?.name===c,{team:f}=(0,C.useTeam)(),{href:g,statusDot:y,statusDotHref:j}=function(e){let{team:r,project:n,viewingDeployment:i,viewingProject:a,pathParams:s,pathname:o,searchParams:c}=e,d=L({project:n,viewingDeployment:i});if(!n||!r)return{href:void 0};let u=d&&"id"in d?d.id:d?.uid;if(i){if(d){let e=`/${r.slug}/${n.name}/${u?.replace("dpl_","")}`;return{href:e,statusDotHref:e,statusDot:(0,t.jsx)(l.StatusDot,{state:d.readyState})}}let e=i.gitSource?.ref;return{href:`/${r.slug}/${n.name}/deployments${e?`?filterBranch=${e}`:""}`}}return{href:o&&a?(0,$.getScopeHref)({pathname:o,pathParams:s,searchParams:c,team:r,project:n}):`/${r.slug}/${n.name}/settings/microfrontends`,statusDotHref:`/${r.slug}/${n.name}/${u?.replace("dpl_","")}`,statusDot:d?(0,t.jsx)(l.StatusDot,{state:d.readyState,titlePrefix:"The production deployment for this project"}):void 0}}({team:f,project:"id"in o?o:void 0,viewingDeployment:i,viewingProject:n,pathParams:s,pathname:(0,r.usePathname)(),searchParams:(0,r.useSearchParams)()??new URLSearchParams("")}),x="onClick"in o?o.onClick:void 0,v=y||("statusDots"in o?o.statusDots:void 0);return(0,t.jsxs)("div",{className:"group flex flex-row items-center gap-1",children:[p?null:(0,t.jsx)(t.Fragment,{children:u?(0,t.jsx)("div",{className:"size-4"}):(0,t.jsx)(d.CornerDownRight,{size:12})}),(0,t.jsx)(m.Link,{href:g,type:"secondary",variant:"underline",onClick:x,children:(0,t.jsx)(a.Text,{weight:h?500:400,size:14,children:c})}),v?(0,t.jsx)(m.Link,{href:j||g,onClick:x,children:(0,t.jsx)("div",{className:"ml-1",children:v})}):null,(0,t.jsx)(m.Link,{href:g,onClick:x,children:(0,t.jsx)(d.CornerDownRight,{style:{clipPath:"inset(0 0 0 5px)"},className:"opacity-0 group-hover:opacity-100",size:12})})]},c)}function P(e){let{pageContext:n,className:d="",groupId:f,side:v="bottom",project:$}=e,C=function(e){let{pageContext:n,groupId:i,project:d}=e,f=(0,r.useParams)()||{},{teamSlug:v,project:$,id:C}=f,T=C?`dpl_${C}`:void 0,{data:S}=(0,y.default)(T),{data:w}=(0,j.useProject)(void 0===d?$:void 0,{apiVersion:"v10"}),F=d||w,{data:L,isLoading:M}=(0,h.useMicrofrontendsConfig)({deploymentId:S?.microfrontends?S?.id:void 0}),I=S?.alias.find(e=>e.includes("-git-")),{data:P}=(0,b.default)({domain:I}),D=function(e){let t,{deployment:r,deploymentConfig:n,alias:i,project:a,groupId:s}=e,{data:l}=(0,p.useMicrofrontendsGroups)(),o="the production deployment of the default app";i?.microfrontends?.applications&&Array.isArray(i.microfrontends.applications)?(o="this alias",t=i.microfrontends.applications.reduce((e,t)=>(e[t.projectId]={deploymentId:t.deploymentId},e),{})):r?.microfrontends?.applications&&(o="this deployment",t=r.microfrontends.applications);let{data:c}=(0,j.useProjects)(Object.keys(t??{})),d=l?.groups.find(e=>e.group.id===a?.microfrontends?.groupIds[0]||e.group.id===s);if(!d)return null;let u=t?n?.config:d.config,m=t?c||[]:d.projects;return{...d,config:u,projects:m,target:o,applications:t}}({groupId:i,deployment:S,alias:P,deploymentConfig:L,project:F}),{data:N}=(0,y.default)(D?.configDeploymentId),{showingMicrofrontendsHelpModal:A,openMicrofrontendsHelpModal:E,microfrontendsHelpModal:W}=(0,g.useMicrofrontendsHelpModal)(D||{})||{};if(!v||T&&(!S||M)||$&&!F||!D)return null;let{projects:O,config:H,group:V,target:q,applications:B}=D,{defaultProject:z}=(0,x.partitionMicrofrontendsProjects)(O);if(!z)return null;let _=!F;if(_&&!E)return null;let Y=`/${v}/${z.name}/settings/microfrontends`,U=!!E&&(!S||!H||"READY"!==S.readyState)&&!n,Z=U?(0,t.jsxs)(a.Text,{color:"gray-900",children:["The"," ",(0,t.jsx)(m.Link,{href:Y,type:"primary",children:V.name})," ",(0,t.jsx)(m.Link,{href:`/${v}/~/settings/microfrontends`,children:"microfrontends group"})," ",H?"has invalid configuration":"is missing a configuration file","."]}):(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)(a.Text,{color:"gray-900",children:["This ",S?"deployment":"project"," is part of the"," ",(0,t.jsx)(m.Link,{href:Y,type:"primary",children:V.name})," ",(0,t.jsx)(m.Link,{href:`/${v}/~/settings/microfrontends`,children:"microfrontends group"}),"."]})});return{content:(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)("div",{className:"flex flex-col gap-3",children:[Z,n?(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(u.InformationFillSmall,{}),(0,t.jsx)(a.Text,{color:"gray-900",children:n})]}):null,(0,t.jsx)("div",{className:"flex flex-col items-start gap-2",children:(0,t.jsx)(R,{viewingProject:F,viewingDeployment:S,hideOtherChildren:!!(n||U),applications:B,projects:O,pathParams:f})}),"this deployment"===q?(0,t.jsx)(a.Text,{color:"gray-900",children:"Projects listed are from when this deployment was created."}):null,"this alias"===q?(0,t.jsx)(a.Text,{color:"gray-900",children:"Projects listed are from when this branch was last updated."}):null,U?(0,t.jsxs)(t.Fragment,{children:[H?(0,t.jsxs)(a.Text,{color:"amber-900",children:["The"," ",(0,t.jsx)(a.Text,{className:"inline",monospace:!0,color:"amber-900",children:"microfrontends.json"})," ","file for ",q,N?(0,t.jsxs)(m.Link,{className:"inline-flex items-center gap-1",href:`/${v}/${z.name}/${N.id}`,variant:"underline",children:[(0,t.jsx)(l.StatusDot,{state:N.readyState}),(0,t.jsx)(a.Text,{as:"span",monospace:!0,children:(0,k.default)(N).hash})]}):""," ","is out of sync with the projects in the group."]}):(0,t.jsxs)(a.Text,{color:"amber-900",children:["A ",(0,t.jsx)("pre",{className:"inline",children:"microfrontends.json"})," file was not uploaded in the production deployment for the default app"," ",N?(0,t.jsxs)(m.Link,{className:"inline-flex items-center gap-1",href:`/${v}/${z.name}/${N.id}`,variant:"underline",children:[(0,t.jsx)(l.StatusDot,{state:N.readyState}),(0,t.jsx)(a.Text,{as:"span",monospace:!0,children:(0,k.default)(N).hash})]}):"",". A configuration file is required to enable Microfrontends routing."]}),(0,t.jsx)(s.Button,{onClick:E,size:"small",type:"warning",children:"See Details"})]}):null]})}),hasWarning:U,icon:_&&U?(0,t.jsx)(c.Warning,{}):(0,t.jsx)(o.Microfrontends,{}),showingMicrofrontendsHelpModal:A,microfrontendsHelpModal:W}}({pageContext:n,groupId:f,project:$});if(!C)return null;let{content:T,hasWarning:S,icon:w,microfrontendsHelpModal:L,showingMicrofrontendsHelpModal:M}=C,I=(0,t.jsx)("div",{className:"max-w-[274px] p-1",children:(0,t.jsx)("div",{className:"flex flex-col gap-2",children:T})});return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(i.ContextCard.Trigger,{content:I,side:v,hide:M,children:(0,t.jsx)(F,{className:d,hasWarning:!!S,children:w})}),L]})}function D(e){let{project:n}=e,{project:i,id:a}=(0,r.useParams)()||{},s=a?`dpl_${a}`:void 0,{data:l}=(0,y.default)(s),{data:o}=(0,j.useProject)(void 0===n?i:void 0,{apiVersion:"v10"});return(n||o)?.microfrontends||l?.microfrontends?(0,t.jsx)(P,{...e}):null}}}]);

//# sourceMappingURL=30b422d8ada4fe84.js.map
//# debugId=b74f974c-f386-5b69-b81c-26aa7e57c537
