
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="fc87cb3d-0a46-518c-8a5b-c4f600bc1ed5")}catch(e){}}();
(globalThis.TURBOPACK=globalThis.TURBOPACK||[]).push(["object"==typeof document?document.currentScript:void 0,{6114962:e=>{"use strict";e.s({BillingCardFieldset:()=>B,BillingCardSkeleton:()=>Y,CardIcon:()=>U});var i=e.i(6645307),t=e.i(2531953),a=e.i(6530772),s=e.i(3921802),l=e.i(5674541),n=e.i(6531164),r=e.i(2631460),d=e.i(663357),o=e.i(8448595),c=e.i(611347),u=e.i(7238633),h=e.i(4105925),x=e.i(8934201),m=e.i(5163670),p=e.i(8350390),g=e.i(8084653),b=e.i(584439),j=e.i(1164214),y=e.i(6944370),f=e.i(9336536),T=e.i(6031903),v=e.i(6530145),S=e.i(6083415),A=e.i(7281916),w=e.i(6984098),_=e.i(9024310),N=e.i(5528554),I=e.i(5165976),C=e.i(5859416),E=e.i(2270026),F=e.i(503726),P=e.i(3585235),R=e.i(5785123);e.i(7597982);var k=e.i(9598711),L=e.i(287394),O=e.i(7857565),$=e.i(7150089),M=e.i(9551456),G=e.i(1343577);function B(){let{team:e,mutate:x}=(0,F.useAccount)(),{can:m}=(0,P.default)(),g=m(R.Action.Update,R.Resource.PaymentMethod),S=m(R.Action.Read,R.Resource.PaymentMethod),A=(0,C.useIsMobile)(),w=(0,$.useStripeSources)({enabled:!0}),L=w.data?.defaultSource,B=(0,a.useMemo)(()=>(w.data?.sources||[]).sort((e,i)=>e.id.localeCompare(i.id)),[w]),Y=B.length>0,[z,V]=(0,a.useState)(!1),[H,J]=(0,a.useState)(!1),[q,K]=(0,a.useState)({active:!1,card:null,requiresNewCard:!1}),[W,Q]=(0,a.useState)(null),X=e?.billing?.awsMarketplace,Z=(0,b.useToasts)();async function ee(e){let i=e?.id?`${f.API_BILLING}/validate-payment-method-removal?teamId=${e.id}`:`${f.API_BILLING}/validate-payment-method-removal`,t=await (0,T.fetchApi)(i,{method:"GET",throwOnHTTPError:!0});return t&&"string"!=typeof t?t:{result:!1,reasons:[]}}let ei=(0,a.useMemo)(()=>async(e,i)=>{let t=1===e.length&&i?.billing?.plan!=="enterprise";if((i?.id&&i.billing?.plan==="hobby"||!i)&&1===e.length){let{reasons:e}=await ee(i);if(e.length>0)switch(e[0]){case"not-hobby-plan":Z.error("You cannot remove your last payment method, because you are not on a hobby plan.");break;case"has-open-invoice":Z.error("You cannot remove your last payment method, because you have an open invoice.");break;case"has-domains":Z.error("You cannot remove your last payment method, because you have domains.");break;case"has-marketplace-integrations":Z.error("You cannot remove your last payment method, because you have billable marketplace integrations.");break;case"has-v0-premium-sub":Z.error("You cannot remove your last payment method, because you have a v0 subscription.");break;case"has-v0-team-seats":Z.error("You cannot remove your last payment method, because you have v0 team seats.");break;case"has-draft-invoice":Z.error("You cannot remove your last payment method, because you have a draft invoice.")}t=e.length>0}return t},[Z]),et=async i=>{K({active:!0,card:i,requiresNewCard:await ei(B,e)})},ea=async()=>{await Promise.all([x(),w.mutate()]),J(!1),q.card&&(es(q.card.id,!0),K({...q,active:!1}))},es=async(i,t)=>{let a=e?`?teamId=${encodeURIComponent(e.id)}`:"";V(!0);try{let e=await (0,y.default)(`${f.API_STRIPE_PAYMENT_METHODS}${a}`,{method:t?"DELETE":"POST",body:JSON.stringify({paymentMethod:i,makeDefault:!t||void 0})});if(e.error)return Q(e.error.message);await w.mutate()}finally{V(!1)}};return(0,i.jsxs)("div",{id:"payment-method",className:"jsx-efc69a07e34f3d23",children:[(0,i.jsxs)(c.Fieldset,{disabled:!g,children:[(0,i.jsxs)(n.FieldsetContent,{children:[(0,i.jsx)(G.FieldsetTitle,{id:M.PERSONAL_ACCOUNT_SETTINGS_NAVIGATION_TITLES.billing.paymentMethod,children:M.PERSONAL_ACCOUNT_SETTINGS_NAVIGATION_TITLES.billing.paymentMethod}),(0,i.jsxs)(p.FieldsetSubtitle,{children:[X?"A card will be used for purchases of items outside of your AWS Marketplace contract. ":null,"Payments for domains, add-ons, and other usage are made using the default card."]}),(0,i.jsx)("div",{className:"jsx-efc69a07e34f3d23 h-[159px]",children:Y||!S?(0,i.jsx)(v.Table,{children:(0,i.jsx)(v.Table.Body,{children:S?B.map(e=>{let{card:t}=e;if(!t)return null;let a=e.id===L;return(0,i.jsxs)(v.Table.Row,{className:"border-t",children:[(0,i.jsx)(v.Table.Cell,{className:"text-gray-1000",children:(0,i.jsxs)("span",{className:"jsx-efc69a07e34f3d23 flex items-center gap-x-2",children:[(0,i.jsx)(U,{brand:t.brand}),A?`••••
                              ${t.last4}`:`${(0,O.cardBrand)(t.brand)} ${t.funding} ••••
                              ${t.last4}`,a?(0,i.jsx)(s.Badge,{icon:(0,i.jsx)(N.CheckCircleFill,{}),variant:g?"blue-subtle":"gray-subtle",children:"Default"}):null]})}),A?null:(0,i.jsxs)(v.Table.Cell,{className:"text-right text-gray-1000",children:["Valid until ",t.exp_month,"/",t.exp_year]}),(0,i.jsx)(v.Table.Cell,{className:"w-[3%]",children:(0,i.jsxs)(r.DotsMenu,{children:[a?null:(0,i.jsx)(h.MenuItem,{onClick:()=>{es(e.id).catch(E.captureError)},children:"Make Default"}),(0,i.jsx)(h.MenuItem,{onClick:()=>{et(e)},type:"error",children:"Remove"})]})})]},e.id)}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(v.Table.Row,{className:"border-t",children:[(0,i.jsx)(v.Table.Cell,{children:(0,i.jsxs)("span",{className:"jsx-efc69a07e34f3d23 flex items-center gap-x-2",children:[(0,i.jsx)(_.CreditCard,{}),"••••"]})}),(0,i.jsx)(v.Table.Cell,{className:"text-right",children:"••/••••"}),(0,i.jsx)(v.Table.Cell,{className:"w-[3%]",children:(0,i.jsx)(I.LockClosed,{})})]}),(0,i.jsxs)(v.Table.Row,{className:"border-t",children:[(0,i.jsx)(v.Table.Cell,{children:(0,i.jsxs)("span",{className:"jsx-efc69a07e34f3d23 flex items-center gap-x-2",children:[(0,i.jsx)(_.CreditCard,{}),"••••"]})}),(0,i.jsx)(v.Table.Cell,{className:"text-right",children:"••/••••"}),(0,i.jsx)(v.Table.Cell,{className:"w-[3%]",children:(0,i.jsx)(I.LockClosed,{})})]})]})})}):(0,i.jsx)(d.EmptyState.Root,{description:"No payment methods added",icon:(0,i.jsx)(d.EmptyState.Icon,{icon:(0,i.jsx)(_.CreditCard,{size:32})}),paddingY:26})})]}),(0,i.jsxs)(u.FieldsetFooter,{disabled:!1,children:[(0,i.jsx)(u.FieldsetFooter.Status,{children:W?(0,i.jsxs)(o.ErrorText,{children:[W," – Please try again later."]}):g?"At most, three credit cards can be added.":"You need additional permissions to manage your team's payment method."}),g?(0,i.jsx)(u.FieldsetFooter.Actions,{children:(0,i.jsx)(l.Button,{className:"add-new-card","data-testid":(0,j.tid)("account-settings","billing","add-new-card"),disabled:B.length>=3,loading:z,onClick:()=>{z||J(!0)},size:"small",children:"Add Card"})}):null]})]}),(0,i.jsx)(k.CreditCardModal,{isActive:H,onAbort:()=>{J(!1)},onContinue:()=>void ea(),paying:!1}),(0,i.jsx)(D,{cardToRemove:q.card,isActive:q.active,onCancel:()=>K({...q,active:!1}),onCancelDone:()=>K({...q,card:null}),onContinue:()=>{q.requiresNewCard?ea():(es(q.card.id,!0),K({...q,active:!1}))},requiresNewCard:q.requiresNewCard}),(0,i.jsx)(t.default,{id:"efc69a07e34f3d23",children:".table th{text-transform:uppercase}@media (min-width:768px){.table .shown-on-mobile{display:none}}@media (max-width:768px){.table .column-brand,.table .column-type,.table .column-exp,.table .hidden-on-mobile{display:none}.table .shown-on-mobile{white-space:nowrap}}"})]})}function Y(e){let{canUpdatePaymentMethod:t}=e;return(0,i.jsx)("div",{id:"payment-method",children:(0,i.jsxs)(c.Fieldset,{disabled:!t,children:[(0,i.jsxs)(n.FieldsetContent,{children:[(0,i.jsx)(G.FieldsetTitle,{id:M.PERSONAL_ACCOUNT_SETTINGS_NAVIGATION_TITLES.billing.paymentMethod,children:M.PERSONAL_ACCOUNT_SETTINGS_NAVIGATION_TITLES.billing.paymentMethod}),(0,i.jsx)(p.FieldsetSubtitle,{children:"Payments for domains, add-ons, and other usage are made using the default card."}),(0,i.jsx)("div",{className:"h-[159px]",children:(0,i.jsx)(v.Table,{children:(0,i.jsx)(v.Table.Body,{children:[,,].fill(null).map((e,t)=>(0,i.jsxs)(v.Table.Row,{className:"border-t border-t-gray-alpha-400",children:[(0,i.jsx)(v.Table.Cell,{children:(0,i.jsxs)("span",{className:"flex items-center gap-x-2",children:[(0,i.jsx)(m.Skeleton,{height:16,width:16}),(0,i.jsx)(m.Skeleton,{height:16,width:156})]})}),(0,i.jsx)(v.Table.Cell,{className:"flex justify-end text-right",children:(0,i.jsx)("span",{className:"flex h-8 items-center",children:(0,i.jsx)(m.Skeleton,{height:16,width:128})})}),(0,i.jsx)(v.Table.Cell,{className:"w-[3%]",children:(0,i.jsx)("span",{className:"flex h-8 items-center",children:(0,i.jsx)(m.Skeleton,{height:16,width:16})})})]},t))})})})]}),(0,i.jsx)(u.FieldsetFooter,{disabled:!1,children:void 0===t?(0,i.jsx)(m.Skeleton,{height:22,width:480}):t?"At most, three credit cards can be added.":"You need additional permissions to manage your team's payment method."})]})})}function D(e){let{isActive:t,cardToRemove:a,requiresNewCard:s,onCancel:l,onCancelDone:n,onContinue:r}=e,d=a?.card;return s?(0,i.jsx)(L.default,{active:t,description:(0,i.jsxs)(i.Fragment,{children:["You cannot remove"," ",(0,i.jsxs)(g.Text,{as:"span",weight:700,children:[(0,O.cardBrand)(d?.brand)," ****",d?.last4]})," ","without adding a new payment method first."]}),onAdded:r,onAnimationDone:n,onCancel:l,title:"Remove Payment Method"}):(0,i.jsxs)(x.Modal.Modal,{active:t,onAnimationDone:n,onClickOutside:l,children:[(0,i.jsxs)(x.Modal.Body,{children:[(0,i.jsx)(x.Modal.Title,{children:"Remove Payment Method"}),(0,i.jsxs)(x.Modal.Subtitle,{children:["You are about to remove"," ",(0,i.jsxs)(g.Text,{as:"span",weight:700,children:[(0,O.cardBrand)(d?.brand)," ****",d?.last4]})," ","from your account."]}),(0,i.jsx)(x.Modal.Subtitle,{children:"Are you sure you want to continue?"})]}),(0,i.jsxs)(x.Modal.Actions,{children:[(0,i.jsx)(x.Modal.Action,{onClick:l,type:"secondary",children:"Cancel"}),(0,i.jsx)(x.Modal.Action,{onClick:r,children:"Continue"})]})]})}function U(e){let{brand:t}=e;switch(t){case"visa":return(0,i.jsx)(A.LogoVisa,{});case"mastercard":return(0,i.jsx)(w.LogoMastercard,{});case"amex":return(0,i.jsx)(S.LogoAmex,{});default:return(0,i.jsx)(_.CreditCard,{})}}},3572818:e=>{"use strict";e.s({default:()=>T});var i=e.i(6645307),t=e.i(6530772),a=e.i(7315479),s=e.i(5674541),l=e.i(6531164),n=e.i(611347),r=e.i(7238633),d=e.i(8084653),o=e.i(584439),c=e.i(6944370),u=e.i(9336536),h=e.i(503726),x=e.i(9326250),m=e.i(3585235),p=e.i(5785123),g=e.i(260979),b=e.i(1343577),j=e.i(1155472),y=e.i(5687260),f=e.i(5693066);function T(){let e=(0,h.useAccount)(),{isLoading:t}=(0,m.default)();return!e||e.isLoading||!e.user||t?(0,i.jsx)(j.default,{extraHeight:26,height:335}):(0,i.jsx)(v,{})}function v(){let e=(0,h.useAccount)(),{can:j}=(0,m.default)(),{user:T,team:v}=e,S=v||T,A=S?.billing?.address||null,[w,_]=(0,t.useState)(null),[N,I]=(0,t.useState)(!1),[C,E]=(0,t.useState)({}),F=(0,o.useToasts)(),P=(0,t.useCallback)(async i=>{i.preventDefault();try{_(null),I(!0);let t=new FormData(i.currentTarget),a=(0,f.validateAddressFormData)(t);if("message"in a)return void _(`Invalid billing address. ${a.message}`);let s=new URLSearchParams(v?{teamId:v.id}:{}),l={line1:a.line1,line2:a.line2,city:a.city,state:a.state,postalCode:a.zipCode,country:a.country},n=await (0,c.default)(`${u.API_STRIPE_SETTINGS}?${s}`,{method:"PATCH",body:JSON.stringify({address:l})});if(n.error)throw Error(n.error.message||"An unexpected error. Please try again later.");e.mutate(),F.success("Your billing address has been updated.")}catch(e){_((0,a.errorToString)(e))}finally{I(!1)}},[v,e,F]),R=!!(C.line1&&C.zipCode&&C.city&&C.country),k=j(p.Action.Update,p.Resource.BillingAddress);return(0,i.jsx)("div",{children:(0,i.jsx)("form",{onSubmit:(0,x.promiseToCallback)(P),children:(0,i.jsxs)(n.Fieldset,{disabled:!k,children:[(0,i.jsxs)(l.FieldsetContent,{children:[(0,i.jsx)(b.FieldsetTitle,{id:g.TEAM_SETTINGS_NAVIGATION_TITLES.billing.billingAddress,children:g.TEAM_SETTINGS_NAVIGATION_TITLES.billing.billingAddress}),A?(0,i.jsxs)("div",{children:[(0,i.jsx)(d.Text,{style:{marginBottom:"0.5rem",fontSize:"0.875rem",color:"#666",fontWeight:"500"},children:"Current Address:"}),(0,i.jsxs)(d.Text,{style:{fontSize:"0.875rem",lineHeight:"1.4"},children:[A.line1,A.line2?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("br",{}),A.line2]}):null,(0,i.jsx)("br",{}),A.city,", ",A.state," ",A.postalCode,(0,i.jsx)("br",{}),A.country]})]}):null,(0,i.jsx)("br",{}),(0,i.jsx)(y.FullBillingAddressForm,{disableTaxId:!0,disabled:N,error:w??void 0,captureAddress:E})]}),(0,i.jsx)(r.FieldsetFooter,{disabled:!1,highlight:!k,children:k?(0,i.jsx)(r.FieldsetFooter.Actions,{children:(0,i.jsx)(s.Button,{disabled:!R,loading:N,size:"small",width:N?100:80,children:N?"Saving":"Save"})}):null})]})})})}},832068:e=>{e.v({input:"billing-fieldsets-module__0d1MHa__input"})},6603957:e=>{"use strict";e.s({default:()=>T});var i=e.i(6645307),t=e.i(6530772),a=e.i(5674541),s=e.i(6531164),l=e.i(8448595),n=e.i(611347),r=e.i(7238633),d=e.i(8350390),o=e.i(584439),c=e.i(6944370),u=e.i(9336536),h=e.i(503726),x=e.i(3585235),m=e.i(5785123),p=e.i(1857280),g=e.i(260979),b=e.i(1343577),j=e.i(1155472),y=e.i(832068),f=e.i(5071261);function T(){let e=(0,h.useAccount)(),{isLoading:t}=(0,x.default)();return!e||e.isLoading||!e.user||t?(0,i.jsx)(j.default,{}):(0,i.jsx)(v,{})}function v(){let e=(0,h.useAccount)(),{can:j}=(0,x.default)(),{isTeam:T,user:v,team:S}=e,A=S||v,[w,_]=(0,t.useState)(null),[N,I]=(0,t.useState)(!1),[C,E]=(0,t.useState)(A?.billing?.email||""),F=(0,o.useToasts)(),P=(0,t.useCallback)(async i=>{i.preventDefault();try{_(null),I(!0);let i=new URLSearchParams(S?{teamId:S.id}:{}),t=await (0,c.default)(`${u.API_STRIPE_SETTINGS}?${i}`,{method:"PATCH",body:JSON.stringify({email:C||null})});if(t.error)throw Error(t.error.message||"An unexpected error. Please try again later.");e.mutate(),F.success("Your invoice email recipient has been updated.")}catch(e){_(e.message)}finally{I(!1)}},[S,C,e,F]),R=j(m.Action.Read,m.Resource.BillingInvoiceEmailRecipient),k=j(m.Action.Update,m.Resource.BillingInvoiceEmailRecipient);return(0,i.jsx)("div",{children:(0,i.jsx)("form",{onSubmit:P,children:(0,i.jsxs)(n.Fieldset,{disabled:!k,children:[(0,i.jsxs)(s.FieldsetContent,{children:[(0,i.jsx)(b.FieldsetTitle,{id:g.TEAM_SETTINGS_NAVIGATION_TITLES.billing.invoiceEmailRecipient,children:g.TEAM_SETTINGS_NAVIGATION_TITLES.billing.invoiceEmailRecipient}),(0,i.jsx)(d.FieldsetSubtitle,{children:T?"By default, all your invoices will be sent to the email address of the creator of your team. If you want to use a custom email address specifically for receiving invoices, enter it here.":`By default, all your invoices will be sent to your account’s email address. If you want to use a custom email address specifically for receiving invoices, enter it here.`}),(0,i.jsx)("div",{className:y.default.input,children:R?(0,i.jsx)(p.default,{disabled:N,maxLength:254,onChange:e=>E(e),placeholder:T?"invoices@team.com":"john@doe.com",type:"email",value:C,width:"100%"}):(0,i.jsx)(f.default,{width:"100%"})})]}),(0,i.jsxs)(r.FieldsetFooter,{disabled:!1,highlight:!k,children:[(0,i.jsx)(r.FieldsetFooter.Status,{children:w?(0,i.jsx)(l.ErrorText,{children:w}):k?"Please use 254 characters at maximum.":"You need additional permissions to manage your team's invoice email recipient."}),k?(0,i.jsx)(r.FieldsetFooter.Actions,{children:(0,i.jsx)(a.Button,{loading:N,size:"small",width:N?100:80,children:N?"Saving":"Save"})}):null]})]})})})}},2507538:e=>{"use strict";e.s({default:()=>A},2507538);var i=e.i(6645307),t=e.i(2531953),a=e.i(6530772),s=e.i(5674541),l=e.i(6531164),n=e.i(8448595),r=e.i(611347),d=e.i(7238633),o=e.i(8350390),c=e.i(584439),u=e.i(6944370),h=e.i(9336536),x=e.i(503726),m=e.i(3585235),p=e.i(5785123),g=e.i(5610210),b=e.i(4237550);let j=a.default.forwardRef((e,a)=>{let{children:s,width:l,minWidth:n,maxWidth:r,disabled:d,className:o,onChange:c,icon:u=(0,i.jsx)(b.ChevronDown,{}),value:h,small:x,defaultValue:m,disableEvents:p,style:j,id:y,...f}=e;return(0,i.jsxs)("div",{style:j,id:y,...f,className:t.default.dynamic([["2fe90346eb592704",[x?"var(--geist-gap)":"calc(9 * var(--geist-space))","100%"===l?l:l?`${l}px`:"auto",n?`${n}px`:x?"105px":"160px",r?`${r}px`:"auto",x?"12px":"14px",x?"25px":"30px",u?"0 30px 0 16px":"0 16px"]]])+" "+(f&&null!=f.className&&f.className||(0,g.clsx)("select",{disabled:d},o)||""),children:[(0,i.jsx)("select",{defaultValue:m,disabled:d,id:y,onChange:c,ref:a,style:{fontSize:j?.fontSize},value:h,className:t.default.dynamic([["2fe90346eb592704",[x?"var(--geist-gap)":"calc(9 * var(--geist-space))","100%"===l?l:l?`${l}px`:"auto",n?`${n}px`:x?"105px":"160px",r?`${r}px`:"auto",x?"12px":"14px",x?"25px":"30px",u?"0 30px 0 16px":"0 16px"]]])+" "+((0,g.clsx)({"geist-no-events":p})||""),children:s}),u?(0,i.jsx)("div",{className:t.default.dynamic([["2fe90346eb592704",[x?"var(--geist-gap)":"calc(9 * var(--geist-space))","100%"===l?l:l?`${l}px`:"auto",n?`${n}px`:x?"105px":"160px",r?`${r}px`:"auto",x?"12px":"14px",x?"25px":"30px",u?"0 30px 0 16px":"0 16px"]]])+" arrow",children:u}):null,(0,i.jsx)(t.default,{id:"2fe90346eb592704",dynamic:[x?"var(--geist-gap)":"calc(9 * var(--geist-space))","100%"===l?l:l?`${l}px`:"auto",n?`${n}px`:x?"105px":"160px",r?`${r}px`:"auto",x?"12px":"14px",x?"25px":"30px",u?"0 30px 0 16px":"0 16px"],children:`.select.__jsx-style-dynamic-selector{-webkit-appearance:none;appearance:none;color:var(--geist-foreground);background:var(--geist-background);border:1px solid var(--accents-2);text-transform:uppercase;-webkit-user-select:none;user-select:none;white-space:nowrap;height:${x?"var(--geist-gap)":"calc(9 * var(--geist-space))"};width:${"100%"===l?l:l?`${l}px`:"auto"};min-width:${n?`${n}px`:x?"105px":"160px"};max-width:${r?`${r}px`:"auto"};border-radius:4px;outline:none;font-weight:100;line-height:0;transition:border .2s,color .2s ease-out,box-shadow .2s;display:inline-flex;position:relative;overflow:hidden}select.__jsx-style-dynamic-selector{-webkit-appearance:none;appearance:none;height:100%;box-shadow:none;color:var(--geist-foreground);background-image:none;background:var(--geist-background);font-size:${x?"12px":"14px"};width:calc(100% + 20px);padding:0 var(--geist-gap-half);text-transform:none;text-rendering:initial;border:none;margin-right:-20px}select.__jsx-style-dynamic-selector:-moz-focusing{color:#0000;text-shadow:0 0 #000}select.__jsx-style-dynamic-selector:focus{outline:none}.select.__jsx-style-dynamic-selector .arrow.__jsx-style-dynamic-selector{background:var(--geist-background);width:${x?"25px":"30px"};pointer-events:none;justify-content:center;align-items:center;height:100%;transition:border .2s;display:flex;position:absolute;right:0}.select.__jsx-style-dynamic-selector:hover,.select.__jsx-style-dynamic-selector:focus-within,.select.__jsx-style-dynamic-selector:hover .arrow.__jsx-style-dynamic-selector,.select.__jsx-style-dynamic-selector:focus-within .arrow.__jsx-style-dynamic-selector{border-color:var(--accents-5)}.select.disabled.__jsx-style-dynamic-selector,.select.disabled.__jsx-style-dynamic-selector .arrow.__jsx-style-dynamic-selector{background:var(--accents-1)}.select.disabled.__jsx-style-dynamic-selector:hover,.select.disabled.__jsx-style-dynamic-selector .arrow.__jsx-style-dynamic-selector{box-shadow:none;border-color:var(--accents-2)}.select.disabled.__jsx-style-dynamic-selector select.__jsx-style-dynamic-selector{color:var(--accents-4);cursor:not-allowed}@-moz-document url-prefix(){select.__jsx-style-dynamic-selector{width:100%;padding:${u?"0 30px 0 16px":"0 16px"};margin-right:0}}@media screen and (max-device-width:780px) and (-webkit-min-device-pixel-ratio:0){select.__jsx-style-dynamic-selector{font-size:16px}.select.__jsx-style-dynamic-selector{height:calc(2*var(--geist-gap))}}`})]})});var y=e.i(260979),f=e.i(1343577),T=e.i(1155472),v=e.i(5071261);let S={ar:"Arabic",da:"Danish",nl:"Dutch",en:"English",fi:"Finnish",fr:"French",de:"German",he:"Hebrew",it:"Italian",jp:"Japanese",no:"Norwegian",es:"Spanish",sv:"Swedish"};function A(){let e=(0,x.useAccount)(),{isLoading:t}=(0,m.default)();return!e||e.isLoading||!e.user||t?(0,i.jsx)(T.default,{}):(0,i.jsx)(w,{})}function w(){let e=(0,x.useAccount)(),{can:g}=(0,m.default)(),{user:b,team:T}=e,A=T||b,[w,_]=(0,a.useState)(null),[N,I]=(0,a.useState)(!1),C=(0,c.useToasts)(),[E,F]=(0,a.useState)(A?.billing?.language||"en"),P=(0,a.useCallback)(async i=>{i.preventDefault();try{_(null),I(!0);let i=new URLSearchParams(T?{teamId:T.id}:{}),t=await (0,u.default)(`${h.API_STRIPE_SETTINGS}?${i}`,{method:"PATCH",body:JSON.stringify({language:E||null})});if(t.error)throw Error(t.error.message||"An unexpected error. Please try again later.");e.mutate(),C.success("Your invoice language has been updated.")}catch(e){_(e.message)}finally{I(!1)}},[T,E,e,C]),R=g(p.Action.Update,p.Resource.BillingInvoiceLanguage),k=g(p.Action.Read,p.Resource.BillingInvoiceLanguage);return(0,i.jsxs)("div",{className:"jsx-934837b984a43c5b",children:[(0,i.jsx)("form",{onSubmit:P,className:"jsx-934837b984a43c5b",children:(0,i.jsxs)(r.Fieldset,{disabled:!R,children:[(0,i.jsxs)(l.FieldsetContent,{children:[(0,i.jsx)(f.FieldsetTitle,{id:y.TEAM_SETTINGS_NAVIGATION_TITLES.billing.invoiceLanguage,children:y.TEAM_SETTINGS_NAVIGATION_TITLES.billing.invoiceLanguage}),(0,i.jsx)(o.FieldsetSubtitle,{children:"If your billing department is using a different language, enter it here."}),k?(0,i.jsx)("div",{className:"jsx-934837b984a43c5b input",children:(0,i.jsx)(j,{disabled:N||!R,onChange:e=>{let{target:i}=e;return F(i.selectedOptions[0].value)},value:E,children:Object.entries(S).map(e=>{let[t,a]=e;return(0,i.jsx)("option",{value:t,className:"jsx-934837b984a43c5b",children:a},t)})})}):(0,i.jsx)(v.default,{withChevronDown:!0})]}),(0,i.jsxs)(d.FieldsetFooter,{disabled:!1,highlight:!R,children:[(0,i.jsx)(d.FieldsetFooter.Status,{children:w&&w?(0,i.jsx)(n.ErrorText,{children:w}):R?"This field determines the language of your invoice.":"You need additional permissions to manage your team's invoice language."}),R?(0,i.jsx)(d.FieldsetFooter.Actions,{children:(0,i.jsx)(s.Button,{loading:N,size:"small",width:N?100:80,children:N?"Saving":"Save"})}):null]})]})}),(0,i.jsx)(t.default,{id:"934837b984a43c5b",children:".input.jsx-934837b984a43c5b{align-items:center;display:flex}"})]})}},6499869:e=>{"use strict";e.s({default:()=>T});var i=e.i(6645307),t=e.i(6530772),a=e.i(5674541),s=e.i(6531164),l=e.i(8448595),n=e.i(611347),r=e.i(7238633),d=e.i(8350390),o=e.i(584439),c=e.i(6944370),u=e.i(9336536),h=e.i(503726),x=e.i(3585235),m=e.i(5785123),p=e.i(1857280),g=e.i(260979),b=e.i(1343577),j=e.i(832068),y=e.i(1155472),f=e.i(5071261);function T(){let e=(0,h.useAccount)(),{isLoading:t}=(0,x.default)();return!e||e.isLoading||!e.user||t?(0,i.jsx)(y.default,{}):(0,i.jsx)(v,{})}function v(){let e=(0,h.useAccount)(),{can:y}=(0,x.default)(),{user:T,team:v}=e,S=v||T,[A,w]=(0,t.useState)(null),[_,N]=(0,t.useState)(!1),[I,C]=(0,t.useState)(S?.billing?.name||""),E=(0,o.useToasts)(),F=(0,t.useCallback)(async i=>{i.preventDefault();try{w(null),N(!0);let i=new URLSearchParams(v?{teamId:v.id}:{}),t=await (0,c.default)(`${u.API_STRIPE_SETTINGS}?${i}`,{method:"PATCH",body:JSON.stringify({name:I||null})});if(t.error)throw Error(t.error.message||"An unexpected error. Please try again later.");e.mutate(),E.success("Your company name has been updated.")}catch(e){w(e.message)}finally{N(!1)}},[v,I,e,E]),P=y(m.Action.Update,m.Resource.BillingAddress),R=y(m.Action.Read,m.Resource.BillingAddress);return(0,i.jsx)("div",{children:(0,i.jsx)("form",{onSubmit:F,children:(0,i.jsxs)(n.Fieldset,{disabled:!P,children:[(0,i.jsxs)(s.FieldsetContent,{children:[(0,i.jsx)(b.FieldsetTitle,{id:g.TEAM_SETTINGS_NAVIGATION_TITLES.billing.companyName,children:g.TEAM_SETTINGS_NAVIGATION_TITLES.billing.companyName}),(0,i.jsxs)(d.FieldsetSubtitle,{children:["By default, your ",v?"team":"account"," name is shown on your invoice. If you want to show a custom name instead, please enter it here."]}),(0,i.jsx)("div",{className:j.default.input,children:R?(0,i.jsx)(p.default,{disabled:_,maxLength:64,onChange:e=>C(e),placeholder:S?.name||S?.slug||S?.username,value:I,width:"100%"}):(0,i.jsx)(f.default,{width:"100%"})})]}),(0,i.jsxs)(r.FieldsetFooter,{disabled:!1,highlight:!P,children:[(0,i.jsx)(r.FieldsetFooter.Status,{children:A?(0,i.jsx)(l.ErrorText,{children:A}):P?"Please use 64 characters at maximum.":"You need additional permissions to manage your team's company name."}),P?(0,i.jsx)(r.FieldsetFooter.Actions,{children:(0,i.jsx)(a.Button,{loading:_,size:"small",width:_?100:80,children:_?"Saving":"Save"})}):null]})]})})})}},2029412:e=>{"use strict";e.s({default:()=>T});var i=e.i(6645307),t=e.i(6530772),a=e.i(5674541),s=e.i(6531164),l=e.i(8448595),n=e.i(611347),r=e.i(7238633),d=e.i(8350390),o=e.i(584439),c=e.i(6944370),u=e.i(9336536),h=e.i(503726),x=e.i(3585235),m=e.i(5785123),p=e.i(1857280),g=e.i(260979),b=e.i(1343577),j=e.i(1155472),y=e.i(5071261),f=e.i(832068);function T(){let e=(0,h.useAccount)(),{isLoading:t}=(0,x.default)();return!e||e.isLoading||!e.user||t?(0,i.jsx)(j.default,{}):(0,i.jsx)(v,{})}function v(){let e=(0,h.useAccount)(),{can:j}=(0,x.default)(),{user:T,team:v}=e,S=v||T,[A,w]=(0,t.useState)(null),[_,N]=(0,t.useState)(!1),[I,C]=(0,t.useState)(S?.billing?.purchaseOrder||""),E=(0,o.useToasts)(),F=(0,t.useCallback)(async i=>{i.preventDefault();try{w(null),N(!0);let i=new URLSearchParams(v?{teamId:v.id}:{}),t=await (0,c.default)(`${u.API_STRIPE_SETTINGS}?${i}`,{method:"PATCH",body:JSON.stringify({purchaseOrder:I||null})});if(t.error)throw Error(t.error.message||"An unexpected error. Please try again later.");e.mutate(),E.success("Your company's invoice purchase order has been updated.")}catch(e){w(e.message)}finally{N(!1)}},[v,I,e,E]),P=j(m.Action.Update,m.Resource.BillingPurchaseOrder),R=j(m.Action.Read,m.Resource.BillingPurchaseOrder);return(0,i.jsx)("div",{children:(0,i.jsx)("form",{onSubmit:F,children:(0,i.jsxs)(n.Fieldset,{disabled:!P,children:[(0,i.jsxs)(s.FieldsetContent,{children:[(0,i.jsx)(b.FieldsetTitle,{id:g.TEAM_SETTINGS_NAVIGATION_TITLES.billing.invoicePurchaseOrder,children:g.TEAM_SETTINGS_NAVIGATION_TITLES.billing.invoicePurchaseOrder}),(0,i.jsxs)(d.FieldsetSubtitle,{children:["By default, no purchase order line is shown on your"," ",v?"team's":"account's"," billing invoices. If you want to show a purchase order line, please enter it here."]}),(0,i.jsx)("div",{className:f.default.input,children:R?(0,i.jsx)(p.default,{disabled:_,maxLength:64,onChange:e=>C(e),placeholder:S?.billing.purchaseOrder||"",value:I,width:"100%"}):(0,i.jsx)(y.default,{width:"100%"})})]}),(0,i.jsxs)(r.FieldsetFooter,{disabled:!1,highlight:!P,children:[(0,i.jsx)(r.FieldsetFooter.Status,{children:A&&A?(0,i.jsx)(l.ErrorText,{children:A}):P?"Please use 64 characters at maximum.":"You need additional permissions to manage your team's invoice purchase order."}),P?(0,i.jsx)(r.FieldsetFooter.Actions,{children:(0,i.jsx)(a.Button,{loading:_,size:"small",width:_?100:80,children:_?"Saving":"Save"})}):null]})]})})})}}}]);

//# sourceMappingURL=ff692c5f8c5df6f6.js.map
//# debugId=fc87cb3d-0a46-518c-8a5b-c4f600bc1ed5
