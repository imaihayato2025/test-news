
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="cd22d28f-834d-5647-9c34-0567f887f3f3")}catch(e){}}();
(globalThis.TURBOPACK=globalThis.TURBOPACK||[]).push(["object"==typeof document?document.currentScript:void 0,{2693466:[e=>{"use strict";e.s({ProjectsGroupFilterItem:()=>S,ProjectsGroupFilterMenu:()=>P,ProjectsRepositoryFilterItem:()=>b,ProjectsRepositoryFilterMenu:()=>N},2693466);var t=e.i(6645307),r=e.i(9498786),i=e.i(4811398),s=e.i(663357),a=e.i(4105925),n=e.i(3821772),l=e.i(902156),o=e.i(9948746),c=e.i(8173982);let d=(0,e.i(6895406).withNewIcon)('<path clip-rule="evenodd" d="M4.25 0C3.00736 0 2 1.00736 2 2.25V11V11.25V11.5C2 12.5252 2.61705 13.4062 3.5 13.792V11.5V11.25V11C3.5 10.4477 3.94772 10 4.5 10H12.5V11.2305V12.5H10.5V14H12.5H14V12.5V11.2305V10V8.5V0.75V0H13.25H4.25ZM12.5 8.5V1.5H4.25C3.83579 1.5 3.5 1.83579 3.5 2.25V8.70802C3.80623 8.57422 4.14445 8.5 4.5 8.5H12.5ZM5.5 11.5C5.22386 11.5 5 11.7239 5 12V16L7 14.75L9 16V12C9 11.7239 8.77614 11.5 8.5 11.5H5.5Z" fill="currentColor" fill-rule="evenodd" />');var u=e.i(2198583),m=e.i(6284911);e.s({useDashboardProjectFilters:()=>j},9895989);var x=e.i(6649026),p=e.i(1183506),h=e.i(4418725),f=e.i(3521787);function j(){let{search:e,options:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=(0,h.useTeamSlug)();return(0,f.default)(r?function(e){let{teamSlug:t,search:r}=e;return`/api/dashboard/projects-filters${(0,x.encode)({teamId:t,...r?{search:r.query,type:r.type}:void 0})}`}({teamSlug:r,search:e}):null,e=>(0,p.fetchAPI)(e),{revalidateOnFocus:!1,...t,revalidateIfStale:!1})}var g=e.i(6859825),v=e.i(6530772),y=e.i(5402946),w=e.i(604868);function b(e){let{onClick:s}=e,[n]=(0,r.useQueryState)("repo",i.teamOverviewSearchParams.repo);return(0,t.jsx)(a.MenuItem,{onClick:s,prefix:(0,t.jsx)(d,{}),suffix:n?(0,t.jsx)(o.Check,{color:"gray-900"}):null,children:"Repository"})}function S(e){let{onClick:s}=e,[n]=(0,r.useQueryState)("mfe",i.teamOverviewSearchParams.mfe);return(0,t.jsx)(a.MenuItem,{onClick:s,prefix:(0,t.jsx)(c.Microfrontends,{}),suffix:n?(0,t.jsx)(o.Check,{color:"gray-900"}):null,children:"Microfrontend"})}function k(e){let{item:r,onClick:i,isSelected:s}=e,{key:{gitType:n,gitOwner:l,gitRepo:c}}=r,d=`https://${n}.${"bitbucket"===n?"org":"com"}/${l}/${c}`;return(0,t.jsx)(a.MenuItem,{onClick:i,children:(0,t.jsxs)("div",{className:"flex w-full flex-row items-center justify-between gap-2",children:[(0,t.jsxs)("div",{className:"flex min-w-0 flex-row items-center gap-1.5",children:[(0,t.jsx)(g.GitLogo,{className:"shrink-0",gitType:n}),(0,t.jsxs)("span",{className:"truncate",children:[l,"/",c]})]}),s?(0,t.jsx)(o.Check,{color:"gray-900",className:"shrink-0"}):null]})},d)}function N(){let e=(0,y.useTeamOverviewState)(e=>e.projectRepos);return(0,t.jsx)(I,{type:"repos",queryKey:"repo",queryDefinition:i.teamOverviewSearchParams.repo,placeholder:"repositories",MenuItemComponent:k,initialData:e,...i.repositoryFilter})}function C(e){let{item:r,onClick:i,isSelected:s}=e,{key:{name:n}}=r;return(0,t.jsx)(a.MenuItem,{onClick:i,children:(0,t.jsxs)("div",{className:"flex w-full flex-row items-center justify-between gap-2",children:[(0,t.jsx)("div",{className:"flex min-w-0 flex-row items-center gap-1.5",children:(0,t.jsx)("span",{className:"truncate",children:n})}),s?(0,t.jsx)(o.Check,{color:"gray-900",className:"shrink-0"}):null]})})}function P(){return(0,t.jsx)(I,{type:"groups",queryKey:"mfe",queryDefinition:i.teamOverviewSearchParams.mfe,placeholder:"microfrontends",MenuItemComponent:C,limit:10,...i.mfeFilter})}function I(e){let{type:i,queryKey:a,queryDefinition:o,MenuItemComponent:c,placeholder:d,limit:x=10,serialize:p,deserialize:h,initialData:f}=e,[g,y,{currentValue:b}]=(0,u.useDebounceState)("",300),S=(0,w.useIsMobile)(),{actions:k}=(0,l.useMenu)(),N=(0,v.useRef)(void 0),[C,P]=(0,r.useQueryState)(a,o),{data:I,isLoading:M}=j({search:g?{query:g,type:i}:void 0}),L=(0,v.useMemo)(()=>{if(!I?.[i]&&!f?.length)return;let e=I?.[i]?.map(e=>({...e,serialized:p(e.key),fromSearch:!0}))??[];if(!g)for(let t of f??[]){let r=p(t),i=e.find(e=>e.serialized===r);i?(i.count+=1,i.fromSearch=!1):e.push({key:t,serialized:r,count:1,fromSearch:!1})}let t=e.sort((e,t)=>e.fromSearch!==t.fromSearch?e.fromSearch?1:-1:t.count-e.count),r=C?e.find(e=>e.serialized===C)??(()=>{let e=h(C);if(e)return{key:e,serialized:C,count:0}})():void 0;return r?[r,...t.filter(e=>e.serialized!==r.serialized).slice(0,x-1)]:t.slice(0,x)},[I,i,f,g,C,x,p,h]);L&&I?.[i]&&(N.current=L);let D=!I?.[i]&&N.current?N.current:L;return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("li",{className:"mx-px mb-2",children:(0,t.jsx)(m.SearchInput,{autoFocus:!S,clearable:!1,loading:g.length>0&&M,onChange:e=>y(e.target.value),placeholder:`Search ${d}…`,suffixStyling:!1,value:b})}),D?D.map(e=>(0,t.jsx)(c,{item:e,isSelected:e.serialized===C,onClick:()=>{(0,v.startTransition)(async()=>{await P(e.serialized===C?null:e.serialized)}),k.setOpen(!1)}},e.serialized)):null,D&&0===D.length?(0,t.jsx)(s.EmptyState.Root,{border:!1,description:"No Results"}):null,I?.[i]||N.current?null:(0,t.jsx)("div",{className:"flex w-full items-center justify-center py-4",children:(0,t.jsx)(n.Spinner,{})})]})}},[9895989]],4037749:e=>{"use strict";e.s({ProjectsFiltersMenu:()=>j});var t=e.i(6645307),r=e.i(653558),i=e.i(2733203),s=e.i(1190215),a=e.i(6192985),n=e.i(4105925),l=e.i(1406255),o=e.i(902156),c=e.i(9948746),d=e.i(643238),u=e.i(9498786),m=e.i(6530772),x=e.i(4811398),p=e.i(2693466),h=e.i(9895989),f=e.i(226017);function j(e){let{projectViewMenuItems:n}=e,o=(0,f.useServerFlag)("enable-microfrontends-support",!1),[c,u]=(0,m.useState)(void 0),[x,h]=(0,m.useState)(!1),j=(0,m.useMemo)(()=>"repositories"===c?(0,t.jsx)(p.ProjectsRepositoryFilterMenu,{}):"groups"===c?(0,t.jsx)(p.ProjectsGroupFilterMenu,{}):null,[c]);return(0,t.jsxs)(s.MenuContainer,{closeOnSelect:!1,children:[(0,t.jsx)(i.MenuButton,{svgOnly:!0,type:"secondary",size:"medium","aria-label":"Filter and Sort Projects",shape:"square",onMouseEnter:()=>{h(!0)},children:(0,t.jsx)(d.ListFilter,{})}),(0,t.jsx)(r.Menu,{width:280,children:j||(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(l.MenuSection,{title:"Filter by",children:[(0,t.jsx)(p.ProjectsRepositoryFilterItem,{onClick:()=>u("repositories")}),o?(0,t.jsx)(p.ProjectsGroupFilterItem,{onClick:()=>u("groups")}):null]}),(0,t.jsx)(a.MenuDivider,{}),(0,t.jsx)(y,{}),n]})}),(0,t.jsx)(g,{prefetch:x,onClose:()=>{u(void 0)}})]})}function g(e){let{prefetch:r,onClose:i}=e,{state:s}=(0,o.useMenu)();return(0,m.useEffect)(()=>{s.open||i()},[i,s.open]),s.open||r?(0,t.jsx)(v,{}):null}function v(){return(0,h.useDashboardProjectFilters)(),null}function y(){let[{sort:e},r]=(0,u.useQueryStates)(x.teamOverviewSearchParams),{actions:i}=(0,o.useMenu)();return(0,t.jsxs)(l.MenuSection,{title:"Sort by",children:[(0,t.jsx)(n.MenuItem,{suffix:e?null:(0,t.jsx)(c.Check,{color:"gray-900"}),onClick:()=>{i.setOpen(!1),(0,m.startTransition)(async()=>{await r({sort:null})})},children:"Activity"}),(0,t.jsx)(n.MenuItem,{suffix:"name"===e?(0,t.jsx)(c.Check,{color:"gray-900"}):null,onClick:()=>{i.setOpen(!1),(0,m.startTransition)(async()=>{await r({sort:"name"})})},children:"Name"})]})}},2119833:e=>{"use strict";e.s({updatePreferredScopeAndDashboardView:()=>i});var t=e.i(6031903),r=e.i(9336536);let i=async e=>{let{scopeId:i,viewPreference:s,favoritesViewPreference:a,recentsViewPreference:n}=e;i&&await (0,t.fetchApi)(r.API_USER,{method:"PATCH",body:{scopeId:i,viewPreference:s,favoritesViewPreference:a,recentsViewPreference:n}})}},9371736:e=>{"use strict";e.s({ProjectViewMenuItems:()=>j,ProjectViewSwitch:()=>f},9371736);var t=e.i(6645307),r=e.i(6530772),i=e.i(5535439),s=e.i(2119833);function a(e,t){let a=(0,i.useSearchParams)(),n=a?.get("view")==="list"?"list":t??"grid",[l,o]=(0,r.useState)(a?.get("sort")==="name"?"name":"default"),[c,d]=(0,r.useState)(n);(0,r.useEffect)(()=>{a?.has("sort")?o("name"===a.get("sort")?"name":"default"):o("default"),a?.has("view")&&d("list"===a.get("view")?"list":"grid")},[a]);let u=(0,r.useCallback)(t=>{e&&((0,s.updatePreferredScopeAndDashboardView)({scopeId:e,viewPreference:"list"===t?"list":"cards"}),d("list"===t?"list":"grid"))},[e]);return{sort:l,view:c,setSort:o,setView:d,saveViewPreferences:u}}var n=e.i(6192985),l=e.i(4105925),o=e.i(1406255),c=e.i(4946541),d=e.i(902156),u=e.i(9498786),m=e.i(4811398),x=e.i(9948746),p=e.i(8559273),h=e.i(9590492);function f(e){let{initialValue:r,ownerId:i}=e,[{view:s="grid"},n]=(0,u.useQueryStates)(m.teamOverviewSearchParams),{view:l,saveViewPreferences:o}=a(i,s??r??void 0);return(0,t.jsxs)(c.Switch,{className:"hidden lg:flex",children:[(0,t.jsx)(c.Switch.Control,{checked:"grid"===l,icon:(0,t.jsx)(p.GridSquare,{}),label:"grid",onChange:()=>{o("grid"),n({view:"grid"})}}),(0,t.jsx)(c.Switch.Control,{checked:"list"===l,icon:(0,t.jsx)(h.ListUnordered,{}),label:"list",onChange:()=>{o("list"),n({view:"list"})}})]})}function j(e){let{initialValue:i,ownerId:s}=e,[{view:c="grid"},f]=(0,u.useQueryStates)(m.teamOverviewSearchParams),{view:j,saveViewPreferences:g}=a(s,c??i??void 0),{actions:v}=(0,d.useMenu)();return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.MenuDivider,{className:"lg:hidden"}),(0,t.jsxs)(o.MenuSection,{title:"View",className:"lg:hidden",children:[(0,t.jsx)(l.MenuItem,{prefix:(0,t.jsx)(p.GridSquare,{}),suffix:"grid"===j?(0,t.jsx)(x.Check,{color:"gray-900"}):null,onClick:()=>{g("grid"),v.setOpen(!1),(0,r.startTransition)(async()=>{await f({view:"grid"})})},children:"Grid View"}),(0,t.jsx)(l.MenuItem,{prefix:(0,t.jsx)(h.ListUnordered,{}),suffix:"list"===j?(0,t.jsx)(x.Check,{color:"gray-900"}):null,onClick:()=>{g("list"),v.setOpen(!1),(0,r.startTransition)(async()=>{await f({view:"list"})})},children:"List View"})]})]})}},5930858:e=>{"use strict";e.s({ClientCreateMenuItem:()=>a});var t=e.i(6645307),r=e.i(8069802),i=e.i(854226),s=e.i(2781454);function a(e){let{href:a,trackingTarget:n,label:l,testid:o,onClick:c}=e,{track:d}=(0,i.useTrackActivity)();return(0,t.jsx)(r.MenuLink,{"data-testid":o,href:a,onClick:()=>{d(s.VercelActivityAction.AddNewMenuItemClicked,{target:n}),c?.()},shouldOnClickWhenLink:!0,children:l})}},6002266:e=>{"use strict";e.s({CreateTeamMenuItemClient:()=>a});var t=e.i(6645307),r=e.i(1164214);e.i(7901367);var i=e.i(540570),s=e.i(5930858);function a(){let e=(0,i.useOpenUpgradeModal)();return(0,t.jsx)(s.ClientCreateMenuItem,{label:"Team",onClick:()=>{e({source:"add-new",mode:"create",trialBehavior:"choose"})},testid:(0,r.tid)("dashboard","team","add"),trackingTarget:"team"})}},7692017:e=>{"use strict";e.s({ProjectFiltersPills:()=>x});var t=e.i(6645307),r=e.i(6530772),i=e.i(4811398),s=e.i(9498786),a=e.i(5674541),n=e.i(653558),l=e.i(2733203),o=e.i(1190215),c=e.i(318846),d=e.i(8173982),u=e.i(5036602),m=e.i(2693466);function x(){let[{repo:e,mfe:a},n]=(0,s.useQueryStates)(i.teamOverviewSearchParams);if(!e&&!a)return null;let l=e?i.repositoryFilter.deserialize(e):void 0,o=a?i.mfeFilter.deserialize(a):void 0;return(0,t.jsxs)("div",{className:"flex flex-row items-center gap-2",children:[l?(0,t.jsx)(p,{label:`${l.gitOwner}/${l.gitRepo}`,prefix:(0,t.jsx)(u.default,{gitType:l.gitType,width:16,height:16}),onDismiss:()=>{(0,r.startTransition)(async()=>{await n({repo:null})})},MenuContent:m.ProjectsRepositoryFilterMenu}):null,o?(0,t.jsx)(p,{label:o.name,prefix:(0,t.jsx)(d.Microfrontends,{}),onDismiss:()=>{(0,r.startTransition)(async()=>{await n({mfe:null})})},MenuContent:m.ProjectsGroupFilterMenu}):null]})}function p(e){let{label:r,prefix:i,onDismiss:s,MenuContent:d}=e;return(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsxs)(o.MenuContainer,{children:[(0,t.jsx)(l.MenuButton,{className:"!pl-2 !pr-1",prefix:i,type:"secondary",size:"small",shape:"rounded",suffix:(0,t.jsx)("div",{className:"size-6"}),children:r}),(0,t.jsx)(n.Menu,{width:280,children:(0,t.jsx)(d,{})})]}),(0,t.jsx)(a.Button,{svgOnly:!0,"aria-label":"Remove Filter",className:"absolute right-1 top-1",onClick:s,type:"tertiary",shape:"circle",size:"tiny",children:(0,t.jsx)(c.CrossSmall,{color:"gray-1000"})})]})}},8181683:e=>{"use strict";e.s({linkClassName:()=>t});let t="min-w-0 text-inherit no-underline hover:underline [&>svg]:align-middle [&:not(:hover)>svg]:hidden [&>svg]:ml-1"},5960869:e=>{"use strict";e.s({ProjectAlert:()=>I,ProjectSpeedInsightsSkeleton:()=>R,SpeedInsightsProvider:()=>P},5960869);var t=e.i(6645307),r=e.i(8084653),i=e.i(889716),s=e.i(555528),a=e.i(5610210),n=e.i(5535439),l=e.i(2774739),o=e.i(3184563),c=e.i(5300522),d=e.i(5690638),u=e.i(2240289);function m(e){let{label:m,withAuthor:x,projectSlug:p,children:h}=e,f=(0,n.useParams)(),{data:j}=(0,u.useProject)(p||f?.project,c.INSTANT_ROLLBACK_PROJECT_API_PARAMS),{rollbackDescription:g}=(0,o.useProjectProductionDeployment)(j?.id),v=(0,l.useAgo)(j?.lastAliasRequest?.requestedAt,{long:!0,justNowLabel:"just now"});if(j?.lastAliasRequest===void 0)return null;let y=(0,t.jsxs)(t.Fragment,{children:[g?.username?`@${g.username}`:""," "]});return(0,t.jsx)(s.Tooltip,{center:!1,disableTriggers:g?.username===void 0,position:"bottom",text:(0,t.jsxs)(i.Stack,{gap:1,children:[g?.description!==void 0&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(r.Text,{className:"whitespace-nowrap",weight:500,children:x?(0,t.jsxs)(t.Fragment,{children:[y," rolled back:"]}):"Reason for rollback:"}),(0,t.jsxs)("blockquote",{className:"m-0 text-sm",children:["“",(0,t.jsx)(c.LinkParser,{text:g.description}),"”"]})]}),(0,t.jsx)(r.Text,{color:"gray-900",children:(0,t.jsx)(d.DeploymentAliasToolTipText,{datetime:j.lastAliasRequest.requestedAt,eventName:"rollback"})})]}),children:h||(0,t.jsx)("div",{className:(0,a.clsx)("inline border-x-0 border-b border-t-0",g?.username!==void 0&&"border-dashed border-current"),children:m||(0,t.jsxs)(t.Fragment,{children:[y,v]})})})}e.i(6791234);var x=e.i(4722050),p=e.i(2019810),h=e.i(6764766),f=e.i(6700141),j=e.i(8034252),g=e.i(9385465),v=e.i(3277953),y=e.i(6530772),w=e.i(9802771),b=e.i(7573892),S=e.i(5168763),k=e.i(4418725),N=e.i(1475325);let C=(0,y.createContext)(Promise.resolve([]));function P(e){let{children:r,scores:i}=e;return(0,t.jsx)(C.Provider,{value:i,children:r})}function I(e){var i;let{project:a}=e,{value:n}=(0,f.useEnableNewInstantRollbackFlow)(),{productionDeployment:l,link:o}=a,c=(i=o?.productionBranch)?(0,t.jsxs)(t.Fragment,{children:["This rollback will be replaced by the next merge to"," ",(0,t.jsx)(r.Text,{as:"span",color:"inherit",monospace:!0,children:i}),"."]}):"This rollback will be replaced by the next production deployment.";return l?.deploymentIsStale?n?(0,t.jsx)("div",{className:"z-[2]",children:(0,t.jsx)(m,{projectSlug:a.id,withAuthor:!0,children:(0,t.jsx)("div",{className:"flex size-8 items-center justify-center rounded-full bg-amber-200",children:(0,t.jsx)(g.RotateCounterClockwise,{color:"amber-900"})})})}):(0,t.jsx)(s.Tooltip,{className:"z-[2]",text:c,children:(0,t.jsx)("div",{className:"flex size-8 items-center justify-center rounded-full bg-amber-200",children:(0,t.jsx)(v.Warning,{color:"amber-900"})})}):(0,t.jsx)(y.Suspense,{fallback:(0,t.jsx)(R,{}),children:(0,t.jsx)(M,{project:a})})}function M(e){let{project:r}=e,i=(0,k.useTeamSlug)(),{name:s,speedInsights:a}=r,n=function(e){let t=(0,y.useContext)(C);return(0,y.use)(t).find(t=>t.projectId===e)}(r.id),l=new URL(`/${s}/speed-insights`,"https://vercel.com"),o=(0,S.getDashboardHref)(`${l.pathname}${l.search}`,i);return a&&(0,h.isSpeedInsightsEnabled)(r)?n?(0,t.jsx)(D,{score:n.value,url:o}):(0,t.jsx)(T,{url:o}):(0,t.jsx)(L,{url:o})}function L(e){let{url:r}=e;return(0,t.jsx)(x.Link,{href:r,onClick:()=>{b.analytics.track(w.AnalyticsEvent.SPEED_INSIGHTS_PROJECT_CARD_UPSELL_CLICKED)},className:"inline-flex",prefetch:!1,children:(0,t.jsx)(s.Tooltip,{delay:!1,text:"Get detailed performance metrics with Speed Insights.",children:(0,t.jsx)(p.default,{size:"small",children:(0,t.jsx)(j.ChartActivity,{color:"gray-900"})})})})}function D(e){let{url:r,score:i}=e;return(0,t.jsx)(x.Link,{href:r,className:"inline-flex",prefetch:!1,children:(0,t.jsx)(p.default,{size:"small",value:i,children:i.toString()})})}function T(e){let{url:r}=e;return(0,t.jsx)(x.Link,{href:r,className:"inline-flex",prefetch:!1,children:(0,t.jsx)(s.Tooltip,{delay:!1,text:"This project has not collected data during the past 7 days.",children:(0,t.jsx)(p.default,{size:"small",children:(0,t.jsx)(N.NoData,{})})})})}function R(){return(0,t.jsx)(p.default,{size:"small"})}C.displayName="SpeedInsightsContext"},8000455:e=>{var{m:t,e:r}=e,i=Math.floor,s=Math.random;t.exports=function(e,t){return e+i(s()*(t-e+1))}},574255:e=>{var{m:t,e:r}=e,i=e.r(8000455);t.exports=function(e,t){var r=-1,s=e.length,a=s-1;for(t=void 0===t?s:t;++r<t;){var n=i(r,a),l=e[n];e[n]=e[r],e[r]=l}return e.length=t,e}},7771826:e=>{var{m:t,e:r}=e,i=e.r(3455266),s=e.r(574255);t.exports=function(e){return s(i(e))}},1430227:e=>{var{m:t,e:r}=e,i=e.r(1245576);t.exports=function(e,t){return i(t,function(t){return e[t]})}},1172667:e=>{var{m:t,e:r}=e,i=e.r(1430227),s=e.r(8575969);t.exports=function(e){return null==e?[]:i(e,s(e))}},5608716:e=>{var{m:t,e:r}=e,i=e.r(574255),s=e.r(1172667);t.exports=function(e){return i(s(e))}},2543222:e=>{var{m:t,e:r}=e,i=e.r(7771826),s=e.r(5608716),a=e.r(1621730);t.exports=function(e){return(a(e)?i:s)(e)}},9202021:[e=>{"use strict";e.s({ContextMenuContextProvider:()=>$,ProjectContextMenu:()=>F},9202021);var t=e.i(6645307),r=e.i(4105925),i=e.i(2964099),s=e.i(3929647);function a(e){let{project:a}=e,{productionDeployment:n,domain:l}=a,o=function(e){if(!(!e||e.includes("*")))try{return new URL(`https://${e}`).href}catch{return}}(l),c=(0,s.useShouldVisitWithTheToolbar)(n);return o&&c?(0,t.jsx)(r.MenuItem,{className:"no-underline",href:(0,i.wrapURLWithFeedback)(o,{via:"team-dashboard-project-menu",isProduction:!0}),isLink:!0,children:"Visit with Toolbar"}):null}var n=e.i(555528),l=e.i(6530772),o=e.i(3585235),c=e.i(5785123),d=e.i(1795525),u=e.i(5165976);function m(e){let{project:i}=e,s=(0,d.useOpenTransferModal)(),{preload:a,enablePreload:m}=(0,d.usePreloadTransferModal)(),{can:x}=(0,o.default)({projectIdOrName:i.name}),p=x(c.Action.Create,c.Resource.ProjectTransferOut);return(0,l.useEffect)(()=>{p&&!a&&m()},[p,a,m]),(0,t.jsx)(r.MenuItem,{innerMenuItemClassName:"no-underline !event-pointers-auto",onClick:()=>s({preselectedProjects:[i],source:"dashboard-transfer-menu-item"}),suffix:p?void 0:(0,t.jsx)(u.LockClosed,{}),disabled:!p,style:{textDecoration:"none"},children:p?"Transfer Project":(0,t.jsx)(n.Tooltip,{style:{textDecoration:"none"},text:"You need additional permissions to transfer this project.",children:"Transfer Project"})})}var x=e.i(2198335),p=e.i(2413800),h=e.i(7688839),f=e.i(2543222);function j(e){let{isFavorite:r}=e,i=(0,f.default)(v),s=(0,f.default)(g);return(0,t.jsxs)(x.motion.div,{className:"group -mx-2 flex h-full w-[calc(100%+16px)] items-center justify-between px-2",children:[r?"Remove":"Add"," Favorite",(0,t.jsx)("span",{"aria-hidden":!0,style:{height:16},children:r?(0,t.jsx)(h.StarFill,{color:"gray-900"}):(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(p.Star,{color:"gray-900"}),(0,t.jsx)("div",{className:"absolute -left-1 -top-1 block size-6",children:y.map((e,r)=>(0,t.jsx)("div",{className:"absolute size-1.5 text-[--color]",style:{"--starting-position-x":`${e.start.position.x}px`,"--starting-position-y":`${e.start.position.y}px`,"--starting-scale":e.start.scale,"--ending-position-x":`${e.end.position.x}px`,"--ending-position-y":`${e.end.position.y}px`,"--ending-scale":e.end.scale,"--color":e.color,"--delay":`${s[r]}ms`,"--duration":`${i[r]}ms`},children:(0,t.jsx)(w,{className:"block translate-x-[--starting-position-x] translate-y-[--starting-position-y] scale-[--starting-scale] transition-transform ease-out group-hover:translate-x-[--ending-position-x] group-hover:translate-y-[--ending-position-y] group-hover:scale-[--ending-scale] group-hover:delay-0 group-hover:duration-100"})},r))})]})})]})}let g=[0,50,80,100,120],v=[150,180,200,260,340],y=[{delay:0,color:"var(--ds-purple-700)",start:{position:{x:6,y:6},scale:0},end:{position:{x:1,y:1},scale:1}},{delay:100,color:"var(--ds-amber-700)",start:{position:{x:13,y:6},scale:0},end:{position:{x:16,y:0},scale:.7}},{delay:100,color:"var(--ds-pink-700)",start:{position:{x:2,y:13},scale:0},end:{position:{x:0,y:13},scale:.5}},{delay:50,color:"var(--ds-teal-700)",start:{position:{x:9,y:15},scale:0},end:{position:{x:9,y:18},scale:.7}},{delay:200,color:"var(--ds-blue-700)",start:{position:{x:15,y:12},scale:0},end:{position:{x:18,y:13},scale:.5}}];function w(e){let{className:r}=e;return(0,t.jsx)("svg",{className:r,fill:"none",height:"6",viewBox:"0 0 6 6",width:"6",xmlns:"http://www.w3.org/2000/svg",style:{transitionDuration:"var(--duration)",transitionDelay:"var(--delay)"},children:(0,t.jsx)("path",{d:"M2.5 0.5V0H3.5V0.5C3.5 1.60457 4.39543 2.5 5.5 2.5H6V3V3.5H5.5C4.39543 3.5 3.5 4.39543 3.5 5.5V6H3H2.5V5.5C2.5 4.39543 1.60457 3.5 0.5 3.5H0V3V2.5H0.5C1.60457 2.5 2.5 1.60457 2.5 0.5Z",fill:"currentColor"})})}var b=e.i(8298192),S=e.i(4418725),k=e.i(653558),N=e.i(2733203),C=e.i(1190215),P=e.i(6192985),I=e.i(1406255),M=e.i(5124754),L=e.i(7378033);e.s({ProjectsMutateContextProvider:()=>T,useProjectsMutateContext:()=>R},8856677);let D=(0,l.createContext)(()=>Promise.resolve());function T(e){let{children:r,mutate:i}=e;return(0,t.jsx)(D.Provider,{value:i,children:r})}function R(){return(0,l.useContext)(D)}D.displayName="ProjectsMutateContext";var A=e.i(9542446);function F(e){let{project:i}=e,s=(0,A.useLink)(),{name:n,productionDeployment:o}=i;return(0,t.jsxs)(C.MenuContainer,{children:[(0,t.jsx)(N.MenuButton,{type:"tertiary",svgOnly:!0,"aria-label":"Project Menu",size:"small",shape:"square",children:(0,t.jsx)(M.MoreHorizontal,{})}),(0,t.jsxs)(k.Menu,{width:200,children:[(0,t.jsx)(z,{project:i}),(0,t.jsx)(a,{project:i}),(0,t.jsx)(r.MenuItem,{className:"no-underline",disabled:!o,href:s("/[teamSlug]/[project]/logs",{params:{project:n}}),prefetch:!1,isLink:!0,children:"View Logs"}),(0,t.jsx)(r.MenuItem,{className:"no-underline",href:s("/[teamSlug]/[project]/settings/domains",{params:{project:n}}),isLink:!0,children:"Manage Domains"}),(0,t.jsx)(m,{project:i}),(0,t.jsx)(r.MenuItem,{className:"no-underline",href:s("/[teamSlug]/[project]/settings",{params:{project:n}}),isLink:!0,children:"Settings"}),i.link?(0,t.jsx)(L.ErrorBoundary,{fallback:null,children:(0,t.jsx)(l.Suspense,{fallback:null,children:(0,t.jsx)(O,{project:i})})}):null]})]})}function z(e){let{project:i}=e,{isFavorite:s,removeFavorite:a,addFavorite:n}=function(e){let{addFavorite:t,removeFavorite:r,favorites:i}=(0,l.useContext)(E);return{addFavorite:()=>t(e),removeFavorite:()=>r(e),isFavorite:i.includes(e)}}(i.id),o=R();return(0,t.jsx)(r.MenuItem,{onClick:()=>{s?a():n(),setTimeout(()=>{o()})},children:(0,t.jsx)(j,{isFavorite:s},i.id)})}function O(e){let{project:i}=e,{spacesAndRepos:s}=(0,l.useContext)(E),a=(0,S.useTeamSlug)(),{can:d}=(0,o.default)({projectIdOrName:i.name}),m=(0,A.useLink)(),{repos:x,spaces:p}=(0,l.use)(s),h=p.find(e=>e.git.type===i.link?.type&&"org"in i.link&&e.git.org===i.link.org&&e.git.repo===i.link.repo),f=x.find(e=>e.git.type===i.link?.type&&"org"in i.link&&e.git.org===i.link.org&&e.git.repo===i.link.repo),j=h??f;if(!j||!a)return null;let g=d(c.Action.Create,c.Resource.Project),v=m("/new/[teamSlug]/import",{search:{s:j.git.url,"project-name":`${j.git.org}-${j.git.repo}`}}),y=(0,t.jsx)(r.MenuItem,{innerMenuItemClassName:"!pointer-events-auto no-underline",href:v,disabled:!g,isLink:g,suffix:g?null:(0,t.jsx)(u.LockClosed,{}),children:g?"Import Directory":(0,t.jsx)(n.Tooltip,{className:"no-underline",text:"You need additional permissions to create projects.",children:"Import Directory"})});return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(P.MenuDivider,{}),(0,t.jsxs)(I.MenuSection,{title:"Repository",children:[(0,t.jsxs)(r.MenuItem,{isLink:!0,href:m("/[teamSlug]/~/repos/[spaceIdOrSlug]",{params:{spaceIdOrSlug:j.slug}}),prefetch:!1,children:["View ",f?"Repository":"Space"]}),y,h?(0,t.jsx)(r.MenuItem,{href:m("/[teamSlug]/~/repos/[spaceIdOrSlug]/conformance",{params:{spaceIdOrSlug:h.slug}}),isLink:!0,prefetch:!1,children:"View Conformance"}):null,(0,t.jsx)(r.MenuItem,{isLink:!0,href:m("/[teamSlug]/~/repos/[spaceIdOrSlug]/settings",{params:{spaceIdOrSlug:j.slug}}),prefetch:!1,children:"Repository Settings"}),(0,t.jsx)(r.MenuItem,{isLink:!0,href:j.git.url,children:"View Git Repository"})]})]})}let E=(0,l.createContext)({addFavorite:()=>{},removeFavorite:()=>{},favorites:[],spacesAndRepos:Promise.resolve({repos:[],spaces:[]})});function $(e){let{children:r,teamId:i,spacesAndRepos:s}=e,{addFavorite:a,removeFavorite:n,favorites:o}=(0,b.useFavoriteProjectsAndSpaces)(),c=(0,l.useMemo)(()=>({addFavorite:e=>a({projectId:e,teamId:i}),removeFavorite:e=>n({projectId:e,teamId:i}),favorites:o.filter(e=>e.teamId===i).map(e=>e.projectId),spacesAndRepos:s}),[a,o,n,i,s]);return(0,t.jsx)(E.Provider,{value:c,children:r})}E.displayName="ContextMenuContext"},[8856677]],7873278:e=>{"use strict";e.s({ProjectsHeading:()=>a});var t=e.i(6645307),r=e.i(4237550),i=e.i(5674541),s=e.i(9443759);function a(e){let{title:a,onClick:n,expanded:l,className:o}=e,c=(0,t.jsx)("span",{className:"text-label-14 font-medium text-gray-1000",children:a});return n?(0,t.jsx)(i.Button,{type:"tertiary","data-section-heading":!0,size:"small",className:(0,s.cn)("h-8 [&>span]:px-0",o),onClick:n,width:"fit-content",prefix:(0,t.jsx)(r.ChevronDown,{className:(0,s.cn)("transition-transform duration-200 ease-in-out",{"-rotate-90":!l})}),children:c}):(0,t.jsx)("div",{"data-section-heading":!0,className:(0,s.cn)("flex h-8 flex-row items-center gap-0.5 px-1.5",o),children:c})}},8469478:e=>{"use strict";e.s({useTeamOverviewDebouncedSearch:()=>s});var t=e.i(9498786),r=e.i(4811398),i=e.i(2198583);function s(){let[{q:e}]=(0,t.useQueryStates)(r.teamOverviewSearchParams);return(0,i.useDebouncedValueWithTransition)(e,200)}},1165261:e=>{"use strict";e.s({ProjectsSkeleton:()=>c,ProjectsSkeletonWithQuery:()=>u,SkeletonFade:()=>d});var t=e.i(6645307),r=e.i(5163670),i=e.i(6530772),s=e.i(5960869),a=e.i(9443759),n=e.i(8469478),l=e.i(9498786),o=e.i(4811398);function c(e){let{view:i,hasFilters:a,hasSearch:n}=e;return(0,t.jsxs)("div",{className:"h-content relative flex flex-col gap-4 smd:gap-3",children:[a||n?null:(0,t.jsx)(r.Skeleton,{height:16,boxHeight:32,vcenter:!0,width:64,className:"rounded-sm"}),i?(0,t.jsx)("div",{className:"grid"===i?"grid grid-cols-[repeat(auto-fill,minmax(330px,1fr))] gap-6":"material-small flex flex-col divide-solid divide-x-0 divide-y divide-gray-alpha-400",children:Array.from({length:3}).map((e,a)=>"grid"===i?(0,t.jsxs)("div",{className:"material-small flex flex-col gap-3 p-4",children:[(0,t.jsxs)("div",{className:"flex flex-row items-center gap-3",children:[(0,t.jsx)(r.Skeleton,{rounded:!0,width:32,height:32}),(0,t.jsxs)("div",{className:"flex min-w-0 flex-1 flex-col justify-between gap-0.5",children:[(0,t.jsx)(r.Skeleton,{width:96,height:16,boxHeight:20,vcenter:!0}),(0,t.jsx)(r.Skeleton,{width:128,height:16,boxHeight:20,vcenter:!0})]}),(0,t.jsx)(s.ProjectSpeedInsightsSkeleton,{}),(0,t.jsx)(r.Skeleton,{width:16,height:16,className:"m-2"})]}),(0,t.jsx)("div",{className:"flex h-5 w-fit items-center"}),(0,t.jsxs)("div",{className:"flex min-w-0 flex-col justify-between gap-0.5",children:[(0,t.jsx)(r.Skeleton,{width:140,height:16,boxHeight:20,vcenter:!0}),(0,t.jsx)(r.Skeleton,{width:192,height:16,boxHeight:20,vcenter:!0})]})]},a):(0,t.jsxs)("div",{className:"flex flex-row items-center gap-4 p-4",children:[(0,t.jsx)("div",{className:"flex flex-none items-center",children:(0,t.jsx)(r.Skeleton,{rounded:!0,width:32,height:32})}),(0,t.jsxs)("div",{className:"flex min-w-0 flex-1 flex-col justify-between gap-0.5 md:w-1/5 md:flex-none xl:w-1/4",children:[(0,t.jsx)(r.Skeleton,{width:96,height:16,boxHeight:20,vcenter:!0}),(0,t.jsx)(r.Skeleton,{width:128,height:16,boxHeight:20,vcenter:!0})]}),(0,t.jsxs)("div",{className:"hidden min-w-0 flex-1 flex-col justify-between gap-0.5 md:flex",children:[(0,t.jsx)(r.Skeleton,{width:140,height:16,boxHeight:20,vcenter:!0}),(0,t.jsx)(r.Skeleton,{width:192,height:16,boxHeight:20,vcenter:!0})]}),(0,t.jsx)(s.ProjectSpeedInsightsSkeleton,{}),(0,t.jsx)(r.Skeleton,{width:16,height:16,className:"m-2"})]},a))}):null,(0,t.jsx)(d,{})]})}function d(e){let{className:r}=e;return(0,t.jsx)("div",{className:(0,a.cn)("z-1 absolute top-0 -left-1 h-[calc(100%+8px)] w-[calc(100%+8px)] bg-gradient-to-b from-[hsla(var(--ds-background-200-value),0)_0px] to-[hsla(var(--ds-background-200-value),1)_220px]",r)})}function u(e){let{view:r,filtered:s}=e;return(0,t.jsx)(i.Suspense,{fallback:(0,t.jsx)(c,{view:r,hasFilters:s}),children:(0,t.jsx)(m,{view:r})})}function m(e){let{view:r}=e,i=(0,n.useTeamOverviewDebouncedSearch)(),[{repo:s,mfe:a}]=(0,l.useQueryStates)(o.teamOverviewSearchParams);return(0,t.jsx)(c,{view:r,hasFilters:!!(s||a),hasSearch:!!i})}},1181441:e=>{"use strict";e.s({ProjectsContent:()=>X},1181441);var t=e.i(6645307),r=e.i(4418725),i=e.i(6530772),s=e.i(7095283),a=e.i(6703622),n=e.i(474020),l=e.i(1497618),o=e.i(7631057),c=e.i(2505357),d=e.i(6649026),u=e.i(9498786),m=e.i(4811398),x=e.i(8181683),p=e.i(9443759),h=e.i(383713),f=e.i(9542446);function j(e){let{project:r}=e;return(0,t.jsx)(i.Suspense,{fallback:(0,t.jsx)(h.ProjectAvatarSkeleton,{}),children:(0,t.jsx)(f.DashboardLink,{route:"/[teamSlug]/[project]",params:{project:r.name},prefetch:!1,className:"h-8",children:(0,t.jsx)(h.ProjectAvatar,{project:r,skipSkeleton:!0})})})}var g=e.i(1164214);e.i(6791234);var v=e.i(4722050),y=e.i(1318155);function w(e){let{project:r}=e,{domain:i}=r;return i?i.includes("*")?(0,t.jsx)("span",{className:"text-label-14 h-5 max-w-full truncate leading-5 text-gray-900",children:i}):(0,t.jsxs)(v.Link,{className:(0,p.cn)(x.linkClassName,"text-label-14 text-gray-900 h-5 truncate w-fit leading-5 max-w-full"),target:"_blank",prefetch:!1,href:`https://${i}`,children:[i,(0,t.jsx)(y.External,{size:14})]}):(0,t.jsx)("span",{className:"h-5 max-w-full truncate leading-5 text-gray-900",children:"No Production Deployment"})}var b=e.i(5168763),S=e.i(5036602),k=e.i(5196742),N=e.i(2774739),C=e.i(1461594),P=e.i(9324662),I=e.i(1793336),M=e.i(5535439),L=e.i(2293621),D=e.i(2356020),T=e.i(5335653);function R(e){let{project:i}=e,s=(0,r.useTeamSlug)(),{name:a,link:n,productionDeployment:l}=i;if(!n){let e=(0,b.getDashboardHref)(`/${a}/settings/git`,s??void 0);return(0,t.jsx)(v.Link,{className:(0,p.cn)(x.linkClassName,"text-label-14 text-blue-900 h-5"),href:e,prefetch:!1,children:"Connect Git Repository"})}let o=(0,k.getGitInfoFromDeployment)(l);if(!o)return(0,t.jsx)("span",{className:"text-label-14 h-5 text-gray-700",children:"No Production Deployment"});let{id:c=""}=l??{},d=(0,b.getDashboardHref)(`/${a}/${c.replace("dpl_","")}`,s??void 0),[u]=o.commitMessage.split("\n");return(0,t.jsx)(v.Link,{className:(0,p.cn)(x.linkClassName,"text-label-14 text-gray-1000 font-medium truncate h-5"),href:d,prefetch:!1,children:u})}function A(e){let{project:i}=e,s=(0,r.useTeamSlug)(),{name:a,link:n,productionDeployment:l,updatedAt:o}=i,c=!!n,d=(0,k.getGitInfoFromDeployment)(l),u=new URL(`/${a}/deployments`,"https://vercel.com");c&&d&&u.searchParams.set("filterBranch",d.commitRef);let m=(0,b.getDashboardHref)(`${u.pathname}${u.search}`,s??void 0),h=(0,N.useAgo)(l?.createdAt??o),f=n?.productionBranch===d?.commitRef?" on":" from";return(0,t.jsxs)("div",{className:"flex h-5 flex-row items-center gap-1",children:[(0,t.jsxs)("span",{className:"text-label-14 flex-none text-gray-900",suppressHydrationWarning:!0,children:[(0,t.jsx)(L.RelativeTimeCard,{date:l?.createdAt??o,className:"relative z-10",side:"bottom",children:(0,t.jsx)("span",{suppressHydrationWarning:!0,children:h})}),c&&d?f:null]}),c&&d?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(C.GitMerge,{color:"gray-900",className:"flex-none"}),(0,t.jsx)(v.Link,{className:(0,p.cn)(x.linkClassName,"text-label-13-mono text-gray-900 truncate"),href:m,prefetch:!1,children:d.commitRef})]}):null,l?.deploymentIsStale?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("span",{className:"text-label-14 flex-none text-gray-900",children:"via"}),(0,t.jsx)(P.RotateClockwise,{size:14,color:"gray-1000",className:"flex-none"}),(0,t.jsx)("span",{className:"text-label-14 flex-none text-gray-1000",children:"Instant Rollback"})]}):null]})}let F=(0,I.createSerializer)(m.teamOverviewSearchParams);function z(e){let{project:r,className:s}=e,a=(0,M.usePathname)(),[n,l]=(0,u.useQueryStates)(m.teamOverviewSearchParams),{link:o}=r,c=(0,i.useMemo)(()=>{if(!o)return;let e=(0,D.getProjectLinkParts)(o);return{repoPath:(0,D.formatProjectLink)(o),href:m.repositoryFilter.serialize({gitType:o.type,gitOwner:e.org,gitRepo:e.repo})}},[o]),d=(0,i.useMemo)(()=>{if(!c)return"";let e=F({...n,repo:c.href});return`${a}${e}`},[c,n,a]);return o?(0,t.jsxs)(v.Link,{className:(0,p.cn)("flex min-w-0 flex-none flex-row items-center gap-0.5 rounded-full bg-gray-300 p-0.5 pr-1.5 w-fit",s),href:d,prefetch:!1,onClick:e=>{e.metaKey||e.shiftKey||e.ctrlKey||(e.preventDefault(),(0,i.startTransition)(async()=>{await l({repo:c?.href},{history:"push"})}))},...(0,T.createTrackingAttributes)({type:"filter",resource:"repo",source:"repo-pill"}),children:[(0,t.jsx)(S.default,{gitType:o.type,width:14,height:14,className:"m-0.5 shrink-0"}),(0,t.jsx)("span",{className:"text-label-12 truncate font-medium",children:c?.repoPath})]}):null}var O=e.i(5960869),E=e.i(9202021);function $(e){let{projects:r}=e;return(0,t.jsx)("ul",{className:"material-small m-0 flex flex-col divide-solid p-0 divide-x-0 divide-y divide-gray-alpha-400",children:r.map(e=>(0,t.jsx)(V,{project:e},e.id))})}function V(e){let{project:r}=e;return(0,t.jsxs)("li",{className:"relative flex flex-col gap-4 p-4 leading-5 xl:flex-row xl:items-center [&_a]:z-10 [&_button]:z-10",children:[(0,t.jsx)(f.DashboardLink,{className:"absolute inset-0",prefetchStrategy:"hover",route:"/[teamSlug]/[project]",params:{project:r.name}}),(0,t.jsxs)("div",{className:"mr-24 flex min-w-0 flex-row gap-4 xl:mr-0 xl:w-[calc(25%+48px)]",children:[(0,t.jsx)("div",{className:"flex flex-none items-center",children:(0,t.jsx)(j,{project:r})}),(0,t.jsxs)("div",{className:"flex min-w-0 flex-1 flex-col justify-between gap-0.5",children:[(0,t.jsx)(f.DashboardLink,{prefetchStrategy:"hover",route:"/[teamSlug]/[project]",params:{project:r.name},className:(0,p.cn)(x.linkClassName,"text-label-14 font-medium text-gray-1000 h-5 truncate w-fit max-w-full"),"data-testid":(0,g.tid)("projects","link"),children:r.name}),(0,t.jsx)(w,{project:r})]})]}),(0,t.jsxs)("div",{className:"order-2 flex min-w-0 flex-1 flex-col justify-between gap-0.5 xl:order-1",children:[(0,t.jsx)(R,{project:r}),(0,t.jsx)(A,{project:r})]}),(0,t.jsx)(z,{project:r,className:"order-1 xl:max-w-40"}),(0,t.jsxs)("div",{className:"items-ceenter absolute right-4 top-[21px] order-1 flex shrink-0 flex-row gap-4 xl:static",children:[(0,t.jsx)(O.ProjectAlert,{project:r}),(0,t.jsx)(E.ProjectContextMenu,{project:r})]})]})}function H(e){let{projects:r}=e;return(0,t.jsx)("ul",{className:"m-0 grid grid-cols-[repeat(auto-fill,minmax(330px,1fr))] gap-6 p-0",children:r.map(e=>(0,t.jsx)(U,{project:e},e.id))})}function U(e){let{project:r}=e;return(0,t.jsxs)("li",{className:"material-small relative flex flex-col gap-3 p-4 leading-5 hover:border-gray-500 [&_a]:z-10 [&_button]:z-10",children:[(0,t.jsx)(f.DashboardLink,{className:"absolute inset-0",prefetchStrategy:"hover",route:"/[teamSlug]/[project]",params:{project:r.name}}),(0,t.jsxs)("div",{className:"flex flex-row items-center gap-4",children:[(0,t.jsx)(j,{project:r}),(0,t.jsxs)("div",{className:"flex min-w-0 flex-1 flex-col justify-between gap-0.5",children:[(0,t.jsx)(f.DashboardLink,{prefetchStrategy:"hover",route:"/[teamSlug]/[project]",params:{project:r.name},className:(0,p.cn)(x.linkClassName,"text-label-14 font-medium text-gray-1000 h-5 truncate w-fit max-w-full"),"data-testid":(0,g.tid)("projects","link"),children:r.name}),(0,t.jsx)(w,{project:r})]}),(0,t.jsx)(O.ProjectAlert,{project:r}),(0,t.jsx)(E.ProjectContextMenu,{project:r})]}),(0,t.jsx)("div",{className:"flex h-5 w-fit items-center",children:(0,t.jsx)(z,{project:r,className:"max-w-48"})}),(0,t.jsxs)("div",{className:"flex min-w-0 flex-col justify-between gap-0.5",children:[(0,t.jsx)(R,{project:r}),(0,t.jsx)(A,{project:r})]})]})}var B=e.i(7873278),_=e.i(5402946),G=e.i(3129904),q=e.i(2119833),W=e.i(1165261),K=e.i(8856677),Q=e.i(8469478),Y=e.i(5674541),Z=e.i(9411382);let J=(0,e.i(4198558).default)(()=>e.r(8004634)(e.i).then(e=>e.EmptyProjects),{loadableGenerated:{modules:[5319297]}});function X(e){let{userPreferences:x,ownerId:p}=e;(0,_.useTeamOverviewStoreSync)();let[{sort:h,repo:f,mfe:j,view:g}]=(0,u.useQueryStates)(m.teamOverviewSearchParams),v=(0,_.useTeamOverviewState)(e=>e.setIsSearchingProjects),y=(0,_.useTeamOverviewState)(e=>e.setProjectRepos),w=(0,Q.useTeamOverviewDebouncedSearch)(),b=g||(x?.view==="cards"?"grid":x?.view)||"grid";!function(e){let{view:t}=e,s=(0,r.useTeamSlug)();(0,i.useEffect)(()=>{s&&(document.cookie=`_vc_view=${t}; path=/${s}; max-age=31536000; SameSite=Lax; Secure`)},[s,t])}({view:b});let S=!!(w||f||j),k=S?"slim":"full",N=function(e){let{options:t,laggyKey:u,...m}=e;return function(e,t){let{laggyKey:r}=t,{data:s,size:a,setSize:n,isValidating:l,mutate:o}=e,c=(0,i.useRef)(void 0),d=(0,i.useRef)([]),u=(0,i.useMemo)(()=>s?.flatMap(e=>e.projects)??[],[s]),m=s?.[0],x=s?.[s.length-1],p=(0,i.useMemo)(()=>m?.favorites,[m]),h=(0,i.useCallback)(async()=>{await n(e=>e+1)},[n]),f=(0,i.useCallback)(async()=>{await o()},[o]);return s&&(c.current={key:r,projects:u}),p?.length&&(d.current=p),{projects:s?u:c.current?.projects??[],initialDataLoaded:!!c.current,favorites:p??d.current,hasMore:!!x?.pagination.next,isShowingStale:!!(!s&&c.current),staleKey:c.current?.key,isLoading:"isLoading"in e&&e.isLoading,isValidating:l,isLoadingMore:!!(s&&a>s.length),loadMore:h,mutate:f}}(function(e,t,r){let d=(0,l.useIsomorphicSwrContext)(!1);if(!d)throw new a.BailoutToCSRError(n.workAsyncStorage.getStore()?.isBuildTimePrerendering?"PPR mode":"IsomorphicSwrProvider not found");let{isServer:u,config:m,fetcher:x,fallbackSource:p}=d,h=(0,i.useMemo)(()=>"function"==typeof t?(e,r)=>t(e,r):(e,t)=>t(e),[t]),f=(0,i.useMemo)(()=>e=>{if(u)throw Error("useSWR: swrFetcher is not available on server");return h(e,x)},[u,h,x]),j="object"==typeof t?t:void 0,{ssr:g,...v}=j??{},y=(0,o.mergeConfig)(m,j),w=p(e(0,null),h,y,!0),b=(0,c.resolveFallbackPromise)(w);if(u&&!b)throw new a.BailoutToCSRError("useSWR(ssr: timeout)");let{data:S,isValidating:k,size:N,setSize:C,mutate:P}=(0,s.default)(e,f,{...v,suspense:!0,fallbackData:b?[b]:void 0});if(!S)throw Error("NO DATA");return{data:S,isValidating:k,size:N,setSize:C,mutate:P}}(function(e,t){let{search:r,limit:i,sort:s,favorites:a,repoUrl:n,mfeGroupId:l}=t;return(t,o)=>{if(!e)return null;let c=o?.pagination.next,u=a&&!o&&!r&&!n&&!l;return`/api/v2/dashboard/projects${(0,d.encode)({teamId:e,search:r,limit:i,from:c,sort:s,favorites:u?1:void 0,repoUrl:n,groupId:l})}`}}((0,r.useTeamSlug)(),m),t),{laggyKey:u})}({...function(e){let{search:t,sort:r,repo:i,mfe:s}=e;return{search:t?.substring(0,100)||void 0,limit:12,sort:r||void 0,favorites:!0,repoUrl:i||void 0,mfeGroupId:s?m.mfeFilter.deserialize(s)?.id:void 0}}({search:w,sort:h,repo:f,mfe:j}),laggyKey:k,options:{revalidateIfStale:!1}});return((0,i.useEffect)(()=>{v(!!w&&N.isLoading)},[w,N.isLoading,v]),(0,i.useEffect)(()=>{!N.isShowingStale&&N.projects.length&&y(N.projects.map(e=>{let{link:t}=e;if(t?.type==="github"&&t.org)return{gitType:t.type,gitOwner:t.org,gitRepo:t.repo}}).filter(Boolean))},[y,N.isShowingStale,N.projects]),!N.initialDataLoaded||N.isShowingStale&&(N.staleKey!==k||0===N.projects.length))?(0,t.jsx)(W.ProjectsSkeleton,{view:b,hasFilters:!!(j||f),hasSearch:!!w}):0===N.projects.length?w||f||j?(0,t.jsx)(G.NoResultsProjects,{search:w}):(0,t.jsxs)("div",{className:"flex flex-col gap-4 smd:gap-3",children:[(0,t.jsx)(B.ProjectsHeading,{title:"Projects"}),(0,t.jsx)("div",{className:"material-small pb-12 pt-6",children:(0,t.jsx)(J,{})})]}):(0,t.jsxs)(K.ProjectsMutateContextProvider,{mutate:N.mutate,children:[(0,t.jsx)(ee,{data:N,userPreferences:x,ContentComponent:"grid"===b?H:$,hideFavorites:S,ownerId:p}),N.hasMore?(0,t.jsx)(Y.Button,{width:"100%",loading:N.isLoadingMore,disabled:N.isLoadingMore,type:"secondary",className:"mt-6",onClick:()=>{N.loadMore()},children:"Show More"}):null]})}function ee(e){let{data:r,userPreferences:s,ContentComponent:a,hideFavorites:n,ownerId:l}=e,{projects:o,favorites:c}=r,[d,u]=(0,i.useState)(s?.favoritesView??!1);return(0,t.jsxs)("div",{className:"flex flex-col gap-4 smd:gap-3",children:[n?null:(0,t.jsx)(t.Fragment,{children:c.length>0?(0,t.jsxs)("div",{className:"flex flex-col gap-4 smd:gap-3",children:[(0,t.jsx)(B.ProjectsHeading,{title:"Your Favorites",onClick:()=>{(0,q.updatePreferredScopeAndDashboardView)({scopeId:l,favoritesViewPreference:d?"closed":"open"}),u(e=>!e)},expanded:d}),d?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(a,{projects:c}),(0,t.jsx)("div",{className:"my-3 h-px w-full bg-gray-alpha-400"})]}):null]}):(0,t.jsx)(B.ProjectsHeading,{title:"Projects"})}),(0,t.jsx)(Z.TeamsOverviewCriticalContentConditionalMarker,{enabled:!0,children:(0,t.jsx)(a,{projects:o})})]})}},7536956:e=>{"use strict";e.s({ProjectsSidebarContainer:()=>l,useSidebarExpandedContext:()=>o});var t=e.i(6645307),r=e.i(5674541),i=e.i(1157778),s=e.i(9443759),a=e.i(6530772);let n=(0,a.createContext)({isExpanded:!1,setIsExpanded:()=>{}});function l(e){let{children:l,ssrSwitch:o}=e,[c,d]=(0,a.useState)(!1),u=(0,a.useMemo)(()=>({isExpanded:c,setIsExpanded:d}),[c]);return(0,t.jsxs)("div",{className:(0,s.cn)("group/container relative flex flex-col","max-smd:[&:not(:has([value=usage]:checked)):not(:has([data-section=recents][data-has-more]))_[data-more-control]]:hidden","max-smd:[&:has([value=usage]:checked):not(:has([data-section=usage][data-has-more]))_[data-more-control]]:hidden"),children:[(0,t.jsxs)("div",{className:(0,s.cn)("relative flex flex-col","max-smd:material-small max-smd:min-h-[208px] max-smd:overflow-hidden","smd:gap-6 smd:w-[320px] lg:w-[404px]","max-smd:[&:not(:has([value=usage]:checked))_[data-section=usage]]:hidden","max-smd:[&:has([value=usage]:checked)_[data-section=recents]]:hidden",{"max-smd:max-h-[208px]":!c},"max-smd:[&_[data-section-heading]]:hidden"),children:[o,(0,t.jsx)(n.Provider,{value:u,children:l}),c?null:(0,t.jsx)("div",{"data-more-control":!0,className:"z-1 absolute inset-x-0 bottom-0 h-4 w-full bg-gradient-to-b from-[hsla(var(--ds-background-200-value),0)_0%] to-[hsla(var(--ds-background-200-value),1)_100%] smd:hidden"})]}),(0,t.jsx)(r.Button,{"data-more-control":!0,className:"z-1 absolute bottom-0 left-1/2 -translate-x-1/2 translate-y-1/2 smd:hidden",svgOnly:!0,"aria-label":"Show More",type:"secondary",shape:"circle",size:"small",passthroughOnClick:e=>{e.stopPropagation(),d(e=>!e)},children:(0,t.jsx)(i.ChevronDownSmall,{className:(0,s.cn)("transition-transform duration-200 ease-in-out",{"-rotate-180":c})})})]})}function o(){return(0,a.useContext)(n)}n.displayName="SidebarExpandedContext"},7129935:e=>{"use strict";e.s({RecentsList:()=>eg},7129935);var t=e.i(6645307),r=e.i(6649026),i=e.i(1661537),s=e.i(646572),a=e.i(7873278);function n(e){let{children:r,hasMore:i}=e;return(0,t.jsxs)("div",{className:"flex flex-col max-smd:flex-1 smd:gap-3","data-section":"recents","data-has-more":!!i||void 0,children:[(0,t.jsx)(a.ProjectsHeading,{title:"Recent Previews",className:"max-smd:px-4 max-smd:pt-4"}),(0,t.jsx)("ul",{"data-section-content":!0,className:"m-0 flex flex-col divide-solid p-0 divide-x-0 divide-y divide-gray-alpha-400 smd:material-small max-smd:flex-1",children:r})]})}var l=e.i(6530772),o=e.i(854226),c=e.i(2781454),d=e.i(409706),u=e.i(743345),m=e.i(1095473),x=e.i(9284176),p=e.i(5196742),h=e.i(587741);function f(e){let t=e.automaticAliases?.find(e=>e.includes("-git-"))??e.url;t.startsWith("http")||(t=`https://${t}`);let r=t.replace(/^https?:\/\//,"");return{url:t,displayUrl:r}}let j={github:u.LogoGithub,gitlab:m.LogoGitlab,bitbucket:x.LogoBitbucketColor};var g=e.i(5220264),v=e.i(1628584),y=e.i(2013047),w=e.i(4640326),b=e.i(8025298),S=e.i(1389821),k=e.i(2964099),N=e.i(4374461),C=e.i(1183506),P=e.i(503726),I=e.i(6128663),M=e.i(2774739),L=e.i(2362802),D=e.i(3921802),T=e.i(5674541),R=e.i(653558),A=e.i(2733203),F=e.i(1190215),z=e.i(6192985),O=e.i(4105925),E=e.i(8158100),$=e.i(5163670),V=e.i(3821772),H=e.i(555528),U=e.i(4237550),B=e.i(7916122),_=e.i(5299128),G=e.i(3979315),q=e.i(595691),W=e.i(3138389),K=e.i(4843199),Q=e.i(5124754),Y=e.i(4652282),Z=e.i(1209519),J=e.i(9945435),X=e.i(5090795),ee=e.i(6285410),et=e.i(9443759),er=e.i(2567082),ei=e.i(3521787),es=e.i(7536956);function ea(e){let{entity:i,teamSlug:s}=e,a=function(e){let{track:t}=(0,o.useTrackActivity)();return{onClick:(0,l.useCallback)(r=>{let i=r.target.closest("a");if(null!==i){let r=i.dataset.trackingLinkLocation,s=i.dataset.trackingLinkType;t(c.VercelActivityAction.RecentsEntityClick,{type:e,linkLocation:r,linkType:s,href:i.href})}},[e,t])}}("preview"),{prMetadata:n,items:d}=i.payload,u=d[0],{url:m,displayUrl:x}=f(u.deployment),v=(0,p.getGitInfoFromDeployment)(u.deployment),S=function(e,t){let r=(0,h.useDeploymentLink)(e),i=(0,p.getGitInfoFromDeployment)(e);return i?t?.number?{type:"pull-request",provider:i.type,url:function(e,t){switch(e.type){case"github":return`https://github.com/${e.repoNamespace}/${e.repoName}/pull/${t}`;case"bitbucket":return`https://bitbucket.org/${e.repoNamespace}/${e.repoName}/pull-requests/${t}`;case"gitlab":return`https://gitlab.com/${e.repoNamespace}/${e.repoName}/-/merge_requests/${t}`}}(i,t.number),id:t.number}:i.prId&&i.prUrl?{type:"pull-request",provider:i.type,url:i.prUrl,id:i.prId}:""!==i.refUrl?{type:"branch",provider:i.type,url:i.refUrl}:{type:"commit",provider:i.type,url:i.commitUrl}:{type:"cli",url:`${r}/source`}}(u.deployment,n),I=("provider"in S?j[S.provider]:void 0)??_.Code,[M,R]=(0,l.useState)(!1),O=(0,es.useSidebarExpandedContext)(),{trigger:$}=function(e){let{eventId:t}=e,{user:i,team:s}=(0,P.useAccount)(),a=function(e){let{type:t,teamSlug:i,limit:s=7}=e;return`/api/recents${(0,r.encode)({type:t,teamId:i,limit:s})}`}({type:e.type,teamSlug:s?.slug??i?.username});async function n(e){let r=new URLSearchParams;s&&r.set("teamId",s.id),await (0,C.fetchAPI)(`/recents/${t}?${r.toString()}`,{method:"DELETE"})}return(0,N.default)(a,n,{optimisticData:e=>e?.filter(e=>e.eventId!==t)??[]})}(i);(0,l.useEffect)(()=>{O.isExpanded||R(!1)},[O.isExpanded]);let W=1===i.payload.totalItems?u:void 0,Z=W?.deployment,er=(0,h.useDeploymentLink)(Z,W?.project.name),ea=(0,k.useWrappedToolbarAuthLinkHandler)({via:"recents-preview",deployment:W?.deployment.previewCommentsEnabled?W.deployment:void 0}),[eh,ej]=(0,l.useState)(!1),eg=i.payload.items.length<i.payload.totalItems,ev=(0,ei.default)(eh&&eg?`/api/recents/hydrate-preview/${i.eventId}${(0,r.encode)({teamId:s})}`:null,async e=>(await (0,C.fetchAPI)(e)).payload.items,{shouldRetryOnError:!1,revalidateIfStale:!1,revalidateOnFocus:!1}),ey=n?.title??v?.commitRef,ew=v?.commitMessage&&ey!==v.commitMessage?v.commitMessage:void 0,eb=ey?(0,t.jsxs)("span",{className:(0,et.cn)("text-label-14 font-medium truncate",{"text-label-14-mono":!n?.title}),title:[ey,ew].join(" / ").trim(),children:[ey,ew?(0,t.jsx)("span",{className:"ml-2 text-gray-900",children:ew}):null]}):(0,t.jsx)("span",{className:"text-label-14 truncate font-medium",title:m,children:x}),eS=(0,t.jsx)(eo,{"aria-label":`View ${"pull-request"===S.type?"Pull Request":"Source"}`,isLink:!0,href:S.url,prefix:(0,t.jsx)(I,{}),preview:(0,t.jsxs)(t.Fragment,{children:["cli"===S.type?"View source code":null,"pull-request"===S.type?(0,t.jsxs)("span",{children:[String(S.id).length<=5?"View":null," #",S.id," on ",w.ORIGINS[S.provider]]}):null,"commit"===S.type||"branch"===S.type?`View source on ${w.ORIGINS[S.provider]}`:null,"cli"===S.type?null:(0,t.jsx)(q.ExternalSmall,{className:"ml-1"})]}),children:"pull-request"===S.type?"Pull Request":"Source"}),ek=(0,t.jsx)(eo,{"aria-label":"Remove recent",onClick:()=>void $(),prefix:(0,t.jsx)(G.Cross,{}),preview:"Remove from Recents",children:"Remove"}),eN=W?"div":T.Button;return(0,t.jsxs)("li",{className:"flex flex-col",...a,children:[(0,t.jsxs)("div",{className:"group relative flex flex-col",children:[(0,t.jsxs)(eN,{className:(0,et.cn)("p-4",W?"flex flex-row gap-4 [&_a]:z-10":"*:flex *:flex-row *:gap-4 *:p-0"),variant:"unstyled",onMouseOver:()=>{ej(!0)},...W?void 0:{passthroughOnClick:e=>{e.target instanceof HTMLElement&&e.target.closest("a")||(ej(!0),(0,ee.awaitPaint)().then(()=>{R(e=>!e),M||O.setIsExpanded(!0)}))}},children:[(0,t.jsxs)("div",{className:"flex min-w-0 flex-col gap-2",children:[(0,t.jsxs)("div",{className:"flex flex-row items-center gap-2 text-gray-1000",children:[(0,t.jsx)(ep,{entity:i,teamSlug:s}),eb]}),(0,t.jsxs)("div",{className:"flex h-5 flex-row items-center gap-1",children:[W?(0,t.jsx)(D.Badge,{className:"text-gray-900 group-hover:text-gray-1000",variant:"pill",size:"sm",icon:(0,t.jsx)(J.PreviewEye,{}),children:"Preview"}):(0,t.jsxs)(D.Badge,{className:"text-gray-900 *:gap-0 group-hover:text-gray-1000",variant:"pill",size:"sm",icon:M?(0,t.jsx)(U.ChevronDown,{}):(0,t.jsx)(B.ChevronRight,{}),children:[i.payload.totalItems>9?"9+":i.payload.totalItems," ","Project",i.payload.totalItems>1?"s":""]}),(0,t.jsx)(L.Link,{className:"z-10 flex","aria-label":`View ${"pull-request"===S.type?"Pull Request":"Source"}`,"data-tracking-link-location":"entity","data-tracking-link-type":S.type,href:S.url,children:(0,t.jsx)(D.Badge,{className:"h-5 text-gray-900 hover:text-gray-1000",variant:"pill",size:"sm",icon:(0,t.jsx)(I,{}),children:"pull-request"===S.type?`#${S.id}`:"Source"})}),Z?(0,t.jsx)(L.Link,{className:"flex","aria-label":`View ${W.prMetadata?"Latest Deployment":"Deployment"}`,href:er,prefetchStrategy:"hover",children:(0,t.jsx)(H.Tooltip,{"aria-hidden":!0,forceHide:!em.has(Z.readyState),text:(0,t.jsx)(ex,{deployment:Z}),children:(0,t.jsx)(D.Badge,{className:(0,et.cn)("h-5",{"font-mono":"READY"===Z.readyState,"text-gray-900 hover:text-gray-1000":"pill"===eu(Z.readyState)}),variant:eu(Z.readyState),size:"sm",icon:em.has(Z.readyState)?(0,t.jsx)(V.Spinner,{color:"var(--ds-amber-900)",size:12}):(0,t.jsx)(g.default,{className:"flex h-5 flex-row items-center *:size-2",deployment:Z}),children:"READY"===Z.readyState?(0,b.default)(Z).hash:(0,y.default)(Z.readyState.toLowerCase())})})}):null]})]}),(0,t.jsx)("div",{className:"w-6 shrink-0"})]}),(0,t.jsxs)(F.MenuContainer,{children:[(0,t.jsx)(A.MenuButton,{"aria-label":"Preview Menu",className:"absolute right-4 top-1/2 z-10 -translate-y-1/2",shape:"square",size:"tiny",type:"tertiary",svgOnly:!0,children:(0,t.jsx)(Q.MoreHorizontal,{})}),W?(0,t.jsx)(ed,{item:W,teamSlug:s,gitMenuItem:eS,removeMenuItem:ek}):(0,t.jsxs)(el,{width:200,previewContainerClassName:"text-gray-900",defaultPreview:(0,t.jsxs)(t.Fragment,{children:["Updated ",ef(Date.parse(i.createdAt))]}),children:[(0,t.jsx)(eo,{prefix:M?(0,t.jsx)(K.Minus,{}):(0,t.jsx)(Y.Plus,{}),onClick:()=>{R(e=>!e)},preview:M?"Hide projects":`Show ${i.payload.totalItems} projects`,children:M?"Hide projects":"Show projects"}),eS,(0,t.jsx)(z.MenuDivider,{}),ek]})]}),W?(0,t.jsx)(L.Link,{className:"absolute inset-0 block",href:m,tab:!0,"data-tracking-link-location":"title","data-tracking-link-type":"preview",...ea}):null]}),M&&ev.error&&!ev.data?(0,t.jsx)(E.Note,{type:"error",className:"m-4 mt-0",size:"small",children:(0,t.jsxs)("div",{className:"flex flex-row items-center justify-between gap-2",children:["Failed to load recetns.",(0,t.jsx)(T.Button,{"aria-label":"Try again",className:"!text-inherit",onClick:()=>{ev.mutate()},size:"small",svgOnly:!0,type:"tertiary",children:ev.isLoading?(0,t.jsx)(V.Spinner,{}):(0,t.jsx)(X.RefreshClockwise,{color:"currentColor"})})]})}):null,M&&!ev.error?(0,t.jsx)("ul",{className:"m-0 flex flex-col p-4 pt-0",children:ev.isLoading&&!ev.data?i.payload.payloadItems.map(e=>(0,t.jsx)(en,{},e.deploymentId)):ev.data?.map(e=>(0,t.jsx)(ec,{item:e,teamSlug:s},e.deployment.id))}):null]})}function en(){return(0,t.jsxs)("li",{className:"flex h-8 min-w-0 flex-row items-center gap-1.5 rounded-sm p-2 pr-1 hover:bg-gray-100 [:where(&:nth-child(odd))]:bg-background-200",children:[(0,t.jsx)($.Skeleton,{rounded:!0,width:16,height:16}),(0,t.jsx)("div",{className:"flex min-w-0 flex-1 flex-row",children:(0,t.jsx)($.Skeleton,{height:16,width:80})}),(0,t.jsx)($.Skeleton,{height:20,pill:!0,width:70}),(0,t.jsx)($.Skeleton,{height:20,pill:!0,width:80}),(0,t.jsx)($.Skeleton,{height:24,width:24})]})}function el(e){let{children:r,defaultPreview:i,className:s,previewContainerClassName:a,...n}=e;return(0,t.jsxs)(R.Menu,{...n,className:(0,et.cn)(s,"relative group/menu"),children:[(0,t.jsx)(z.MenuDivider,{className:"mt-11",children:(0,t.jsx)("div",{className:(0,et.cn)("absolute left-2 top-2 flex h-9 flex-row items-center p-2 group-has-[[data-selected]]/menu:hidden",a),children:i})}),r]})}function eo(e){let{preview:r,innerMenuItemClassName:i,previewContainerClassName:s="text-gray-900",children:a,...n}=e;return(0,t.jsxs)(O.MenuItem,{...n,innerMenuItemClassName:(0,et.cn)("group/item",i),children:[a,(0,t.jsx)("div",{className:(0,et.cn)("absolute left-2 top-2 hidden h-9 flex-row items-center p-2 group-[&[data-selected]]/item:flex",s),children:r})]})}function ec(e){let{item:r,teamSlug:i}=e,{deployment:s,project:a,prMetadata:n}=r,{url:l}=f(s),o=(0,h.useDeploymentLink)(s,a.name),c=(0,S.useProjectUrl)(a)??"",{hash:d}=(0,b.default)(s),u=(0,k.useWrappedToolbarAuthLinkHandler)({via:"recents-preview",deployment:s.previewCommentsEnabled?s:void 0});return(0,t.jsxs)("li",{className:"flex h-8 min-w-0 flex-row items-center gap-1.5 rounded-sm p-2 pr-1 hover:bg-gray-100 [:where(&:nth-child(odd))]:bg-background-200",children:[(0,t.jsx)(eh,{deploymentId:s.id,projectId:a.id,size:16,teamSlug:i}),(0,t.jsx)("div",{className:"flex min-w-0 flex-1 flex-row",children:(0,t.jsx)(L.Link,{className:"label-12 h-5 truncate leading-5 hover:underline",href:c,prefetch:!1,children:a.name})}),(0,t.jsx)(L.Link,{"aria-label":"View preview deployment","data-tracking-link-location":"entity","data-tracking-link-type":"preview",href:l,...u,children:(0,t.jsx)(D.Badge,{className:"text-gray-900 hover:text-gray-1000",variant:"pill",size:"sm",icon:(0,t.jsx)(J.PreviewEye,{}),children:"Preview"})}),(0,t.jsx)(L.Link,{"aria-label":`View ${n?"Latest Deployment":"Deployment"}`,href:o,prefetchStrategy:"hover",children:(0,t.jsx)(H.Tooltip,{"aria-hidden":!0,forceHide:!em.has(s.readyState),text:(0,t.jsx)(ex,{deployment:s}),children:(0,t.jsx)(D.Badge,{className:(0,et.cn)("h-5",{"font-mono text-gray-900 hover:text-gray-1000":"READY"===s.readyState}),variant:eu(s.readyState),size:"sm",icon:em.has(s.readyState)?(0,t.jsx)(V.Spinner,{color:"var(--ds-amber-900)",size:12}):(0,t.jsx)(g.default,{className:"flex h-5 flex-row items-center *:size-2",deployment:s}),children:"READY"===s.readyState?d:(0,y.default)(s.readyState.toLowerCase())})})}),(0,t.jsxs)(F.MenuContainer,{children:[(0,t.jsx)(A.MenuButton,{"aria-label":"Preview Menu",shape:"square",size:"tiny",type:"tertiary",svgOnly:!0,children:(0,t.jsx)(Q.MoreHorizontal,{size:12})}),(0,t.jsx)(ed,{item:r,teamSlug:i})]})]})}function ed(e){let{item:r,teamSlug:i,gitMenuItem:s,removeMenuItem:a}=e,{deployment:n,project:l,prMetadata:o,createdAt:c,type:d}=r,{url:u}=f(n),m=(0,h.useDeploymentLink)(n,l.name),x=(0,S.useProjectUrl)(l)??"",{hash:j}=(0,b.default)(n),v=!!o,y=function(e,t){if(!t?.commitRef)return null;let r=new URL(`${e}/deployments`,"https://vercel.com");return r.searchParams.set("filterBranch",t.commitRef),`${r.pathname}${r.search}`}(x,(0,p.getGitInfoFromDeployment)(n)),w=(0,k.useWrappedToolbarAuthLinkHandler)({via:"recents-preview",deployment:n.previewCommentsEnabled?n:void 0});return(0,t.jsxs)(el,{width:200,previewContainerClassName:"text-gray-900",defaultPreview:(0,t.jsxs)(t.Fragment,{children:["deployment-created"===(d??"preview")?"Authored":"Preview visited"," ",ef(Date.parse(c))]}),children:[(0,t.jsx)(eo,{"aria-label":"View latest preview deployment",href:u,isLink:!0,prefix:(0,t.jsx)(J.PreviewEye,{}),...w,preview:(0,t.jsxs)(t.Fragment,{children:["View latest Preview",(0,t.jsx)(q.ExternalSmall,{className:"ml-1"})]}),children:"Preview"}),s,(0,t.jsx)(eo,{"aria-label":`View ${v?"Latest Deployment":"Deployment"}`,href:m,isLink:!0,prefetchStrategy:"hover",preview:(0,t.jsxs)("div",{className:"flex flex-row gap-1",children:["Inspect",(0,t.jsx)(g.default,{className:"ml-1",deployment:n}),(0,t.jsx)("span",{className:"text-gray-1000",children:j})]}),prefix:(0,t.jsx)(g.default,{className:"size-4 justify-center",deployment:n}),children:v?"Latest Deployment":"Deployment"}),y?(0,t.jsx)(eo,{"aria-label":"View branch deployments",href:y,prefetchStrategy:"hover",isLink:!0,prefix:(0,t.jsx)(W.GitBranch,{}),preview:"View branch deployments",children:"Branch Deployments"}):null,(0,t.jsx)(eo,{"aria-label":"View project",href:x,isLink:!0,prefetchStrategy:"hover",prefix:(0,t.jsx)(eh,{projectId:l.id,size:16,deploymentId:n.id,teamSlug:i}),preview:`View ${l.name}`,children:"Project"}),a?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(z.MenuDivider,{}),a]}):null]})}function eu(e){switch(e){case"BUILDING":case"DELETED":case"INITIALIZING":case"UPLOADING":case"DEPLOYING":return"amber-subtle";case"ERROR":return"red-subtle";default:return"pill"}}let em=new Set(["INITIALIZING","BUILDING","UPLOADING","DEPLOYING"]);function ex(e){let{deployment:r}=e,i=(0,M.useAge)(r.buildingAt||void 0,{includeSeconds:!0});return(0,t.jsxs)("div",{children:["Duration: ",i]})}function ep(e){let{entity:r,teamSlug:i}=e,s=r.payload.totalItems>3,a=r.payload.payloadItems.slice(0,s?2:3).map(e=>{let{projectId:r,deploymentId:s}=e;return(0,t.jsx)(eh,{deploymentId:s,projectId:r,teamSlug:i},s)});return(0,t.jsxs)("div",{className:"flex h-5 flex-row items-center *:-ml-1 [&>:nth-child(1)]:ml-0",children:[(0,t.jsx)(v.CreatorAvatar,{deployment:r.payload.items[0].deployment,size:20}),a,s?(0,t.jsx)(Z.PlusCircle,{className:"relative rounded-full border border-solid border-background-100 bg-background-100",color:"gray-600",size:20}):null]})}function eh(e){let{teamSlug:i,projectId:s,deploymentId:a,size:n=20}=e;return(0,t.jsx)(d.AvatarWithError,{className:"cursor-pointer",priority:!0,size:n,style:{flexBasis:n},tooltipProps:{className:"relative z-[2]",text:"There was an issue rendering your favicon"},url:function(e){let{deploymentId:t,projectId:i,teamSlug:s}=e;return`/api/v0/deployments/${t}/favicon${(0,r.encode)({teamId:s,project:i})}`}({teamSlug:i,projectId:s,deploymentId:a})})}function ef(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:" ago";return(0,I.ago)(Date.now()-e,{justNowLabel:"Now",justNowThreshold:(0,er.default)("10s"),suffix:t})}var ej=e.i(663357);function eg(e){let{teamSlug:a}=e,{track:d}=(0,o.useTrackActivity)(),u=(0,l.useRef)(!1),{data:m=[]}=(0,s.useIsomorphicSuspenseSWR)((0,i.swrRequest)(`/api/recents${(0,r.encode)({type:"preview",teamId:a,limit:7})}`),async(e,t)=>(await t(e)).filter(e=>e.payload.items.length>0),{revalidateIfStale:!1,revalidateOnFocus:!0});return((0,l.useEffect)(()=>{u.current||(u.current=!0,d(c.VercelActivityAction.RecentsImpression,{length:m.length}))},[m.length,d]),m.length)?(0,t.jsxs)(n,{hasMore:m.length>2,children:[m.map(e=>(0,t.jsx)(ea,{entity:e,teamSlug:a},e.eventId)),1===m.length?(0,t.jsx)("li",{className:"text-label-12 flex h-20 flex-row items-center justify-center text-balance p-4 text-center text-gray-700 smd:hidden",children:"Preview deployments that you have recently visited or created will appear here."}):null]}):(0,t.jsx)(n,{hasMore:!1,children:(0,t.jsx)(ej.EmptyState.Root,{className:"flex flex-1 flex-row items-center border-0 p-6 *:flex-1 *:gap-4 max-smd:mt-px [&_p]:max-w-none",icon:(0,t.jsx)(ej.EmptyState.Icon,{icon:(0,t.jsx)(J.PreviewEye,{}),size:32}),description:"Preview deployments that you have recently visited or created will appear here."})})}},4292630:e=>{"use strict";e.s({UsageWidget:()=>I},4292630);var t=e.i(6645307),r=e.i(7736448),i=e.i(7873278),s=e.i(2774739),a=e.i(5674541),n=e.i(663357),l=e.i(9542446),o=e.i(6530772),c=e.i(9443759),d=e.i(1157778),u=e.i(1735144),m=e.i(4007328),x=e.i(1093245),p=e.i(540570),h=e.i(1661537),f=e.i(646572),j=e.i(8181683),g=e.i(5335653),v=e.i(854226),y=e.i(2781454),w=e.i(4334812),b=e.i(5366638),S=e.i(4418725),k=e.i(6911358),N=e.i(1312661),C=e.i(226017);let P=new Intl.NumberFormat("en-US",{maximumFractionDigits:0});function I(e){let{teamSlug:r}=e,s=(0,f.useIsomorphicSuspenseSWR)((0,h.swrRequest)(`/api/usage-summary?teamId=${r}`),{revalidateOnFocus:!1,refreshInterval:6e5,ssr:{timeout:7e3}});(0,l.useLink)();let[u,x]=(0,o.useState)(!1),[p,j]=(0,o.useState)(!1),{data:g,...v}=s.data,y=g?.usage&&g.usage.length>3,w=g?.type==="bySKU"&&g.usage.some(e=>e.percentage&&e.percentage>100),S=g?.type==="bySKU"?g.usage[0]:void 0;return(0,t.jsxs)("div",{className:"relative flex flex-col smd:gap-3","data-section":"usage","data-has-more":!!y||void 0,children:[(0,t.jsx)(i.ProjectsHeading,{title:"Usage",className:"max-smd:px-4 max-smd:pt-4"}),(0,t.jsxs)("div",{"data-section-content":!0,className:(0,c.cn)("relative smd:material-small p-4 gap-4 flex flex-col transition-[max-height] duration-200 ease-in-out overflow-hidden min-h-[180px]",u?"smd:max-h-[408px]":"smd:max-h-[180px]"),children:[(0,t.jsxs)("div",{className:"flex flex-row items-center gap-2",children:[(0,t.jsx)(M,{...v,hasExceededLimits:w}),(0,t.jsx)(L,{data:g,showUpgrade:"hobby"===v.plan,teamId:v.teamId,setIsUpgradeHovered:j,trackingData:{hasExceededLimit:w,isPaused:v.isBlocked,topSku:S?.id,topSkuName:S?.title,topSkuPercent:S?.percentage}})]}),g?.usage?.length?(0,t.jsx)("ul",{className:"m-0 flex flex-col p-0",children:g.usage.map(e=>"byProject"===g.type?(0,t.jsx)(b.ProjectRow,{project:e},e.id):(0,t.jsx)(b.SKURow,{isLink:!0,item:e,hideGauge:"enterprise"===v.plan,isHobby:"hobby"===v.plan,isUpgradeHovered:p},e.id))}):(0,t.jsx)("div",{children:(0,t.jsx)(n.EmptyState.Root,{paddingX:0,paddingY:0,className:"flex h-24 items-center justify-center border-0 *:gap-4",icon:(0,t.jsx)(n.EmptyState.Icon,{icon:(0,t.jsx)(m.ChartBarMiddle,{}),size:32}),description:"No data"})}),u||!y?null:(0,t.jsx)("div",{className:"z-1 absolute inset-x-0 bottom-0 h-4 w-full bg-gradient-to-b from-[hsla(var(--ds-background-200-value),0)_0%] to-[hsla(var(--ds-background-200-value),1)_100%] max-smd:hidden"})]}),y?(0,t.jsx)(a.Button,{className:"z-1 absolute bottom-0 left-1/2 -translate-x-1/2 translate-y-1/2 max-smd:hidden",svgOnly:!0,"aria-label":"Show More Usage",type:"secondary",shape:"circle",size:"tiny",onClick:()=>x(e=>!e),children:(0,t.jsx)(d.ChevronDownSmall,{className:(0,c.cn)("transition-transform duration-200 ease-in-out",{"-rotate-180":u})})}):null]})}function M(e){let{cycle:i,ts:a,plan:n,isBlocked:o,hasExceededLimits:d}=e,m=Math.max((0,r.differenceInDays)(i.end,Date.now()),1),p=(0,s.useAgo)(a,{justNowThreshold:6e4,justNowLabel:"just now"}),h=`${m} day${m>1?"s":""} remaining in cycle`,f=(0,t.jsxs)(t.Fragment,{children:["Updated ",p]});return"hobby"===n&&(o?(h=(0,t.jsxs)("span",{className:"flex flex-row items-center gap-1 text-red-900",children:["Paused",(0,t.jsx)(u.StopFill,{})]}),f="Upgrade to resume service"):h=d?(0,t.jsxs)("span",{className:"flex flex-row items-center gap-1",children:["Exceeded free resources",(0,t.jsx)(x.WarningFill,{color:"amber-700"})]}):"Last 30 days"),(0,t.jsxs)("div",{className:"flex min-w-0 flex-1 flex-col",children:[(0,t.jsx)(l.DashboardLink,{className:(0,c.cn)(j.linkClassName,"text-label-14 m-0 font-medium"),route:"/[teamSlug]/~/usage",prefetchStrategy:"hover",...(0,g.createTrackingAttributes)({section:"usage-widget",element:"header"}),children:h}),(0,t.jsx)("span",{className:"text-label-12 font-medium text-gray-900",children:f})]})}function L(e){let{data:r,showUpgrade:i,teamId:s,setIsUpgradeHovered:n,trackingData:l}=e,{track:c}=(0,v.useTrackActivity)(),d=(0,p.useOpenUpgradeModal)();(0,S.useTeamSlug)();let{value:u,trackExposure:m,trackConversion:x}=function(){let e=(0,C.useServerFlag)("new_upgrade_modal",(0,k.statsigOption)(!1)),t=(0,o.useRef)(!1),r=(0,o.useCallback)(()=>{!t.current&&e.rule&&(t.current=!0,(0,N.postToStatsigClient)({exposures:[{experimentName:"new_upgrade_modal",ruleID:e.rule}]}))},[e.rule]),i=(0,o.useCallback)(e=>{(0,N.postToStatsigClient)({events:[{eventName:"upgrade_modal_conversion",metadata:e}]})},[]);return{value:e.value,trackConversion:i,trackExposure:r}}(),h=(0,w.usePreloadUpgradeModal)();return i?(0,t.jsx)(a.Button,{className:"!h-6 !px-2 *:text-label-12 *:px-0 *:font-medium",size:"small",onMouseOver:h,onClick:()=>{d({isNewDesign:u,teamHint:s,source:"team-overview-usage-widget",onConversionSuccess:e=>{let{type:t}=e;c(y.VercelActivityAction.UsageWidgetUpgradeCompleted,l),x({type:t})},onImpression:()=>{m()}}),c(y.VercelActivityAction.UsageWidgetUpgradeClicked,l)},onBlur:()=>n(!1),onMouseEnter:()=>n(!0),onMouseLeave:()=>n(!1),onFocus:()=>n(!0),children:"Upgrade"}):r&&"byProject"===r.type?(0,t.jsx)(D,{data:r}):null}function D(e){let{data:r}=e,i=r.includedAllocation||r.onDemandCharges,s=(r.includedAllocation?.used??0)+(r.onDemandCharges??0),a=r.includedAllocation?.total?s/r.includedAllocation.total:void 0;return i?(0,t.jsxs)("span",{className:"text-label-12 shrink-0 font-medium text-gray-900",children:[P.format(s)," MIUs",a?` (${Math.round(100*a)}%)`:""]}):null}},79255:e=>{"use strict";e.s({UsageError:()=>a});var t=e.i(6645307),r=e.i(5090795),i=e.i(7873278),s=e.i(6556791);function a(){let{retry:e}=(0,s.useError)();return(0,t.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,t.jsx)(i.ProjectsHeading,{title:"Usage"}),(0,t.jsx)("button",{className:"material-small grid h-[180px] cursor-pointer place-content-center bg-background-200 p-2 text-gray-900 hover:text-gray-1000 focus-visible:text-gray-1000",onClick:e,type:"button",children:(0,t.jsxs)("div",{className:"flex flex-row items-center gap-2",children:[(0,t.jsx)("span",{className:"text-copy-14",children:"Failed to load usage"}),(0,t.jsx)(r.RefreshClockwise,{})]})})]})}},5776240:e=>{"use strict";e.s({ProjectsSidebarControl:()=>n});var t=e.i(6645307),r=e.i(9498786),i=e.i(4811398),s=e.i(8469478),a=e.i(6530772);function n(e){let{children:r,filtered:i=!1}=e;return(0,t.jsx)(a.Suspense,{fallback:i?null:r,children:(0,t.jsx)(l,{children:r})})}function l(e){let{children:a}=e,[{repo:n,mfe:l}]=(0,r.useQueryStates)(i.teamOverviewSearchParams);return(0,s.useTeamOverviewDebouncedSearch)()||n||l?null:(0,t.jsx)(t.Fragment,{children:a})}}}]);

//# sourceMappingURL=660e3beffbfd47f6.js.map
//# debugId=cd22d28f-834d-5647-9c34-0567f887f3f3
