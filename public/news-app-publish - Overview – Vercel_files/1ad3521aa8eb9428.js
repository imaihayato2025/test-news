
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="e29352a0-69ee-50e7-b95b-6d5d07d473a9")}catch(e){}}();
(globalThis.TURBOPACK=globalThis.TURBOPACK||[]).push(["object"==typeof document?document.currentScript:void 0,{4652282:e=>{"use strict";e.s({Plus:()=>t});let t=(0,e.i(6895406).withNewIcon)('<path fill-rule="evenodd" clip-rule="evenodd" d="M 8.75,1 H7.25 V7.25 H1.5 V8.75 H7.25 V15 H8.75 V8.75 H14.5 V7.25 H8.75 V1.75 Z" fill="currentColor"/>')},5534034:e=>{"use strict";e.s({queryBuilderEvents:()=>t,staticDimensionValues:()=>i});let t=["incomingRequest","serverlessFunctionInvocation","edgeFunctionInvocation","blockedConnection","firewallAction","imageTransformation","isrOperation","middlewareInvocation","botIdCheck"],i=[{dimensions:["environment"],values:[{id:"production",label:"Production"},{id:"preview",label:"Preview"}]},{dimensions:["requestMethod"],values:[{id:"GET"},{id:"POST"},{id:"PUT"},{id:"DELETE"},{id:"PATCH"},{id:"HEAD"},{id:"OPTIONS"},{id:"PROPFIND"},{id:"TRACE"},{id:"CONNECT"},{id:"PROPPATCH"},{id:"MKCOL"},{id:"COPY"},{id:"MOVE"},{id:"LOCK"},{id:"UNLOCK"}]},{dimensions:["httpStatus"],values:[{id:100},{id:101},{id:102},{id:103},{id:200},{id:201},{id:202},{id:203},{id:204},{id:205},{id:206},{id:207},{id:208},{id:226},{id:300},{id:301},{id:302},{id:303},{id:304},{id:305},{id:306},{id:307},{id:308},{id:400},{id:401},{id:402},{id:403},{id:404},{id:405},{id:406},{id:407},{id:408},{id:409},{id:410},{id:411},{id:412},{id:413},{id:414},{id:415},{id:416},{id:417},{id:418},{id:421},{id:422},{id:423},{id:424},{id:425},{id:426},{id:428},{id:429},{id:431},{id:451},{id:500},{id:501},{id:502},{id:503},{id:504},{id:505},{id:506},{id:507},{id:508},{id:510},{id:511}]},{dimensions:["edgeNetworkRegion","functionRegion","imageTransformationRegion","isrShieldRegion"],values:[{id:"sfo1",label:"San Francisco, USA"},{id:"bom1",label:"Mumbai, India"},{id:"sin1",label:"Singapore"},{id:"fra1",label:"Frankfurt, Germany"},{id:"iad1",label:"Washington D.C., USA"},{id:"cdg1",label:"Paris, France"},{id:"hkg1",label:"Hong Kong, China"},{id:"gru1",label:"SÃ£o Paulo, Brazil"},{id:"arn1",label:"Stockholm, Sweden"},{id:"cle1",label:"Cleveland, USA"},{id:"cpt1",label:"Cape Town, South Africa"},{id:"dub1",label:"Dublin, Ireland"},{id:"dxb1",label:"Dubai, UAE"},{id:"hnd1",label:"Tokyo, Japan"},{id:"icn1",label:"Seoul, South Korea"},{id:"kix1",label:"Osaka, Japan"},{id:"lhr1",label:"London, UK"},{id:"pdx1",label:"Portland, USA"},{id:"syd1",label:"Sydney, Australia"}]},{dimensions:["cacheResult"],values:[{id:"HIT"},{id:"MISS"},{id:"BYPASS"},{id:"STALE"},{id:"REVALIDATED"},{id:"PRERENDER"}]},{dimensions:["wafAction"],values:[{id:"log",label:"LOG"},{id:"bypass",label:"BYPASS"},{id:"challenge",label:"CHALLENGE"},{id:"challenge-solved",label:"CHALLENGE_SOLVED"},{id:"challenge-failed",label:"CHALLENGE_FAILED"},{id:"deny",label:"DENY"},{id:"rate_limit",label:"RATE_LIMIT"},{id:"redirect",label:"REDIRECT"},{id:"allow",label:"ALLOW"}]},{dimensions:["skewProtection"],values:[{id:"active"},{id:"inactive"}]},{dimensions:["functionStartType"],values:[{id:"hot",label:"HOT"},{id:"cold",label:"COLD"},{id:"prewarmed",label:"PREWARMED"},{id:"unknown",label:"UNKNOWN"}]}]},8188445:e=>{"use strict";function t(e){navigator.clipboard.writeText(e)}e.s({copyToClipboard:()=>t})},9029829:e=>{e.v({checked:"switch-control-module__WvDOda__checked",container:"switch-control-module__WvDOda__container",control:"switch-control-module__WvDOda__control",disabled:"switch-control-module__WvDOda__disabled",icon:"switch-control-module__WvDOda__icon",large:"switch-control-module__WvDOda__large",small:"switch-control-module__WvDOda__small",text:"switch-control-module__WvDOda__text"})},6636585:e=>{e.v({hideBorder:"switch-module__idkRsq__hideBorder",large:"switch-module__idkRsq__large",small:"switch-module__idkRsq__small",switch:"switch-module__idkRsq__switch"})},4946541:e=>{"use strict";e.s({Switch:()=>d},4946541);var t=e.i(6645307),i=e.i(6530772),l=e.i(5610210),r=e.i(889716),a=e.i(9189633),s=e.i(8084653),n=e.i(9029829),o=e.i(6636585);let d=Object.assign((0,i.forwardRef)(function(e,a){let{className:s,size:n,name:d,children:u,hideBorder:c,checkedColor:m,...p}=e;return(0,t.jsx)(r.Stack,{className:(0,l.clsx)(s,o.default.switch,{[String(o.default.large)]:"large"===n,[String(o.default.small)]:"small"===n,[String(o.default.hideBorder)]:c}),direction:"row",...p,ref:a,children:i.Children.map(u,e=>(0,i.cloneElement)(e,{name:d,size:n,checkedColor:m}))})}),{Control:function(e){let{className:r,icon:o,label:d,size:u,checked:c,disabled:m,checkedColor:p="var(--ds-gray-100)",innerDivClassName:b,...h}=e,f=void 0!==o,g=(0,l.clsx)(n.default.control,{[String(n.default.disabled)]:m,[String(n.default.checked)]:c,[String(n.default.large)]:"large"===u,[String(n.default.small)]:"small"===u,[String(n.default.text)]:!f,[String(n.default.icon)]:f}),v=o?(0,t.jsxs)(t.Fragment,{children:[(0,i.cloneElement)(o,{size:"large"===u?20:16}),(0,t.jsx)("span",{className:"geist-sr-only",children:d})]}):d;return"href"in h&&void 0!==h.href?m?(0,t.jsx)(s.Text,{as:"span",className:g,style:{"--switch-checked-color":p},children:v}):(0,t.jsx)(a.default,{className:g,href:h.href,onClick:h.onClick,prefetch:h.prefetch,scroll:!1,style:{"--switch-checked-color":p},children:v}):(0,t.jsxs)("label",{className:(0,l.clsx)(n.default.container,r),"data-disabled":m?"true":"false",children:[(0,t.jsx)("input",{...h,checked:c,className:"geist-sr-only",disabled:m,type:"radio"}),(0,t.jsx)("div",{className:(0,l.clsx)(g,b),style:{"--switch-checked-color":p},children:v})]})}})},3431702:[e=>{"use strict";e.s({default:()=>b,preloadProjectListInfinite:()=>m,useProjectListInfinite:()=>p},3431702);var t=e.i(6530772),i=e.i(3521787),l=e.i(7095283),r=e.i(7766186),a=e.i(6649026),s=e.i(1183506),n=e.i(9336536),o=e.i(4418725),d=e.i(5454140);function u(e){let{version:t,until:i,limit:l,latestDeployments:r,search:s,slug:o,excludeRepos:d,edgeConfigId:u,edgeConfigTokenId:c,connectConfigurationId:m}=e;return`${(0,n.API_PROJECTS_VERSION)(t)}${(0,a.encode)({until:i,limit:l,latestDeployments:r,search:s,slug:o,excludeRepos:d,edgeConfigId:u,edgeConfigTokenId:c,connectConfigurationId:m})}`}e.s({getProjectListInfiniteKey:()=>u},405917);let c=null;function m(e,t){let{limit:i=8,latestDeployments:l=3,excludeReposRef:r}=e,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"v9",d=`${(0,n.API_PROJECTS_VERSION)(o)}${(0,a.encode)({limit:i,latestDeployments:l,slug:t,excludeRepos:r?.current[0]??null})}`;c=[d,(0,s.fetchAPI)(d)]}function p(){let{fetchEnabled:e=!0,limit:a=8,latestDeployments:n=3,search:d,excludeReposRef:m,revalidateFirstPage:p=!0,edgeConfigId:b,edgeConfigTokenId:h,connectConfigurationId:f,version:g="v9",slug:v}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},x=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},y=arguments.length>2&&void 0!==arguments[2]&&arguments[2],w=arguments.length>3&&void 0!==arguments[3]&&arguments[3],S=(0,r.useRouter)(),C=(0,o.useTeamSlug)(),j=v||C,P=(0,l.default)((t,i)=>{if(!e||S&&!S.isReady)return null;if(!t)return u({version:g,limit:a,latestDeployments:n,search:d,slug:j,excludeRepos:m?.current[0]??null,edgeConfigId:b,edgeConfigTokenId:h,connectConfigurationId:f});let l=i?.pagination.next?i.pagination.next:null;return l?u({version:g,until:l,limit:a,latestDeployments:n,search:d,slug:j,excludeRepos:m?.current[t]??null,edgeConfigId:b,edgeConfigTokenId:h,connectConfigurationId:f}):null},async e=>{if(c&&c[0]===e){let e=await c[1];return c=null,e}return(0,s.fetchAPI)(e,{throwOnHTTPError:!0})},{...x,keepPreviousData:w,revalidateFirstPage:p,persistSize:!0}),O=!!P.data,V=(P.data?.[P.data.length-1]?.projects.length??0)<a,k=(0,t.useMemo)(()=>P.data?P.data.flatMap(e=>e.projects):[],[P.data]),H=O&&0===k.length,_=!!(P.data&&P.size>P.data.length);return(0,i.default)(()=>{if(y||!P.data||V)return null;let e=P.data[P.data.length-1];return u({version:g,until:e?.pagination.next?e.pagination.next:null,limit:a,latestDeployments:n,search:d,slug:j,excludeRepos:m?.current[0]??null,edgeConfigId:b,edgeConfigTokenId:h,connectConfigurationId:f})},e=>(0,s.fetchAPI)(e,{throwOnHTTPError:!0})),[P,{projects:k,initialDataLoaded:O,isEmpty:H,loadMore:()=>P.setSize(e=>e+1),isLoadingMore:_,isReachingEnd:V,isValidating:P.isValidating}]}function b(){let{fetchEnabled:e=!0,limit:l,from:u,linked:c,search:m,hasProductionDomains:p,domain:b,latestDeployments:h=3,deploymentInfo:f,includePermissions:g=!1,edgeConfigId:v,edgeConfigTokenId:x,connectConfigurationId:y,excludeConnectConfigurationId:w,teamId:S}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},C=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},j=arguments.length>2?arguments[2]:void 0,P=arguments.length>3?arguments[3]:void 0,O=(0,o.useTeamSlug)(),V=(0,r.useRouter)(),{user:k,isNorthstar:H}=(0,d.useUser)(),[_,E]=(0,t.useState)(m);return(0,t.useEffect)(()=>{E(e=>e===m?e:m)},[m]),{...(0,i.default)(()=>e&&(!V||V.isReady)&&k&&(!H||k.defaultTeamId||S)?`${(0,n.API_PROJECTS_VERSION)("v8")}${(0,a.encode)({from:u||null,limit:l,linked:!!c||null,search:_,hasProductionDomains:p?"1":null,domain:b,latestDeployments:void 0===h?null:h,deploymentInfo:f||null,slug:j||O,includePermissions:g,edgeConfigId:v,edgeConfigTokenId:x,connectConfigurationId:y,excludeConnectConfigurationId:w,teamId:S||null})}`:null,e=>(0,s.fetchAPI)(e,{throwOnHTTPError:!0,throwOnScopeAuthError:P?.throwOnScopeAuthError}),C),updateSearch:E,search:_}}},[405917]],2615772:e=>{"use strict";e.s({Link:()=>t});let t=(0,e.i(6895406).withNewIcon)('<path fill-rule="evenodd" clip-rule="evenodd" d="M8.46968 1.46968C10.1433 -0.203925 12.8567 -0.203923 14.5303 1.46968C16.2039 3.14329 16.2039 5.85674 14.5303 7.53034L12.0303 10.0303L10.9697 8.96968L13.4697 6.46968C14.5575 5.38186 14.5575 3.61816 13.4697 2.53034C12.3819 1.44252 10.6182 1.44252 9.53034 2.53034L7.03034 5.03034L5.96968 3.96968L8.46968 1.46968ZM11.5303 5.53034L5.53034 11.5303L4.46968 10.4697L10.4697 4.46968L11.5303 5.53034ZM1.46968 14.5303C3.14329 16.2039 5.85673 16.204 7.53034 14.5303L10.0303 12.0303L8.96968 10.9697L6.46968 13.4697C5.38186 14.5575 3.61816 14.5575 2.53034 13.4697C1.44252 12.3819 1.44252 10.6182 2.53034 9.53034L5.03034 7.03034L3.96968 5.96968L1.46968 8.46968C-0.203923 10.1433 -0.203925 12.8567 1.46968 14.5303Z" fill="currentColor"/>')},3797922:e=>{"use strict";e.s({default:()=>s});var t=e.i(6645307),i=e.i(3921802),l=e.i(5674541),r=e.i(3250594),a=e.i(5610210);let s=function(e){let{feedback:s,muted:n,size:o,variant:d,className:u}=e;return(0,t.jsxs)("div",{className:(0,a.clsx)("flex items-center gap-[var(--geist-space)]",u),children:[(0,t.jsx)(i.Badge,{className:n?"text-[var(--geist-background)] bg-[var(--accents-3)] border-0 dark:text-[var(--geist-background)] dark:bg-[var(--accents-6)]":"",size:o,variant:n?"gray-subtle":d||"pink",children:"Beta"}),s?(0,t.jsx)(l.Button,{className:"sm:block max-[600px]:hidden",onClick:r.dispatchShowFeedbackEvent,size:"small",type:"tertiary",typeName:"button",children:"Provide feedback"}):null]})}},6572182:e=>{"use strict";e.s({isAfter:()=>i});var t=e.i(7831155);function i(e,i){return+(0,t.toDate)(e)>+(0,t.toDate)(i)}},1085429:e=>{"use strict";e.s({Question:()=>t});let t=(0,e.i(6895406).withNewIcon)('<path fill-rule="evenodd" clip-rule="evenodd" d="M8 14.5C11.5899 14.5 14.5 11.5899 14.5 8C14.5 4.41015 11.5899 1.5 8 1.5C4.41015 1.5 1.5 4.41015 1.5 8C1.5 11.5899 4.41015 14.5 8 14.5ZM8 16C12.4183 16 16 12.4183 16 8C16 3.58172 12.4183 0 8 0C3.58172 0 0 3.58172 0 8C0 12.4183 3.58172 16 8 16ZM9 11C9 11.5523 8.55229 12 8 12C7.44772 12 7 11.5523 7 11C7 10.4477 7.44772 10 8 10C8.55229 10 9 10.4477 9 11ZM7.09584 5.82182C7.25716 5.48223 7.6022 5.25 7.99999 5.25C8.55227 5.25 8.99999 5.69772 8.99999 6.25C8.99999 6.75329 8.62748 7.17086 8.14337 7.23989C7.70367 7.3026 7.24999 7.67511 7.24999 8.25V8.5V9.25H8.74999V8.63535C9.76443 8.31661 10.5 7.36971 10.5 6.25C10.5 4.86929 9.3807 3.75 7.99999 3.75C7.00158 3.75 6.14136 4.3353 5.74095 5.17818L5.41913 5.85563L6.77402 6.49926L7.09584 5.82182Z" fill="currentColor"/>')},7795726:e=>{"use strict";e.s({isValidAggregation:()=>i,isValidDimension:()=>l}),e.i(2671602),e.i(1802833),e.i(2567082);var t=e.i(6753602);function i(e,i){return t.AllMeasures[e].aggregations.includes(i)}function l(e,i){return t.AllDimensions[e].events.includes(i)}e.i(4936135),e.i(1863837)},2921318:e=>{"use strict";e.s({useHotkey:()=>i});var t=e.i(6530772);function i(e,i){(0,t.useEffect)(()=>{let t=t=>{let l=document.activeElement,r=l&&["input","select","textarea"].includes(l.tagName.toLowerCase());t.key.toLowerCase()!==i||r||t.ctrlKey||t.metaKey||(t.preventDefault(),e())};return document.addEventListener("keydown",t),()=>{document.removeEventListener("keydown",t)}},[e,i])}},6527079:e=>{"use strict";e.s({FullscreenClose:()=>t});let t=(0,e.i(6895406).withNewIcon)('<path fill-rule="evenodd" clip-rule="evenodd" d="M6 1V1.75V5C6 5.55229 5.55228 6 5 6H1.75H1V4.5H1.75H4.5V1.75V1H6ZM14.25 6H15V4.5H14.25H11.5V1.75V1H10V1.75V5C10 5.55228 10.4477 6 11 6H14.25ZM10 14.25V15H11.5V14.25V11.5H14.29H15.04V10H14.29H11C10.4477 10 10 10.4477 10 11V14.25ZM1.75 10H1V11.5H1.75H4.5V14.25V15H6V14.25V11C6 10.4477 5.55229 10 5 10H1.75Z" fill="currentColor"/>')},3140751:e=>{"use strict";e.s({MenuAlt:()=>t});let t=(0,e.i(6895406).withNewIcon)('<path fill-rule="evenodd" clip-rule="evenodd" d="M1 2H1.75H14.25H15V3.5H14.25H1.75H1V2ZM1 12.5H1.75H14.25H15V14H14.25H1.75H1V12.5ZM1.75 7.25H1V8.75H1.75H14.25H15V7.25H14.25H1.75Z" fill="currentColor"/>')},4746738:e=>{"use strict";e.s({Fullscreen:()=>t});let t=(0,e.i(6895406).withNewIcon)('<path fill-rule="evenodd" clip-rule="evenodd" d="M1 5.25V6H2.5V5.25V2.5H5.25H6V1H5.25H2C1.44772 1 1 1.44772 1 2V5.25ZM5.25 14.9994H6V13.4994H5.25H2.5V10.7494V9.99939H1V10.7494V13.9994C1 14.5517 1.44772 14.9994 2 14.9994H5.25ZM15 10V10.75V14C15 14.5523 14.5523 15 14 15H10.75H10V13.5H10.75H13.5V10.75V10H15ZM10.75 1H10V2.5H10.75H13.5V5.25V6H15V5.25V2C15 1.44772 14.5523 1 14 1H10.75Z" fill="currentColor"/>')},6005342:e=>{"use strict";e.s({DEFAULT_TIME_VALUE:()=>r,TIME_VARIABLE:()=>l,extractError:()=>i,parseNotebook:()=>a,replaceVariables:()=>n,serializeVariables:()=>s});var t=e.i(8757700);function i(e){return null==e?"Please retry later":`${e.message??e}`}let l="$time",r="12h";function a(e){let{variables:i,widgets:l,...r}=e;return{...r,variables:function(e){if(e)return{...e,time:e.time?(0,t.parseTime)(e.time):void 0}}(i),widgets:l?.map(e=>{let{query:{time:i,...l},...r}=e;return{type:"query-visualization",...r,query:{...l,time:(0,t.parseTime)(i)}}})}}function s(e){if(!e)return;let{time:t,...i}=e;return{...i,time:t?"string"==typeof t?t:{from:t.from.toISOString(),to:t.to.toISOString()}:void 0}}function n(e,t){return t?{...e,time:e.time===l&&t.time?t.time:e.time}:e}},534184:e=>{"use strict";function t(e,t){let{id:i,teamSlug:l}=t;return`${e.replace("{id}",i??"")}?${new URLSearchParams({slug:l}).toString()}`}function i(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1];return i=>{let l=i??{hasAccess:!0,notebooks:[]},r=l.notebooks.findIndex(t=>{let{id:i}=t;return i===e.id});return -1!==r?t?l.notebooks[r]=e:l.notebooks.splice(r,1):t&&l.notebooks.push(e),l}}function l(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,i=arguments.length>2?arguments[2]:void 0;return l=>{if(!l)return{...e,widgets:t?[t]:void 0};let r={...l,...e};if(i&&(r.widgets=r.widgets?.filter(e=>{let{id:t}=e;return t!==i})),t){r.widgets||(r.widgets=[]);let e=r.widgets.findIndex(e=>{let{id:i}=e;return i===t.id});r.widgets=[...r.widgets.slice(0,e),t,...r.widgets.slice(e+1)]}return r}}e.s({buildSWRKey:()=>t,updateCachedList:()=>i,updateCachedNotebook:()=>l})},7384398:e=>{"use strict";e.s({useCreateNotebook:()=>m});var t=e.i(6005342),i=e.i(8757700),l=e.i(9336536),r=e.i(4418725),a=e.i(3514588),s=e.i(3409191),n=e.i(7573892),o=e.i(9802771),d=e.i(7320579),u=e.i(4374461),c=e.i(534184);function m(){let e=(0,r.useTeamSlug)()??"",{team:m}=(0,a.useTeam)(),{mutate:p}=(0,d.useSWRConfig)(),b=(0,c.buildSWRKey)(l.API_NOTEBOOKS,{teamSlug:e}),{trigger:h,isMutating:f}=(0,u.default)(b,async(r,a)=>{let{arg:{title:n,widget:o}}=a,d=(0,t.parseNotebook)(await (0,s.typedFetchData)(l.API_NOTEBOOKS,"post",{slug:e},{title:n,variables:{time:t.DEFAULT_TIME_VALUE},widgets:o?[{query:(0,i.serializeQuery)(o.query),title:o.title}]:void 0},{throwOnHTTPError:!0}));return p((0,c.buildSWRKey)(l.API_NOTEBOOK,{id:d.id,teamSlug:e}),(0,c.updateCachedNotebook)(d,d.widgets?.[0])),setTimeout(()=>void p(b,(0,c.updateCachedList)(d)),1e3),d},{revalidate:!1});return{createNotebook:async(e,t)=>{let i=await h(e);return n.analytics.track(o.AnalyticsEvent.OBSERVABILITY_NOTEBOOK_CREATED,{teamId:m?.id,plan:m?.billing?.plan??"hobby",hasInitialWidget:!!e.widget,source:t??"notebook-list-page"}),i},isSaving:f}}},4775302:e=>{"use strict";e.s({useNotebooks:()=>a});var t=e.i(9336536),i=e.i(4418725),l=e.i(646572),r=e.i(534184);function a(){let e=(0,i.useTeamSlug)()??"";return(0,l.useIsomorphicSuspenseSWR)((0,r.buildSWRKey)(t.API_NOTEBOOKS,{teamSlug:e})).data}},2794091:e=>{"use strict";e.s({HeaderControls:()=>P},2794091);var t=e.i(6645307),i=e.i(2180936),l=e.i(5674541),r=e.i(555528),a=e.i(240708),s=e.i(5535439),n=e.i(9118498),o=e.i(226017),d=e.i(3514588),u=e.i(6606445),c=e.i(6572182),m=e.i(1265902),p=e.i(2567082),b=e.i(6530772),h=e.i(8072229),f=e.i(986386),g=e.i(124485),v=e.i(8757700);e.i(9576255);var x=e.i(329718),y=e.i(540570);function w(){let e=(0,y.useOpenUpgradeModal)(),[i,l]=(0,h.useSonarQueryState)(),{start:r,end:a}=(0,h.useRangeFromQueryState)(),{team:n}=(0,d.useTeam)(),{hasObservabilityPlusAccessOnCurrentProject:w,ready:S}=(0,f.useHasObservabilityPlus)(),C=(0,x.useOpenEnableModal)(),j=(0,o.useServerFlag)("observability-maximum-lookback","inherit"),P=(0,b.useMemo)(()=>{if(!n)return new Date;let e=function(e){let t,{team:i,hasObservabilityPlusAccess:l,observabilityMaximumLookbackFlag:r}=e,a=l?g.PlusRetention:i.billing?.plan==="pro"||i.billing?.plan==="enterprise"?g.FreeProEntRetention:g.FreeHobbyRetention;if("inherit"===r)return a;try{t=(0,p.default)(r)}catch(e){console.error("Failed to parse observability-maximum-lookback flag. Defaulting to plan settings"),t=a}return t>(0,p.default)("90d")&&(t=(0,p.default)("90d")),t}({team:n,hasObservabilityPlusAccess:w,observabilityMaximumLookbackFlag:j});return new Date(Date.now()-e)},[n,w,j]);if((0,b.useEffect)(()=>{if(S&&n&&r<P&&!w){let e=Object.keys((0,v.getTimeRangePresets)())[0];(0,u.track)("Observability Changed Date Range Period",{period:e}),l({period:e})}},[P,l,r,n,w,S]),"/notebooks"===((0,s.usePathname)()?.split("observability").pop()||""))return;let O=Object.entries((0,v.getTimeRangePresets)()).filter(e=>{let[t,i]=e;return!w||(0,c.isAfter)(i.start,P)}).map(e=>{let[t,i]=e;return{key:t,...i,needsUpgrade:i.start.getTime()<P.getTime()}}),V=(()=>{if(n?.billing?.plan==="hobby"){let t=Date.now()-g.FreeProEntRetention;return[{presets:O.filter(e=>!e.needsUpgrade)},{title:"Upgrade to Pro",divider:!0,presets:O.filter(e=>e.needsUpgrade&&e.start.getTime()>=t).map(t=>({...t,onClick:()=>{e({teamHint:n.id,source:"observability-period-filter",onConversionSuccess:()=>{l({period:t.key})}})}}))},{title:"Observability Plus",presets:O.filter(e=>e.needsUpgrade&&e.start.getTime()<t).map(e=>({...e,onClick:()=>{C({via:"date-range-select"}),(0,u.track)("Observability Upsell Clicked",{region:"date-range-select"})}}))}]}let t=O.filter(e=>e.needsUpgrade);return t.length?[{presets:O.filter(e=>!e.needsUpgrade)},{title:"Observability Plus",divider:!0,presets:t.map(e=>({...e,onClick:()=>{C({via:"date-range-select"}),(0,u.track)("Observability Upsell Clicked",{region:"date-range-select"})}}))}]:[{presets:O}]})(),k=i.period?O.find(e=>e.key===i.period)?.key:void 0;return(0,t.jsx)(m.Calendar,{allowClear:!1,compact:!0,minValue:P,onChange:(e,t)=>{let i=new Date(e.start),r=new Date(e.end);t?((0,u.track)("Observability Changed Date Range Period",{period:t}),l({period:t})):((0,u.track)("Observability Changed Date Range Period",{period:(0,p.default)(r.getTime()-i.getTime())}),l({from:i,to:r}))},popoverAlignment:"center",presetKey:k,presets:V,value:{start:r,end:a},width:"190px"},"date-range-select-o11y")}var S=e.i(9984e3);function C(){let[e,i]=(0,h.useSonarQueryState)();if("/notebooks"!==((0,s.usePathname)()?.split("observability").pop()||""))return(0,t.jsx)(S.EnvironmentSelector,{environment:e.environment,onChange:e=>{i({environment:e})}})}var j=e.i(5449323);function P(e){let{children:o,hideEnvironmentSelect:d}=e,u=(0,n.useOpenQueryBuilder)(),c=((0,s.usePathname)()?.split("observability").pop()||"").startsWith("/notebooks");return(0,t.jsx)("div",{className:"w-full md:w-auto",children:(0,t.jsx)(i.MobileScrollWrapper,{className:"-mx-5 -my-2 md:mx-0",contentClassName:"md:!overflow-visible py-3  px-5 md:px-0",style:{"--overlay-color":"var(--ds-background-200-value)"},children:(0,t.jsxs)("div",{className:"flex flex-row items-center gap-2",children:[o,d?null:(0,t.jsx)(C,{}),(0,t.jsx)(w,{}),c?null:(0,t.jsx)(r.Tooltip,{text:"Create query",children:(0,t.jsx)(l.Button,{"aria-label":"Create query",className:"shrink-0",onClick:u,shape:"square",svgOnly:!0,type:"secondary",children:(0,t.jsx)(a.LineChart,{})})}),(0,t.jsx)(j.OptionsMenu,{})]})})})}},7909803:e=>{"use strict";e.s({subMonths:()=>i});var t=e.i(5693874);function i(e,i,l){return(0,t.addMonths)(e,-i,l)}},8418878:e=>{var{m:t,e:i}=e,l=e.r(1138319),r=e.r(4014734),a=e.r(6357189),s=Math.ceil,n=Math.max;t.exports=function(e,t,i){t=(i?r(e,t,i):void 0===t)?1:n(a(t),0);var o=null==e?0:e.length;if(!o||t<1)return[];for(var d=0,u=0,c=Array(s(o/t));d<o;)c[u++]=l(e,d,d+=t);return c}},4641139:e=>{e.v(JSON.parse('{"previous":"Previous","next":"Next","selectedDateDescription":"Selected Date: {date, date, full}","selectedRangeDescription":"Selected Range: {start, date, long} to {end, date, long}","todayDate":"Today, {date, date, full}","todayDateSelected":"Today, {date, date, full} selected","dateSelected":"{date, date, full} selected","startRangeSelectionPrompt":"Click to start selecting date range","finishRangeSelectionPrompt":"Click to finish selecting date range"}'))},8033676:e=>{"use strict";e.s({Calendar:()=>t});let t=(0,e.i(6895406).withNewIcon)('<path fill-rule="evenodd" clip-rule="evenodd" d="M5.5 0.5V1.25V2H10.5V1.25V0.5H12V1.25V2H14H15.5V3.5V13.5C15.5 14.8807 14.3807 16 13 16H3C1.61929 16 0.5 14.8807 0.5 13.5V3.5V2H2H4V1.25V0.5H5.5ZM2 3.5H14V6H2V3.5ZM2 7.5V13.5C2 14.0523 2.44772 14.5 3 14.5H13C13.5523 14.5 14 14.0523 14 13.5V7.5H2Z" fill="currentColor"/>')},3432213:e=>{"use strict";e.s({Clock:()=>t});let t=(0,e.i(6895406).withNewIcon)('<path fill-rule="evenodd" clip-rule="evenodd" d="M14.5 8C14.5 11.5899 11.5899 14.5 8 14.5C4.41015 14.5 1.5 11.5899 1.5 8C1.5 4.41015 4.41015 1.5 8 1.5C11.5899 1.5 14.5 4.41015 14.5 8ZM16 8C16 12.4183 12.4183 16 8 16C3.58172 16 0 12.4183 0 8C0 3.58172 3.58172 0 8 0C12.4183 0 16 3.58172 16 8ZM8.75 4.75V4H7.25V4.75V7.875C7.25 8.18976 7.39819 8.48615 7.65 8.675L9.55 10.1L10.15 10.55L11.05 9.35L10.45 8.9L8.75 7.625V4.75Z" fill="currentColor"/>')},1507492:e=>{"use strict";e.s({useScrollEnd:()=>i});var t=e.i(6530772);let i=function(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,[l,r]=(0,t.useState)(!1),[a,s]=(0,t.useState)(!1);return(0,t.useEffect)(()=>{let t=e.current;if(!t)return;let l=()=>{r(t.scrollLeft+t.clientWidth+i>=t.scrollWidth),s(t.scrollLeft<=i)};return l(),t.addEventListener("scroll",l),window.addEventListener("resize",l),()=>{t.removeEventListener("scroll",l),window.removeEventListener("resize",l)}},[e,i]),{start:a,end:l}}},5234314:e=>{e.v({"scroll-content":"mobile-scroll-wrapper-module__7291Ja__scroll-content","tab-shadow-wrapper":"mobile-scroll-wrapper-module__7291Ja__tab-shadow-wrapper","tabs-shadow":"mobile-scroll-wrapper-module__7291Ja__tabs-shadow","tabs-shadow--hidden":"mobile-scroll-wrapper-module__7291Ja__tabs-shadow--hidden","tabs-shadow--left":"mobile-scroll-wrapper-module__7291Ja__tabs-shadow--left",wrapper:"mobile-scroll-wrapper-module__7291Ja__wrapper"})},2180936:e=>{"use strict";e.s({MobileScrollWrapper:()=>s});var t=e.i(6645307),i=e.i(5610210),l=e.i(6530772),r=e.i(1507492),a=e.i(5234314);function s(e){let{children:s,contentStyle:n,contentClassName:o,...d}=e,u=(0,l.useRef)(null),{start:c,end:m}=(0,r.useScrollEnd)(u,20);return(0,t.jsxs)("div",{className:(0,i.clsx)(a.default.wrapper,d.className),style:d.style,children:[(0,t.jsx)("div",{className:(0,i.clsx)(a.default["scroll-content"],o),ref:u,style:n,children:s}),(0,t.jsxs)("div",{className:a.default["tab-shadow-wrapper"],children:[(0,t.jsx)("div",{className:(0,i.clsx)(a.default["tabs-shadow"],a.default["tabs-shadow--left"],{[a.default["tabs-shadow--hidden"]]:c||!m})}),(0,t.jsx)("div",{className:(0,i.clsx)(a.default["tabs-shadow"],{[a.default["tabs-shadow--hidden"]]:m})})]})]})}},9984e3:e=>{"use strict";e.s({EnvironmentSelector:()=>r});var t=e.i(6645307),i=e.i(3621043);let l={production:"Production",preview:"Preview",all:"All environments"};function r(e){var r;let{environment:a,onChange:s}=e;return(0,t.jsxs)(i.Combobox,{clearable:!1,value:a,noInputPrefix:!0,width:"preview"===(r=a)?"101px":"production"===r?"120px":"160px",onChange:e=>{e&&Object.keys(l).includes(e)&&s(e)},noRawSelectedValue:!0,children:[(0,t.jsx)(i.Combobox.Input,{}),(0,t.jsx)(i.Combobox.List,{maxWidth:300,children:Object.entries(l).map(e=>{let[l,r]=e;return(0,t.jsx)(i.Combobox.Option,{value:l,children:r},l)})})]})}},9118498:e=>{"use strict";e.s({useOpenQueryBuilder:()=>p,useQueryBuilderQueryState:()=>m});var t=e.i(6530772),i=e.i(6753602),l=e.i(7573892),r=e.i(9802771),a=e.i(3514588),s=e.i(5535439),n=e.i(2306774),o=e.i(1238354),d=e.i(8551999);let u=Object.entries(i.AllDimensions).map(e=>{let[t,{label:i,type:l}]=e;return{id:t,label:i,type:l}}),c={builder:{defaultValue:!1,onChangeRemoveKeys:["time","metric","by","filter","aggregation"],parseFromUrl:e=>"true"===e,formatToUrl:e=>e.toString()},fullScreen:{defaultValue:!1,parseFromUrl:e=>"true"===e,formatToUrl:e=>e.toString()},time:{defaultValue:"12h",parseFromUrl:e=>{if(e.includes("/")){let[t,i]=e.split("/");return{from:new Date(t),to:new Date(i)}}return e},formatToUrl:e=>"string"==typeof e?e:`${e.from.toISOString()}/${e.to.toISOString()}`},metric:{defaultValue:"incomingRequest.count"},by:{defaultValue:[],formatToUrl:d.serializeBy,parseFromUrl:e=>(0,d.parseBy)(e,u)},filter:{defaultValue:""},aggregation:{defaultValue:"sum"},viewType:{defaultValue:"line"}},m=()=>{let{set:e,state:t}=(0,n.useSearchParamsState)(c);return[t,e]};function p(){let{team:e}=(0,a.useTeam)(),i=(0,o.useSonarQueryScope)(),n=(0,s.usePathname)(),d=(0,s.useRouter)(),u=(0,s.useSearchParams)(),c=i?.type==="project"?i.projectIds[0]:void 0,m=u?.get("period"),p=u?.get("from"),b=u?.get("to");return(0,t.useCallback)(()=>{let t=new URL(n??"",window.location.origin);for(let[e,i]of u?.entries()||[])t.searchParams.set(e,i);t.searchParams.set("builder","true"),c?t.searchParams.set("filter",`projectId eq '${c}'`):t.searchParams.set("by","projectId"),m?t.searchParams.set("time",m):p&&b&&t.searchParams.set("time",`${new Date(1e3*Number(p)).toISOString()}/${new Date(1e3*Number(b)).toISOString()}`),n?.endsWith("vercel-functions")&&t.searchParams.set("metric","serverlessFunctionInvocation.count"),d.push(t.pathname+t.search),l.analytics.track(r.AnalyticsEvent.QUERY_BUILDER_OPENED,{teamId:e?.id,plan:e?.billing?.plan??"hobby",source:"observability-tab-menu"})},[e,c,n,u,d,p,b,m])}},5449323:e=>{"use strict";e.s({OptionsMenu:()=>f});var t=e.i(6645307),i=e.i(653558),l=e.i(2733203),r=e.i(1190215),a=e.i(4105925),s=e.i(555528),n=e.i(5124754),o=e.i(9443759),d=e.i(986386),u=e.i(5535439);e.i(9576255);var c=e.i(329718);e.i(9389778);var m=e.i(1310591),p=e.i(8035362),b=e.i(3585235),h=e.i(5785123);function f(e){let{children:s,className:m}=e,p=(0,u.useParams)(),{hasObservabilityPlusAccess:b,impersonating:h,hasObservabilityPlusSubscribed:f}=(0,d.useHasObservabilityPlus)(),v=(0,c.useOpenEnableModal)();return(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)(r.MenuContainer,{position:"bottom-end",children:[(0,t.jsx)(l.MenuButton,{"aria-label":"More Actions",className:(0,o.cn)("shrink-0",m),shape:"square",svgOnly:!0,type:"secondary",children:(0,t.jsx)(n.MoreHorizontal,{})}),(0,t.jsxs)(i.Menu,{width:230,children:[s,b?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(a.MenuItem,{isLink:!0,href:`/${p?.teamSlug}/~/settings/billing#observability`,children:"Configure Observability Plus"}),(0,t.jsx)(g,{})]}):null,b&&(!h||f)?null:(0,t.jsx)(a.MenuItem,{onClick:()=>v({via:"header-menu"}),children:"Upgrade to Observability Plus"})]})]})})}function g(){let{can:e,isLoading:i}=(0,b.default)(),{isObservabilityPlusForProjectsFlagEnabled:l,toggleObservabilityPlusForProject:r,isCurrentProjectExcluded:s,isValidating:n}=(0,p.useObservabilityPlusForProjects)(),{projectSlug:o}=(0,m.useProjectSlug)();if(!l||!o)return null;let d=!i&&e(h.Action.Update,h.Resource.ObservabilityConfiguration);return s?(0,t.jsx)(a.MenuItem,{disabled:!d||n||i,onClick:()=>{o&&r({projectName:o,disabled:!1})},children:(0,t.jsx)(v,{text:d?void 0:"Please ask your team owners",children:"Include Project in Plus"})}):(0,t.jsx)(a.MenuItem,{disabled:!d||n||i,onClick:()=>{o&&r({projectName:o,disabled:!0})},type:"error",children:(0,t.jsx)(v,{text:d?void 0:"Please ask your team owners",children:"Exclude Project from Plus"})})}function v(e){let{text:i,children:l}=e;return i?(0,t.jsx)(s.Tooltip,{text:i,children:l}):l}},243147:e=>{"use strict";e.s({TabList:()=>s});var t=e.i(6645307),i=e.i(6530772),l=e.i(2362802),r=e.i(5610210),a=e.i(9542446);function s(e){let{routes:l}=e,r=(0,a.useNavLinks)(l,{preserveSearchParams:!0});return(0,i.useMemo)(()=>{let e={heading:"",tabs:[]},t=[e];for(let i of r.links){if(i.isHeading){e={heading:i.label,tabs:[]},t.push(e);continue}e.tabs.push(i)}return t},[r.links]).map(e=>(0,t.jsx)(n,{group:e},e.heading))}function n(e){let{group:i}=e;return(0,t.jsxs)(t.Fragment,{children:[i.heading?(0,t.jsx)("div",{className:"mt-4 text-xs font-medium uppercase text-gray-800",children:i.heading}):null,(0,t.jsx)("div",{className:"flex flex-col overflow-hidden divide-x",children:i.tabs.map(e=>{let{icon:i,label:a,href:s,isActive:n,meta:o}=e;return(0,t.jsxs)(l.Link,{className:(0,r.clsx)("flex flex-row items-center gap-2 rounded border-none px-3 py-2.5 text-sm font-medium no-underline",n?"text-primary  bg-gray-200":"text-gray-900"),href:s,children:[i?(0,t.jsx)(i,{}):null,a,o?.suffix||null]},a)})})]})}},2783149:e=>{"use strict";e.s({TitleChip:()=>a});var t=e.i(6645307),i=e.i(3921802),l=e.i(555528),r=e.i(986386);function a(){let{hasObservabilityPlusSubscribed:e,hasObservabilityPlusAccess:a,impersonating:s}=(0,r.useHasObservabilityPlus)();return a&&!e&&s&&(0,t.jsx)(l.Tooltip,{maxWidth:260,text:(0,t.jsxs)("span",{children:["As you're impersonating, you have a temporary access to Observability Plus.",(0,t.jsx)("br",{}),"Customers do not."]}),children:(0,t.jsx)(i.Badge,{variant:"trial",children:"Temporary access"})})}},693285:e=>{"use strict";e.s({ObservabilityProjectLayout:()=>j},693285);var t=e.i(6645307),i=e.i(889716),l=e.i(8084653),r=e.i(3921802),a=e.i(6530772),s=e.i(243147),n=e.i(5012192),o=e.i(2306774),d=e.i(3602900);e.i(9576255);var u=e.i(9720336),c=e.i(329718),m=e.i(2794091),p=e.i(2783149),b=e.i(3514588),h=e.i(5454140),f=e.i(4922888),g=e.i(6532952),v=e.i(9967693),x=e.i(5535439),y=e.i(2240289),w=e.i(986386);function S(){let e=(0,x.usePathname)(),t=(0,x.useParams)(),i=(0,w.useHasObservabilityPlus)(),{team:l}=(0,b.useTeam)(),{user:r}=(0,h.useUser)(),{data:s}=(0,y.useProject)(t?.project),n=(0,v.computeRoute)(e,t);return(0,a.useEffect)(()=>{r?.uid&&l?.id&&i.ready&&(0,g.trackInSnowflake)(f.Topic.VercelObservabilityV0Activity,{user_id:r.uid,team_id:l.id,project_id:s?.id??null,route:n,path:e,access:i.hasObservabilityPlusAccess?"plus":"free",action:"pageview",plan:l.billing?.plan},"vercel-app")},[l?.id,r?.uid,s?.id,i.ready,i.hasObservabilityPlusAccess,n,e,l?.billing?.plan]),null}var C=e.i(3797922);function j(e){let{customMenuItem:b,children:h}=e,{state:f}=(0,o.useSearchParamsState)({enableModal:{defaultValue:"none"}}),g=(0,c.useOpenEnableModal)();return(0,a.useEffect)(()=>{"show"===f.enableModal&&g({via:"deep-link"})},[f.enableModal,g]),(0,t.jsxs)(d.SonarContextProvider,{children:[(0,t.jsx)(n.QueryBuilderDrawer,{}),(0,t.jsx)(i.Stack,{className:"tailwind-preflight",children:(0,t.jsxs)("div",{className:"flex flex-1 flex-col",children:[(0,t.jsx)("div",{className:"w-full border-b md:py-8",children:(0,t.jsxs)("div",{className:"container flex flex-col justify-between gap-2 py-6 md:flex-row md:items-center md:py-0",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(l.Text,{as:"h1",size:32,weight:500,children:"Observability"}),(0,t.jsx)(p.TitleChip,{})]}),(0,t.jsx)("div",{className:"md:ml-auto",children:(0,t.jsx)(m.HeaderControls,{})})]})}),(0,t.jsx)("div",{className:"relative mt-8 flex-1",children:(0,t.jsxs)("div",{className:"container flex flex-col gap-6 pb-10 md:flex-row",children:[(0,t.jsxs)("div",{className:"flex min-w-[209px] flex-col gap-2",children:[(0,t.jsx)(s.TabList,{routes:[{label:"Overview",route:"/[teamSlug]/[project]/observability"},"/[teamSlug]/~/observability/notebooks",{heading:"Compute"},"/[teamSlug]/[project]/observability/vercel-functions","/[teamSlug]/[project]/observability/edge-functions","/[teamSlug]/[project]/observability/external-apis","/[teamSlug]/[project]/observability/middleware",{route:"/[teamSlug]/[project]/observability/runtime-cache"},{route:"/[teamSlug]/[project]/observability/sandboxes",meta:{suffix:(0,t.jsx)(C.default,{size:"sm"})}},{heading:"Edge Network"},"/[teamSlug]/[project]/observability/edge-requests","/[teamSlug]/[project]/observability/fast-data-transfer","/[teamSlug]/[project]/observability/image-optimization","/[teamSlug]/[project]/observability/isr","/[teamSlug]/~/observability/blob",{heading:"Deployments"},"/[teamSlug]/[project]/observability/build-diagnostics",{heading:"Services"},"/[teamSlug]/[project]/observability/ai",{route:"/[teamSlug]/[project]/observability/queues",meta:{suffix:(0,t.jsx)(C.default,{size:"sm"})}},{heading:"Early Access"},"/[teamSlug]/[project]/observability/tracing","/[teamSlug]/[project]/observability/errors",{route:"/[teamSlug]/[project]/observability/metrics",meta:{suffix:(0,t.jsx)(r.Badge,{children:"Internal"})}}]}),b||null]}),(0,t.jsx)("div",{className:"flex-1",children:h})]})})]})}),(0,t.jsx)(u.EnableModal,{}),(0,t.jsx)(S,{})]})}}}]);

//# sourceMappingURL=8a3f6aa6ae0cd4e5.js.map
//# debugId=e29352a0-69ee-50e7-b95b-6d5d07d473a9
