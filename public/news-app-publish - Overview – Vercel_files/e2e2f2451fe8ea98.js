
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="538dc791-4b98-5c17-bcbc-53b6c2f67806")}catch(e){}}();
(globalThis.TURBOPACK=globalThis.TURBOPACK||[]).push(["object"==typeof document?document.currentScript:void 0,{8676674:e=>{e.v({iconContainer:"env-variables-icon-module__0YD5da__iconContainer"})},4506396:[e=>{"use strict";e.s({default:()=>m},4506396);var t=e.i(6645307),n=e.i(5610210),a=e.i(5299128),r=e.i(5165976),i=e.i(5175803),s=e.i(878537),l=e.i(5440190),o=e.i(6799491),d=e.i(180368);let c=()=>(0,t.jsxs)("svg",{fill:"none",height:"16",viewBox:"0 0 16 16",width:"16",xmlns:"http://www.w3.org/2000/svg",children:[(0,t.jsx)("path",{d:"M2.66675 4.66675V2.66675H13.3334V4.66675",stroke:"#666666",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5"}),(0,t.jsx)("path",{d:"M6 13.3333H10",stroke:"#666666",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5"}),(0,t.jsx)("path",{d:"M8 2.66675V13.3334",stroke:"#666666",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5"})]});var u=e.i(8676674);function m(e){let{env:m}=e,{data:v}=(0,l.default)(m?.configurationId),{data:p}=(0,o.useIntegration)(v?.integrationId);if(!m.configurationId)if("plain"===m.type)return(0,t.jsx)(s.default,{center:!0,className:(0,n.clsx)(u.default.iconContainer,"plaintextIconContainer"),children:(0,t.jsx)(c,{})});else if("system"===m.type)return(0,t.jsx)(s.default,{center:!0,className:(0,n.clsx)(u.default.iconContainer,"systemIconContainer"),children:(0,t.jsx)(d.default,{color:"var(--accents-5)",width:16})});else if("encrypted"===m.type)return(0,t.jsx)(s.default,{center:!0,className:(0,n.clsx)(u.default.iconContainer,"encryptedIconContainer"),children:(0,t.jsx)(a.Code,{color:"gray-700"})});else if("sensitive"===m.type)return(0,t.jsx)(s.default,{center:!0,className:(0,n.clsx)(u.default.iconContainer,"sensitiveIconContainer"),children:(0,t.jsx)(r.LockClosed,{color:"gray-700"})});else return(0,t.jsx)(s.default,{center:!0,className:(0,n.clsx)(u.default.iconContainer,"secretIconContainer"),children:(0,t.jsx)(r.LockClosed,{color:"gray-700"})});return(0,t.jsx)(i.Avatar,{className:"integrationIcon",hash:p?.icon,placeholder:!v||!p,size:30})}e.s({default:()=>R,formatEnvValueWithNewline:()=>B},2579249);var v=e.i(6530772),p=e.i(7569501),h=e.i(2362802),x=e.i(8811733),g=e.i(7918027),y=e.i(631755),f=e.i(1917237),j=e.i(4789498),b=e.i(1268665),E=e.i(8934201),_=e.i(584439),k=e.i(6649026),S=e.i(1183506),C=e.i(9336536),w=e.i(3514588),T=e.i(2448773);e.s({useSecrets:()=>L},1207628);var I=e.i(3521787),N=e.i(3585235),P=e.i(5785123);function L(){let{config:e,id:t,noRequest:n=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{isReady:a,team:r}=(0,w.useTeam)(),{can:i,isLoading:s}=(0,N.default)(),l=i(P.Action.Read,P.Resource.Secrets),o=a&&!s&&!n&&l;return(0,I.default)(()=>o?`${C.API_SECRETS}${(0,k.encode)({teamId:r?.id,id:t})}`:null,e=>(0,S.fetchAPI)(e,{throwOnHTTPError:!0}),e)}var V=e.i(1389821),A=e.i(2240289);let B=e=>e.startsWith("-----BEGIN PRIVATE KEY-----\\n")&&e.endsWith("\\n-----END PRIVATE KEY-----\\n")?e.replace(/\\n/g,"\n"):e,R=e=>{let{active:n,initialSecretName:a,onCancel:r,onAdd:i}=e,[l,o]=(0,v.useState)(""),[d,c]=(0,v.useState)(""),[u,m]=(0,v.useState)(void 0),[I,N]=(0,v.useState)(!1),{team:P}=(0,w.useTeam)(),R=(0,_.useToasts)(),{data:O}=L(),{data:M}=(0,A.useProject)((0,V.useProjectIdOrName)());(0,v.useEffect)(()=>{n&&o(e=>{if(e)return e;let t=(0,p.default)(a||M?.name||"");return O?.secrets.find(e=>e.name.toLowerCase()===t.toLowerCase())?`${t}-${Math.random().toString(36).substring(9)}`:t})},[a,n,M,O]);let D=async()=>{N(!0);let e=await (0,S.fetchAPI)(`${C.API_SECRETS}${(0,k.encode)({teamId:P?.id})}`,{method:"POST",body:JSON.stringify({name:l,value:d}),throwOnHTTPError:!1});N(!1),e.error?m(e.error):(i(e.uid),R.success("Created Secret successfully."))},F=(0,v.useCallback)(()=>{m(void 0),c(""),o("")},[]);return(0,t.jsxs)(E.Modal.Modal,{active:n,onAnimationDone:F,onClickOutside:r,width:"420px",children:[(0,t.jsxs)(E.Modal.Body,{children:[(0,t.jsxs)(s.default,{center:!0,children:[(0,t.jsx)(T.default,{h4:!0,style:{fontWeight:500,margin:0},children:"Add Secret"}),(0,t.jsx)(T.default,{center:!0,preset:"body-2",style:{color:"var(--accents-5)"},children:"Secrets contain sensitive information, are encrypted and also available across all projects."})]}),(0,t.jsx)("main",{children:(0,t.jsxs)("form",{className:"form",onSubmit:async e=>{e?.preventDefault(),await D()},children:[(0,t.jsx)(s.default,{children:(0,t.jsx)(j.Label,{value:"Value",children:(0,t.jsx)(g.Textarea,{"aria-label":"Value",autoFocus:!0,disabled:I,name:"add-secret-value",onChange:e=>{c(B(e.target.value))},placeholder:"i9ju23nf39nunu3asn",rows:2,value:d,width:"100%"})})}),(0,t.jsx)(x.Spacer,{y:1}),(0,t.jsx)(s.default,{children:(0,t.jsx)(j.Label,{id:"add-secret-name",value:"Name",withInput:!0,children:(0,t.jsx)(y.Input,{disabled:I,id:"add-secret-name",name:"add-secret-name",onChange:e=>{o(e.target.value)},placeholder:"secret-name",prefix:"@",style:{height:40},value:l,width:"100%"})})}),(0,t.jsx)(x.Spacer,{}),(0,t.jsxs)("span",{children:[(0,t.jsxs)("span",{style:{color:"var(--accents-5)"},children:["You will be able to reuse this Secret in multiple Projects using this name."," "]}),(0,t.jsx)(h.Link,{external:!0,href:"/docs/environment-variables#secrets",type:"highlight",children:"Learn More"})]}),u?(0,t.jsxs)(t.Fragment,{children:[" ",(0,t.jsx)(x.Spacer,{y:.5})," ",(0,t.jsx)(f.Error,{error:u})," "]}):null]})})]}),(0,t.jsxs)(E.Modal.Actions,{children:[(0,t.jsx)(E.Modal.Action,{onClick:r,type:"secondary",children:"Cancel"}),(0,t.jsxs)(E.Modal.Action,{disabled:I,onClick:D,children:[I?(0,t.jsx)(b.LoadingDots,{}):null,!I&&"Create Secret"]})]})]})}},[1207628,2579249]],2280752:e=>{"use strict";e.s({default:()=>s});var t=e.i(3521787),n=e.i(6649026),a=e.i(1183506),r=e.i(9336536),i=e.i(3514588);function s(e,s){let{isReady:l,team:o}=(0,i.useTeam)();return(0,t.default)(()=>e&&l?`${(0,r.API_PROJECTS_VERSION)("v7")}/${encodeURIComponent(e)}/system-env-values${(0,n.encode)({teamId:o?.id})}`:"",e=>(0,a.fetchAPI)(e,{throwOnHTTPError:!0}),s)}},5680923:e=>{e.v({amber:"index-module__G9ddHW__amber",hidden:"index-module__G9ddHW__hidden",muted:"index-module__G9ddHW__muted",overlay:"index-module__G9ddHW__overlay",symbol:"index-module__G9ddHW__symbol",tooltipContainer:"index-module__G9ddHW__tooltipContainer",tooltipContainerContainer:"index-module__G9ddHW__tooltipContainerContainer",tooltipContent:"index-module__G9ddHW__tooltipContent"})},8229052:e=>{e.v({container:"tev-key-input-module__L-kdSa__container",inputSpacer:"tev-key-input-module__L-kdSa__inputSpacer",monoInput:"tev-key-input-module__L-kdSa__monoInput",overlay:"tev-key-input-module__L-kdSa__overlay",tooltipContainer:"tev-key-input-module__L-kdSa__tooltipContainer",tooltipContainerContainer:"tev-key-input-module__L-kdSa__tooltipContainerContainer",tooltipContent:"tev-key-input-module__L-kdSa__tooltipContent",warn:"tev-key-input-module__L-kdSa__warn"})},4167406:[e=>{"use strict";e.s({EnvVariableValueOverlay:()=>u},4167406);var t=e.i(6645307),n=e.i(6530772),a=e.i(5610210),r=e.i(889716),i=e.i(555528),s=e.i(3277953),l=e.i(2769324),o=e.i(2198335),d=e.i(1790199),c=e.i(5680923);function u(e){let{value:u,width:v,id:p,className:h}=e,[x,g]=(0,n.useState)(!1),y=0===u.length,f=y?" ":u.replace(/\n$/,"\n "),j=y?[]:f.split(""),b=!y&&/^\s+/gm.exec(f),E=!y&&/\s+$/gm.exec(f),_=f.includes("\r")||f.includes("\n"),k=f.includes("\0"),S=[];return b&&E?S.push("starts and ends with whitespace"):b?S.push("starts with whitespace"):E&&S.push("ends with whitespace"),_&&S.push("has return characters"),k&&S.push("contains null characters"),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("pre",{"aria-hidden":"true",className:(0,a.clsx)(c.default.overlay,h),style:{width:v??"100%"},children:m(j).map((e,n)=>e.class?(0,t.jsx)("span",{className:(0,a.clsx)(c.default.symbol,e.class),children:e.symbol},n):(0,t.jsx)("span",{className:c.default.hidden,children:e.symbol},n))}),(0,t.jsx)(l.AnimatePresence,{children:S.length>0&&!x?(0,t.jsx)(o.motion.div,{animate:{opacity:1},"aria-label":`This value ${S.join(" and ")}.`,className:c.default.tooltipContainerContainer,exit:{opacity:0},id:p,initial:{opacity:0},transition:{duration:0},children:(0,t.jsx)(o.motion.div,{animate:{opacity:1},className:c.default.tooltipContainer,exit:{opacity:0,transition:{duration:0}},initial:{opacity:0},children:!x&&(0,t.jsx)(i.Tooltip,{"aria-label":"Hide warning",as:"button",delay:!1,htmlType:"button",onClick:()=>{g(!0)},sticky:!0,text:(0,t.jsx)(r.Stack,{align:"center",className:c.default.tooltipContent,direction:"row",gap:2,justify:"space-between",onClick:e=>{e.stopPropagation()},children:(0,t.jsxs)(d.Balancer,{children:["This value ",S.join(" and "),"."]})}),children:(0,t.jsx)(s.Warning,{size:14})})})},"tooltip"):null})]})}let m=e=>{let t=v(e),n=v([...e].reverse()),a=e.slice(0,t),r=e.slice(t,e.length-n),i=e.slice(e.length-n,e.length);return[...a.map(e=>({symbol:p[e].symbol||p[" "].symbol,class:c.default.amber})),...r.map(e=>{let t=p[e];return t?{symbol:t.symbol,class:t.class||c.default.muted}:{symbol:e}}),...i.map((e,t)=>t===i.length-1&&"\n"===i[t-1]&&" "===i[t]?{symbol:e}:{symbol:p[e].symbol||p[" "].symbol,class:c.default.amber})]};function v(e){let t=/^\s+$/;for(let n=0;n<e.length;n++)if(!t.test(e[n]))return n;return -1}let p={"\n":{symbol:"↵\n",class:c.default.amber},"\r":{symbol:"↵\n",class:c.default.amber},"	":{symbol:"⇥",class:c.default.amber},"\v":{symbol:"␋",class:c.default.amber}," ":{symbol:"␣"},"\f":{symbol:"␌",class:c.default.amber}," ":{symbol:"␣"}," ":{symbol:"␣"},"​":{symbol:"␣"},"‌":{symbol:"␣"},"‍":{symbol:"␣"},"\u2028":{symbol:"␣"},"\u2029":{symbol:"␣"}," ":{symbol:"␣"}," ":{symbol:"␣"},"　":{symbol:"␣"},"\uFEFF":{symbol:"␣"}};e.s({EnvVariableKeyInput:()=>_},8659401);var h=e.i(631755),x=e.i(8084653),g=e.i(5179557),y=e.i(5535439),f=e.i(2240289),j=e.i(1389821),b=e.i(5002066),E=e.i(8229052);function _(e){let{inputRef:n,isErrorState:a,disabled:i,testId:s,onChange:l,id:o,placeholder:d,value:c,onPaste:u}=e,m=C(c);return(0,t.jsxs)(r.Stack,{flex:1,children:[(0,t.jsxs)(r.Stack,{className:E.default.container,children:[(0,t.jsx)(h.Input,{"aria-label":"environment variable key",className:E.default.monoInput,"data-testid":s,disabled:i,id:o,label:n?"key":null,maxLength:256,onChange:l,onPaste:u,placeholder:d,ref:n,style:{paddingRight:m?"36px":"12px"},type:a?"error":"default",value:c}),(0,t.jsx)(w,{inputRef:n,keyValue:c})]}),(0,t.jsx)("div",{className:E.default.inputSpacer})]})}let k=["NEXT_PUBLIC_","VUE_APP_","REACT_APP_","GATSBY_","GRIDSOME_","NUXT_PUBLIC_","STORYBOOK_","VITE_","PUBLIC_"],S=["password","key","private","access_token","access","auth","secret","jwt","signature"],C=e=>{let t=T();return(t?[...k,t]:k).find(t=>e.toLowerCase().startsWith(t.toLowerCase()))};function w(e){let{keyValue:d,inputRef:c}=e,[u,m]=(0,n.useState)(d),[v,p]=(0,n.useState)(!1),[h,y]=(0,n.useState)(!1),f=C(d),j=`${f||""} exposes this value to the browser. Verify it is safe to share publicly`,b=(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(x.Text,{as:"span",monospace:!0,size:12,weight:500,children:f})," ","exposes this value to the browser. Verify it is safe to share publicly."]}),_=!!f,k=function(e){let t=RegExp(S.join("|"),"i").exec(e);return t?t[0]:null}(d);return null!==k&&(j=`This key, which is prefixed with ${f||""} and includes the term ${k}, might expose sensitive information to the browser. Verify it is safe to share publicly.`,b=(0,t.jsxs)(t.Fragment,{children:["This key, which is prefixed with"," ",(0,t.jsx)(x.Text,{as:"span",monospace:!0,size:12,weight:500,children:f})," ","and includes the term"," ",(0,t.jsx)(x.Text,{as:"span",monospace:!0,size:12,weight:500,children:k}),", might expose sensitive information to the browser. Verify it is safe to share publicly."]})),(0,n.useEffect)(()=>{v&&d!==u&&p(!1)},[v,d,u]),(0,g.useInterval)(()=>{c?.current&&y(c.current.scrollWidth>c.current.clientWidth+4&&0===c.current.scrollLeft)},50),(0,t.jsx)(l.AnimatePresence,{children:_&&f&&!v?(0,t.jsxs)(o.motion.div,{animate:{opacity:1},"aria-label":j,className:E.default.tooltipContainerContainer,exit:{opacity:0},initial:{opacity:0},transition:{duration:0},children:[(0,t.jsx)(o.motion.div,{animate:{opacity:+!!h},className:E.default.overlay,style:{pointerEvents:"none"},transition:{duration:0}}),(0,t.jsx)(o.motion.div,{animate:{opacity:1},className:(0,a.clsx)(E.default.tooltipContainer,{[E.default.warn]:k}),exit:{opacity:0,transition:{duration:0}},initial:{opacity:0},children:(0,t.jsx)(i.Tooltip,{"aria-label":"Hide warning",as:"button",delay:!1,htmlType:"button",onClick:()=>{p(!0),m(d)},sticky:!0,text:(0,t.jsx)(r.Stack,{align:"center",className:E.default.tooltipContent,direction:"row",gap:2,justify:"space-between",onClick:e=>{e.stopPropagation()},children:(0,t.jsx)("span",{children:b})}),children:(0,t.jsx)(s.Warning,{size:14})})})]},"tooltip"):null})}let T=()=>{let{data:e}=(0,f.useProject)((0,j.useProjectIdOrName)()),{data:t}=(0,f.useProject)(e?.id),n=(0,y.useParams)()?.teamSlug,a=t?.framework,r=!1;(void 0===a||"sveltekit-1"!==a&&"sveltekit-2"!==a)&&(r=!0);let i=t?.targets?.production?.id;void 0===i&&(r=!0);let s=new URL(`/api/v7/deployments/${i||""}/files/get`,"https://vercel.com");s.searchParams.append("path","svelte.config.js");let{data:l}=(0,b.useFileContent)(r?null:{type:"file",name:"svelte.config.js",link:s.toString(),mime:"application/javascript"},n);return void 0!==l&&"string"==typeof l?function(e){let t=/publicPrefix:\s*'(?<value>[^']*)'/.exec(e);return t?t[1]:null}(l):null}},[8659401]],9675010:e=>{"use strict";e.s({CustomEnvironmentEnvVarPicker:()=>P,INCLUDE_ALL_CUSTOM_ENVIRONMENTS_ID:()=>N,useCustomEnvironmentsPrettyLabel:()=>B},9675010);var t=e.i(6645307),n=e.i(6530772),a=e.i(2385909),r=e.i(5674541),i=e.i(8247297),s=e.i(3821772),l=e.i(889716),o=e.i(8084653),d=e.i(555528),c=e.i(869010);let u=(0,e.i(6895406).withNewIcon)('<path fill-rule="evenodd" clip-rule="evenodd" d="M7.25 15V11.0311C7.25 10.2613 6.41667 9.78019 5.75 10.1651L2.31287 12.1495L1.56287 10.8505L5.00006 8.86602C5.66673 8.48112 5.66673 7.51886 5.00006 7.13396L1.5629 5.14952L2.3129 3.85048L5.75 5.83489C6.41667 6.21979 7.25 5.73867 7.25 4.96886V1H8.75V4.96894C8.75 5.73874 9.58333 6.21986 10.25 5.83496L13.6872 3.85048L14.4372 5.14952L11.0001 7.13396C10.3334 7.51886 10.3334 8.48112 11.0001 8.86602L14.4373 10.8505L13.6873 12.1495L10.25 10.165C9.58333 9.78012 8.75 10.2612 8.75 11.031V15H7.25Z" fill="currentColor"/>');var m=e.i(4237550),v=e.i(3138389),p=e.i(3741818),h=e.i(5165976),x=e.i(9945435),g=e.i(5339882),y=e.i(5610210),f=e.i(2769324),j=e.i(2198335),b=e.i(3003613),E=e.i(5333425),_=e.i(3509620),k=e.i(1164214),S=e.i(1389821),C=e.i(3156464),w=e.i(3447305),T=e.i(1629961),I=e.i(2240289);let N=(0,E.brandCustomEnvId)("applyToAllCustomEnvironments");function P(e){let{canCreateProductionEnvVars:n,disabled:d=!1,onChange:c,selectedEnvironmentIds:v=new Set([E.PreviewEnvironment.id,E.DevelopmentEnvironment.id]),isPreviewEnvironment:p,disableDevelopmentEnvironment:h}=e,x=(0,S.useProjectIdOrName)(),g=""===x,{isLoading:y,isAllPreProductionEnvironmentsIndeterminate:f,isAllPreProductionEnvironmentsSelected:j,preProductionEnvironmentIds:b,hasCustomEnvironments:_,customEnvironments:k,label:C,icon:w}=B({selectedEnvironmentIds:v,isPreviewEnvironment:p}),{data:P}=(0,I.useProject)(p?x:void 0),{data:A=[]}=(0,T.useProjectBranches)(p?P?.id:void 0),R=e=>t=>{if(p)c([e]);else{let n=new Set(v);return t?n.add(e):n.delete(e),c(Array.from(n)),n}};return(0,t.jsxs)(a.Root,{children:[(0,t.jsx)(a.Trigger,{asChild:!0,children:(0,t.jsx)(r.Button,{className:"group !justify-between !pl-0 !font-normal",disabled:d,name:"add-form-environments-picker",suffix:(0,t.jsx)(m.ChevronDown,{}),type:"secondary",typeName:"button",width:"100%",children:(0,t.jsxs)(l.Stack,{align:"center",className:"-ml-1.5 h-10",direction:"row",gap:3,children:[(0,t.jsx)("span",{className:"-my-4 grid size-10 shrink-0 place-items-center rounded-l border-r bg-background-200 group-disabled:bg-gray-100",children:y?(0,t.jsx)(s.Spinner,{}):w}),(0,t.jsx)("span",{className:"block w-full gap-2 overflow-hidden text-ellipsis text-gray-1000 ",children:C})]})})}),(0,t.jsx)(a.Portal,{children:(0,t.jsx)("div",{className:"tailwind-preflight",children:(0,t.jsxs)(a.Content,{className:"flex max-h-[calc(var(--radix-popover-content-available-height)-32px)] w-[var(--radix-popover-trigger-width)] flex-col gap-px overflow-auto rounded-lg bg-background-100 p-2 shadow-md",sideOffset:5,children:[!p&&(0,t.jsx)(L,{enabled:v.has(E.ProductionEnvironment.id),env:E.ProductionEnvironment,disabled:n?void 0:"missingPermission",name:"add-form-production",onChange:e=>{R(E.ProductionEnvironment.id)(e)},testId:"production-checkbox"}),(_||g)&&!p?(0,t.jsxs)("label",{className:"group flex h-9 shrink-0 select-none items-center justify-between rounded bg-background-100 px-2 py-[6px] text-gray-1000 transition-colors hover:cursor-pointer hover:bg-gray-alpha-300 focus-visible:bg-gray-alpha-300",children:[(0,t.jsx)(o.Text,{as:"span",className:"transition-colors group-hover:!text-gray-1000",color:"gray-900",size:12,weight:500,children:"Pre-Production Environments"}),(0,t.jsx)(i.Checkbox,{checked:f?j:void 0,indeterminate:!f||void 0,onChange:e=>{let t=new Set(v);b.forEach(n=>{e.target.checked?t.add(n):t.delete(n)}),c(Array.from(t))}})]}):null,(0,t.jsx)(L,{customLabel:"Preview",enabled:v.has(E.PreviewEnvironment.id),env:E.PreviewEnvironment,hideCheckbox:p,name:"add-form-preview",onChange:e=>{R(E.PreviewEnvironment.id)(e)},testId:"preview-checkbox"}),g||p?null:(0,t.jsx)(t.Fragment,{children:k.sort((e,t)=>e.slug.localeCompare(t.slug)).map(e=>(0,t.jsx)(L,{enabled:v.has(e.id),env:e,name:`add-form-custom-environment-${e.slug}`,onChange:t=>{R(e.id)(t)},testId:e.slug},e.id))}),p?(0,t.jsx)(t.Fragment,{children:A.sort((e,t)=>e.ref.localeCompare(t.ref)).filter(e=>e.ref!==P?.link?.productionBranch).map(e=>(0,t.jsx)(V,{branch:e,enabled:v.has((0,E.brandCustomEnvId)(e.ref)),onChange:t=>{R((0,E.brandCustomEnvId)(e.ref))(t)}},e.ref))}):null,!p&&(0,t.jsx)(L,{enabled:v.has(E.DevelopmentEnvironment.id),env:E.DevelopmentEnvironment,disabled:h?"sensitive":void 0,name:"add-form-development",onChange:e=>{R(E.DevelopmentEnvironment.id)(e)},testId:"development-checkbox"}),g?(0,t.jsxs)("label",{className:"flex h-9 shrink-0 select-none items-center justify-between rounded bg-background-100 px-2 py-[6px] text-gray-1000 transition-colors hover:cursor-pointer hover:bg-gray-alpha-300 focus-visible:bg-gray-alpha-300",children:[(0,t.jsxs)("span",{className:"flex items-center gap-2 text-sm",children:[(0,t.jsx)("span",{className:"text-gray-900",children:(0,t.jsx)(u,{})}),(0,t.jsx)("span",{className:"flex gap-1",children:(0,t.jsx)("span",{children:"Include all custom environments"})})]}),(0,t.jsx)(i.Checkbox,{checked:v.has(N),onChange:e=>{R(N)(e.target.checked)}})]}):null]})})})]})}function L(e){let{env:n,onChange:a,enabled:r,hideCheckbox:s,customLabel:l,name:o,testId:c,disabled:u}=e,m=(0,E.isCustomEnvironment)(n),v="missingPermission"===u?`Additional permissions are required to create ${(0,E.envName)(n)} environment variables.`:"Sensitive environment variables cannot be created in the Development environment";return(0,t.jsx)(d.Tooltip,{className:"block",disableTriggers:!u,text:v,children:(0,t.jsxs)("label",{className:`flex h-9 shrink-0 select-none items-center justify-between rounded bg-background-100 px-2 py-[6px] text-gray-1000 transition-colors hover:bg-gray-alpha-300 focus-visible:bg-gray-alpha-300 ${u?"hover:cursor-not-allowed":"hover:cursor-pointer"}`,"data-testid":(0,k.tid)("env-variables","label",l||(0,E.envName)(n)),children:[(0,t.jsxs)("span",{className:"flex w-[calc(100%-16px)] items-center gap-2 text-sm",children:[(0,t.jsx)("span",{className:"text-gray-900",children:(0,t.jsx)(w.EnvironmentIcon,{id:n.id})}),(0,t.jsxs)("span",{className:"flex w-[calc(100%-36px)] gap-1",children:[(0,t.jsx)("span",{className:"overflow-hidden text-ellipsis text-nowrap",children:l||(0,E.envName)(n)}),n.slug&&m?(0,t.jsx)("span",{className:"hidden max-w-[38ch] cursor-pointer truncate rounded-sm bg-gray-100 px-[6px] font-mono text-[13px] leading-5 text-gray-900 outline-0 transition-colors hover:bg-gray-200 focus-visible:shadow-focus-ring active:bg-gray-300 md:inline",children:n.slug}):null]})]}),u?(0,t.jsx)(h.LockClosed,{}):(0,t.jsx)(i.Checkbox,{checked:r,className:(0,y.clsx)(s&&"opacity-0"),"data-testid":(0,k.tid)("env-variables",c),name:o,onChange:e=>{a(e.target.checked)}}),s?(0,t.jsx)(A,{enabled:r}):null]})})}function V(e){let{branch:n,onChange:a,enabled:r}=e;return(0,t.jsxs)("label",{className:(0,y.clsx)("flex h-9 shrink-0 select-none items-center justify-between rounded bg-background-100 px-2 py-[6px] text-gray-1000 transition-colors hover:cursor-pointer hover:bg-gray-alpha-300 focus-visible:bg-gray-alpha-300"),children:[(0,t.jsxs)("span",{className:"flex w-[calc(100%-16px)] items-center gap-2 text-sm",children:[(0,t.jsx)("span",{className:"text-gray-900",children:(0,t.jsx)(v.GitBranch,{})}),(0,t.jsx)("span",{className:"flex w-[calc(100%-36px)] gap-1",children:(0,t.jsx)("span",{className:"overflow-hidden text-ellipsis text-nowrap",children:n.ref})})]}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(i.Checkbox,{checked:r,className:"pointer-events-none absolute inset-0 opacity-0",onChange:e=>{a(e.target.checked)}}),(0,t.jsx)(A,{enabled:r})]})]})}function A(e){let{enabled:n}=e;return(0,t.jsx)(f.AnimatePresence,{initial:!1,children:n?(0,t.jsx)(j.motion.span,{children:(0,t.jsx)(j.motion.svg,{fill:"none",height:"16",viewBox:"0 0 16 16",width:"16",xmlns:"http://www.w3.org/2000/svg",children:(0,t.jsx)(j.motion.path,{animate:{strokeDashoffset:0,opacity:1,transition:{duration:.15,ease:"easeIn"}},d:"M1.5 10L4.29289 12.7929C4.68342 13.1834 5.31658 13.1834 5.70711 12.7929L14.5 4",exit:{strokeDashoffset:0,opacity:0,transition:{duration:.2}},initial:{strokeDashoffset:1},pathLength:"1",stroke:"currentColor",strokeLinecap:"butt",strokeLinejoin:"round",strokeWidth:"1.5px",style:{strokeDasharray:"1"}})})}):null})}function B(e){let{selectedEnvironmentIds:t,isPreviewEnvironment:a=!1}=e,r=(0,S.useProjectIdOrName)(),{data:{environments:i},isLoading:s}=(0,C.useAllEnvironments)(r),l=""===r,o=i.filter(E.isCustomEnvironment),d=(0,n.useMemo)(()=>l?[E.PreviewEnvironment.id,E.DevelopmentEnvironment.id,N]:[E.PreviewEnvironment.id,E.DevelopmentEnvironment.id,...o.map(e=>e.id)],[o,l]),c=(0,n.useMemo)(()=>d.every(e=>t.has(e)),[d,t]),u=(0,n.useMemo)(()=>d.some(e=>t.has(e))?d.every(e=>t.has(e)):d.every(e=>!t.has(e)),[d,t]),m=o.length>0,{label:v,icon:p,environmentNamesList:h}=(0,n.useMemo)(()=>R({selectedEnvironmentIds:t,environments:i,isAllPreProductionEnvironmentsSelected:c,isPreviewEnvironment:a}),[t,i,a,c]);return{isLoading:s,isAllPreProductionEnvironmentsSelected:c,isAllPreProductionEnvironmentsIndeterminate:u,hasCustomEnvironments:m,preProductionEnvironmentIds:d,customEnvironments:o,label:v,environmentNamesList:h,icon:p}}let R=e=>{let{selectedEnvironmentIds:n,environments:a,isPreviewEnvironment:r,isAllPreProductionEnvironmentsSelected:i}=e;if(r&&1===n.size){let e=Array.from(n),r=a.find(t=>t.id===e[0]);return r&&r.id===(0,E.brandCustomEnvId)(_.EnvTarget.Preview)?{environmentNamesList:["Preview"],label:"Preview",icon:(0,t.jsx)(x.PreviewEye,{color:"gray-900"})}:{environmentNamesList:[e[0]],label:e[0],icon:(0,t.jsx)(v.GitBranch,{color:"gray-900"})}}if(0===n.size)return{environmentNamesList:[],label:"No Environments",icon:(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(p.Layers,{color:"gray-900"}),(0,t.jsx)("div",{className:"absolute left-px top-0 box-content h-[1.5px] w-[131%] origin-top-left rotate-[44deg] bg-gray-900",style:{borderBottom:"1.5px solid var(--ds-background-200)"}})]})};if(n.has(E.ProductionEnvironment.id)&&i)return{environmentNamesList:["Production","Preview","Development","All Custom Environments"],label:"All Environments",icon:(0,t.jsx)(p.Layers,{color:"gray-900"})};if(i)return{environmentNamesList:["All Pre-Production Environments"],label:"All Pre-Production Environments",icon:(0,t.jsx)(p.Layers,{color:"gray-900"})};if(1===n.size){if(n.has(N))return{environmentNamesList:["All Custom Environments"],label:"All Custom Environments",icon:(0,t.jsx)(p.Layers,{color:"gray-900"})};let e=a.find(e=>e.id===Array.from(n)[0]);if(void 0===e)return{environmentNamesList:["All Custom Environments"],label:"All Custom Environments",icon:(0,t.jsx)(p.Layers,{color:"gray-900"})};if(e.id===(0,E.brandCustomEnvId)(_.EnvTarget.Production))return{environmentNamesList:["Production"],label:"Production",icon:(0,t.jsx)(c.ArrowCircleUp,{color:"gray-900"})};if(e.id===(0,E.brandCustomEnvId)(_.EnvTarget.Preview))return{environmentNamesList:["Preview"],label:"Preview",icon:(0,t.jsx)(x.PreviewEye,{color:"gray-900"})};if(e.id===(0,E.brandCustomEnvId)(_.EnvTarget.Development))return{environmentNamesList:["Development"],label:"Development",icon:(0,t.jsx)(g.Wrench,{color:"gray-900"})}}let s=function(e){let t={Production:1,Preview:2,Development:4,"All Custom Environments":5};return e.sort((e,n)=>{let a=t[e]||3,r=t[n]||3;return a!==r?a-r:3===a&&3===r?e.localeCompare(n):0})}(Array.from(n).flatMap(e=>{let t=a.find(t=>t.id===e);return t?[(0,E.envName)(t)]:[]}));if(n.has(N)&&s.push("All Custom Environments"),s.length>3){let e=s.slice(0,3),n=s.slice(3),a=[...e,`${n.length} more`];return{environmentNamesList:s,label:`${(0,b.toListSentence)(a)}`,icon:(0,t.jsx)(p.Layers,{color:"gray-900"})}}return{environmentNamesList:s,label:`${(0,b.toListSentence)(s)}`,icon:(0,t.jsx)(p.Layers,{color:"gray-900"})}}},1031329:e=>{e.v({envVarValueSensitive:"env-variables-edit-form-module__FkdT-q__envVarValueSensitive",envVarValueSensitiveText:"env-variables-edit-form-module__FkdT-q__envVarValueSensitiveText",mono:"env-variables-edit-form-module__FkdT-q__mono",overlay:"env-variables-edit-form-module__FkdT-q__overlay",textarea:"env-variables-edit-form-module__FkdT-q__textarea"})},2724892:e=>{"use strict";e.s({EnvVariablesEditForm:()=>$},2724892);var t=e.i(6645307),n=e.i(6530772),a=e.i(7315479),r=e.i(5674541),i=e.i(8247297),s=e.i(3621043),l=e.i(1917237),o=e.i(631755),d=e.i(4789498),c=e.i(8158100),u=e.i(5249128),m=e.i(5163670),v=e.i(8811733),p=e.i(7918027),h=e.i(1164214),x=e.i(6649026),g=e.i(1183506),y=e.i(9336536),f=e.i(3509620),j=e.i(3514588),b=e.i(5454140),E=e.i(5535439),_=e.i(7329332),k=e.i(878537),S=e.i(2448773),C=e.i(2579249),w=e.i(8847335),T=e.i(1207628),I=e.i(2240289),N=e.i(5111663),P=e.i(2280752),L=e.i(4167406),V=e.i(8659401),A=e.i(674684),B=e.i(889716),R=e.i(2362802),O=e.i(3585235),M=e.i(5785123),D=e.i(1629961),F=e.i(9675010),G=e.i(7398708);function H(e){let{selectedGitBranch:a,checkedProduction:i,checkedPreview:l,checkedDevelopment:o,setCheckedProduction:c,setCheckedPreview:u,setCheckedDevelopment:m,setSelectedGitBranch:p,onChangeSelectedCustomEnvironmentIds:h,selectedCustomEnvironmentIds:x,disableEnvironmentPicker:g,disableDevelopmentEnvironment:y,hideGitBranchSelector:b}=e,[E,_]=(0,n.useState)(""),[k,S]=(0,n.useState)(!!a),{project:C}=(0,A.useRouter)().query,{data:w}=(0,I.useProject)(C),{teamSlug:T}=(0,j.useTeam)(),{can:N}=(0,O.default)(),P=w?.id,{data:L}=(0,D.useProjectBranches)(P),[,{branches:V}]=(0,G.useProjectDeployedBranches)({project:w,query:E}),H=(0,n.useMemo)(()=>Array.from(new Set([...V||[],...(L||[]).filter(Boolean).map(e=>e.ref)])),[L,V]),z=N(M.Action.Create,M.Resource.ProjectEnvVarsProduction),$=[...x];return i&&$.push(f.EnvTarget.Production),l&&$.push(f.EnvTarget.Preview),o&&$.push(f.EnvTarget.Development),(0,t.jsxs)(B.Stack,{direction:"column",children:[(0,t.jsx)(d.Label,{value:"Environments"}),(0,t.jsxs)(B.Stack,{gap:4,children:[(0,t.jsx)(F.CustomEnvironmentEnvVarPicker,{canCreateProductionEnvVars:z,disabled:g,disableDevelopmentEnvironment:y,onChange:e=>{let t=[],n=[];e.forEach(e=>{(0,f.isSystemEnvTarget)(e)?t.push(e):n.push(e)}),c(t.includes(f.EnvTarget.Production)),u(t.includes(f.EnvTarget.Preview)),m(t.includes(f.EnvTarget.Development)),S(!!(1===t.length&&t.includes(f.EnvTarget.Preview))),h(n)},selectedEnvironmentIds:new Set($)}),b?null:(0,t.jsxs)(B.Stack,{align:"stretch",direction:"row",flex:"1",gap:3,justify:"flex-start",children:[(0,t.jsx)(r.Button,{onClick:()=>{c(!1),u(!0),h([]),m(!1),S(e=>!e),k&&p(null)},size:"small",type:"secondary",typeName:"button",variant:"invert",children:k?"Cancel":"Select a custom Preview branch"}),k?w?.link?(0,t.jsxs)(s.Combobox,{onChange:e=>p(e||""),placeholder:"All Preview Branches",size:"small",value:a||null,children:[(0,t.jsx)(s.Combobox.Input,{onChange:e=>_(e.target.value.trim()),trimValue:!0}),(0,t.jsxs)(s.Combobox.List,{emptyMessage:"No preview branches",children:[(0,t.jsx)(t.Fragment,{children:E&&!H.find(e=>e===E)?(0,t.jsx)(s.Combobox.Option,{displayValue:!0,value:E||"",children:`Use "${E}"`}):null}),(0,t.jsx)(t.Fragment,{children:H.map(e=>{let n=String(w.link?.productionBranch)===e;return n?null:(0,t.jsx)(s.Combobox.Option,{disabled:n,value:e,children:e},e)})})]})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(v.Spacer,{y:.5}),(0,t.jsx)(R.ButtonLink,{as:`/${T}/${w?.name}/settings/git`,href:"/[teamSlug]/[project]/settings/git",type:"secondary",children:"Connect Git Repository"})]}):null]})]})]})}var z=e.i(1031329);function $(e){let{envVariable:A,onDiscard:B,onSave:R,onSecretAdd:O,disableEnvironmentPicker:M,disableNameInput:D,disableComment:F,disableEnvironmentInput:G,customSave:$,editTextareaValueProps:W}=e,[U,Y]=(0,n.useState)(A.type),[Z,q]=(0,n.useState)({value:A.key,edited:!1}),[K,J]=(0,n.useState)({value:A.comment,edited:!1}),[X,Q]=(0,n.useState)(()=>U===f.EnvType.Plain?A.value:""),[ee,et]=(0,n.useState)(()=>U===f.EnvType.Encrypted&&A.decrypted?A.value:""),[en,ea]=(0,n.useState)(!1),er=(0,n.useId)(),ei=Array.isArray(A.target)?A.target:[A.target],es=A.type===f.EnvType.Secret&&ei.includes(f.EnvTarget.Development),[el,eo]=(0,n.useState)(ei.includes(f.EnvTarget.Production)),[ed,ec]=(0,n.useState)(ei.includes(f.EnvTarget.Preview)),[eu,em]=(0,n.useState)(ei.includes(f.EnvTarget.Development)),[ev,ep]=(0,n.useState)(A.customEnvironmentIds||[]),{data:eh}=(0,T.useSecrets)(),{team:ex}=(0,j.useTeam)(),{user:eg}=(0,b.useUser)(),{project:ey,envIdOrSlug:ef}=(0,E.useParams)()||{},{data:ej}=(0,I.useProject)(ey),[eb,eE]=(0,n.useState)(void 0),e_=ex?.id;(0,n.useEffect)(()=>{A.decrypted&&et(A.value)},[A.decrypted,A.value]);let ek=(0,n.useMemo)(()=>eh?.secrets.map(e=>({label:`@${e.name}`,value:e.uid}))??[],[eh]),[eS,eC]=(0,n.useState)(A.gitBranch),{data:ew}=(0,P.default)(ey),[eT,eI]=(0,n.useState)(!1),[eN,eP]=(0,n.useState)(""),[eL,eV]=(0,n.useState)(()=>U===f.EnvType.Secret?A.value:null),[eA,eB]=(0,n.useState)(()=>U===f.EnvType.System?A.value:null),eR=(0,n.useCallback)(e=>{if("create-new-secret"===e)return void eI(!0);null===e&&eP(""),eV(e)},[eI,eV,eP]),eO=(0,n.useCallback)(e=>{if((eB(e),null!==e)&&(!Z.value||!Z.edited))switch(ej?.framework){case"nextjs":q({edited:!1,value:`NEXT_PUBLIC_${e}`});break;case"create-react-app":q({edited:!1,value:`REACT_APP_${e}`})}},[Z,ej]),{open:eM}=(0,N.useSaveAndRedeploy)(ej),eD=(0,n.useCallback)(async()=>{ea(!0);let e="";switch(U){case f.EnvType.Plain:e=X;break;case f.EnvType.Secret:e=eL;break;case f.EnvType.System:e=eA;break;case f.EnvType.Encrypted:case f.EnvType.Sensitive:e=ee}let t=[];el&&t.push(f.EnvTarget.Production),ed&&t.push(f.EnvTarget.Preview),eu&&t.push(f.EnvTarget.Development);try{let n=eS||null,a=U===f.EnvType.Sensitive?{value:e||void 0,target:t,gitBranch:n,comment:K.value}:{key:Z.value,value:e,target:t,type:U,gitBranch:n,comment:K.value};if(a.customEnvironmentIds=ev,$)await $(a);else{let e=await (0,g.fetchAPI)(`${(0,y.API_PROJECTS_VERSION)("v7")}/${ey}/env/${A.id}${(0,x.encode)({teamId:e_})}`,{method:"PATCH",body:JSON.stringify(a),throwOnHTTPError:!0});R(e),eM("Updated Environment Variable successfully.")}}catch(e){eE((0,a.normalizeError)(e))}ea(!1)},[R,$,Z,K,X,eL,eA,ee,ey,e_,eu,ed,el,A,U,eS,ev,eM]);(0,n.useEffect)(()=>{let e=e=>{(e.metaKey||e.ctrlKey)&&13===e.keyCode&&"TEXTAREA"===e.target.tagName&&eD()};return window.addEventListener("keydown",e),()=>{window.removeEventListener("keydown",e)}},[eD]);let eF=(0,n.useMemo)(()=>(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(d.Label,{value:"Type"}),(0,t.jsx)(u.RadioGroup,{label:"Environment Variable Type",onChange:e=>{Y(e),es||e!==f.EnvType.Secret||em(!1)},value:U,children:(0,t.jsxs)(k.default,{direction:["column","row","row"],gap:0,style:{fontSize:"14px"},children:[(0,t.jsx)(u.RadioGroup.Item,{value:f.EnvType.Plain,children:"Plaintext"}),(0,t.jsx)(v.Spacer,{x:1,y:.5}),(0,t.jsx)(u.RadioGroup.Item,{value:f.EnvType.Secret,children:"Secret"}),(0,t.jsx)(v.Spacer,{x:1,y:.5}),(0,t.jsx)(u.RadioGroup.Item,{value:f.EnvType.System,children:"Provided by System"})]})})]}),[U,em,es]),eG=(0,n.useMemo)(()=>(0,t.jsx)(k.default,{flex:.5,children:(0,t.jsx)(d.Label,{value:"Value",children:(0,t.jsxs)(s.Combobox,{disabled:es,onChange:eR,placeholder:"Select Secret...",value:eL,children:[(0,t.jsx)(s.Combobox.Input,{className:"edit-var-select-secret",onChange:e=>eP(e.target.value)}),(0,t.jsxs)(s.Combobox.List,{children:[(0,t.jsx)(s.Combobox.Option,{value:"create-new-secret",children:eN?`Create new Secret "${eN}" for ${ex?.name??eg?.name??eg?.username}`:`Create a new Secret for ${ex?.name??eg?.name??eg?.username}`}),(0,t.jsx)(t.Fragment,{children:ek.map(e=>(0,t.jsx)(s.Combobox.Option,{value:e.value,children:e.label},e.value))})]})]})})}),[eP,eR,ek,es,eN,eL,ex,eg]),eH=(0,n.useMemo)(()=>(0,t.jsx)(k.default,{flex:.5,children:(0,t.jsx)(d.Label,{value:"Value",children:(0,t.jsxs)(s.Combobox,{onChange:eO,placeholder:"Select System Environment Variable...",value:eA,children:[(0,t.jsx)(s.Combobox.Input,{}),(0,t.jsx)(s.Combobox.List,{children:ew?.systemEnvValues.map(e=>(0,t.jsx)(s.Combobox.Option,{value:e,children:e},e))})]})})}),[ew,eO,eA]),ez=(0,n.useMemo)(()=>(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(v.Spacer,{y:.5}),(0,t.jsx)(d.Label,{value:"Value",children:(0,t.jsx)(p.Textarea,{onChange:e=>Q((0,C.formatEnvValueWithNewline)(e.target.value)),placeholder:"i9ju23nf39nunu3asn",rows:3,value:X,width:"100%"})})]}),[X,Q]),e$=!A.decrypted;return(0,t.jsxs)(_.EntityForm,{footerNote:(()=>{if(!M)return!1;let e=ei.length>1,t=ev.length>1;return e||t||ei.length>0&&ev.length>0})()?(0,t.jsx)(c.Note,{type:"warning",children:"Editing this environment variable will affect multiple environments."}):null,primaryAction:(0,t.jsx)(r.Button,{"data-testid":(0,h.tid)("env-variables-edit-form","save-button"),loading:en,onClick:eD,size:"small",children:"Save"}),secondaryAction:(0,t.jsx)(r.Button,{onClick:B,size:"small",type:"secondary",children:"Cancel"}),children:[(0,t.jsxs)(k.default,{direction:"column",children:[(0,t.jsxs)(k.default,{flex:3,gap:0,children:[es?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(c.Note,{size:"small",children:["Secrets can no longer be used in the Development Environment. ",'Please switch this Environment Variable to the "Plaintext" type in order to edit its value.']}),(0,t.jsx)(v.Spacer,{y:.5})]}):null,![f.EnvType.Encrypted,f.EnvType.Sensitive].includes(U)&&(0,t.jsxs)(t.Fragment,{children:[eF,(0,t.jsx)(v.Spacer,{y:.5})]}),(0,t.jsx)(k.default,{children:(0,t.jsxs)(k.default,{direction:["column","row","row"],gap:.5,children:[(0,t.jsx)(k.default,{flex:[f.EnvType.Plain,f.EnvType.Encrypted,f.EnvType.Sensitive].includes(U)?1:.5,children:(0,t.jsx)(d.Label,{value:"Name",children:(0,t.jsx)(V.EnvVariableKeyInput,{disabled:U===f.EnvType.Sensitive||D,id:"edit-env-name",onChange:e=>q({edited:!0,value:e.target.value}),onPaste:e=>{if(X||ee)return;let t=Object.entries((0,w.parseEnv)(e.clipboardData.getData("text")));if(0===t.length||t.length>1)return;e.preventDefault();let n=t[0],a=n[0],r=n[1];q({edited:!0,value:a}),U===f.EnvType.Plain?Q((0,C.formatEnvValueWithNewline)(r)):[f.EnvType.Encrypted,f.EnvType.Sensitive].includes(U)&&et((0,C.formatEnvValueWithNewline)(r))},placeholder:"EXAMPLE_NAME",value:Z.value})})}),U===f.EnvType.Secret?eG:null,U===f.EnvType.System?eH:null]})}),U===f.EnvType.Plain?ez:null,[f.EnvType.Encrypted,f.EnvType.Sensitive].includes(U)&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(v.Spacer,{y:.5}),(0,t.jsx)(d.Label,{value:"Value",children:(0,t.jsxs)(m.Skeleton,{show:U===f.EnvType.Encrypted&&e$,style:{position:"relative"},children:[(0,t.jsx)(p.Textarea,{"aria-describedby":er,onChange:e=>et((0,C.formatEnvValueWithNewline)(e.target.value)),placeholder:"YOUR_SECRET_VALUE_GOES_HERE",rows:6,value:ee,width:"100%",wrapperClassName:z.default.textarea,...W}),(0,t.jsx)(L.EnvVariableValueOverlay,{className:z.default.overlay,id:er,value:ee,width:"100%",...W})]})})]}),[f.EnvType.Encrypted,f.EnvType.Sensitive].includes(U)?null:(0,t.jsx)(()=>(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(v.Spacer,{y:.5}),(0,t.jsx)(S.default,{span:!0,style:{textTransform:"uppercase",fontSize:"0.75rem",fontWeight:500,color:"var(--geist-secondary)"},children:"Environments"}),(0,t.jsx)(v.Spacer,{y:.5}),(0,t.jsxs)(k.default,{direction:["column","row","row"],gap:0,children:[(0,t.jsx)(i.Checkbox,{checked:el,name:"edit-form-production",onChange:()=>eo(!el),children:"Production"}),(0,t.jsx)(v.Spacer,{x:1,y:.5}),(0,t.jsx)(i.Checkbox,{checked:ed,name:"edit-form-preview",onChange:()=>ec(!ed),children:"Preview"}),(0,t.jsx)(v.Spacer,{x:1,y:.5}),(0,t.jsx)(i.Checkbox,{checked:eu,disabled:U===f.EnvType.Secret&&!es||U===f.EnvType.Sensitive,name:"edit-form-development",onChange:()=>em(!eu),children:"Development"})]})]}),{}),(0,t.jsx)(v.Spacer,{y:.5}),(0,t.jsxs)(k.default,{direction:["column","row","row"],gap:.5,children:[F?null:(0,t.jsx)(k.default,{flex:[f.EnvType.Plain,f.EnvType.Encrypted,f.EnvType.Sensitive].includes(U)?1:.5,children:(0,t.jsx)(d.Label,{value:"Comment",children:(0,t.jsx)(o.Input,{id:"edit-env-comment",maxLength:f.ENV_VAR_COMMENT_MAX_LENGTH,onChange:e=>J({edited:!0,value:e.target.value}),placeholder:"A comment explaining what this environment variable is for",value:K.value,width:"100%"})})}),U===f.EnvType.Secret?eG:null,U===f.EnvType.System?eH:null]})]}),[f.EnvType.Encrypted,f.EnvType.Sensitive].includes(U)&&!G?(0,t.jsx)(k.default,{flex:2,children:(0,t.jsx)(H,{checkedDevelopment:eu,checkedPreview:ed,checkedProduction:el,disableEnvironmentPicker:M,disableDevelopmentEnvironment:U===f.EnvType.Sensitive,hideGitBranchSelector:!!(M&&ef!==f.EnvTarget.Preview),onChangeSelectedCustomEnvironmentIds:ep,selectedCustomEnvironmentIds:ev,selectedGitBranch:eS,setCheckedDevelopment:em,setCheckedPreview:ec,setCheckedProduction:eo,setSelectedGitBranch:eC})}):null]}),eb?(0,t.jsxs)(t.Fragment,{children:[" ",(0,t.jsx)(v.Spacer,{y:1})," ",(0,t.jsx)(l.Error,{error:eb})," "]}):null,(0,t.jsx)(C.default,{active:eT,initialSecretName:eN||Z.value,onAdd:e=>{eI(!1),eP(""),eV(e),O()},onCancel:()=>{eI(!1),eP("")}})]})}},4486865:e=>{e.v({button:"copy-text-module__WvBs7a__button"})},8582756:[e=>{"use strict";e.s({CopyInlineCode:()=>d},8582756);var t=e.i(6645307),n=e.i(5610210),a=e.i(8975439);e.s({CopyText:()=>o},2254780);var r=e.i(6530772),i=e.i(555528),s=e.i(8188445),l=e.i(4486865);function o(e){let{children:n,value:a}=e,[o,d]=(0,r.useState)("Click to copy");return(0,t.jsx)(i.Tooltip,{center:!1,cursor:"pointer",delay:!1,desktopOnly:!0,padding:"var(--geist-gap-quarter)",position:"top",style:{minWidth:"0",overflow:"hidden",maxWidth:"100%"},text:o,children:(0,t.jsx)("button",{className:l.default.button,onBlur:()=>{"Copied!"===o&&setTimeout(()=>d("Click to copy"),500)},onClick:()=>{(0,s.copyToClipboard)(a),d("Copied!")},onMouseOut:()=>{"Copied!"===o&&setTimeout(()=>d("Click to copy"),500)},type:"button",children:n})})}function d(e){let{value:r}=e;return(0,t.jsx)(o,{value:r,children:(0,t.jsx)(a.default,{className:(0,n.clsx)("env-var-value","geist-ellipsis"),noWrap:!0,title:r,children:r})})}},[2254780]],9944151:e=>{"use strict";e.s({addSharedEnvs:()=>i});var t=e.i(6649026),n=e.i(1183506),a=e.i(9336536),r=e.i(3509620);async function i(e){let{projectId:i,kvs:s,target:l,type:o=r.EnvType.Encrypted,teamId:d,applyToAllCustomEnvironments:c}=e;return(0,n.fetchAPI)(`${a.API_SHARED_ENV_VARIABLES}${(0,t.encode)({teamId:d})}`,{method:"POST",body:JSON.stringify({evs:s,projectId:i,target:l,type:o,applyToAllCustomEnvironments:c}),throwOnHTTPError:!0})}},385827:e=>{"use strict";e.s({addProjectToSharedEnvVars:()=>l,removeProjectFromSharedEnvVar:()=>s,updateSharedEnvVar:()=>i});var t=e.i(6649026),n=e.i(1183506),a=e.i(9336536),r=e.i(1850076);async function i(e){let{envVar:i,teamId:s,payload:l,applyToAllCustomEnvironments:o}=e,d={};return i.key!==l.key&&(d.key=l.key),i.value!==l.value&&(d.value=l.value),(0,r.arraysEqual)(i.target.sort(),l.target.sort())||(d.target=[...l.target]),l.projectIdUpdates&&(d.projectIdUpdates=l.projectIdUpdates),void 0!==l.comment&&(d.comment=l.comment),void 0!==o&&(d.applyToAllCustomEnvironments=o),(0,n.fetchAPI)(`${a.API_SHARED_ENV_VARIABLES}${(0,t.encode)({teamId:s})}`,{method:"PATCH",body:JSON.stringify({updates:{[i.id]:d}}),throwOnHTTPError:!0})}async function s(e){let{envVar:r,projectId:i,teamId:s}=e,l=`${a.API_SHARED_ENV_VARIABLES}/${r.id}/unlink/${i}${(0,t.encode)({teamId:s})}`;await (0,n.fetchAPI)(l,{method:"PATCH",throwOnHTTPError:!0,body:{}})}async function l(e){let{envVars:r,projectId:i,teamId:s}=e,l={};r.forEach(e=>{if(e.projectId.includes(i))throw Error("Project already added to env var");l[e.id]={projectIdUpdates:{link:[i],unlink:[]}},e.applyToAllCustomEnvironments&&(l[e.id].applyToAllCustomEnvironments=e.applyToAllCustomEnvironments)}),await (0,n.fetchAPI)(`${a.API_SHARED_ENV_VARIABLES}${(0,t.encode)({teamId:s})}`,{method:"PATCH",body:JSON.stringify({updates:l}),throwOnHTTPError:!0})}},1216900:e=>{e.v({bold:"tev-environments-selector-module__yCytCa__bold",selectGitBranch:"tev-environments-selector-module__yCytCa__selectGitBranch",truncate:"tev-environments-selector-module__yCytCa__truncate"})},2670520:[e=>{"use strict";e.s({EnvironmentVariablesReducer:()=>T,initialEnvVariableFormState:()=>w},2670520);var t=e.i(2902869),n=e.i(6236262),a=e.i(3509620),r=e.i(8847335);e.s({TEVEnvironmentSelector:()=>_,getEnvironmentTargets:()=>k,getEnvironmentTargetsStateFromEnv:()=>S},9476544);var i=e.i(6645307),s=e.i(6530772),l=e.i(5535439),o=e.i(5674541),d=e.i(3621043),c=e.i(4789498),u=e.i(889716),m=e.i(3514588),v=e.i(604868),p=e.i(5333425),h=e.i(2362802),x=e.i(3585235),g=e.i(5785123),y=e.i(2240289),f=e.i(1629961),j=e.i(9675010),b=e.i(7398708),E=e.i(1216900);function _(e){let{dispatch:t,state:n,mustBeSensitive:a,teamId:r,variant:l,gitBranch:d,restrictToEnvironmentIds:m,disableEnvironmentPicker:h,disableDevelopmentEnvironment:y}=e,{can:f,isLoading:b}=(0,x.default)({teamId:r}),E=(0,v.useIsTablet)()||"project"===l,_=n.target,k=_.production||_.preview,S=f(g.Action.Create,"project"===l?g.Resource.ProjectEnvVarsProduction:g.Resource.SharedEnvVarsProduction);(0,s.useEffect)(()=>{!b&&(S||t({type:"update_target",payload:{target:{production:!1}}}),(n.sensitive||a)&&k&&t({type:"update_target",payload:{target:{development:!1}}}))},[S,b,a,n.sensitive,k,_.production,t]);let w=!!m?.length,T=m?.length===1&&m[0]===p.PreviewEnvironment.id;(0,s.useEffect)(()=>{if(m?.length)if(T)t({type:"update_custom_environment_target",payload:{target:{customEnvironmentIds:[],development:!1,preview:!0,production:!1}}});else{let e=[],n=[];m.forEach(t=>{["production","development","preview"].includes(t)?e.push(t):n.push(t)}),t({type:"update_custom_environment_target",payload:{target:{customEnvironmentIds:n,applyToAllCustomEnvironments:n.includes(j.INCLUDE_ALL_CUSTOM_ENVIRONMENTS_ID),development:e.includes("development"),preview:e.includes("preview"),production:e.includes("production")}}})}},[t,T,m]);let I=w?T&&!h:!h;return(0,i.jsxs)(u.Stack,{gap:+!!E,children:[(0,i.jsx)(c.Label,{value:"Environments"}),(0,i.jsxs)(u.Stack,{gap:4,children:[(0,i.jsx)(j.CustomEnvironmentEnvVarPicker,{canCreateProductionEnvVars:S,disabled:w||h,disableDevelopmentEnvironment:y,isPreviewEnvironment:T,onChange:e=>{if(m?.length&&!T)return;if(T&&1===e.length){let n="preview"===e[0]?void 0:e[0];n&&t({type:"set_git_branch_name",payload:{branchName:n}}),t({type:"update_custom_environment_target",payload:{target:{customEnvironmentIds:[],development:!1,preview:!0,production:!1,gitBranch:!!n}}});return}let n=[],a=[];e.forEach(e=>{["production","development","preview"].includes(e)?n.push(e):a.push(e)}),t({type:"update_custom_environment_target",payload:{target:{customEnvironmentIds:a,development:n.includes("development"),preview:n.includes("preview"),production:n.includes("production"),gitBranch:!1,applyToAllCustomEnvironments:a.includes(j.INCLUDE_ALL_CUSTOM_ENVIRONMENTS_ID)}}})},selectedEnvironmentIds:new Set(m?.length?m:[...n.target.customEnvironmentIds,n.target.production&&"production",n.target.development&&"development",n.target.preview&&"preview",n.target.applyToAllCustomEnvironments&&j.INCLUDE_ALL_CUSTOM_ENVIRONMENTS_ID].filter(Boolean))}),"project"===l&&I?(0,i.jsxs)(u.Stack,{align:"stretch",direction:"row",flex:"1",gap:3,justify:"flex-start",children:[(0,i.jsx)(o.Button,{onClick:()=>{t({type:"update_target",payload:{target:{customEnvironmentIds:[],production:!1,development:!1,preview:!0,gitBranch:!_.gitBranch}}})},size:"small",type:"secondary",typeName:"button",variant:"invert",children:_.gitBranch?"Cancel":"Select a custom Preview branch"}),_.gitBranch?(0,i.jsx)(C,{checkedState:_,dispatch:t,gitBranch:d}):null]}):null]})]})}function k(e){let t=[];return e.development&&t.push(a.EnvTarget.Development),e.preview&&t.push(a.EnvTarget.Preview),e.production&&t.push(a.EnvTarget.Production),t}function S(e){return{production:e.target.includes(a.EnvTarget.Production),preview:e.target.includes(a.EnvTarget.Preview),development:e.target.includes(a.EnvTarget.Development),gitBranch:!!e.gitBranch,customEnvironmentIds:e.applyToAllCustomEnvironments?[j.INCLUDE_ALL_CUSTOM_ENVIRONMENTS_ID]:[],applyToAllCustomEnvironments:e.applyToAllCustomEnvironments}}function C(e){let{gitBranch:t,checkedState:n,dispatch:a}=e,r=(0,l.useParams)()?.project,{data:o}=(0,y.useProject)(r),{teamSlug:c}=(0,m.useTeam)(),v=o?.id,{data:p}=(0,f.useProjectBranches)(v),[,{branches:x}]=(0,b.useProjectDeployedBranches)({project:o,query:t}),g=(0,s.useMemo)(()=>Array.from(new Set([...x||[],...(p||[]).filter(Boolean).map(e=>e.ref)])),[p,x]);return n.gitBranch?o?.link?(0,i.jsx)(u.Stack,{direction:"row",gap:4,children:(0,i.jsxs)(d.Combobox,{className:E.default.selectGitBranch,onChange:e=>a({type:"set_git_branch_name",payload:{branchName:e||void 0}}),placeholder:"All Preview Branches",size:"small",value:t||null,children:[(0,i.jsx)(d.Combobox.Input,{onChange:e=>{a({type:"set_git_branch_name",payload:{branchName:e.target.value.trim()||void 0}})},trimValue:!0}),(0,i.jsxs)(d.Combobox.List,{emptyMessage:"No preview branches",maxWidth:450,children:[(0,i.jsx)(i.Fragment,{children:t&&!g.find(e=>e===t)?(0,i.jsx)(d.Combobox.Option,{displayValue:!0,value:t||"",children:`Use "${t}"`}):null}),(0,i.jsx)(i.Fragment,{children:g.map(e=>{let t=String(o.link?.productionBranch)===e;return t?null:(0,i.jsx)(d.Combobox.Option,{disabled:t,value:e,children:e},e)})})]})]})}):(0,i.jsx)(u.Stack,{direction:"row",gap:4,children:(0,i.jsx)(h.ButtonLink,{as:`/${c}/${o?.name}/settings/git`,href:"/[teamSlug]/[project]/settings/git",size:"small",type:"secondary",children:"Connect Git Repository"})}):null}let w={kvs:[{key:"",value:"",tempId:(0,t.default)("env_"),comment:""}],projects:[],target:{development:!0,production:!0,preview:!0,gitBranch:!1,customEnvironmentIds:[]},error:void 0,isProcessing:!1,gitBranch:""},T=(e,i)=>(0,n.produce)(e,e=>{switch(i.type){case"add_new_kv":return e.kvs=[...e.kvs,{key:"",value:"",tempId:(0,t.default)("env_")}],e;case"remove_kv":return e.kvs=e.kvs.filter(e=>e.tempId!==i.payload.id),0===e.kvs.length&&(e.kvs=[{key:"",value:"",tempId:(0,t.default)("env_")}]),e;case"update_kv":return e.kvs[i.payload.index]={...e.kvs[i.payload.index],...i.payload.update},e.error&&(e.error.envVarIds=e.error.envVarIds.filter(t=>t!==e.kvs[i.payload.index].tempId)),e;case"prefill_form":{let{envVar:t}=i.payload;return e.kvs=[{key:t.key,value:t.value,tempId:t.id}],e.target=S(t),e.gitBranch=t.gitBranch||"",e.projects=t.projects??[],e.sensitive=t.type===a.EnvType.Sensitive,e}case"update_target":return e.target={...e.target,...i.payload.target},e.target.preview||(e.gitBranch=void 0,e.target.gitBranch=!1),e;case"update_custom_environment_target":return e.target={...e.target,...i.payload.target},e;case"add_project":{let{project:t}=i.payload;return e.projects.find(e=>e.id===t.id)||(e.projects=[...e.projects,t]),e}case"remove_project":{let{id:t}=i.payload;return e.projects=e.projects.filter(e=>e.id!==t),e}case"error":return e.error={errorObject:i.payload.error,envVarIds:e.kvs.map(e=>e.tempId)},e;case"processing":return e.isProcessing=i.payload.isProcessing,e;case"sensitive":return e.sensitive=i.payload.sensitive,e;case"reset":return e.kvs=w.kvs,e.projects=w.projects,e.error=w.error,e.sensitive=w.sensitive,e;case"import_file":{let{fileData:n,insertAtIndex:a}=i.payload,s=Object.entries((0,r.parseEnv)(n));if(0===s.length)return e;return e.kvs=[...e.kvs.slice(0,a),...s.map(e=>{let[n,a]=e;return{key:n,value:a,tempId:(0,t.default)("env_")}}),...e.kvs.slice(a+1)],e}case"set_git_branch_name":{let{branchName:t}=i.payload;return e.gitBranch=t,e}case"form_submitted":{let{response:t}=i.payload;if(0===t.failed.length)return e.kvs=w.kvs,e.projects=w.projects,e.error=w.error,e;let n=e.kvs.filter(e=>!t.created.find(t=>t.key===e.key));return e.kvs=n,e.error={errorObject:t.failed[0].error,envVarIds:n.map(e=>e.tempId)},e}default:return e}})},[9476544]],6572169:e=>{"use strict";e.s({default:()=>s});var t=e.i(6645307),n=e.i(5674541),a=e.i(7573892),r=e.i(9802771),i=e.i(9362924);let s=e=>{let s=(0,i.useDisabled)(e.disabled),l=e.loading??e.swr?.isLoadingMore,o="Load More";return!e.swr?.initialDataLoaded||e.swr?.isReachingEnd?null:(0,t.jsx)(n.Button,{type:"secondary",width:"100%",...e,disabled:s,loading:l,onClick:t=>{let n=e.onClick??e.swr?.loadMore;n?.(t),a.analytics.track(r.AnalyticsEvent.CLICK_EVENT,{click_name:"dashboard_cta",click_value:o})},children:o})}},913923:e=>{e.v({container:"input-module__1EzHua__container",error:"input-module__1EzHua__error",input:"input-module__1EzHua__input",keyboardFocus:"input-module__1EzHua__keyboardFocus",large:"input-module__1EzHua__large",mediumSmall:"input-module__1EzHua__mediumSmall",noPrefixStyle:"input-module__1EzHua__noPrefixStyle",noSuffixStyle:"input-module__1EzHua__noSuffixStyle",prefix:"input-module__1EzHua__prefix",small:"input-module__1EzHua__small",suffix:"input-module__1EzHua__suffix",xSmall:"input-module__1EzHua__xSmall"})},9426986:e=>{e.v({bold:"tev-add-form-module__PZYaGG__bold",button:"tev-add-form-module__PZYaGG__button",commentField:"tev-add-form-module__PZYaGG__commentField",container:"tev-add-form-module__PZYaGG__container "+e.i(913923).container,dragEffectBackground:"tev-add-form-module__PZYaGG__dragEffectBackground",envVarsForm:"tev-add-form-module__PZYaGG__envVarsForm",error:"tev-add-form-module__PZYaGG__error "+e.i(913923).error,keyboardFocus:"tev-add-form-module__PZYaGG__keyboardFocus",label:"tev-add-form-module__PZYaGG__label",large:"tev-add-form-module__PZYaGG__large",projectList:"tev-add-form-module__PZYaGG__projectList",projectName:"tev-add-form-module__PZYaGG__projectName",selectedProjectEntity:"tev-add-form-module__PZYaGG__selectedProjectEntity",small:"tev-add-form-module__PZYaGG__small",textAreaHeight:"tev-add-form-module__PZYaGG__textAreaHeight",textarea:"tev-add-form-module__PZYaGG__textarea "+e.i(913923).input,textareaInput:"tev-add-form-module__PZYaGG__textareaInput",textareaStack:"tev-add-form-module__PZYaGG__textareaStack",textareaWrapper:"tev-add-form-module__PZYaGG__textareaWrapper",viewValueButton:"tev-add-form-module__PZYaGG__viewValueButton"})},352162:e=>{e.v({popoverBottom:"styled-combobox-module__rI3xva__popoverBottom",popoverShadow:"styled-combobox-module__rI3xva__popoverShadow",projectOptionList:"styled-combobox-module__rI3xva__projectOptionList",themeBorder:"styled-combobox-module__rI3xva__themeBorder"})},615958:e=>{"use strict";e.s({StyledCombobox:()=>s});var t=e.i(6645307),n=e.i(6530772),a=e.i(5610210),r=e.i(3621043),i=e.i(352162);function s(e){let{items:s,selectedItems:l,hideSelectedItems:o,placeholderText:d,OptionComponent:c,search:u,setSearch:m,onChange:v,ListFooterComponent:p,disabled:h,size:x,classNames:g}=e,[y,f]=(0,n.useState)(!1),j=(0,n.useMemo)(()=>o?s.filter(e=>!l.find(t=>e.id===t.id)):s,[o,s,l]);return(0,t.jsxs)(r.Combobox,{className:(0,a.clsx)(i.default.portal,g?.combobox),disabled:h,onChange:v,onChangeOpen:f,placeholder:d,size:x,value:u,children:[(0,t.jsx)(r.Combobox.Input,{className:(0,a.clsx)(i.default.themeBorder,i.default.inputBox,{[i.default.popoverShadow]:y},g?.input),onChange:e=>{m(e.target.value)}}),(0,t.jsx)(r.Combobox.List,{ListFooterComponent:p,avoidCollisions:!1,className:(0,a.clsx)(i.default.projectOptionList,i.default.themeBorder,i.default.popoverBottom,i.default.popoverShadow,g?.list),children:j.map(e=>(0,t.jsx)(c,{item:e},e.id))})]})}},8356184:e=>{"use strict";e.s({TEVProjectSelectComponent:()=>b});var t=e.i(6645307),n=e.i(6530772),a=e.i(5674541),r=e.i(3621043),i=e.i(4789498),s=e.i(5163670),l=e.i(889716),o=e.i(503726),d=e.i(6960707),c=e.i(3431702),u=e.i(7337588),m=e.i(2145411),v=e.i(3604170),p=e.i(6572169),h=e.i(5751047),x=e.i(841144),g=e.i(1657292),y=e.i(1389821),f=e.i(9426986),j=e.i(615958);function b(e){let{dispatch:n,selectedProjects:a,SWRDataToWaitFor:r}=e,{data:d}=(0,h.useFrameworks)(),{account:c}=(0,o.useAccount)();return(0,t.jsx)(l.Stack,{direction:"column",children:(0,t.jsx)(i.Label,{value:"Link to Projects",children:(0,t.jsx)(l.Stack,{flex:1,gap:4,children:(0,t.jsxs)(x.EnsureSWRData,{data:[c,d,...r],fallback:(0,t.jsx)(s.Skeleton,{height:40,width:"100%"}),children:[(0,t.jsx)(_,{selectProject:e=>{n({type:"add_project",payload:{project:e}})},selectedProjects:a}),!!a.length&&(0,t.jsx)(l.Stack,{flex:1,children:a.map(e=>(0,t.jsx)(E,{project:e,removeProject:()=>{n({type:"remove_project",payload:{id:e.id}})}},e.id))})]})})})})}function E(e){let{project:n,removeProject:r}=e,i=(0,y.useFramework)(n);return(0,t.jsxs)(u.Entity,{actions:(0,t.jsx)(a.Button,{"aria-label":"remove row",className:f.default.button,onClick:()=>{r(n)},style:{"--themed-bg":"var(--ds-gray-1000)"},svgOnly:!0,type:"tertiary",children:(0,t.jsx)(d.MinusCircle,{})}),className:f.default.selectedProjectEntity,thumbnail:(0,t.jsx)(v.EntityThumbnail,{size:20,wrap:!0,children:i?(0,t.jsx)(g.FrameworkIcon,{framework:i,size:20}):null}),children:[(0,t.jsx)(m.EntityField,{className:f.default.bold,title:n.name}),n.targets?.production?.alias?.[0]?(0,t.jsx)(m.EntityField,{description:n.targets.production.alias[0]}):null]},n.id)}function _(e){let{selectedProjects:a,selectProject:r}=e,[i,l]=(0,n.useState)(""),[o,d]=(0,c.useProjectListInfinite)({limit:20,latestDeployments:0,search:i},{},!1,!0);if(void 0===o.data)return(0,t.jsx)(s.Skeleton,{height:40,width:"100%"});let{projects:u}=d;return(0,t.jsx)(j.StyledCombobox,{ListFooterComponent:(0,t.jsx)(p.default,{swr:d}),OptionComponent:k,classNames:{list:f.default.projectList},hideSelectedItems:!0,items:u,onChange:e=>{let t=u.find(t=>t.name===e)??null;t&&r(t)},placeholderText:"Search for a Project to link to...",search:i,selectedItems:a,setSearch:l})}function k(e){let{item:n}=e,a=(0,y.useFramework)(n);return(0,t.jsx)(r.Combobox.Option,{prefix:a?(0,t.jsx)(g.FrameworkIcon,{framework:a,size:24}):void 0,suffix:n.targets?.production?.alias?.[0]??void 0,truncateSuffix:!0,value:n.name,children:(0,t.jsx)("span",{className:f.default.projectName,children:n.name})})}},2271621:e=>{"use strict";e.s({TEVInputSection:()=>T});var t=e.i(6645307),n=e.i(6530772),a=e.i(5610210),r=e.i(8811733),i=e.i(4789498),s=e.i(889716),l=e.i(5674541),o=e.i(631755),d=e.i(1917237),c=e.i(5867762),u=e.i(6960707),m=e.i(1209519),v=e.i(1635782),p=e.i(5015782),h=e.i(5165976),x=e.i(2192580),g=e.i(1164214),y=e.i(3509620),f=e.i(9362924),j=e.i(567017),b=e.i(2592067),E=e.i(4167406),_=e.i(8659401),k=e.i(8847335),S=e.i(9426986);let C=(0,n.forwardRef)((e,u)=>{let{disabled:m,label:x,resize:y,width:_,error:k,type:C,size:T,className:I,wrapperClassName:N,spellCheck:P=!1,autoCapitalize:L="off",autoComplete:V="off",autoCorrect:A="off",isEditing:B=!1,isSensitive:R=!1,inputType:O,...M}=e,D=(0,j.useId)("aria"),F=x?i.Label:"label",{focusProps:G,isFocusVisible:H}=(0,c.useFocusRing)({isTextInput:!0}),z={...x?{value:x,withInput:!0,className:(0,a.clsx)(N,S.default.label)}:{className:N}},$=(0,f.useDisabled)()||m,W=(0,j.useId)("textarea-"),U=(0,b.useType)(k?"error":C),[Y,Z]=(0,n.useState)(!!R);(0,n.useEffect)(()=>{Z(!!R)},[R]);let q=Y||R&&B,K=!!(R&&!B)&&(0,t.jsx)(l.Button,{"aria-label":"Toggle sensitive value visibility",className:(0,a.clsx)(S.default.button,S.default.viewValueButton,"!-mr-1 !ml-3"),onClick:()=>Z(!Y),svgOnly:!0,title:"Toggle sensitive value visibility",type:"secondary",typeName:"button",children:Y?(0,t.jsx)(v.Eye,{size:16,style:{flexShrink:0}}):(0,t.jsx)(p.EyeOff,{size:16,style:{flexShrink:0}})});return(0,t.jsxs)(F,{"data-version":"v1",...z,children:[(0,t.jsxs)(s.Stack,{className:(0,a.clsx)(S.default.textareaStack,q?S.default.textAreaHeight:""),direction:"row",children:[(0,t.jsx)("div",{className:(0,a.clsx)(S.default.container,U,S.default.textareaWrapper),children:q?(0,t.jsx)(o.Input,{...M,autoCapitalize:L,autoComplete:V,autoCorrect:A,className:(0,a.clsx)(S.default.textarea,U,{[S.default.large]:"large"===T,[S.default.small]:"small"===T},I,S.default.textareaInput),"data-testid":(0,g.tid)("env-variables","add-form","value-input"),disabled:$,innerWrapperClassName:"!shadow-none",prefix:R&&B?(0,t.jsx)(h.LockClosed,{size:16}):null,prefixStyling:!1,ref:u,spellCheck:P,typeName:O,width:_??"100%"}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("textarea",{"aria-describedby":D,...M,autoCapitalize:L,autoComplete:V,autoCorrect:A,className:(0,a.clsx)(S.default.textarea,U,{[S.default.large]:"large"===T,[S.default.small]:"small"===T,[String(S.default.keyboardFocus)]:H},I,S.default.textareaInput),"data-testid":(0,g.tid)("env-variables","add-form","value-input"),disabled:$,ref:u,spellCheck:P,style:{resize:y,width:_},...G}),(0,t.jsx)(E.EnvVariableValueOverlay,{id:D,value:M.value,width:_})]})}),K]}),k?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(r.Spacer,{y:.5}),(0,t.jsx)(d.Error,{"data-testid":M["data-testid"]?(0,g.tid)(M["data-testid"],"error"):void 0,error:k,id:`${W}-error`,size:w[T||"small"],style:{width:_}})]}):null]})}),w={xSmall:"small",small:"small",mediumSmall:"small",large:"large"};function T(e){let{kvs:n,dispatch:a,enableBulk:r=!1,isEditing:i=!1,firstInputRef:o,error:d,isSensitive:c}=e;return(0,t.jsxs)(s.Stack,{direction:"column",gap:4,children:[n.map((e,n,s)=>(0,t.jsx)(I,{dispatch:a,enableBulk:r,index:n,inputRef:0===n?o:void 0,isEditing:i,isErrorState:d?.envVarIds.includes(e.tempId),isSensitive:c,kv:e},e.tempId)),r?(0,t.jsx)(s.Stack,{align:"stretch",direction:"row",flex:"1",gap:3,justify:"flex-start",children:(0,t.jsx)(l.Button,{onClick:()=>a({type:"add_new_kv"}),prefix:(0,t.jsx)(m.PlusCircle,{}),size:"small",type:"secondary",typeName:"button",children:"Add Another"})}):null]})}function I(e){let{inputRef:a,dispatch:r,index:i,kv:d,enableBulk:c=!1,isEditing:m=!1,isErrorState:v,isSensitive:p}=e,[h,f]=(0,n.useState)(!!p),[j,b]=(0,n.useState)(!1),E=(0,n.useRef)(null);return(0,n.useEffect)(()=>{f(!!p)},[p]),(0,t.jsxs)(s.Stack,{align:"stretch",direction:"column",flex:"1",gap:3,justify:"space-evenly",children:[(0,t.jsxs)(s.Stack,{align:"stretch",direction:"row",flex:"1",gap:3,justify:"space-evenly",children:[(0,t.jsx)(_.EnvVariableKeyInput,{disabled:!!p&&m,inputRef:a,isErrorState:v,onChange:e=>{r({type:"update_kv",payload:{index:i,update:{key:e.target.value}}})},onPaste:e=>{c&&0!==Object.entries((0,k.parseEnv)(e.clipboardData.getData("text"))).length&&(e.preventDefault(),r({type:"import_file",payload:{fileData:e.clipboardData.getData("text"),insertAtIndex:i}}))},placeholder:"e.g. CLIENT_KEY",testId:(0,g.tid)("env-variables","add-form","name-input"),value:d.key}),(0,t.jsx)(s.Stack,{flex:1,children:(0,t.jsx)(C,{"aria-label":"shared environment variable value",autoCapitalize:"off",autoComplete:"off",autoCorrect:"off",inputType:h&&!m?"password":"text",isEditing:m,isSensitive:p,label:a?"value":null,onChange:e=>r({type:"update_kv",payload:{index:i,update:{value:e.target.value}}}),type:v?"error":"default",placeholder:p&&m?"This value is sensitive":void 0,value:d.value})}),(0,t.jsxs)(s.Stack,{align:"flex-end",direction:"row",gap:2,children:[(0,t.jsx)(l.Button,{"aria-label":"Toggle add note","aria-pressed":j?"true":"false",className:S.default.button,onClick:()=>{b(e=>{let t=!e;return t?setTimeout(()=>{E.current&&E.current.focus()},0):r({type:"update_kv",payload:{index:i,update:{comment:""}}}),t})},svgOnly:!0,title:"Toggle add note",type:"secondary",typeName:"button",children:(0,t.jsx)(x.PencilEdit,{size:16,style:{flexShrink:0}})}),c?(0,t.jsx)(l.Button,{"aria-label":"remove row",className:S.default.button,onClick:()=>r({type:"remove_kv",payload:{id:d.tempId}}),svgOnly:!0,title:"Delete row",type:"secondary",typeName:"button",children:(0,t.jsx)(u.MinusCircle,{size:16,style:{flexShrink:0}})}):(0,t.jsx)("div",{"aria-hidden":!0,style:{width:40}})]})]}),j?(0,t.jsx)(o.Input,{"aria-label":"shared environment variable comment",id:"comment",innerWrapperClassName:a?void 0:S.default.commentField,label:a?"Note":null,maxLength:y.ENV_VAR_COMMENT_MAX_LENGTH,onChange:e=>r({type:"update_kv",payload:{index:i,update:{comment:e.target.value}}}),placeholder:"A note explaining what this environment variable is for",ref:E,value:d.comment,wrapperClassName:a?S.default.commentField:void 0}):null]})}C.displayName="Textarea"},9821426:e=>{e.v({fullWidthHR:"full-width-hr-module__8ZqTOq__fullWidthHR"})},6378483:e=>{"use strict";e.s({FullWidthHR:()=>r});var t=e.i(6645307),n=e.i(654868),a=e.i(9821426);function r(){return(0,t.jsx)("div",{"aria-hidden":!0,children:(0,t.jsx)(n.default,{className:a.default.fullWidthHR,margin:0})})}},515497:e=>{"use strict";e.s({ProjectEnvVariablesAddForm:()=>D,TeamEnvVariablesAddForm:()=>M,TeamEnvVariablesEditForm:()=>O},515497);var t=e.i(6645307),n=e.i(6530772),a=e.i(7315479),r=e.i(8935741),i=e.i(5535439),s=e.i(9912720),l=e.i(889716),o=e.i(8084653),d=e.i(5674541),c=e.i(584439),u=e.i(1917237),m=e.i(1164214),v=e.i(5610210),p=e.i(9960073),h=e.i(3509620),x=e.i(3585235),g=e.i(5785123),y=e.i(2530419),f=e.i(7329332),j=e.i(9944151),b=e.i(385827),E=e.i(2240289),_=e.i(1567376),k=e.i(9675010),S=e.i(8653422),C=e.i(2670520),w=e.i(9476544),T=e.i(8356184),I=e.i(2271621),N=e.i(6378483),P=e.i(9426986),L=e.i(4789498),V=e.i(9495609),A=e.i(555528),B=e.i(2362802);function R(e){let{dispatch:a,state:r}=e,i=!!r.target.development;return(0,n.useEffect)(()=>{a({type:"sensitive",payload:{sensitive:!r.target.development&&!!r.sensitive}})},[r.target.development]),(0,t.jsxs)(l.Stack,{align:"start",gap:0,children:[(0,t.jsx)(L.Label,{value:"Sensitive"}),(0,t.jsxs)(l.Stack,{align:"start",gap:2,children:[(0,t.jsxs)(o.Text,{children:["If enabled, you and your team will not be able to read the values after creation."," ",(0,t.jsx)(B.Link,{external:!0,href:"/docs/environment-variables/sensitive-environment-variables",type:"highlight",children:"Learn more"})]}),(0,t.jsx)(A.Tooltip,{disableTriggers:!r.target.development,text:"Sensitive environment variables cannot be created in the Development environment.",children:(0,t.jsx)(V.Toggle,{"aria-labelledby":"label-for-sensitive-toggle",checked:!!r.sensitive,direction:"switch-first",disabled:i,name:"add-form-sensitive",onChange:()=>{a({type:"sensitive",payload:{sensitive:!r.sensitive}}),!1===r.sensitive&&a({type:"update_target",payload:{target:{development:!1}}})},size:"large",children:(0,t.jsx)(o.Text,{id:"label-for-sensitive-toggle",weight:400,children:r.sensitive?"Enabled":"Disabled"})})})]})]})}function O(e){let{isEditing:a,envVar:r,teamId:i,onSave:s,onCancel:l,disableEnvironmentPicker:o,containerClassName:u}=e,{can:m,isLoading:v}=(0,x.default)({teamId:i}),p=m(g.Action.Update,g.Resource.SharedEnvVars),y=(0,c.useToasts)(),{data:f,isLoading:j}=(0,E.useProjects)(r.projectId,{config:{revalidateOnFocus:!1}}),[_,S]=(0,n.useState)(null);(0,n.useEffect)(()=>{!j&&(r.type===h.EnvType.Sensitive||r.decrypted)&&S({...r,projects:f})},[f,r,j]);let C=(0,n.useCallback)(e=>{let t=new Set(e.projects.map(e=>e.id)),n=new Set(r.projectId),a=[...t].filter(e=>!n.has(e)),s=[...n].filter(e=>!t.has(e));return(0,b.updateSharedEnvVar)({envVar:r,payload:{...e.kvs[0],target:(0,w.getEnvironmentTargets)(e.target),projectIdUpdates:{link:a,unlink:s}},teamId:i,applyToAllCustomEnvironments:e.target.customEnvironmentIds.includes(k.INCLUDE_ALL_CUSTOM_ENVIRONMENTS_ID)})},[r,i]);return(0,t.jsx)(F,{arePermissionsLoading:v,bulkEnvVarEnabled:!1,canCreateSharedEnvVars:p,containerClassName:u,disableEnvironmentPicker:o,envVar:r,envVarWithProjects:_,formSubmit:C,isEditing:a,onSave:e=>{y.success("Updated Shared Environment Variable successfully."),s(e)},secondaryAction:(0,t.jsx)(d.Button,{onClick:l,size:"small",type:"secondary",children:"Cancel"}),teamId:i,variant:"shared"})}function M(e){let{teamId:a,onSave:r}=e,{can:i,isLoading:u}=(0,x.default)({teamId:a}),m=i(g.Action.Create,g.Resource.SharedEnvVars),v=(0,c.useToasts)(),p=(0,n.useRef)(null),y=(0,n.useCallback)(e=>(0,j.addSharedEnvs)({kvs:e.kvs,projectId:e.projects.map(e=>e.id),target:(0,w.getEnvironmentTargets)(e.target),teamId:a,type:e.sensitive?h.EnvType.Sensitive:h.EnvType.Encrypted,applyToAllCustomEnvironments:e.target.customEnvironmentIds.includes(k.INCLUDE_ALL_CUSTOM_ENVIRONMENTS_ID)}),[a]);return(0,t.jsx)(F,{arePermissionsLoading:u,bulkEnvVarEnabled:!0,canCreateSharedEnvVars:m,destructiveAction:(0,t.jsxs)(l.Stack,{align:"center",direction:"row",gap:3,children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("input",{accept:"env","aria-hidden":!0,multiple:!1,ref:p,style:{display:"none"},type:"file"}),(0,t.jsx)(d.Button,{disabled:!p.current,onClick:()=>p.current?.click(),prefix:(0,t.jsx)(s.Download,{}),size:"small",type:"secondary",typeName:"button",children:"Import"})]}),(0,t.jsx)(o.Text,{color:"gray-900",children:"or paste the .env contents above"})]}),fileUploadRef:p,formSubmit:y,onSave:e=>{v.success("Added Shared Environment Variable successfully."),r?.(e)},teamId:a,variant:"shared"})}function D(e){let{teamId:a,onSave:r,formClassName:s,containerClassName:c,restrictToEnvironmentIds:u}=e,{project:m}=(0,i.useParams)()??{project:""},{data:v}=(0,E.useProject)(m),y=v?.id,{can:f,isLoading:j}=(0,x.default)({teamId:a}),b=f(g.Action.Create,g.Resource.ProjectEnvVars),k=(0,n.useRef)(null),S=(0,n.useCallback)(e=>{let t=(0,w.getEnvironmentTargets)(e.target);if(void 0===y)throw Error("Couldn't find project");return(0,_.addEnvs)(y,e.kvs.map(n=>{let a={name:n.key,value:n.value,target:t,type:e.sensitive?h.EnvType.Sensitive:h.EnvType.Encrypted,gitBranch:e.target.gitBranch&&e.gitBranch?e.gitBranch:void 0,comment:n.comment};return a.customEnvironmentIds=e.target.customEnvironmentIds,a}),a)},[y,a]);return(0,t.jsx)(t.Fragment,{children:(0,t.jsx)(F,{arePermissionsLoading:j,bulkEnvVarEnabled:!0,canCreateSharedEnvVars:b,containerClassName:c,destructiveAction:(0,t.jsxs)(l.Stack,{align:"center",direction:"row",gap:3,children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("input",{accept:"env","aria-hidden":!0,multiple:!1,ref:k,style:{display:"none"},type:"file"}),(0,t.jsx)(d.Button,{disabled:!k.current,onClick:()=>k.current?.click(),prefix:(0,t.jsx)(p.FileText,{}),size:"small",type:"secondary",typeName:"button",children:"Import .env"})]}),(0,t.jsx)(o.Text,{color:"gray-900",children:"or paste the .env contents above"})]}),fileUploadRef:k,formClassName:s,formSubmit:S,onSave:e=>{r?.(e)},restrictToEnvironmentIds:u,teamId:a,variant:"project"})})}function F(e){var i;let{formSubmit:s,onSave:o,isEditing:p,canCreateSharedEnvVars:x,arePermissionsLoading:g,bulkEnvVarEnabled:j,envVar:b,envVarWithProjects:E,secondaryAction:_,destructiveAction:k,teamId:L,fileUploadRef:V,variant:A,formClassName:B,containerClassName:O,restrictToEnvironmentIds:M,disableEnvironmentPicker:D}=e,F=b?{gitBranch:(i=b).gitBranch||"",isProcessing:!1,kvs:[],projects:[],sensitive:i.type===h.EnvType.Sensitive,target:(0,w.getEnvironmentTargetsStateFromEnv)(i)}:C.initialEnvVariableFormState,[G,H]=(0,n.useReducer)(C.EnvironmentVariablesReducer,F),{team:z,isTeamReady:$,isLoading:W}=(0,S.useSensitiveEnvironmentVariablePolicy)(),U=$&&!W&&(0,S.getBooleanValueFromOnOffDefault)(z?.sensitiveEnvironmentVariablePolicy),Y=(0,n.useRef)(null),Z=(0,n.useRef)(null),q=(0,c.useToasts)();(0,n.useEffect)(()=>{let e=V?.current;if(e)return document.addEventListener("dragenter",t),document.addEventListener("dragover",n),document.addEventListener("dragleave",a),document.addEventListener("drop",s),e.addEventListener("change",i),()=>{document.removeEventListener("dragenter",t),document.removeEventListener("dragover",n),document.removeEventListener("dragleave",a),document.removeEventListener("drop",s),e.removeEventListener("change",i)};function t(e){Z.current&&e.dataTransfer?.items[0].kind==="file"&&Z.current.classList.add("drag-enter")}function n(e){Z.current&&e.target===Z.current&&(e.preventDefault(),Z.current.classList.add("drag-over"))}function a(e){Z.current&&e.target===Z.current&&(Z.current.classList.remove("drag-over"),Z.current.classList.remove("drag-enter"))}function r(e){if(!e||"text/plain"!==e.type&&""!==e.type)return void q.error("Please upload a valid env file");let t=new FileReader;t.onload=e=>{let t=e.target?.result;t&&H({type:"import_file",payload:{fileData:t.toString(),insertAtIndex:G.kvs.length-1}})},t.readAsText(e)}function i(e){r(e.target.files?.[0])}function s(e){Z.current&&(e.target===Z.current&&(e.preventDefault(),r(e.dataTransfer?.files[0])),Z.current.classList.remove("drag-over"),Z.current.classList.remove("drag-enter"))}},[V,G.kvs.length,q]),(0,n.useEffect)(()=>{(E?.type===h.EnvType.Sensitive||E?.decrypted)&&H({type:"prefill_form",payload:{envVar:E}})},[E]);let K=(0,n.useCallback)(async()=>{H({type:"processing",payload:{isProcessing:!0}});try{let e,t=await s(G);if(H({type:"form_submitted",payload:{response:t}}),E?.id){let t=new Set(E.projectId),n=new Set(G.projects.map(e=>e.id)),a=[...t].filter(e=>n.has(e)).concat([...n].filter(e=>!t.has(e)));e={id:E.id,key:G.kvs[0].key,value:G.sensitive?"":G.kvs[0].value,target:(0,w.getEnvironmentTargets)(G.target),projectId:a,type:G.sensitive?h.EnvType.Sensitive:h.EnvType.Encrypted,updatedAt:(E.updatedAt??0)+1}}o(e),H({type:"reset"})}catch(e){H({type:"error",payload:{error:(0,r.isAPIError)(e)&&"envs_size_too_large"===e.code?Error("Unable to save environment variables. Insufficient space. Consider deleting some variables."):(0,a.normalizeError)(e)}})}H({type:"processing",payload:{isProcessing:!1}}),Y.current?.focus()},[E?.id,E?.updatedAt,E?.projectId,s,o,G]),J=G.error?(0,t.jsx)(u.Error,{"data-testid":(0,m.tid)("env-variables","error-message"),error:G.error.errorObject}):null;return(0,t.jsxs)(y.default,{className:(0,v.clsx)(P.default.envVarsForm,"tailwind"),"data-testid":(0,m.tid)("env-variables","add-form"),onSubmit:()=>void K(),children:[(0,t.jsx)("div",{className:P.default.dragEffectBackground,ref:Z}),(0,t.jsx)(f.EntityForm,{className:(0,v.clsx)("bg-background-100 p-0",B),destructiveAction:k,disabled:g||!x,footerClassName:"p-4 bg-background-200 rounded-bl-[var(--geist-radius)] rounded-br-[var(--geist-radius)] env-vars-footer",footerNote:null,footerSeparator:!1,primaryAction:(0,t.jsx)(d.Button,{loading:G.isProcessing,size:"small",typeName:"submit",children:"Save"}),secondaryAction:_,title:null,children:(0,t.jsxs)(l.Stack,{className:(0,v.clsx)("p-4 pb-0",O),gap:4,children:[p||U?null:(0,t.jsx)(R,{dispatch:H,state:G}),(0,t.jsx)(N.FullWidthHR,{}),(0,t.jsx)(w.TEVEnvironmentSelector,{disableEnvironmentPicker:D,disableDevelopmentEnvironment:!!G.sensitive,dispatch:H,gitBranch:G.gitBranch,mustBeSensitive:U,restrictToEnvironmentIds:M,state:G,teamId:L,variant:A}),(0,t.jsx)(N.FullWidthHR,{}),(0,t.jsx)(I.TEVInputSection,{dispatch:H,enableBulk:j,error:G.error,firstInputRef:Y,isEditing:p,isLoading:null===E,isSensitive:G.sensitive,kvs:G.kvs}),J,"shared"===A&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(N.FullWidthHR,{}),(0,t.jsx)(T.TEVProjectSelectComponent,{SWRDataToWaitFor:[null===E?void 0:null],dispatch:H,selectedProjects:G.projects})]}),(0,t.jsx)(N.FullWidthHR,{})]})})]})}},1259791:e=>{e.v({bullets:"env-variables-table-module__L-jLVG__bullets",commentWrapper:"env-variables-table-module__L-jLVG__commentWrapper",dataStoreIconWrapperStyles:"env-variables-table-module__L-jLVG__dataStoreIconWrapperStyles",editing:"env-variables-table-module__L-jLVG__editing",empty:"env-variables-table-module__L-jLVG__empty",entity:"env-variables-table-module__L-jLVG__entity",iconsContainer:"env-variables-table-module__L-jLVG__iconsContainer",key:"env-variables-table-module__L-jLVG__key",overriddenEnvVar:"env-variables-table-module__L-jLVG__overriddenEnvVar",plaintextEnvValue:"env-variables-table-module__L-jLVG__plaintextEnvValue",resultRow:"env-variables-table-module__L-jLVG__resultRow",reveal:"env-variables-table-module__L-jLVG__reveal",section:"env-variables-table-module__L-jLVG__section",suggestionHighlight:"env-variables-table-module__L-jLVG__suggestionHighlight",time:"env-variables-table-module__L-jLVG__time",timeAgoText:"env-variables-table-module__L-jLVG__timeAgoText",varName:"env-variables-table-module__L-jLVG__varName",varNameContainer:"env-variables-table-module__L-jLVG__varNameContainer",virtuosoRowOverflowAnchor:"env-variables-table-module__L-jLVG__virtuosoRowOverflowAnchor"})},5124991:e=>{"use strict";e.s({EnvVarEntity:()=>el,default:()=>eu,useRemoveEnvModal:()=>em});var t=e.i(6645307),n=e.i(6530772),a=e.i(4113687),r=e.i(5610210),i=e.i(7315479),s=e.i(2362802),l=e.i(5175803),o=e.i(3921802),d=e.i(5674541),c=e.i(1917237),u=e.i(4105925),m=e.i(4646240),v=e.i(8934201),p=e.i(2293621),h=e.i(5163670),x=e.i(8811733),g=e.i(889716),y=e.i(8084653),f=e.i(555528),j=e.i(584439),b=e.i(9960073),E=e.i(5015782),_=e.i(1635782),k=e.i(3277953),S=e.i(1803487),C=e.i(3138389),w=e.i(8237607),T=e.i(1164214),I=e.i(3509620),N=e.i(5333425),P=e.i(3514588),L=e.i(604868),V=e.i(1621730),A=e.i(2774739),B=e.i(3003613),R=e.i(7337588),O=e.i(3604170),M=e.i(2145411),D=e.i(2448773),F=e.i(878537),G=e.i(8975439),H=e.i(4506396),z=e.i(2724892),$=e.i(2240289),W=e.i(5111663),U=e.i(3486352);e.i(7196151);var Y=e.i(5330315),Z=e.i(1389821),q=e.i(6799491),K=e.i(6382421),J=e.i(9675010),X=e.i(8582756),Q=e.i(2254780),ee=e.i(9344353),et=e.i(9466),en=e.i(515497),ea=e.i(1259791);function er(e){let{env:a,secretsMappedById:i,revealType:s,onViewEnvironmentVariable:l}=e,[o,c]=(0,n.useState)("hidden");if((0,n.useEffect)(()=>{void 0!==a.decrypted&&(a.decrypted&&"loading"===o?c("revealed"):a.decrypted||"revealed"!==o||c("hidden"))},[a.decrypted,o,a]),2===s)return(0,t.jsxs)(g.Stack,{direction:"row",children:[(0,t.jsxs)(f.Tooltip,{text:"Additional permissions are required to reveal production environment variables values.",children:[(0,t.jsx)(x.Spacer,{x:.1}),(0,t.jsx)(_.Eye,{size:16})]}),(0,t.jsx)(x.Spacer,{x:.5}),(0,t.jsx)(y.Text,{className:ea.default.bullets,color:"gray-900",children:"•".repeat(15)})]});if(1===s)return(0,t.jsx)(X.CopyInlineCode,{value:a.value});if(a.type===I.EnvType.Secret&&i){let e=i[a.value]?.name;return e?(0,t.jsx)("i",{title:`@${e}`,children:`@${e}`}):(0,t.jsx)("i",{title:a.value,children:a.value||"-"})}if(a.type===I.EnvType.Plain)return(0,t.jsx)(G.default,{className:(0,r.clsx)(ea.default.plaintextEnvValue,"env-var-value","geist-ellipsis"),title:a.value,children:a.value});if(a.type===I.EnvType.Encrypted){if(a.decrypted&&!a.value)return(0,t.jsx)("i",{title:"This Environment Variable has no value",children:"Empty"});switch(o){case"revealed":return(0,t.jsxs)(g.Stack,{align:"center",direction:"row",gap:2,children:[(0,t.jsx)(d.Button,{"aria-label":"Click to hide",className:ea.default.reveal,onClick:()=>c("hidden"),svgOnly:!0,title:"Click to hide",variant:"unstyled",children:(0,t.jsx)(E.EyeOff,{size:16})}),(0,t.jsx)(X.CopyInlineCode,{value:a.value})]});case"hidden":case"loading":return(0,t.jsxs)(g.Stack,{align:"center",direction:"row",gap:2,children:[(0,t.jsx)(d.Button,{"aria-label":"Click to reveal",className:ea.default.reveal,loading:"loading"===o,onClick:()=>{a.decrypted?c("revealed"):c("loading"),l?.(a)},size:"small",svgOnly:!0,title:"Click to reveal",variant:"unstyled",children:"loading"!==o&&(0,t.jsx)(_.Eye,{size:16})}),(0,t.jsx)(y.Text,{color:"gray-900",className:ea.default.bullets,children:"•".repeat(15)})]})}}return a.type===I.EnvType.Sensitive?null:(0,t.jsx)("i",{title:a.value,children:a.value})}function ei(e){let{env:n,team:a,projectIdOrName:r,resource:i}=e;switch(n.contentHint?.type){case"blob-read-write-token":return(0,t.jsx)(s.Link,{href:a&&r?`/${a.slug}/${r}/stores/blob/${n.contentHint.storeId}`:a?`/${a.slug}/~/stores/blob/${n.contentHint.storeId}`:`/dashboard/stores/blob/${n.contentHint.storeId}`,style:{color:"var(--geist-secondary)"},children:(0,t.jsx)("div",{className:ea.default.dataStoreIconWrapperStyles,children:(0,t.jsx)(ee.DataStore,{size:"small",type:"blob"})})});case"integration-store-secret":return i&&a?(0,t.jsx)(f.Tooltip,{text:"Open linked integration",children:(0,t.jsx)(s.Link,{href:(0,et.getResourceDetailsPath)(i,a.slug,r),style:{color:"var(--geist-secondary)"},children:(0,t.jsx)(es,{...n.contentHint})})}):null;case"flags-connection-string":return(0,t.jsx)(f.Tooltip,{text:"Open flags",children:(0,t.jsx)(s.Link,{href:`/${a.slug}/${r}/flags`,style:{color:"var(--geist-secondary)"},children:(0,t.jsx)("div",{className:ea.default.dataStoreIconWrapperStyles,children:(0,t.jsx)(f.Tooltip,{text:"This environment variable connects this project with flags",children:(0,t.jsx)(w.Prism,{size:16})})})})})}return n.edgeConfigId?(0,t.jsx)(f.Tooltip,{desktopOnly:!0,text:"This environment variable connects this project to an Edge Config",children:(0,t.jsx)(s.Link,{href:a&&r?`/${a.slug}/${r}/stores/edge-config/${n.edgeConfigId}`:a?`/${a.slug}/~/stores/edge-config/${n.edgeConfigId}`:`/dashboard/stores/edge-config/${n.edgeConfigId}`,style:{color:"var(--geist-secondary)"},children:(0,t.jsx)("div",{className:ea.default.dataStoreIconWrapperStyles,children:(0,t.jsx)(ee.DataStore,{size:"small",type:"edge-config"})})})}):null}function es(e){let{integrationId:n,integrationProductId:a}=e,{product:r}=(0,q.useIntegrationAndProduct)({integrationIdOrSlug:n,productIdOrSlug:a});return r?(0,t.jsx)(l.Avatar,{hash:r.iconUrl,size:20,title:r.name}):(0,t.jsx)(S.Linked,{size:12})}function el(e){let{env:a,className:i,hasConnectedStore:s,onRemove:d,onSave:c,onDetach:v,onSecretAdd:h,secretsMappedById:x,isEditing:y,setIsEditing:j,search:E,canReadProductionValues:_,canUnlinkSharedEnvVariable:k,disableDeleteEnvVariable:S,disableEditEnvVariable:C,onViewEnvironmentVariable:w,team:P,projectIdOrName:V,getOverriddenTargetsForSharedEnvVar:B=e=>[],virtuosoIndexData:D,disableMoreMenuProps:F,environment:G,disableNameInput:$,disableComment:W,disableEnvironmentInput:Y,customSave:Z,additionalMenuItems:q,editTextareaValueProps:K,resource:J}=e,X=(0,L.useIsMobile)(),ee=(0,n.useRef)(null),es=(0,U.isSharedEnv)(a),el=(0,A.useAgo)(a.updatedAt||a.createdAt,{justNowLabel:"just now"}),ed=(0,n.useMemo)(()=>es?B(a):[],[a,B,es]);(0,n.useEffect)(()=>{y&&ee.current?.scrollIntoView({behavior:"smooth",block:"nearest"})},[y]);let ec=(0,n.useMemo)(()=>{var e;return a?(0,t.jsxs)("span",{className:ea.default.varNameContainer,children:[(0,t.jsx)(Q.CopyText,{value:a.key,children:(0,t.jsx)("span",{className:(0,r.clsx)(ed.length?ea.default.overriddenEnvVar:void 0,ea.default.varName),style:{fontFamily:"var(--font-mono)",fontWeight:500},title:a.key,children:E?(e=a.key,e.split(RegExp("("+E+")","gi")).map((e,n)=>e.toLowerCase()===E.toLowerCase()?(0,t.jsx)("span",{className:ea.default.suggestionHighlight,children:e},n):e)):a.key},a.id)}),(0,t.jsxs)(g.Stack,{className:ea.default.iconsContainer,direction:"row",gap:2,children:[(0,t.jsx)(ei,{env:a,projectIdOrName:V,resource:J,team:P}),void 0!==a.comment&&""!==a.comment&&(0,t.jsx)(f.Tooltip,{text:a.comment,children:(0,t.jsx)("div",{className:ea.default.commentWrapper,children:(0,t.jsx)(b.FileText,{size:14})})})]}),"sensitive"===a.type?(0,t.jsx)(o.Badge,{size:"sm",style:{marginLeft:"8px",backgroundColor:"var(--geist-secondary-lighter)",color:"var(--geist-secondary-dark)"},children:"Sensitive"}):null]}):null},[a,ed.length,V,J,E,P]),eu=a.target===I.EnvTarget.Production||Array.isArray(a.target)&&1===a.target.length&&a.target[0]===I.EnvTarget.Production,em=(0,n.useMemo)(()=>{if(!a.contentHint)return null;switch(a.contentHint.type){case"blob-read-write-token":return(0,t.jsx)(u.MenuItem,{href:P&&V?`/${P.slug}/${V}/stores/blob/${a.contentHint.storeId}/projects`:P?`/${P.slug}/~/stores/blob/${a.contentHint.storeId}/projects`:`/dashboard/stores/blob/${a.contentHint.storeId}/projects`,isLink:!0,children:"Manage Blob Connection"});case"integration-store-secret":return J&&P?(0,t.jsx)(u.MenuItem,{href:(0,et.getResourceDetailsPath)(J,P.slug,V),isLink:!0,children:"Manage Connection"}):null;default:return null}},[a.contentHint,V,J,P]),ev=(0,n.useMemo)(()=>es?V?"Unlink from this Project":"Delete":"Remove",[es,V]);return(0,n.createElement)(R.Entity,{...D,className:(0,r.clsx)(i,ea.default.resultRow,{[ea.default.editing]:y},y&&"pb-0"),disabledDotMenuTooltip:void 0!==F?(0,t.jsx)(t.Fragment,{children:F.tooltip}):(0,t.jsx)(t.Fragment,{children:"Additional permissions are required to manage production environment variables."}),editing:y,footer:y?P&&es?(0,t.jsx)("div",{className:"-mx-4 -mt-4",children:(0,t.jsx)(en.TeamEnvVariablesEditForm,{containerClassName:"pt-0",disableEnvironmentPicker:!!G,envVar:a,isEditing:y,onCancel:()=>j(!1),onRemove:()=>{d?.(a)},onSave:e=>{j(!1),c?.(e)},teamId:P.id})}):(0,t.jsx)("div",{className:"pb-4",children:(0,t.jsx)(z.EnvVariablesEditForm,{customSave:Z,disableComment:W,disableEnvironmentInput:Y,disableEnvironmentPicker:!!G,disableNameInput:$,editTextareaValueProps:K,envVariable:a,onDiscard:()=>j(!1),onSave:e=>{j(!1),c?.(e)},onSecretAdd:()=>{h?.()}},a.id)}):null,footerClassName:y?"border-t-0":void 0,indent:!1,isDotMenuDisabled:!_&&eu||F?.disabled,key:a.id,menuItems:em?(0,t.jsxs)(t.Fragment,{children:[em,!1===s&&(!es||k)?(0,t.jsx)(u.MenuItem,{onClick:()=>{d?.(a)},style:{color:"var(--geist-error)"},children:ev}):(0,t.jsx)(f.Tooltip,{desktopOnly:!0,disableTriggers:!s,text:"You can remove this environment variable by disconnecting the project from the connected store.",children:(0,t.jsx)(m.MenuItemLocked,{children:ev})})]}):(0,t.jsxs)(t.Fragment,{children:[!(es&&V)&&(C?(0,t.jsx)(m.MenuItemLocked,{children:"Edit"}):(0,t.jsx)(u.MenuItem,{"data-testid":(0,T.tid)("env-vars-table","menu-item","edit",a.key),onClick:()=>j(!0),children:"Edit"})),G&&a.type===I.EnvType.Encrypted&&(()=>{if(es||!G)return!1;let e=0;return a.customEnvironmentIds&&(e+=a.customEnvironmentIds.length),Array.isArray(a.target)?e+=a.target.length:e+=1,e>1})()?(0,t.jsx)(f.Tooltip,{desktopOnly:!0,style:{width:"100%"},text:`Detach this environment variable and create a new copy just for the ${G?(0,N.envName)(G):""} environment.`,children:(0,t.jsx)(u.MenuItem,{onClick:()=>{v?.(a)},children:"Detach"})}):null,q,(es?k:!S)?(0,t.jsx)(u.MenuItem,{onClick:()=>{d?.(a)},style:{color:"var(--geist-error)"},children:ev}):(0,t.jsx)(m.MenuItemLocked,{children:ev})]}),ref:ee,thumbnail:(0,t.jsx)(O.EntityThumbnail,{size:24,children:(0,t.jsx)(H.default,{env:a})}),children:[(0,t.jsx)(M.EntityField,{className:ea.default.key,description:(0,t.jsx)(eo,{env:a,overriddenTargets:ed}),title:ec}),a.type===I.EnvType.Sensitive&&X?null:(0,t.jsx)(M.EntityField,{children:(0,t.jsx)(er,{env:a,onViewEnvironmentVariable:w,revealType:!eu||_?0:2,secretsMappedById:x})}),(0,t.jsx)(M.EntityField,{avatar:a.updatedBy||a.createdBy?(0,t.jsx)(f.Tooltip,{text:a.lastEditedByDisplayName,children:(0,t.jsx)(l.Avatar,{size:24,uid:a.updatedBy||a.createdBy})}):null,className:ea.default.time,description:a.updatedAt?(0,t.jsxs)(p.RelativeTimeCard,{date:a.updatedAt,side:"left",children:[(0,t.jsxs)("span",{className:ea.default.timeAgoText,children:[a.updatedBy?"Updated":"Added"," "]}),el]}):null,right:!0})]})}function eo(e){let{overriddenTargets:n,env:a}=e;return(0,t.jsx)(ed,{env:a,overriddenTargets:n})}function ed(e){let{overriddenTargets:n,env:a}=e,r=[...Array.isArray(a.target)?a.target:[a.target],...a.customEnvironmentIds||[]].filter(e=>!!e);a.applyToAllCustomEnvironments&&r.push(J.INCLUDE_ALL_CUSTOM_ENVIRONMENTS_ID);let{label:i,isLoading:s,environmentNamesList:l}=(0,J.useCustomEnvironmentsPrettyLabel)({selectedEnvironmentIds:new Set(r)});return(0,t.jsx)(h.Skeleton,{className:"truncate",show:s,children:(0,t.jsx)(f.Tooltip,{center:!1,delay:!0,desktopOnly:!0,disableTriggers:l.length<1,maxWidth:"300px",padding:"var(--geist-gap-quarter)",position:"top",style:{minWidth:"0",display:"block"},text:l.join(",\n"),children:n.length?(0,t.jsxs)(g.Stack,{align:"center",direction:"row",gap:1,children:[(0,t.jsx)(k.Warning,{align:"bottom",size:16}),(0,t.jsx)("span",{children:"Overridden by Project"})]}):a.gitBranch?(0,t.jsxs)("span",{className:"flex flex-wrap gap-1",children:[i,(0,t.jsxs)("span",{className:"flex items-center gap-1",children:[(0,t.jsx)(C.GitBranch,{}),(0,t.jsx)("span",{className:"font-mono",children:a.gitBranch})]})]}):(0,t.jsx)("span",{className:"block w-full truncate",children:i})})})}function ec(e){let n=e.context,a=e.item,{modal:r,open:i}=(0,W.useSaveAndRedeploy)(n?.project);if(!a||!n)return null;let{canReadProductionValues:s,canUnlinkSharedEnvVariable:l,getOverriddenTargetsForSharedEnvVar:o,isStoreDeleted:d,currentEditingEnv:c,onRemove:u,onSave:m,onDetach:v,onSecretAdd:p,onViewEnvironmentVariable:h,project:x,search:g,secretsMappedById:y,setCurrentEditingEnv:f,team:j,shouldDisableEnvRow:b,environment:E,resources:_}=n,k={"data-index":e["data-index"],"data-item-index":e["data-item-index"],"data-known-size":e["data-known-size"]},S=a.contentHint,C=S?.type==="integration-store-secret"?_?.find(e=>e.id===S.storeId):void 0;return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(el,{canReadProductionValues:s,canUnlinkSharedEnvVariable:l,className:ea.default.virtuosoRowOverflowAnchor,disableMoreMenuProps:b?.(a),env:a,environment:E,getOverriddenTargetsForSharedEnvVar:o,hasConnectedStore:!!a.contentHint&&"storeId"in a.contentHint&&!d(a.contentHint.storeId),isEditing:a.id===c,onDetach:v,onRemove:u,onSave:e=>{i("Updated Environment Variable successfully."),m?.(e)},onSecretAdd:p,onViewEnvironmentVariable:h,projectIdOrName:x?.id,resource:C?.type==="integration"?C:void 0,search:g,secretsMappedById:y,setIsEditing:e=>{h?.(a),f(e?a.id:null)},team:j,virtuosoIndexData:k},a.id),r]})}function eu(e){let{envVariables:r,onRemove:i,onSave:s,onDetach:o,secretsData:d,onSecretAdd:c,search:m,isLoading:v,withSecrets:p,withEnvs:h,projectId:g,canReadProductionValues:y,canUnlinkSharedEnvVariable:f,disabled:j,onViewEnvironmentVariable:b,textConfig:E,getOverriddenTargetsForSharedEnvVar:_=e=>[],shouldDisableEnvRow:k,environment:S,currentEditingEnv:C,setCurrentEditingEnv:w}=e,{isStoreDeleted:I,data:N}=(0,Y.useResourceList)({resourceIds:r?.map(e=>e.contentHint&&"storeId"in e.contentHint?e.contentHint.storeId:void 0).filter(e=>!!e)??[]}),L=(0,Z.useProjectIdOrName)()||g,{data:V}=(0,$.useProject)(g),{isReady:A,team:B}=(0,P.useTeam)(),G=(0,n.useMemo)(()=>d?.secrets.reduce((e,t)=>(e[t.uid]=t,e),{})??{},[d?.secrets]),H=!A||v||h&&!Array.isArray(r)||p&&!d,z=(0,n.useMemo)(()=>({canReadProductionValues:y,canUnlinkSharedEnvVariable:f,getOverriddenTargetsForSharedEnvVar:_,isStoreDeleted:I,currentEditingEnv:C,onRemove:i,onSave:s,onDetach:o,onSecretAdd:c,onViewEnvironmentVariable:b,project:V,search:m,secretsMappedById:G,setCurrentEditingEnv:w,team:B,shouldDisableEnvRow:k,environment:S,resources:N?.stores}),[y,f,_,I,C,i,s,o,c,b,V,m,G,w,B,k,S,N?.stores]);return H?(0,t.jsx)("div",{children:["p1","p2"].map(e=>(0,t.jsxs)(R.Entity,{className:ea.default.resultRow,menuItems:(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(u.MenuItem,{children:"Edit"}),(0,t.jsx)(u.MenuItem,{children:"Remove"})]}),placeholder:!0,thumbnail:(0,t.jsx)(O.EntityThumbnail,{size:30}),children:[(0,t.jsx)(M.EntityField,{description:"",descriptionSkeletonWidth:"50%",title:"",titleSkeletonWidth:"40%",width:"40%"}),(0,t.jsx)(M.EntityField,{description:"",descriptionSkeletonWidth:"80%",title:"",titleSkeletonWidth:"20%",width:"27%"}),(0,t.jsx)(M.EntityField,{avatar:(0,t.jsx)(l.Avatar,{size:24}),description:"",descriptionSkeletonWidth:"60%",right:!0})]},e))}):j?(0,t.jsx)(K.AdditionalPermissionsRequired,{resource:L?"Environment Variables of this project":"Environment Variables",team:L?null:B}):m&&r?.length===0?(0,t.jsxs)(F.default,{center:!0,className:ea.default.empty,"data-testid":(0,T.tid)("env-vars-table","container","empty"),children:[(0,t.jsx)(D.default,{center:!0,h6:!0,noMargin:!0,children:"No Results Found"}),(0,t.jsx)(x.Spacer,{y:.5}),(0,t.jsxs)(D.default,{center:!0,noMargin:!0,p:!0,preset:"body-2",style:{color:"var(--accents-6)",wordBreak:"break-word"},children:['Your search for "',m,'" did not return any results.']})]}):r?.length===0?(0,t.jsxs)(F.default,{center:!0,className:ea.default.empty,children:[(0,t.jsx)(D.default,{center:!0,h6:!0,noMargin:!0,children:E?.emptyState.title??"No Environment Variables Added"}),(0,t.jsx)(x.Spacer,{y:.5}),(0,t.jsx)(D.default,{center:!0,noMargin:!0,p:!0,preset:"body-2",children:E?.emptyState.description??"Add Environment Variables to Production, Preview, and Development environments, including branches in Preview."})]}):(0,t.jsx)("div",{"data-testid":(0,T.tid)("env-vars-table","container"),children:(0,t.jsx)(a.Virtuoso,{components:{Item:ec},context:z,data:r,initialItemCount:Math.min(r?.length??0,10),overscan:1e3,style:{minHeight:r?78*r.length:"auto"},useWindowScroll:!0})})}function em(e,a){let[r,s]=(0,n.useState)(!1),[l,o]=(0,n.useState)(null),[d,u]=(0,n.useState)(!1),[m,p]=(0,n.useState)(null),{data:h}=(0,$.useProject)(e),f=(0,j.useToasts)(),{team:b}=(0,P.useTeam)(),E=(0,n.useCallback)(e=>{p(e),s(!0)},[]),_=(0,n.useCallback)(()=>{s(!1)},[]),k=(0,n.useCallback)(()=>{u(!1),o(null),p(null)},[]),S=(0,n.useCallback)(async()=>{if(m){u(!0);try{await (0,U.deleteEnvVar)({envVars:[m],projectId:e,teamId:b?.id}),_(),f.success("Removed Environment Variable successfully."),await a?.()}catch(e){o((0,i.normalizeError)(e))}finally{u(!1)}}},[m,f,b,e,_,a]),C=[];m?.customEnvironmentIds&&C.push(...m.customEnvironmentIds),m?.target&&((0,V.default)(m.target)?C.push(...m.target):C.push(m.target)),m?.applyToAllCustomEnvironments&&C.push(J.INCLUDE_ALL_CUSTOM_ENVIRONMENTS_ID);let{environmentNamesList:w}=(0,J.useCustomEnvironmentsPrettyLabel)({selectedEnvironmentIds:new Set(C.filter(e=>!!e))});return{modal:(0,n.useMemo)(()=>(0,t.jsxs)(v.Modal.Modal,{active:r,onAnimationDone:k,onClickOutside:_,children:[(0,t.jsxs)(v.Modal.Body,{children:[(0,t.jsx)(v.Modal.Header,{children:(0,t.jsx)(v.Modal.Title,{children:"Remove Environment Variable"})}),(0,t.jsxs)(D.default,{preset:"body-2",children:["You are about to remove an environment variable from your project"," ",(0,t.jsx)("span",{className:"font-medium",children:h?.name}),". This action cannot be undone."]}),(0,t.jsxs)(g.Stack,{gap:6,children:[(0,t.jsxs)(g.Stack,{gap:2,children:[(0,t.jsx)(y.Text,{children:"Environment Variable:"}),(0,t.jsx)("p",{className:"m-0 truncate rounded bg-background-200 px-4 py-3 text-gray-1000 shadow-border",title:m?.key,children:m?m.key:""})]}),(0,t.jsxs)(g.Stack,{gap:2,children:[(0,t.jsx)(y.Text,{children:"Affected Environments:"}),(0,t.jsx)("p",{className:"m-0 rounded bg-background-200 px-4 py-3 text-gray-1000 shadow-border",children:(0,B.toListSentence)(w)})]})]}),l?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(x.Spacer,{y:1}),(0,t.jsx)(c.Error,{error:l})]}):null]}),(0,t.jsxs)(v.Modal.Actions,{children:[(0,t.jsx)(v.Modal.Action,{onClick:_,type:"secondary",children:"Cancel"}),(0,t.jsx)(v.Modal.Action,{loading:d,onClick:S,type:"error",children:"Remove"})]})]}),[r,k,_,h?.name,m,l,d,w,S]),open:E,close:_}}}}]);

//# sourceMappingURL=c10591d4c43dd620.js.map
//# debugId=538dc791-4b98-5c17-bcbc-53b6c2f67806
