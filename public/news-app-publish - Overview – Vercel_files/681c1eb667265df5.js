
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="346bfd40-6b5d-5338-9afa-2a575dafad86")}catch(e){}}();
(globalThis.TURBOPACK=globalThis.TURBOPACK||[]).push(["object"==typeof document?document.currentScript:void 0,{277464:e=>{"use strict";e.s({useCanCreateHobbyTeam:()=>n});var t=e.i(503726),i=e.i(8347675);function n(){let{user:e,teams:n}=(0,t.useAccount)(),{ready:a,canCreateTrial:r}=(0,i.useCanCreateTrial)();return e&&n&&a?"northstar"!==e.version?{ready:!0,canCreateHobbyTeam:!1}:{ready:!0,canCreateHobbyTeam:!n.some(e=>e.billing?.plan==="hobby")&&!r}:{ready:!1}}},156456:[e=>{"use strict";e.s({},156456),e.s({useSteps:()=>o},9371812);var t=e.i(6530772),i=e.i(6236262),n=e.i(7573892),a=e.i(9802771),r=e.i(7315479);function l(e){let{steps:t,workflowName:i,immutableDisabledSteps:n=new Set,mutableDisabledSteps:a=new Set}=e;if(void 0===t.at(0))throw Error("Tried to initialize useSteps with no steps");let r=t.filter(e=>!n.has(e)&&!a.has(e)),l=r.at(0);if(void 0===l)throw Error("Tried to initialize useSteps with no enabled steps");let s=r.at(-1);return{step:l,allSteps:t,enabledSteps:r,immutableDisabledSteps:n,mutableDisabledSteps:a,isFirstEnabledStep:!0,isLastEnabledStep:l===s,workflowName:i}}function s(e,t,i,n){let a="next"===n?1:-1,r=i.indexOf(e),l=i[r+a];if(void 0===l)throw Error(`Tried to go to the ${n} step, but it doesn't exist. If this was thrown during hook initialization, it's likely because all steps are disabled.`);return t.includes(l)?l:s(l,t,i,n)}function o(e){var o,c;let[d,u]=(0,t.useReducer)((0,i.default)((e,t)=>{switch(t.type){case"first-step":{let t=s(e.allSteps[0],e.enabledSteps,e.allSteps,"next");n.analytics.track(a.AnalyticsEvent.STEPPED_WORKFLOW_CHANGE_STEP,{workflowName:e.workflowName,fromStep:e.step,toStep:t,switchType:"first"}),e.step=t;break}case"last-step":{let t=s(e.allSteps.at(-1)??e.allSteps[0],e.enabledSteps,e.allSteps,"previous");n.analytics.track(a.AnalyticsEvent.STEPPED_WORKFLOW_CHANGE_STEP,{workflowName:e.workflowName,fromStep:e.step,toStep:t,switchType:"last"}),e.step=t;break}case"next-step":{let t=s(e.step,e.enabledSteps,e.allSteps,"next");n.analytics.track(a.AnalyticsEvent.STEPPED_WORKFLOW_CHANGE_STEP,{workflowName:e.workflowName,fromStep:e.step,toStep:t,switchType:"next"}),e.step=t;break}case"previous-step":{let t=s(e.step,e.enabledSteps,e.allSteps,"previous");n.analytics.track(a.AnalyticsEvent.STEPPED_WORKFLOW_CHANGE_STEP,{workflowName:e.workflowName,fromStep:e.step,toStep:t,switchType:"previous"}),e.step=t;break}case"set-step":n.analytics.track(a.AnalyticsEvent.STEPPED_WORKFLOW_CHANGE_STEP,{workflowName:e.workflowName,fromStep:e.step,toStep:t.step,switchType:"direct"}),e.step=t.step;break;case"set-immutable-disabled-steps":e.immutableDisabledSteps=t.disabledSteps;break;case"enable-step":e.mutableDisabledSteps.delete(t.step);break;case"disable-step":e.mutableDisabledSteps.add(t.step);break;default:(0,r.exhaustivenessCheck)(t)}let i=e.allSteps.filter(t=>!e.immutableDisabledSteps.has(t)&&!e.mutableDisabledSteps.has(t));(i.length!==e.enabledSteps.length||e.enabledSteps.some((e,t)=>e!==i[t]))&&(e.enabledSteps=i),e.isFirstEnabledStep=e.enabledSteps[0]===e.step,e.isLastEnabledStep=e.enabledSteps.at(-1)===e.step}),e,l),{isFirstEnabledStep:p,isLastEnabledStep:m,step:h}=d,b=(0,t.useCallback)((o=()=>u({type:"previous-step"}),async e=>{p?await e():o()}),[p]),g=(0,t.useCallback)((c=()=>u({type:"next-step"}),async e=>{m?await e():c()}),[m]),f=(0,t.useCallback)(e=>{let t=e[h];return t||e["*"]},[h]);return{...d,backOrCancel:b,nextOrSubmit:g,goto:{first:()=>u({type:"first-step"}),last:()=>u({type:"last-step"}),next:()=>u({type:"next-step"}),previous:()=>u({type:"previous-step"}),step:e=>u({type:"set-step",step:e})},disableStep:e=>u({type:"disable-step",step:e}),enableStep:e=>u({type:"enable-step",step:e}),renderSteps:f}}},[9371812]],4383604:e=>{"use strict";e.s({generateTeamSurveyModalCookie:()=>t});let t=e=>`new_team_survey_${e}`},824100:e=>{e.v({details:"index-module__VuWKXq__details",lineItem:"index-module__VuWKXq__lineItem",lineItemWrapper:"index-module__VuWKXq__lineItemWrapper",sublineWrapper:"index-module__VuWKXq__sublineWrapper",upgradeTeam:"index-module__VuWKXq__upgradeTeam",urgent:"index-module__VuWKXq__urgent"})},412544:[e=>{"use strict";e.s({ReceiptAndTiming:()=>X},412544);var t=e.i(6645307),i=e.i(6530772),n=e.i(889716),a=e.i(8084653),r=e.i(8934201),l=e.i(4519408),s=e.i(9630325),o=e.i(6325202),c=e.i(1667102),d=e.i(5119671);function u(e){let{modalTitle:t,enableFunction:i,buildLineItem:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{...{...d.pricingMenu[e],modalTitle:t??`enable ${d.pricingMenu[e].title}`},enableFunction:i,buildLineItem(t){let{alreadyEnabledAddOns:i,addOnToBeEnabled:a}=t;return"function"==typeof n?n(d.pricingMenu[e],{alreadyEnabledAddOns:i,addOnToBeEnabled:a}):{...d.pricingMenu[e],count:1}}}}e.s({},1508568),e.s({ADD_ONS:()=>O},6589588);let p=u("concurrentBuilds",{modalTitle:"enable Additional Concurrent Builds",buildLineItem(e,t){let{alreadyEnabledAddOns:i}=t;if(!i?.concurrentBuilds)return null;let n=i.concurrentBuilds;return{...e,title:`${n+1} Concurrent Build${n+1>1?"s":""}`,count:n,subLineItems:[...e.subLineItems??[],{title:`${n} Additional Concurrent Build${n>1?"s":""}`,price:e.price*n,unit:"month"}]}}}),m=u("firewallRateLimit",{modalTitle:"use Rate Limits",buildLineItem(e,t){let{addOnToBeEnabled:i}=t;return i?.type!=="firewallRateLimit"?null:{...e,title:"Rate Limit",subLineItems:[{title:"Rate Limit: Allowed Requests",price:5,unit:"10k"},{title:"Rate Limit: Blocked Requests",price:0}],count:0}}});var h=e.i(7315479),b=e.i(1183506),g=e.i(9336536);let f=async e=>{let{enable:t,teamId:i,hobbyFlow:n}=e;try{let e=await (0,b.fetchAPI)(`${g.API_STRIPE_MONITORING}?teamId=${encodeURIComponent(i)}`,{method:"PUT",body:JSON.stringify({monitoring:t,hobbyFlow:n}),throwOnHTTPError:!0});return{kind:"ok",...e}}catch(e){return{kind:"error",error:(0,h.normalizeError)(e)}}},y=u("monitoring",{modalTitle:"enable Monitoring",async enableFunction(e){let{team:t}=e;await f({enable:!0,teamId:t.id})}});e.i(4750594);var x=e.i(7354727);let v="observabilityPlus",S=u(v,{modalTitle:"Enable Observability",async enableFunction(e){let{team:t,source:i}=e;await (0,x.patchObservabilityConfiguration)({team:t,source:i,enableTeam:!0})},buildLineItem(e,t){let{addOnToBeEnabled:i}=t;return i?.type!==v?null:{...e,count:1,subLineItems:[{title:"On-demand events",subtitle:"Billed after 1M events",price:120,batch:1e6,threshold:1e6,unit:"1M"}]}}}),_=u("passwordProtection"),T=u("previewDeploymentSuffix",{buildLineItem(e,t){let{alreadyEnabledAddOns:i}=t;return i?.previewDeploymentSuffix?{...e,count:1,subLineItems:[{title:i.previewDeploymentSuffix,price:e.price,unit:"month"}]}:null}});e.s({API_SPEED_INSIGHTS_PREFIX:()=>E,speedInsights:()=>A},2544606);var w=e.i(2361612),I=e.i(6649026);let E="/api/v1/speed-insights",A=u("speedInsights",{async enableFunction(e){let{projectId:t,team:i}=e;t&&await (0,b.fetchAPI)(`${E}/toggle${(0,I.encode)({projectId:t,teamId:i.id})}`,{method:"POST",body:{value:!0},throwOnHTTPError:!0})},buildLineItem(e,t){let{alreadyEnabledAddOns:i,addOnToBeEnabled:n}=t;if(i?.speedInsights&&i.speedInsights.length>0||n?.type==="speedInsights"){let t=i?.speedInsights?.map(e=>e.name)??[];n?.type==="speedInsights"&&t.push(n.additionalConfigurations.projectName);let a=t.map(t=>({...(0,w.default)(e,["modalTitle","subLineItems"]),title:t??"",price:e.price,unit:e.unit}));return{...e,price:e.price*t.length,subLineItems:a.concat(e.subLineItems??[]),count:t.length}}return null}});var P=e.i(9244225),k=e.i(8103655);let L=u("storage",{modalTitle:"get more storage",buildLineItem(e,t){let{addOnToBeEnabled:i}=t;if(i?.type!=="storage")return null;let n=k.storeTitle[i.additionalConfigurations.storeType],a=(0,P.default)(k.storeOrDatabase[i.additionalConfigurations.storeType]);return{...e,title:`5 ${n} ${a}s`,count:1}}});e.i(6332926);var C=e.i(1399663);let O={speedInsights:A,concurrentBuilds:p,previewDeploymentSuffix:T,monitoring:y,observabilityPlus:S,passwordProtection:_,storage:L,webAnalytics:u("webAnalytics",{modalTitle:"enable Web Analytics",enableFunction:C.enableWebAnalytics}),webAnalyticsPlus:u("webAnalyticsPlus",{modalTitle:"add Web Analytics Plus",enableFunction(e){let{team:t,projectId:i,source:n}=e;return i?(0,C.enableWebAnalytics)({team:t,projectId:i,withPlus:!0}):(0,C.enableWebAnalyticsPlusAddOn)({teamId:t.id,source:n})}}),firewallRateLimit:m},j=Object.keys(O),N=new Set(["VIEWER","BILLING"]);var M=e.i(5175803),R=e.i(1871902),D=e.i(4357575),$=e.i(5610210),B=e.i(9802771),W=e.i(7573892),F=e.i(824100);function G(e){let{title:i,subtitle:r,price:l,unit:s,currency:c="usd"}=e;return(0,t.jsxs)(n.Stack,{align:"center",className:F.default.sublineWrapper,direction:"row",justify:"space-between",children:[(0,t.jsxs)(n.Stack,{children:[(0,t.jsx)(a.Text,{color:"gray-900",weight:500,children:i}),(0,t.jsx)(a.Text,{color:"gray-900",children:r})]}),(0,t.jsx)(a.Text,{as:"span",children:s?(0,t.jsxs)(t.Fragment,{children:[(0,o.formatCurrency)(l??0,c)," ","month"===s?" / month":`per ${s}`]}):"Included"})]})}function U(e){let{title:i,subtitle:r,price:l,unit:s,currency:c="usd",isUrgent:d=!1}=e;return(0,t.jsxs)(n.Stack,{align:"center",className:(0,$.clsx)(F.default.lineItemWrapper,F.default.lineItem,{[F.default.urgent]:d}),direction:"row",justify:"space-between",children:[(0,t.jsxs)(n.Stack,{children:[(0,t.jsx)(a.Text,{color:"gray-900",weight:500,children:i}),(0,t.jsx)(a.Text,{color:"gray-900",children:r})]}),(0,t.jsx)(a.Text,{as:"span",children:s?(0,t.jsxs)(t.Fragment,{children:[(0,o.formatCurrency)(l??0,c)," ","month"===s?" / month":`per ${s}`]}):"Included"})]})}let H=(e,t,i)=>{i?W.analytics.track(B.AnalyticsEvent.UPGRADE_MODAL_COLLAPSE_LINE_ITEM,{source:e,lineItem:t}):W.analytics.track(B.AnalyticsEvent.UPGRADE_MODAL_EXPAND_LINE_ITEM,{source:e,lineItem:t})};function q(e){let{source:i,children:n}=e;return(0,t.jsx)(R.Collapse,{alignChevronLeft:!0,className:F.default.details,onToggle:e=>H(i,"Details",e),title:"Details",children:n})}function V(e){let{grandTotal:r,items:l=[],currency:s,isUrgent:c=!1,forceExpanded:d=!1,teamManager:u,source:p,hideTeamLine:m}=e,h=(0,i.useMemo)(()=>c&&!d?q:n.Stack,[c,d]);return(0,t.jsxs)(n.Stack,{gap:4,children:[(0,t.jsxs)(h,{source:p,children:[m?null:(0,t.jsxs)(n.Stack,{align:"center",className:(0,$.clsx)(F.default.upgradeTeam,{[F.default.urgent]:c}),direction:"row",gap:2,children:[(0,t.jsx)(a.Text,{weight:500,children:"upgrade-existing"===u.userIntent?"Upgrade":"Create"}),(0,t.jsx)(n.Stack,{align:"center",direction:"row",gap:1,children:"upgrade-existing"===u.userIntent?(0,t.jsxs)(t.Fragment,{children:[u.team.id?(0,t.jsx)(M.Avatar,{hash:u.team.avatar,size:16,teamId:u.team.id}):(0,t.jsx)(M.Avatar,{placeholder:!0,size:16}),(0,t.jsx)(a.Text,{weight:500,children:u.team.name})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(M.Avatar,{placeholder:!0,size:20}),(0,t.jsx)(a.Text,{weight:500,children:u.teamName})]})})]}),(0,t.jsx)(D.CollapseGroup,{className:m?"border-none":"",children:l.map(e=>(0,t.jsx)(i.Fragment,{children:Array.isArray(e.subLineItems)&&e.subLineItems.length>0?(0,t.jsx)(R.Collapse,{className:(0,$.clsx)(F.default.lineItemWrapper,{[F.default.urgent]:c}),onToggle:t=>H(p,e.title,t),title:e.title,titleSuffix:e.price?`${(0,o.formatCurrency)(e.price*(e.count-(e.freeCount??0)),s)} / month`:"Included",children:e.subLineItems.map(e=>(0,i.createElement)(G,{...e,currency:s,key:e.title}))}):(0,t.jsx)(U,{...e,currency:s,isUrgent:c,title:e.title})},e.title))})]}),(0,t.jsxs)(n.Stack,{direction:"row",justify:"space-between",children:[(0,t.jsx)(a.Text,{weight:500,children:"Total"}),(0,t.jsxs)(a.Text,{weight:500,children:[r," / month"]})]})]})}function X(e){let{teamManager:c,newTeamMembers:u,existingTeamMembers:p,paidAddOns:m,currency:h,trialEnd:b,setGrandTotal:g,trial:f=!1,upgrade:y,forceExpandedReceipt:x=!1,children:v,addOnToBeEnabled:S,source:_,isNewDesign:T}=e,w=(0,i.useMemo)(()=>(function(e){let{existingTeamMembers:t=[],newTeamMembers:i,paidAddOns:n,addOnToBeEnabled:a}=e,r=[...t,...i.filter(e=>e.email.length>0)],l=r.length,s=r.filter(e=>N.has(e.role)).length,o=r.map(e=>({title:e.email,price:2e3*!N.has(e.role),unit:"month"})),c=[{title:l>1?`${l} members`:"1 member",count:l,freeCount:s,price:d.pricingMenu.teamSeats.price,subLineItems:o}];return n||a?c.concat(function(e){let{alreadyEnabledAddOns:t,addOnToBeEnabled:i}=e;if(!t&&!i)return[];let n=[];for(let e of j)if(t&&t[e]||i?.type===e){let a=O[e];if("function"==typeof a.buildLineItem){let e=a.buildLineItem({alreadyEnabledAddOns:t,addOnToBeEnabled:i});e&&n.push(e)}else n.push({...a,count:1})}return n}({alreadyEnabledAddOns:n,addOnToBeEnabled:a})):c})({newTeamMembers:u,existingTeamMembers:p,paidAddOns:m,addOnToBeEnabled:S}),[u,p,m,S]),I=(0,i.useMemo)(()=>w.reduce((e,t)=>{let{count:i,freeCount:n=0,price:a=0}=t;return e+(i-n)*a},0),[w]),E=(0,o.formatCurrency)(I,h);(0,i.useEffect)(()=>{g?.(I)},[E,I,g]);let A=(0,i.useMemo)(()=>y?y.forceImmediateUpgrade?(0,t.jsx)(K,{amount:E,currency:h,paidAddOns:m}):b?(0,t.jsxs)(l.ChoiceboxGroup,{direction:"column",label:"When would you like to upgrade?",onChange:e=>y.setSelectedOption(e),type:"radio",value:y.selectedOption,children:[(0,t.jsx)(l.ChoiceboxGroup.Item,{description:(0,t.jsx)(a.Text,{as:"span",color:"now"===y.selectedOption?"blue-900":"gray-1000",children:(0,t.jsx)(z,{amount:E,when:"immediately"})}),title:"Upgrade immediately",value:"now"}),(0,t.jsx)(l.ChoiceboxGroup.Item,{title:"Upgrade at end of trial",value:"later"})]}):(0,t.jsx)(K,{amount:E,currency:h,paidAddOns:m}):(0,t.jsx)(z,{amount:E,when:b?`on ${(0,s.formatDate)(b,{dateStyle:"long"})}`:"immediately"}),[h,E,m,b,y]),P=T?i.Fragment:r.Modal.Inset,k=T?void 0:{last:!y&&f};return(0,t.jsxs)(n.Stack,{gap:6,children:[T?null:(0,t.jsx)(a.Text,{align:"left",as:"div",color:"gray-900",lineHeight:20,size:14,children:A}),(0,t.jsx)(P,{...k,children:v}),T?(0,t.jsx)(a.Text,{align:"left",as:"div",color:"gray-900",lineHeight:20,size:14,children:A}):null,(0,t.jsx)(V,{currency:h,forceExpanded:x,grandTotal:E,isUrgent:y?.forceImmediateUpgrade,items:w,source:_,teamManager:c,hideTeamLine:T})]})}function z(e){let{amount:i,when:n}=e,a=`Upon clicking Confirm, an amount of ${i} will be added to your invoice and your credit card will be charged ${n}.`;return(0,t.jsx)(t.Fragment,{children:(0,c.noOrphan)(a)})}function K(e){let{amount:i,currency:n,paidAddOns:r}=e,l=(0,o.formatCurrency)(d.pricingMenu.teamSeats.price,n),s=r&&Object.keys(r).length>0;return(0,t.jsxs)(t.Fragment,{children:["Pro teams cost"," ",(0,t.jsxs)(a.Text,{as:"span",weight:600,children:[l," /month per member"]}),". After upgrading",s?" and enabling Pro add-ons":"",", an amount of"," ",(0,t.jsx)(a.Text,{as:"span",weight:600,children:i})," ","will be added to this month’s invoice and your credit card will be charged immediately."]})}},[2544606,6589588,1508568]],4160727:e=>{"use strict";e.s({planSlugToColor:()=>i});let t={hobby:"gray",pro:"blue",enterprise:"purple"};function i(e){let i=!(arguments.length>1)||void 0===arguments[1]||arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=n?"gray":t[e];return i?`${a}-subtle`:a}},5258561:e=>{"use strict";e.s({planSlugToName:()=>i});let t={hobby:"Hobby",pro:"Pro",enterprise:"Enterprise"};function i(e){return t[e]}},8727559:e=>{"use strict";e.s({DefaultBadge:()=>l,FixedPlanBadge:()=>o,PlanBadge:()=>s});var t=e.i(6645307),i=e.i(1164214),n=e.i(3921802),a=e.i(4160727),r=e.i(5258561);function l(e){let{children:a,...r}=e;return(0,t.jsx)(n.Badge,{...r,className:"h-5 px-2","data-testid":(0,i.tid)("scope-switcher","scope-badge"),size:"sm",children:a})}function s(e){let{team:i,user:n,subtle:s=!0,disabled:o,...c}=e,d=(i||n)?.billing?.plan;if(!d)return null;let u=(0,a.planSlugToColor)(d,s,o),p=(0,r.planSlugToName)(d);return(0,t.jsx)(l,{...c,variant:u,children:p})}function o(e){let{plan:i,...n}=e,s=(0,a.planSlugToColor)(i),o=(0,r.planSlugToName)(i);return(0,t.jsx)(l,{...n,variant:s,children:o})}},4348128:e=>{"use strict";e.s({pricingModel:()=>i,withPricing:()=>a});var t=e.i(6325202);let i={fee:1e3,rate:{hobby:0,pro:3e3,plus:3e3},allocation:{hobby:5e4,pro:1e5,plus:1e5},reportingWindow:{hobby:"30 days",pro:"12 months",plus:"24 months"},bundle:"1M events prorated",bundleTooltip:"you'll be charged per event.\n\nFor example, {allocation} extra events will cost $3.",plusDescription:"Unlocks advanced UI features and view up to {reportingWindow} of data for all your projects. {fee} per month."},n=new Intl.NumberFormat("en-US");function a(e){let{offering:a="pro",currency:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.replace(/{plusDescription}/g,i.plusDescription).replace(/{bundleTooltip}/g,i.bundleTooltip).replace(/{fee}/g,(0,t.formatCurrency)(i.fee,r)).replace(/{allocation}/g,n.format(i.allocation[a])).replace(/{rate}/g,(0,t.formatCurrency)(i.rate[a],r)).replace(/{bundle}/g,i.bundle).replace(/{reportingWindow}/g,i.reportingWindow[a])}},5119671:e=>{"use strict";e.s({pricingMenu:()=>i});var t=e.i(4348128);let i=Object.freeze({pro:{title:"Pro",price:2e3,subLineItems:[]},teamSeats:{title:"Additional Team Seats",price:2e3,subLineItems:[]},concurrentBuilds:{title:"Concurrent Builds",price:5e3,subLineItems:[{title:"1 Free Concurrent Build",price:0,unit:"month"}]},bandwidth:{title:"Bandwidth – Overage Fee",price:4e3,batch:100,threshold:1e3,unit:"GB",subLineItems:[]},serverlessFunctionExecution:{title:"Serverless Function Execution – Overage Fee",price:4e3,batch:100,threshold:1e3,unit:"GB-Hours",subLineItems:[]},artifacts:{title:"Vercel Remote Caching",price:50,batch:1,threshold:10,unit:"GB",subLineItems:[]},edgeMiddlewareInvocations:{title:"Edge Middleware Invocations",price:65,batch:1e6,threshold:1e6,unit:"invocations",subLineItems:[]},edgeFunctionExecutionUnits:{title:"Edge Function Execution Units",price:200,batch:1e6,threshold:1e6,unit:"execution units",subLineItems:[]},sourceImages:{title:"Source Images",price:500,batch:1e3,threshold:5e3,subLineItems:[]},speedInsights:{title:"Speed Insights",price:1e3,unit:"month",subLineItems:[{title:"On-Demand Events",subtitle:"Billed after 10k events",price:65,batch:1e4,threshold:1e4,unit:"10k"}]},observabilityPlus:{title:"Observability Plus",price:1e3,subLineItems:[]},passwordProtection:{title:"Advanced Deployment Protection",price:15e3,subLineItems:[{title:"Password Protection",price:0},{title:"Deployment Protection Exceptions",price:0},{title:"Private Production Deployments",price:0}]},previewDeploymentSuffix:{title:"Preview Deployment Suffix",price:1e4,subLineItems:[]},webAnalytics:{title:t.withPricing("Web Analytics with {allocation} Events"),price:0,threshold:t.pricingModel.allocation.pro,limit:1,subLineItems:[{title:"On-Demand Events",subtitle:t.withPricing("Billed after {allocation} Events"),price:t.pricingModel.rate.pro,threshold:t.pricingModel.allocation.pro,batch:0,unit:t.withPricing("{bundle}")}]},webAnalyticsPlus:{title:"Web Analytics Plus",price:t.pricingModel.fee,unit:"month",threshold:t.pricingModel.allocation.plus,limit:1,subLineItems:[]},monitoring:{title:"Monitoring with 250k Data Points",price:1e3,unit:"month",subLineItems:[{title:"On-Demand Data Points",subtitle:"Billed after 250k data points",price:120,threshold:25e4,batch:1e6,unit:"million"}]},storage:{title:"5 KV Databases",price:0,subLineItems:[]}})},5599793:[e=>{"use strict";e.s({MEMBERS_LIMIT:()=>p,default:()=>h,useMembersForTeam:()=>b,useMembersInfinite:()=>m},5599793);var t=e.i(6530772),i=e.i(3521787),n=e.i(7095283),a=e.i(6649026),r=e.i(1183506),l=e.i(9336536),s=e.i(4418725),o=e.i(3514588),c=e.i(3585235),d=e.i(5785123);e.s({default:()=>u},425867);let u=e=>(i,n,a)=>{let r=(0,t.useRef)(void 0),l=e(i,n,a);(0,t.useEffect)(()=>{void 0!==l.data&&(r.current=l.data)},[l.data]);let s=(0,t.useCallback)(()=>{r.current=void 0},[]);return{...l,data:void 0===l.data?r.current:l.data,isLagging:void 0===l.data&&void 0!==r.current,resetLaggy:s}},p=20;function m(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{search:m,limit:h,role:b,eligibleMembersForProjectId:g,sort:f="date_desc",filterByUserIds:y,includeEntitlements:x,mfaStateFilter:v}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},S=arguments.length>2&&void 0!==arguments[2]&&arguments[2],_=arguments.length>3&&void 0!==arguments[3]&&arguments[3],{isReady:T,team:w}=(0,o.useTeam)(),{isLoading:I,can:E}=(0,c.default)(),A=!I&&E(d.Action.List,d.Resource.TeamFellowMembership),P=(0,s.useTeamSlug)(),k=h||p,L=(0,n.default)((e,t)=>{if(!T||!w||!A)return null;if(0===e)return`${l.API_TEAMS_MEMBERS_V3}/${w.id}/members${(0,a.encode)({sort:f,limit:k,search:m,role:b,eligibleMembersForProjectId:g,filterByUserIds:y,includeEntitlements:!!x||void 0,filterByMfaState:"all"!==v?v:void 0})}`;let i=t?.pagination.nextPageCursor;return i?`${l.API_TEAMS_MEMBERS_V3}/${w.id}/members${(0,a.encode)({sort:f,limit:k,nextPageCursor:i,search:m,role:b,eligibleMembersForProjectId:g,includeEntitlements:!!x||void 0,filterByMfaState:"all"!==v?v:void 0})}`:null},e=>(0,r.fetchAPI)(e,{throwOnHTTPError:!0}),{...e,use:S?[u]:[]});(0,t.useEffect)(()=>{S&&L.resetLaggy()},[P,S]);let C=(0,t.useMemo)(()=>L.data?.flatMap(e=>e.members.slice(0,k))||[],[L.data,k]),O=!!L.data,j=O&&0===C.length,N=!!(O&&L.data&&L.size>L.data.length),M=!!(O&&L.data&&!L.data[L.data.length-1]?.pagination?.nextPageCursor);return(0,i.default)(()=>{if(!_||!L.data||M||!T||!w)return null;let e=L.data[L.data.length-1].pagination.nextPageCursor;return`${l.API_TEAMS_MEMBERS_V3}/${w.id}/members${(0,a.encode)({sort:f,limit:k,nextPageCursor:e,search:m,role:b,eligibleMembersForProjectId:g,includeEntitlements:x,filterByMfaState:"all"!==v?v:void 0})}`},e=>(0,r.fetchAPI)(e,{throwOnHTTPError:!0})),[L,{members:C,initialDataLoaded:O,isEmpty:j,loadMore:()=>L.setSize(L.size+1),isLoadingMore:N,isReachingEnd:M,isLagging:L.isLagging}]}function h(){let{sort:e="date_desc",limit:t=20,filterByUserIds:n,until:s,role:u,includeEntitlements:p}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},m=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{isReady:h,team:b}=(0,o.useTeam)(),{isLoading:g,can:f}=(0,c.default)(),y=!g&&f(d.Action.List,d.Resource.TeamFellowMembership);return(0,i.default)(()=>h&&b&&y?`${l.API_TEAMS_MEMBERS_V3}/${b.id}/members${(0,a.encode)({sort:e,until:s,limit:t,role:u,filterByUserIds:n,includeEntitlements:p})}`:null,e=>(0,r.fetchAPI)(e,{throwOnHTTPError:!0}),m)}function b(e){let{limit:t=20,until:n,role:s,sort:o="date_desc"}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return(0,i.default)(()=>e?`${l.API_TEAMS_MEMBERS_V3}/${e.id}/members${(0,a.encode)({until:n,limit:t,role:s,sort:o})}`:null,e=>(0,r.fetchAPI)(e,{throwOnHTTPError:!0}),c)}},[425867]],4470337:e=>{"use strict";e.s({triggerOnboardingEvent:()=>o,triggerOnboardingEventAsync:()=>s,useTriggerOnboardingEvent:()=>c});var t=e.i(6530772),i=e.i(7573892),n=e.i(9802771),a=e.i(1183506),r=e.i(9336536),l=e.i(3514588);async function s(e,t){return(0,a.fetchAPI)(`${r.API_PRO_TRIAL_ONBOARDING_EVENT}?id=${e}&teamId=${t}`,{method:"POST",throwOnHTTPError:!0,body:"{}"})}function o(e,t){s(e,t).then(()=>{i.analytics.track(n.AnalyticsEvent.PRO_TRIAL_ONBOARDING,{eventName:e,timestamp:new Date().toUTCString()})}).catch(e=>{console.error("Failed to send onboarding event:",e)})}function c(){let{team:e}=(0,l.useTeam)();return(0,t.useCallback)(t=>{if(!e?.id)return void console.debug("No team id, not triggering onboarding event.");o(t,e.id)},[e])}},1667102:e=>{"use strict";function t(e){let t=e.lastIndexOf(" ");return -1===t?e:`${e.substring(0,t)}\u00A0${e.substring(t+1)}`}e.s({noOrphan:()=>t})},5228306:e=>{"use strict";e.s({trackLifecycleError:()=>n});var t=e.i(36632),i=e.i(2068621);function n(e){var n;let{type:a,error:r,attributes:l}=e;n=r,(0,t.isError)(n)&&(n.message.includes("NetworkError")||n.message.includes("Failed to fetch"))||(0,i.captureException)(r,{attributes:{section:a,owner:"lifecycle",...l}})}},2019744:e=>{e.v({checkbox:"choicebox-group-module__kLcSnq__checkbox",checked:"choicebox-group-module__kLcSnq__checked",choicebox:"choicebox-group-module__kLcSnq__choicebox","choicebox-group":"choicebox-group-module__kLcSnq__choicebox-group",content:"choicebox-group-module__kLcSnq__content",description:"choicebox-group-module__kLcSnq__description",disabled:"choicebox-group-module__kLcSnq__disabled",icon:"choicebox-group-module__kLcSnq__icon",input:"choicebox-group-module__kLcSnq__input",option:"choicebox-group-module__kLcSnq__option",radio:"choicebox-group-module__kLcSnq__radio",title:"choicebox-group-module__kLcSnq__title"})},4519408:e=>{"use strict";e.s({ChoiceboxGroup:()=>p});var t=e.i(6645307),i=e.i(6530772),n=e.i(5610210),a=e.i(889716),r=e.i(9362924),l=e.i(567017),s=e.i(4789498),o=e.i(2773196),c=e.i(8247297),d=e.i(2019744);let u=(0,i.createContext)({disabled:!1,name:"",required:!1,selectedValue:"",setSelected:()=>{},type:"radio"});function p(e){let i,{children:o,className:c,direction:p="column",disabled:m,gap:h=3,label:b,name:g,onChange:f,required:y,showLabel:x,type:v,value:S}=e,_=(0,r.useDisabled)()||m,T=(0,l.useId)("choicebox-"),w=(0,l.useId)("choicebox-name-");return i={name:g??w,disabled:_,required:y??!1,type:v,setSelected:f,selectedValue:S},(0,t.jsx)(u.Provider,{value:i,children:(0,t.jsxs)("div",{"aria-label":x?void 0:b,"aria-labelledby":x?T:void 0,"aria-multiselectable":"checkbox"===v,"aria-required":y??!1,className:(0,n.clsx)(d.default["choicebox-group"],c),role:"radio"===v?"radiogroup":"group",children:[x?(0,t.jsx)(s.Label,{bypassCasing:!0,id:T,value:b}):null,(0,t.jsx)(a.Stack,{as:"ul",direction:p,gap:h,justify:"stretch",children:o})]})})}u.displayName="ChoiceboxContext",p.Item=function(e){let{children:r,className:l,contentClassName:s,description:p=null,disabled:m,title:h,value:b,"data-testid":g,...f}=e,{type:y,selectedValue:x,setSelected:v,disabled:S,name:_}=(0,i.useContext)(u),T="radio"===y?x===b:x.includes(b),w=S||m,I=(0,i.useCallback)(e=>{"radio"===y?v(b):!e.target.checked&&x.includes(b)?v(x.filter(e=>e!==b)):e.target.checked&&v([...x,b])},[x,v,y,b]);return(0,t.jsxs)(a.Stack,{"aria-selected":T,as:"label",className:(0,n.clsx)(d.default.choicebox,w&&d.default.disabled,T&&d.default.checked,l),"data-testid":g,flex:1,children:[(0,t.jsxs)(a.Stack,{align:"center",className:d.default.option,direction:"row",gap:6,justify:"space-between",children:[(0,t.jsxs)(a.Stack,{as:"span",gap:1,children:[(0,t.jsx)("span",{className:d.default.title,children:h}),(0,t.jsx)("span",{className:d.default.description,children:p})]}),"radio"===y?(0,t.jsx)(o.Radio,{checked:T,className:d.default.radio,disabled:w,iconClassName:d.default.icon,inputClassName:d.default.input,name:_,onChange:I,value:b,...f}):(0,t.jsx)(c.Checkbox,{checked:T,className:d.default.checkbox,disabled:w,iconClassName:d.default.icon,name:_,onChange:I,value:b,...f})]}),T?(0,t.jsx)("span",{className:(0,n.clsx)(d.default.content,s),children:r}):null]})}},9244225:e=>{var{m:t,e:i}=e,n=e.r(2301680),a=e.r(3035340);t.exports=function(e){return a(n(e).toLowerCase())}},5054449:e=>{"use strict";e.s({usePaymentMethodInfo:()=>r});var t=e.i(6530772),i=e.i(5454140),n=e.i(7150089),a=e.i(7857565);function r(e){let{data:r,isLoading:l,mutate:s}=(0,n.useStripeSourcesForTeam)(e),o=(0,t.useMemo)(()=>r?.sources.find(e=>e.id===r.defaultSource),[r?.defaultSource,r?.sources]),c=!!o,{user:d,isLoading:u}=(0,i.useUser)();return(0,t.useMemo)(()=>{if(l||u)return{type:"loading",revalidateSources:s};if(!c)return{type:"no-payment-method",revalidateSources:s};if(!o)throw Error("No payment method.");return{type:"payment-method",paymentMethodId:o.id,cardBrand:(0,a.cardBrand)(o.card?.brand)??"Unknown",cardLast4:(0,a.getCardLast4)(o)??"XXXX",cardExpiry:`${o.card?.exp_month??"XX"}/${o.card?.exp_year??"XX"}`,userEmail:d?.email,revalidateSources:s}},[o,c,s,l,d?.email,u])}},5209793:e=>{"use strict";e.s({changePlan:()=>r});var t=e.i(6649026),i=e.i(9336536),n=e.i(1183506),a=e.i(1312661);async function r(e){let{source:r,teamId:l,to:s}=e,o=await (0,n.fetchAPI)(`${i.API_PLANS_CHANGE_PLAN}${(0,t.encode)({teamId:l})}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({to:s,source:r}),throwOnHTTPError:!0});return"pro-trial"===s&&(0,a.postToStatsigClient)({events:[{eventName:"start_pro_trial",metadata:{source:r,action:"upgrade-plan"}}]}),o}},8347675:e=>{"use strict";e.s({useCanCreateTrial:()=>r},8347675);var t=e.i(503726),i=e.i(6530772),n=e.i(3326412),a=e.i(6700141);function r(){let{user:e,isLoading:r}=(0,t.useAccount)(),l=function(){let{value:e}=(0,n.useIsOemPartner)(),{value:t}=(0,a.useIsOemPartner)();return(0,i.useMemo)(()=>e||t,[e,t])}();return!e||r||null===l?{ready:!1}:l?{ready:!0,canCreateTrial:!0,isOemPartner:l}:{ready:!0,canCreateTrial:e.hasTrialAvailable??!0,isOemPartner:l}}},4357575:e=>{"use strict";e.s({CollapseGroup:()=>l},4357575);var t=e.i(6645307),i=e.i(6530772),n=e.i(1824423),a=e.i(6840241),r=e.i(9443759);let l=function(e){let{children:l,multiple:s=!1,className:o,...c}=e,[d,u]=(0,i.useState)(new Set),p=(0,i.useCallback)(e=>{let t=new Set(d);t.has(e)?t.delete(e):(s||t.clear(),t.add(e)),u(t)},[d,s]);return(0,t.jsx)("div",{className:(0,r.cn)(a.default.collapseGroup,o),"data-version":"v1",...c,children:(0,t.jsx)(n.Provider,{value:{selected:d,onChange:p},children:l})})}},726129:e=>{"use strict";e.s({createTeam:()=>s});var t=e.i(7573892),i=e.i(9802771),n=e.i(1183506),a=e.i(9336536),r=e.i(1312661),l=e.i(4470337);async function s(e,r){let{name:s,slug:c,source:d,paymentMethodId:u,pricingExperiment:p,enablePreviewFeedback:m,bypassTrial:h=!1,plan:b="pro",orgId:g,fixSlugConflict:f=!1,attribution:y}=e,x=await (0,n.fetchAPI)(a.API_TEAMS,{method:"POST",body:JSON.stringify({slug:c,source:d,name:s,stripePaymentMethodId:u,pricingExperiment:p,enablePreviewFeedback:m,bypassTrial:h,plan:b,orgId:g,fixSlugConflict:f,attribution:y}),throwOnHTTPError:r});return h&&u?t.analytics.track(i.AnalyticsEvent.PRO_TEAM_CREATED,{newTeamId:"id"in x?x.id:void 0,source:d}):!h&&u?"billing"in x&&x.billing?.status==="trialing"?(o(d),t.analytics.track(i.AnalyticsEvent.INTENT_TO_GO_PRO,{billingStatus:"trialing",source:d})):t.analytics.track(i.AnalyticsEvent.INTENT_TO_GO_PRO,{billingStatus:"canceled or expired trial",source:d}):"pro"===b&&(o(d),"id"in x&&x.id&&(0,l.triggerOnboardingEvent)("start",x.id)),x}function o(e){t.analytics.track(i.AnalyticsEvent.START_PRO_TRIAL,{source:e}),(0,r.postToStatsigClient)({events:[{eventName:"start_pro_trial",metadata:{source:e,action:"create-team"}}]})}},6332926:[e=>{"use strict";e.s({},6332926);var t=e.i(7573892),i=e.i(9802771),n=e.i(6649026),a=e.i(1183506);let r=async e=>{let{teamId:r,nextTier:l,source:s}=e,o=await (0,a.fetchAPI)(`/stripe/invoices/web-analytics${(0,n.encode)({teamId:r})}`,{method:"PUT",body:{tier:l},throwOnHTTPError:!0});return"pro"===l?t.analytics.track(i.AnalyticsEvent.ANALYTICS_DOWNGRADE_SUCCESS,{teamId:r}):t.analytics.track(i.AnalyticsEvent.ANALYTICS_UPGRADE_SUCCESS,{teamId:r,source:s}),o};e.s({enableWebAnalytics:()=>o,enableWebAnalyticsPlusAddOn:()=>s},1399663);var l=e.i(36632);async function s(e){let{teamId:t,retry:i=!1,source:n}=e,a=Date.now();do try{await r({nextTier:"plus",teamId:t,source:n});return}catch(e){if(e instanceof Error&&"You cannot upgrade or downgrade Web Analytics during a trial"===e.message)await new Promise(e=>{setTimeout(e,3e3)});else throw e}while(i&&Date.now()<a+3e4)}async function o(e){let{projectId:r,team:o,withPlus:c,retryOnTrialError:d=!0,source:u="enable_modal"}=e,p=o?.id;if(r)try{c&&p&&await s({teamId:p,retry:d,source:u}),await (0,a.fetchAPI)(`/api/v1/web/insights/toggle${(0,n.encode)({projectId:r,teamId:p})}`,{method:"POST",body:{value:!0},throwOnHTTPError:!0}),t.analytics.track(i.AnalyticsEvent.ANALYTICS_ENABLED,{teamId:p,projectId:r,plan:o?.billing?.plan||"hobby",source:u})}catch(e){throw(0,l.isErrorLike)(e)&&t.analytics.track(i.AnalyticsEvent.ERROR,{message:e.message,name:e.name,teamId:p}),e}}},[1399663]]}]);

//# sourceMappingURL=c2dfa3515f17f93c.js.map
//# debugId=346bfd40-6b5d-5338-9afa-2a575dafad86
