
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="d9b994b5-8de9-5b93-9360-b4d7324dc671")}catch(e){}}();
(globalThis.TURBOPACK=globalThis.TURBOPACK||[]).push(["object"==typeof document?document.currentScript:void 0,{6500229:e=>{e.v({statusNote:"notification-module__eYyIMq__statusNote"})},2159256:e=>{"use strict";e.s({NotificationCallout:()=>u});var t=e.i(6645307),i=e.i(6530772),n=e.i(5674541),r=e.i(8084653),s=e.i(584439),o=e.i(8158100),a=e.i(5859416),l=e.i(6500229),c=e.i(5037292);function d(e){let{title:i,message:n}=e;return(0,t.jsxs)(r.Text,{color:"inherit",weight:500,children:[(0,t.jsx)("span",{children:i}),n&&n!==i?(0,t.jsx)(r.Text,{color:"inherit",children:n}):null]})}function u(e){let{notification:r,ssoParams:u}=e,p=(0,s.useToasts)(),[h,g]=(0,i.useState)(!1),m=(0,a.useIsMobile)(768),x=!!r?.href,v=(0,i.useCallback)(()=>{if(r?.href){let e=(0,c.getIntegrationAbsoluteOrSsoLink)(r.href,u);window.open(e,"_blank","noreferrer")}},[r,u]);return((0,i.useEffect)(()=>{r&&m&&!h&&(g(!0),p[function(e){switch(e){case"info":return"message";case"warn":return"warning";case"error":return"error"}}(r.level)]({text:(0,t.jsx)(d,{message:r.message,title:r.title}),action:x?"Learn more":void 0,onAction:x?v:void 0,preserve:!0}))},[m,h,p,r,x,v]),!r||m)?null:(0,t.jsx)(o.Note,{action:x?(0,t.jsx)(n.Button,{onClick:v,size:"small",children:"Learn more"}):void 0,className:l.default.statusNote,fill:!0,type:function(e){switch(e){case"info":return"default";case"warn":return"warning";case"error":return"error"}}(r.level),children:(0,t.jsx)(d,{message:r.message,title:r.title})})}},6325635:e=>{"use strict";e.s({sizeFormatter:()=>n});var t=e.i(3126517),i=e.i(9273711);let n=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"short",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;if(!(0,i.isNumber)(e))return"â€“";let s=(0,t.default)(e,{maximumFractionDigits:"short"===n?0:r,minimumFractionDigits:2!==r?r:void 0});return"short"===n&&s.length<5?(0,t.default)(e,{maximumFractionDigits:r}):s}},6065350:e=>{"use strict";e.s({PieChart:()=>s});var t=e.i(6645307),i=e.i(889716),n=e.i(4968913),r=e.i(6530772);function s(e){let{value:s}=e,o=(0,r.useMemo)(()=>0===s?0:s<.05?.05:s>1?1:s,[s]);return(0,r.useMemo)(()=>s>1,[s])?(0,t.jsx)(i.Stack,{align:"center",as:"span",justify:"center",style:{width:18,height:18},children:(0,t.jsx)(n.Stop,{color:"red-700",size:16})}):(0,t.jsx)(i.Stack,{align:"center",as:"span",justify:"center",style:{width:18,height:18},children:(0,t.jsxs)("svg",{height:16,viewBox:"0 0 20 20",width:16,children:[(0,t.jsx)("circle",{cx:"10",cy:"10",fill:"var(--accents-1)",r:"9",stroke:"var(--accents-4)",strokeWidth:1.25}),(0,t.jsx)("circle",{cx:"10",cy:"10",fill:"transparent",r:"5",stroke:"var(--accents-4)",strokeDasharray:`calc(${o} * 31.415) 31.415`,strokeWidth:"8.5",transform:"rotate(-90) translate(-20)"})]})})}},6537965:[e=>{"use strict";e.s({ResourceUsageMetrics:()=>j},6537965);var t=e.i(6645307),i=e.i(889716),n=e.i(5163670),r=e.i(8084653),s=e.i(555528),o=e.i(6621512),a=e.i(2362802),l=e.i(4418725),c=e.i(4049272),d=e.i(2226734),u=e.i(6065350),p=e.i(4325351);e.s({formatUsageValueByUnit:()=>m},2552654);var h=e.i(6325635),g=e.i(9195014);let m=e=>t=>"bytes"===e.trim().toLowerCase()?(0,h.sizeFormatter)(t):["$","usd","us dollars","dollars","dollar","us$"].includes(e.trim().toLowerCase())?`$ ${(0,g.countFormatter)(Math.round(100*t)/100,"long")}`:`${(0,g.countFormatter)(Math.round(100*t)/100,"short-precision")} ${e}`;function x(e){return(0,t.jsx)(r.Text,{color:"gray-900",lineHeight:16,size:13,weight:500,children:e.children})}function v(e){var n,s;let o=e.usage.periodValue/(e.usage.planValue??1),a=0===o?0:Math.max(o,.02);return(0,t.jsxs)(i.Stack,{className:"shrink-0",gap:1.5,children:[(0,t.jsx)(i.Stack,{align:"center",direction:"row",gap:1.5,children:(0,t.jsx)(r.Text,{className:"capitalize",color:"gray-900",lineHeight:16,size:13,weight:500,children:e.usage.name})}),(0,t.jsxs)(i.Stack,{className:"items-center gap-1",direction:"row",children:[e.usage.planValue?(0,t.jsx)(u.PieChart,{value:a}):null,(0,t.jsx)(r.Text,{children:(n=e.usage.periodValue,m(e.usage.units)(n))}),e.usage.planValue?(0,t.jsx)(r.Text,{color:"gray-800",children:`/ ${(s=e.usage.planValue,m(e.usage.units)(s))}`}):null]})]})}function j(e){let r=e.resource?.billingDataV2,s=r?.usage?.items;return(0,t.jsxs)(t.Fragment,{children:[e.resource?(0,t.jsx)(f,{resource:e.resource,settingsLink:e.settingsLink,usagePath:e.usagePath}):(0,t.jsx)(t.Fragment,{children:(0,t.jsx)(i.Stack,{className:"shrink-0",gap:1.5,children:(0,t.jsx)(n.Skeleton,{boxHeight:20,height:16,vcenter:!0,width:200})})}),s?.map(e=>(0,t.jsx)(v,{usage:e},`${e.name}_${e.units}`))]})}function f(e){let n=(0,l.useTeamSlug)(),u=e.resource.billingPlan,h=e.resource.billingDataV2,g=h?.credit,m=h?.spending;if(g||u?.type==="prepayment")return(0,t.jsx)(t.Fragment,{children:e.resource.product.integration.supportsInstallationBillingPlans?(0,t.jsxs)(i.Stack,{className:"shrink-0",gap:1.5,children:[(0,t.jsx)(x,{children:"Balance"}),(0,t.jsxs)(a.Link,{href:(0,c.getInstallationDetailsLink)({teamSlug:n??"",configurationId:e.resource.product.integrationConfigurationId,integrationSlug:e.resource.product.integration.slug,isMarketplace:!0,path:"usage"}),children:["See ",(0,p.getInstallationTitleBySlug)(e.resource.product)]})]}):(0,t.jsxs)(i.Stack,{className:"shrink-0",gap:1.5,children:[(0,t.jsxs)(i.Stack,{direction:"row",gap:1.5,children:[(0,t.jsx)(x,{children:"Balance"}),(0,t.jsx)(s.Tooltip,{text:(0,t.jsxs)(r.Text,{children:["See"," ",(0,t.jsx)(a.Link,{href:e.usagePath,underline:!0,children:"Usage"})," ","for details"]}),children:(0,t.jsx)(o.Information,{color:"gray-900"})})]}),g?(0,t.jsxs)(i.Stack,{direction:"row",gap:.5,children:[(0,t.jsxs)(r.Text,{className:"inline",children:[(0,c.formatMarketplaceBillingTotal)(g.balanceTotalCent/100),(0,t.jsxs)(r.Text,{className:"inline",color:"gray-800",children:[" ","as of"," ",(0,d.ago)(Date.now()-new Date(g.timestamp).getTime())]})]}),(0,t.jsx)(r.Text,{color:"gray-800",children:" / "}),(0,t.jsx)(a.Link,{href:`${e.settingsLink}#credit-balance`,children:(0,t.jsx)("div",{className:"rounded-md border border-solid border-gray-500 px-[6px] py-0 text-sm ",children:(0,t.jsx)(r.Text,{as:"span",color:"gray-900",children:"Add funds"})})})]}):(0,t.jsx)(a.Link,{href:`${e.settingsLink}#credit-balance`,children:(0,t.jsx)("div",{className:"rounded-md border border-solid border-gray-500 px-[6px] py-0 text-sm ",children:(0,t.jsx)(r.Text,{as:"span",color:"gray-900",children:"Add funds"})})})]})});return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(i.Stack,{className:"shrink-0",gap:1.5,children:[(0,t.jsx)(x,{children:"Plan"}),(0,t.jsx)(r.Text,{children:e.resource.billingPlan?.name})]}),e.resource.product.integration.supportsInstallationBillingPlans?(0,t.jsx)(t.Fragment,{children:v()}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(i.Stack,{className:"shrink-0",gap:1.5,children:[(0,t.jsx)(x,{children:"Current Period"}),(0,t.jsx)(r.Text,{children:m?(0,c.formatMarketplacePeriod)(m.periodStart,m.periodEnd):"-"})]}),(0,t.jsxs)(i.Stack,{className:"shrink-0",gap:1.5,children:[v(),(0,t.jsx)(r.Text,{children:m?(0,c.formatMarketplaceBillingTotal)(m.totalCent/100):"-"})]})]})]});function v(){return e.resource.product.integration.supportsInstallationBillingPlans?(0,t.jsxs)(i.Stack,{className:"shrink-0",gap:1.5,children:[(0,t.jsx)(x,{children:"Period Total"}),(0,t.jsxs)(a.Link,{className:"leading-[20px]",href:(0,c.getInstallationDetailsLink)({teamSlug:n??"",configurationId:e.resource.product.integrationConfigurationId,integrationSlug:e.resource.product.integration.slug,isMarketplace:!0,path:"settings"}),children:["See ",(0,p.getInstallationTitleBySlug)(e.resource.product)]})]}):(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)(i.Stack,{direction:"row",gap:1.5,children:[(0,t.jsx)(x,{children:"Period Total"}),(0,t.jsx)(s.Tooltip,{text:m?(0,t.jsx)(r.Text,{children:(0,t.jsx)(a.Link,{className:"leading-[20px]",href:e.usagePath,children:"See Usage for details"})}):(0,t.jsx)(r.Text,{children:"No data available yet for the current period"}),children:(0,t.jsx)(o.Information,{color:"gray-900"})})]})})}}},[2552654]],7446756:e=>{e.v({button:"custom-module__xWgFhW__button"})},2706225:e=>{"use strict";e.s({CustomButton:()=>s});var t=e.i(6645307),i=e.i(5610210),n=e.i(5674541),r=e.i(7446756);let s=e=>{let{normal:s,active:o,hover:a,className:l,...c}=e;return(0,t.jsx)(n.Button,{...c,className:(0,i.clsx)(r.default.button,l),"data-custom-button":"",style:{"--button-custom-fg":`${s?.foreground||""}`,"--button-custom-bg":`${s?.background||""}`,"--button-custom-border":`${s?.border||""}`,"--button-custom-fg-active":`${o?.foreground||""}`,"--button-custom-bg-active":`${o?.background||""}`,"--button-custom-border-active":`${o?.border||""}`,"--button-custom-fg-hover":`${a?.foreground||""}`,"--button-custom-bg-hover":`${a?.background||""}`,"--button-custom-border-hover":`${a?.border||""}`},children:c.children})}},3559505:e=>{e.v({copyButtonIcon:"copy-button-module__TP5ypq__copyButtonIcon"})},5172876:e=>{"use strict";e.s({default:()=>m});var t=e.i(6645307),i=e.i(6530772),n=e.i(2769324),r=e.i(2726686),s=e.i(4839320),o=e.i(5610210),a=e.i(5674541),l=e.i(2706225),c=e.i(584439),d=e.i(9948746),u=e.i(4203388),p=e.i(1164214),h=e.i(3559505);let g={visible:{opacity:1,scale:1},hidden:{opacity:0,scale:.5}},m=e=>{let{className:m,textToCopy:x,onClick:v,label:j,title:f,type:S="secondary",variant:_,normal:y,hover:b,active:k,shape:C="square",size:T,icon:w,...N}=e,L=(0,c.useToasts)(),[E,P]=(0,i.useState)(!1),I=(0,i.useRef)(null),H=i.default.useCallback(e=>{I.current&&clearTimeout(I.current),navigator.clipboard.writeText(x).then(()=>{P(!0),I.current=setTimeout(()=>{P(!1)},1e3)}).catch(()=>L.error("Failed to copy to clipboard")).finally(()=>v?.(e))},[x,L,v]),B=!!(y||b||k),$=(0,t.jsx)(s.MotionConfig,{transition:{duration:.15},children:(0,t.jsx)(n.AnimatePresence,{initial:!1,mode:"wait",children:E?(0,t.jsx)(r.m.div,{animate:"visible",className:h.default.copyButtonIcon,"data-testid":(0,p.tid)("copy","success"),exit:"hidden",initial:"hidden",variants:g,children:(0,t.jsx)(d.Check,{})},"check"):(0,t.jsx)(r.m.div,{animate:"visible",className:h.default.copyButtonIcon,exit:"hidden",initial:"hidden",variants:g,children:w||(0,t.jsx)(u.Copy,{})},"copy")})});return B?(0,t.jsx)(l.CustomButton,{active:k,"aria-label":j,className:(0,o.clsx)(m),"data-testid":(0,p.tid)("copy","button"),hover:b,normal:y,onClick:H,shape:C,size:T,svgOnly:!0,title:f,typeName:"button",...N,children:$}):(0,t.jsxs)(a.Button,{"aria-label":j,className:(0,o.clsx)(m),"data-testid":(0,p.tid)("copy","button"),onClick:H,shape:C,size:T,svgOnly:!0,title:f,type:S,typeName:"button",variant:_,...N,children:[E?(0,t.jsx)("div",{"aria-live":"assertive",className:"geist-sr-only",role:"status",children:"Copied!"}):null,$]})}},189871:e=>{e.v({code:"syntax-theme-module__nyY4jG__code",lineNumber:"syntax-theme-module__nyY4jG__lineNumber",pre:"syntax-theme-module__nyY4jG__pre",row:"syntax-theme-module__nyY4jG__row"})},9324059:e=>{e.v({code:"code-highlight-module__kuP-Rq__code",copyButton:"code-highlight-module__kuP-Rq__copyButton",copyFloatingButton:"code-highlight-module__kuP-Rq__copyFloatingButton",fileName:"code-highlight-module__kuP-Rq__fileName",hasFileName:"code-highlight-module__kuP-Rq__hasFileName",header:"code-highlight-module__kuP-Rq__header",pre:"code-highlight-module__kuP-Rq__pre",wrapper:"code-highlight-module__kuP-Rq__wrapper"})},8995909:e=>{"use strict";e.s({CodeHighlight:()=>l});var t=e.i(6645307),i=e.i(5610210),n=e.i(8216039),r=e.i(8084653),s=e.i(189871),o=e.i(5172876),a=e.i(9324059);function l(e){let{children:l,language:c,fileName:d,highlightedLinesNumbers:u,copy:p,className:h,hideCopy:g}=e;return(0,t.jsxs)("div",{className:(0,i.clsx)(a.default.wrapper,{[a.default.hasFileName]:d},h),children:[d&&!g?(0,t.jsxs)("div",{className:a.default.header,children:[(0,t.jsx)(r.Text,{className:a.default.fileName,size:13,children:d}),(0,t.jsx)(o.default,{className:a.default.copyButton,label:"Copy code",textToCopy:p||l})]}):null,(0,t.jsx)(n.default,{...n.defaultProps,code:l,language:c,theme:void 0,children:e=>{let{className:n,style:r,tokens:o,getLineProps:l,getTokenProps:c}=e;return(0,t.jsx)("pre",{className:(0,i.clsx)(n,s.default.pre),style:r,children:(0,t.jsx)("code",{className:(0,i.clsx)(s.default.code,a.default.code),children:o.map((e,i)=>{let n=u?.includes(i+1),{key:r,...o}=l({line:e,key:i});return(0,t.jsxs)("div",{className:s.default.row,"data-highlighted":n,children:[(0,t.jsx)("span",{className:s.default.lineNumber,children:i+1}),(0,t.jsx)("div",{...o,children:e.map((e,i)=>{let{key:n,...r}=c({token:e,key:i});return(0,t.jsx)("span",{...r},n)})})]},r)})})})}}),d||g?null:(0,t.jsx)(o.default,{className:a.default.copyFloatingButton,label:"Copy code",textToCopy:p||l})]})}},5333425:e=>{"use strict";e.s({DevelopmentEnvironment:()=>l,PreviewEnvironment:()=>a,ProductionEnvironment:()=>o,allCustomEnvironmentsFilter:()=>d,allEnvironmentsFilter:()=>c,brandCustomEnvId:()=>i,envName:()=>s,isCustomEnvId:()=>n,isCustomEnvironment:()=>r,isEnvFilter:()=>u,mapToEnvFilter:()=>p});var t=e.i(3509620);let i=e=>e;function n(e){return e.startsWith("env_")}function r(e){return n(e.id)}function s(e){return r(e)?e.slug:e.name}let o={id:t.EnvTarget.Production,name:"Production",slug:t.EnvTarget.Production,description:"Primary project environment meant to serve qualified, promoted deployments to real users",branchMatcher:void 0,domains:[],createdAt:void 0,updatedAt:void 0},a={id:t.EnvTarget.Preview,name:"Preview",slug:t.EnvTarget.Preview,description:"Standard environment â€” included with all Vercel projects â€” for previewing changes before promoting them to production",branchMatcher:void 0,domains:[],createdAt:void 0,updatedAt:void 0},l={id:t.EnvTarget.Development,name:"Development",slug:t.EnvTarget.Development,branchMatcher:void 0,description:"Standard environment â€” included with all Vercel projects â€” used to supply environment variables in local development",createdAt:void 0,updatedAt:void 0},c="[all-environments]",d="[all-custom-environments]";function u(e){return e===c||e===d||Object.values(t.EnvTarget).includes(e.replace(/^\[|\]$/g,""))||n(e)}function p(e){return n(e)?e:`[${e}]`}},3156464:e=>{"use strict";e.s({useAllEnvironments:()=>l,useCustomEnvironments:()=>a});var t=e.i(3521787),i=e.i(6649026),n=e.i(1183506),r=e.i(9336536),s=e.i(4418725),o=e.i(5333425);function a(e,o){let a=(0,s.useTeamSlug)(),l=(0,i.encode)({slug:a}),{skip:c,...d}=o||{},u=async e=>{try{let t=await (0,n.fetchAPI)(e,{throwOnHTTPError:!0});return{customEnvironments:t.environments,accountLimit:t.accountLimit}}catch(e){return{customEnvironments:[],accountLimit:{total:0}}}};return(0,t.default)(e&&!c?`${(0,r.API_ENVIRONMENTS)(e)}${l}`:null,u,d)}function l(e,i){let n=a(e,i),{data:r,error:s,isLoading:l,isValidating:c,mutate:d}=(0,t.default)(e?[e,"allEnvironments",n.data]:null,()=>({environments:[o.ProductionEnvironment,o.PreviewEnvironment,...n.data?.customEnvironments||[],o.DevelopmentEnvironment]}),{...i,fallbackData:{environments:[o.ProductionEnvironment,o.PreviewEnvironment,o.DevelopmentEnvironment]}});return{data:r,error:n.error||s,isLoading:n.isLoading||l,isValidating:n.isValidating||c,mutate:d}}},5015782:e=>{"use strict";e.s({EyeOff:()=>t});let t=(0,e.i(6895406).withNewIcon)('<path fill-rule="evenodd" clip-rule="evenodd" d="M0.191137 2.06228L0.751694 2.56055L14.2517 14.5605L14.8122 15.0588L15.8088 13.9377L15.2482 13.4394L13.4399 11.832L16.3183 8.48938V7.51059L13.1149 3.79053C10.6442 0.921301 6.36413 0.684726 3.59378 3.07992L1.74824 1.43943L1.18768 0.941162L0.191137 2.06228ZM14.7602 7.99998L12.3187 10.8354L10.6699 9.36978C11.249 8.24171 11.0661 6.82347 10.1213 5.87865C9.08954 4.8469 7.49326 4.72376 6.32676 5.50923L4.72751 4.08767C6.88288 2.36327 10.1023 2.59076 11.9783 4.76931L14.7602 7.99998ZM7.52702 6.57613L9.46929 8.30259C9.56713 7.82531 9.43091 7.30959 9.06063 6.93931C8.64578 6.52446 8.0484 6.4034 7.52702 6.57613ZM-0.318359 7.51059L1.40386 5.5106L2.54051 6.48938L1.23971 7.99998L4.02168 11.2307C5.52853 12.9805 7.90301 13.4734 9.89972 12.7017L10.4405 14.1008C7.88008 15.0904 4.82516 14.4625 2.88503 12.2094L-0.318359 8.48938V7.51059Z" fill="currentColor"/>')},4009455:e=>{"use strict";e.s({useResourceSecrets:()=>s});var t=e.i(3521787),i=e.i(1183506),n=e.i(4418725);e.i(9562801);var r=e.i(438427);function s(e){let s=(0,n.useTeamSlug)();return(0,t.default)(()=>e.enabled&&e.resourceId&&s?(0,r.getResourceItemApiUrl)({storeId:e.resourceId,teamSlug:s,path:"/secrets"}):null,e=>(0,i.fetchAPI)(e,{throwOnHTTPError:!0}),e)}},9724540:e=>{e.v({codeHighlight:"store-code-snippets-module__QeC-tW__codeHighlight",codeHighlightLoading:"store-code-snippets-module__QeC-tW__codeHighlightLoading",codeHighlightSkeleton:"store-code-snippets-module__QeC-tW__codeHighlightSkeleton",codeHighlightSkeletonWrapper:"store-code-snippets-module__QeC-tW__codeHighlightSkeletonWrapper",codeHighlightSkeletonWrapperLineNumber:"store-code-snippets-module__QeC-tW__codeHighlightSkeletonWrapperLineNumber",codeHighlightWrapper:"store-code-snippets-module__QeC-tW__codeHighlightWrapper",codeSnippetsActionButton:"store-code-snippets-module__QeC-tW__codeSnippetsActionButton",codeSnippetsHeader:"store-code-snippets-module__QeC-tW__codeSnippetsHeader",codeSnippetsHeaderSecrets:"store-code-snippets-module__QeC-tW__codeSnippetsHeaderSecrets",codeSnippetsHeaderTab:"store-code-snippets-module__QeC-tW__codeSnippetsHeaderTab",codeSnippetsSecrets:"store-code-snippets-module__QeC-tW__codeSnippetsSecrets",codeSnippetsTitle:"store-code-snippets-module__QeC-tW__codeSnippetsTitle",codeSnippetsTitleButton:"store-code-snippets-module__QeC-tW__codeSnippetsTitleButton",codeSnippetsTitleSelected:"store-code-snippets-module__QeC-tW__codeSnippetsTitleSelected"})},2655082:e=>{"use strict";e.s({FILENAME_ENV:()=>L,ShowHideSecretButton:()=>I,StoreCodeSnippets:()=>H},2655082);var t=e.i(6645307),i=e.i(5610210),n=e.i(2769324),r=e.i(4839320),s=e.i(2726686),o=e.i(5674541),a=e.i(653558),l=e.i(2733203),c=e.i(1190215),d=e.i(4105925),u=e.i(6921100),p=e.i(5163670),h=e.i(3821772),g=e.i(889716),m=e.i(8084653),x=e.i(555528),v=e.i(2934175),j=e.i(1635782),f=e.i(5015782),S=e.i(6530772),_=e.i(1183506),y=e.i(9336536),b=e.i(3514588),k=e.i(8995909),C=e.i(2146499),T=e.i(9184232),w=e.i(1310591),N=e.i(9724540);let L=".env.local";function E(e){let{snip:a,handleChangeTab:l,activeSnip:c,showLoading:d}=e,u=(0,S.useCallback)(()=>{l(a)},[a,l]),p=(0,S.useMemo)(()=>c===a,[c,a]);return(0,t.jsx)(o.Button,{className:N.default.codeSnippetsTitleButton,onClick:u,size:"small",type:"tertiary",children:(0,t.jsx)(g.Stack,{align:"center",direction:"row",gap:2,children:(0,t.jsx)(r.MotionConfig,{transition:{duration:.15},children:(0,t.jsx)(n.AnimatePresence,{initial:!1,mode:"wait",children:d?(0,t.jsx)(s.m.div,{animate:"visible",exit:"hidden",initial:"hidden",style:{width:"26px",display:"flex",alignItems:"center",justifyContent:"center"},variants:P,children:(0,t.jsx)(h.Spinner,{size:16})},"loading"):(0,t.jsx)(m.Text,{className:(0,i.clsx)(N.default.codeSnippetsTitle,p&&N.default.codeSnippetsTitleSelected),color:p?"gray-900":"gray-800",lineHeight:16,size:13,weight:500,children:a})})})})})}let P={visible:{opacity:1,scale:1},hidden:{opacity:0,scale:.5}};function I(e){let{isDisabled:i,onShowSecretChanged:n,showSecret:r,isLoading:s,type:a="tertiary"}=e;return(0,t.jsx)(x.Tooltip,{disableTriggers:!i,text:"You don't have permission to view this secret.",children:(0,t.jsx)(o.Button,{className:N.default.codeSnippetsActionButton,disabled:i||s,onClick:n,size:"small",type:a,children:(0,t.jsxs)(g.Stack,{align:"center",className:N.default.codeSnippetsSecrets,direction:"row",gap:1.5,children:[(0,t.jsx)(m.Text,{color:"inherit",lineHeight:16,size:13,weight:500,children:r?"Hide secret":"Show secret"}),r?(0,t.jsx)(f.EyeOff,{}):(0,t.jsx)(j.Eye,{})]})})})}function H(e){let{areSecretsLoaded:n,snippets:r,isReady:s,isDisabled:o,connections:h,currentConnection:j,onConnectionChanged:f,onRequestSecrets:P,secretsEnvironments:H,selectedSecretsEnvironment:B,setSelectedSecretsEnvironment:$,storeType:M,storeId:W,isLoadingSecrets:A}=e,F=function(e,t){let{team:i}=(0,b.useTeam)();return(0,S.useCallback)(n=>{let r=new URLSearchParams;i&&r.set("teamId",i.id);let s=r.toString();return(0,_.fetchAPI)(`${y.API_STORE}/event${s.length>0?`?${s}`:""}`,{method:"POST",throwOnHTTPError:!1,returnStatus:!0,body:{eventType:n,storeType:e,storeId:t}})},[t,e,i])}(M,W),[R,V]=(0,S.useState)(r[0].title),[O,D]=(0,S.useState)(!1),[z,Q]=(0,S.useState)(!1),{hasProject:q}=(0,w.useProjectSlug)(),U=(0,S.useCallback)(e=>{V(e),D(!1)},[]),Y=(0,S.useCallback)(e=>{Q(!0),setTimeout(()=>{f?.(e),setTimeout(()=>{Q(!1)},500)},500)},[f]),G=(0,S.useMemo)(()=>{let e=r.find(e=>e.title===R);if(!e)throw Error("Snippet is in invalid state.");return e},[r,R]),Z=(0,S.useMemo)(()=>G.secretContent?n?G.secretContent:"":G.content,[G,n]),K=(0,S.useMemo)(()=>n&&O?G.secretContent??G.content:G.content,[O,G,n]),J=(0,S.useMemo)(()=>({id:j?.projectId??""}),[j]),X=(0,S.useMemo)(()=>{if(j&&h&&h.length>1){let e=(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(C.ProjectLogo,{deploymentId:j.latestDeployment,framework:j.framework,project:J,size:16}),(0,t.jsx)(m.Text,{color:"gray-1000",size:13,title:j.name,truncate:!0,weight:400,children:j.name})]});return q?(0,t.jsx)(g.Stack,{align:"center",direction:"row",flex:1,gap:1,children:e}):(0,t.jsxs)(c.MenuContainer,{children:[(0,t.jsx)(l.MenuButton,{size:"small",style:{paddingLeft:4,paddingRight:2,height:24},type:"tertiary",children:(0,t.jsxs)(g.Stack,{align:"center",direction:"row",flex:1,gap:1,children:[e,(0,t.jsx)(v.ChevronUpDown,{color:"gray-700"})]})}),(0,t.jsx)(a.Menu,{width:"auto",children:h.map(e=>(0,t.jsx)(d.MenuItem,{onClick:()=>Y(e),children:(0,t.jsxs)(g.Stack,{align:"center",direction:"row",flex:1,gap:2,children:[(0,t.jsx)(C.ProjectLogo,{deploymentId:e.latestDeployment,framework:e.framework,project:{id:e.projectId},size:18}),(0,t.jsx)(m.Text,{color:"gray-1000",title:e.name,truncate:!0,weight:500,children:e.name})]})},e.id))})]})}return null},[q,h,j,J,Y]),ee=H&&B&&$;return(0,t.jsxs)(g.Stack,{gap:3,children:[(0,t.jsxs)(g.Stack,{align:"center",direction:"row",gap:4,children:[(0,t.jsx)(m.Text,{color:"gray-900",lineHeight:24,size:13,weight:500,children:"Quickstart"}),X]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)(g.Stack,{className:N.default.codeSnippetsHeader,direction:{sm:"column",md:"column",lg:"row"},justify:"space-between",children:[(0,t.jsx)(g.Stack,{align:"center",className:N.default.codeSnippetsHeaderTab,direction:"row",gap:.5,children:r.map(e=>(0,t.jsx)(E,{activeSnip:R,handleChangeTab:U,showLoading:e.title===L&&z,snip:e.title},e.title))}),(0,t.jsxs)(g.Stack,{align:"center",className:N.default.codeSnippetsHeaderSecrets,direction:"row",gap:.5,children:[G.secretContent&&ee?(0,t.jsx)(u.Select,{value:B,onChange:e=>{let{target:{value:t}}=e;return $(t)},className:"mr-1",size:"xsmall",children:H.map(e=>(0,t.jsx)("option",{value:e.slug,children:e.name},e.slug))}):null,G.secretContent?(0,t.jsx)(I,{isDisabled:o,isLoading:A,onShowSecretChanged:()=>{let e=!O;e&&(F("view-secret"),P()),D(e)},showSecret:O}):null,(0,t.jsx)(x.Tooltip,{disableTriggers:!o,text:"You don't have permission to copy this secret.",children:(0,t.jsx)(T.CopyButton,{buttonType:"tertiary",className:N.default.codeSnippetsActionButton,contentClassName:N.default.codeSnippetsSecrets,contentToCopy:Z,isDisabled:o,onClick:()=>{F("view-secret"),P()},children:(0,t.jsx)(m.Text,{color:"inherit",lineHeight:16,size:13,weight:500,children:"Copy Snippet"})})})]})]}),(0,t.jsx)("div",{className:N.default.codeHighlightWrapper,children:s?(0,t.jsx)(k.CodeHighlight,{className:(0,i.clsx)(N.default.codeHighlight,z&&N.default.codeHighlightLoading),hideCopy:!0,language:G.language,children:K}):(0,t.jsx)("div",{className:N.default.codeHighlightSkeletonWrapper,children:K.split("\n").map((e,i)=>(0,t.jsxs)(g.Stack,{align:"center",direction:"row",children:[(0,t.jsx)(m.Text,{className:N.default.codeHighlightSkeletonWrapperLineNumber,monospace:!0,children:i+1}),e.length?(0,t.jsx)(p.Skeleton,{className:N.default.codeHighlightSkeleton,height:13,width:5*e.length}):null]},e))})})]})]})}},9997005:e=>{"use strict";e.s({SnippetSecretReplacer:()=>i,getSecrets:()=>r,hasEnvironmentOverride:()=>n});var t=e.i(2361612);let i={replace:e=>e.content.replace(/\{\{process\.env\.(?<temp1>.+?)\}\}/g,(t,i)=>{let n=e.secrets[i],r=e.connectionEnvironmentVariableNames?.find(e=>e.endsWith(i));return n?`"${e.secrets[i]}"`:`process.env.${r||i}`}).replace(/\{\{(?<temp1>.+?)\}\}/g,(t,i)=>e.secrets[i]||i.split("").map(()=>"*").join(""))};function n(e){return!!e?.varsV2&&Object.entries(e.varsV2).some(e=>{let[i,n]=e;return Object.entries((0,t.default)(n,"default")).length>0})}function r(e,t){return e?.varsV2?Object.fromEntries(Object.entries(e.varsV2).filter(e=>{let[i,n]=e;return t in n?!!n[t]:!!n.default}).map(i=>{let[n,r]=i,s=e.prefixes?.[n],o=s?`${s}_${n}`:n;return t in r?[o,r[t]]:[o,r.default]})):Object.fromEntries(Object.entries(e||{}).filter(e=>e[0].startsWith("data_")&&!!e[1]).map(t=>{let[i,n]=t,r=i.replace(/^data_|^data_v2_/,""),s=e?.prefixes?.[r];return[s?`${s}_${r}`:r,n]}))}},201825:e=>{"use strict";e.s({ResourceCodeSnippets:()=>h});var t=e.i(6645307),i=e.i(6530772),n=e.i(6799491),r=e.i(1915818),s=e.i(4009455),o=e.i(2112894),a=e.i(2655082),l=e.i(9997005),c=e.i(4418725),d=e.i(5535439),u=e.i(1310591),p=e.i(3156464);function h(e){let{store:h}=e,g=(0,d.useParams)(),{connection:m,setConnection:x,isConnectionProcessed:v}=(0,o.useProjectScopedResourceConnection)({store:h}),[j,f]=(0,i.useState)(!1),[S,_]=(0,i.useState)("production"),{permissions:y,isLoading:b}=(0,r.useResourcePermissions)(),{data:k}=(0,s.useResourceSecrets)({enabled:j,resourceId:h?.id||null}),C=m?.environmentVariables,T=(0,c.useTeamSlug)(),{projectSlug:w}=(0,u.useProjectSlug)(),{data:{environments:N}}=(0,p.useAllEnvironments)(w??void 0),{product:L,isLoading:E}=(0,n.useIntegrationAndProduct)({integrationIdOrSlug:g?.integrationSlug??h?.product.integration.slug,productIdOrSlug:h?.product.id,teamIdOrSlug:T}),P=(0,l.getSecrets)(k,S),I=(0,l.hasEnvironmentOverride)(k),H=function(e){let t=e.store?.secrets.map(t=>{let i=e.connectionEnvironmentVariableNames?.find(e=>e.endsWith(t.name));return`${i||t.name}="${Array(t.name.length).fill(0).map(()=>"*").join("")}"`}).join("\n")||"    ",i=Object.entries(e.secrets).map(t=>{let[i,n]=t,r=e.connectionEnvironmentVariableNames?.find(e=>e.endsWith(i));return`${r||i}="${n}"`}).join("\n")||" ";return{title:a.FILENAME_ENV,content:t,secretContent:i,language:"bash"}}({secrets:P,store:h,connectionEnvironmentVariableNames:C}),B=L?.snippets?.some(e=>e.name===a.FILENAME_ENV),$=[];return B||$.push(H),L?.snippets?.forEach(e=>{let t=l.SnippetSecretReplacer.replace({content:e.content,secrets:{},connectionEnvironmentVariableNames:C}),i=l.SnippetSecretReplacer.replace({content:e.content,secrets:P,connectionEnvironmentVariableNames:C});$.push({title:e.name,content:t,secretContent:i,language:e.language||""})}),(0,t.jsx)(a.StoreCodeSnippets,{areSecretsLoaded:!!k,connections:h?.projectsMetadata,currentConnection:m,isDisabled:!y.readSecrets,isLoadingSecrets:b,isReady:!E&&!!h&&v,onConnectionChanged:x,onRequestSecrets:()=>f(!0),secretsEnvironments:I?N:void 0,selectedSecretsEnvironment:S,setSelectedSecretsEnvironment:_,snippets:$,storeId:h?.id,storeType:"integration"})}}}]);

//# sourceMappingURL=c6248f341848c4e2.js.map
//# debugId=d9b994b5-8de9-5b93-9360-b4d7324dc671
