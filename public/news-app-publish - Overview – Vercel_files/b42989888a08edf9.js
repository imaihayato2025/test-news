
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="c363d8b1-7c73-529c-882a-7054245c847f")}catch(e){}}();
(globalThis.TURBOPACK=globalThis.TURBOPACK||[]).push(["object"==typeof document?document.currentScript:void 0,{714511:[e=>{"use strict";e.s({subMinutes:()=>i},714511),e.s({addMinutes:()=>r},5143317);var a=e.i(5701118),t=e.i(7831155);function r(e,r,i){let n=(0,t.toDate)(e,i?.in);return n.setTime(n.getTime()+r*a.millisecondsInMinute),n}function i(e,a,t){return r(e,-a,t)}},[5143317]],284627:e=>{"use strict";e.s({useBuildDiagnostics:()=>B,useSonarLiveQuery:()=>N,useSonarQuery:()=>R},284627);var a=e.i(6530772),t=e.i(3521787),r=e.i(1183506),i=e.i(9336536),n=e.i(1863837),o=e.i(1740078),s=e.i(5701118),l=e.i(2282870),u=e.i(5143317),c=e.i(2671602),d=e.i(1802833),m=e.i(714511),g=e.i(3345839),S=e.i(7550201),f=e.i(8757700),h=e.i(870804),p=e.i(8072229),y=e.i(1238354),C=e.i(5535439),M=e.i(5534034),T=e.i(8551999),v=e.i(1285094),I=e.i(3025798);let b=e=>(t,r,i)=>{let n=(0,a.useRef)(void 0),o=e(t,r,i);(0,a.useEffect)(()=>{void 0!==o.data&&Array.isArray(t)&&t[1]&&(n.current=o.data)},[o.data,t]);let s=(0,a.useCallback)(()=>{n.current=void 0},[]);Array.isArray(t)&&!t[1]&&(n.current=void 0);let l=void 0===o.data?n.current:o.data,u=void 0===o.data&&void 0!==n.current;return Object.assign(o,{currentData:l,isLagging:u,resetLaggy:s})};function R(e,t){let r=(0,a.useMemo)(()=>{if(e)return{...e}},[e]),i=function(){let e=(0,C.useSearchParams)();return(0,a.useCallback)(a=>{let{rollups:t,by:r,event:i,filter:n}=a;if(!t||!i||!M.queryBuilderEvents.includes(i))return;let o=(0,v.getGroupableDimensions)(i);if(n&&(0,T.parseFilters)(n).some(e=>!o.includes(e.dimension)))return;r=r?.filter(e=>o.includes(e));let s=e?.get("period"),l=e?.get("from"),u=e?.get("to"),c=l&&u?{from:new Date(1e3*Number(l)),to:new Date(1e3*Number(u))}:s;return Object.entries(t).reduce((e,a)=>{let[t,o]=a,{measure:s,aggregation:l}=o;return e[t]={metric:`${i}.${s}`,by:r||[],filter:n||"",aggregation:l,time:c||""},e},{})},[e])}(),{start:m,end:I,isRelativeTime:b}=(0,p.useRangeFromQueryState)(),[{environment:R}]=(0,p.useSonarQueryState)(),N=(0,y.useSonarQueryScopeWithSlug)(),B=(0,y.useSonarQueryScope)(),A=(0,h.useShouldShowDemoData)();r&&!r.scope&&(r.scope=N),r&&(r.granularity=r.granularity||(0,f.getGranularityFromDuration)(Math.round(I.getTime()-m.getTime()),r.lowGranularity),r.startTime=(0,n.startOfDuration)(r.startTime||m,r.granularity),r.endTime=(0,n.endOfDuration)(r.endTime||I,r.granularity)),r&&!r.reason&&(r.reason="observability_chart");let G=t?.noEnvironmentFilter===!0,D=t?.builderQueryFilter||r?.filter;if(r&&"all"!==R&&!G&&(r.filter=(0,c.andFilterStrings)(`environment eq '${R}'`,r.filter),D=(0,c.andFilterStrings)(`environment eq '${R}'`,D)),r&&(r.filter=(0,c.andFilterStrings)(r.filter,(0,c.serializeObjectFilter)(r.contextFilter)),D=(0,c.andFilterStrings)(D,(0,c.serializeObjectFilter)(r.contextFilter)),B?.type==="project"&&(D=(0,c.andFilterStrings)(`projectId eq '${B.projectIds[0]}'`,D)),t?.useQueryCache))try{{let e=new URLSearchParams(window.location.search).get("queryId");e&&(r.queryId=e)}}catch(e){}let j=i({event:r?.event,rollups:r?.rollups,by:r?.groupBy?.filter(e=>"projectName"!==e),filter:D}),L=r?.granularity&&b?(0,d.milliseconds)(r.granularity):0,F=!!((t?.showDemoData||A)&&t?.demoConfig),P=(0,a.useMemo)(()=>!r||F?null:JSON.stringify(r),[r,F]),{isLoading:E,...O}=(0,g.useIsomorphicSWR)(P,async()=>{if(r?.scope)return(0,S.getSonarData)(r)},{refreshInterval:t?.disableRefetch===!0?0:L,revalidateOnFocus:!1,revalidateOnReconnect:!1,revalidateIfStale:!1,keepPreviousData:!0,errorRetryCount:0,ssr:{timeout:4e3}}),x=(0,a.useMemo)(()=>(t?.showDemoData||A)&&t?.demoConfig?function(e,a){let{startTime:t,endTime:r,granularity:i,groupBy:n=[]}=e,c=function(e,a,t){let r=(0,l.differenceInMilliseconds)(e,a)/s.millisecondsInMinute;return(0,o.getRoundingMethod)(void 0)(r)}(r,t),d=i.minutes||15,m=Math.ceil(c/d/("lowGranularity"in e?4:1)),g=[],S=[],f=Object.keys(a.rollups),h=0,p=e=>!!e&&"object"==typeof e&&"base"in e&&"variation"in e&&"number"==typeof e.base&&"number"==typeof e.variation,y=(e=>{if(0===e.length)return[{}];let t=[{}];for(let r of e){let e=[];if(a.groupValues?.[r])e=a.groupValues[r];else{let t=new Set;for(let e of Object.values(a.rollups))if(!p(e)&&e.groupConfigs){let a=e.groupConfigs;a[r]&&Object.keys(a[r]).forEach(e=>{t.add(e)})}e=Array.from(t)}if(0===e.length)throw Error(`No values found for group field "${r}". Please provide groupValues or groupConfigs for this field.`);let i=[];for(let a of t)for(let t of e)i.push({...a,[r]:t});t=i}return t})(n),C=e.rollups;for(let e of y){let r={...e},i={};for(let r=0;r<m;r++){let n=(0,u.addMinutes)(t,r*d),o={timestamp:n,...e};for(let t of f){let r,s=a.rollups[t],l=C[t];if(void 0===s)continue;if(p(s))r=s;else for(let[a,t]of(r=s.defaultConfig,Object.entries(e)))if(s.groupConfigs?.[a]?.[t]){r=s.groupConfigs[a][t];break}let{base:u=0,variation:c=0,diurnalPattern:d=!1}=r,m=u+(Math.random()-.5)*c;d&&(m*=1+.3*Math.sin(n.getHours()/24*Math.PI*2)),r.allowNegative||(m=Math.max(0,m));let g=l?.aggregation;"sum"===g?m=Math.round(m):"avg"===g||("p75"===g?m+=Math.random()*c*.5:m=Math.round(m)),o[t]=m,i[t]||(i[t]=[]),i[t].push(m),h+=m}g.push(o)}for(let e of f){let a=i[e],t=C[e],n=t?.aggregation,o=null;if(a&&0!==a.length)switch(n){case"avg":o=a.reduce((e,a)=>e+a,0)/a.length;break;case"p75":{a.sort((e,a)=>e-a);let e=Math.floor(.75*(a.length-1));o=a[e]||0;break}default:o=a.reduce((e,a)=>e+a,0)}else o=null;r[e]=o||0}S.push(r)}return{data:e.summaryOnly?void 0:g,summary:S,statistics:{rowsRead:h,bytesRead:46*h,dbTimeSeconds:.1+.1*Math.random(),engineTimeSeconds:.1+.1*Math.random(),queryTable:"demo"}}}(r,t.demoConfig):void 0,[t?.showDemoData,A,r]);return x?{...O,isRelativeTime:!0,data:x,isLoading:!1}:{...O,builderQuery:j,isRelativeTime:b,isLoading:E||O.isValidating||!r?.scope}}function N(e,a){let r=(0,y.useSonarQueryScope)();return e&&!e.scope&&(e.scope=r),(0,t.default)(e?[e,a]:null,async e=>{let[t]=e;if(a){let e=new Date,a=(0,n.endOfDuration)((0,m.subMinutes)(e,1),{seconds:10});t.startTime=(0,n.startOfDuration)(new Date(e.getTime()-6e5),{seconds:10}),t.endTime=a}if(t.scope)return(0,S.getSonarData)(t)},{refreshInterval:e?.granularity&&a?(0,d.milliseconds)({seconds:8}):0,revalidateOnFocus:!1,revalidateOnReconnect:!1,use:[b],onErrorRetry:(e,a,t,r,i)=>{let{retryCount:n}=i;401!==e.status&&403!==e.status&&(n>=3||setTimeout(()=>void r({retryCount:n}),2500))}})}function B(){let e=(0,p.useRangeFromQueryState)(),a=(0,y.useSonarQueryScope)(),[{environment:o}]=(0,p.useSonarQueryState)(),s={minutes:15},l={from:(0,n.startOfDuration)(e.start,s),to:(0,n.endOfDuration)(e.end,s),scope:a,environment:o};return{isRelativeTime:e.isRelativeTime,...(0,t.default)(l,async e=>{if(e.scope)return await (0,r.fetchAPI)(`${i.API_OBSERVABILITY_BUILD_DIAGNOSTICS}?${(0,I.stringify)((0,S.getSonarTeamParam)(e.scope))}`,{method:"POST",body:JSON.stringify(e),throwOnHTTPError:!0})},{refreshInterval:0,revalidateOnFocus:!1,revalidateOnReconnect:!1})}}},6320924:e=>{"use strict";e.s({countries:()=>a,countriesByAlpha2:()=>t,flagsByAlpha2:()=>r});let a=[["AF","Afghanistan"],["AL","Albania"],["DZ","Algeria"],["AS","American Samoa"],["AD","Andorra"],["AO","Angola"],["AI","Anguilla"],["AQ","Antarctica"],["AG","Antigua and Barbuda"],["AR","Argentina"],["AM","Armenia"],["AW","Aruba"],["AU","Australia"],["AT","Austria"],["AZ","Azerbaijan"],["BS","Bahamas"],["BH","Bahrain"],["BD","Bangladesh"],["BB","Barbados"],["BY","Belarus"],["BE","Belgium"],["BZ","Belize"],["BJ","Benin"],["BM","Bermuda"],["BT","Bhutan"],["BO","Bolivia"],["BA","Bosnia and Herzegovina"],["BW","Botswana"],["BV","Bouvet Island"],["BR","Brazil"],["IO","British Indian Ocean Territory"],["BN","Brunei Darussalam"],["BG","Bulgaria"],["BF","Burkina Faso"],["BI","Burundi"],["KH","Cambodia"],["CM","Cameroon"],["CA","Canada"],["CV","Cape Verde"],["KY","Cayman Islands"],["CF","Central African Republic"],["TD","Chad"],["CL","Chile"],["CN",["People's Republic of China","China"]],["CX","Christmas Island"],["CC","Cocos (Keeling) Islands"],["CO","Colombia"],["KM","Comoros"],["CG",["Republic of the Congo","Congo"]],["CD",["Democratic Republic of the Congo","Congo"]],["CK","Cook Islands"],["CR","Costa Rica"],["CI",["Cote D'Ivoire","Ivory Coast"]],["HR","Croatia"],["CU","Cuba"],["CY","Cyprus"],["CZ",["Czech Republic","Czechia"]],["DK","Denmark"],["DJ","Djibouti"],["DM","Dominica"],["DO","Dominican Republic"],["EC","Ecuador"],["EG","Egypt"],["SV","El Salvador"],["GQ","Equatorial Guinea"],["ER","Eritrea"],["EE","Estonia"],["ET","Ethiopia"],["FK","Falkland Islands (Malvinas)"],["FO","Faroe Islands"],["FJ","Fiji"],["FI","Finland"],["FR","France"],["GF","French Guiana"],["PF","French Polynesia"],["TF","French Southern Territories"],["GA","Gabon"],["GM",["Republic of The Gambia","The Gambia","Gambia"]],["GE","Georgia"],["DE","Germany"],["GH","Ghana"],["GI","Gibraltar"],["GR","Greece"],["GL","Greenland"],["GD","Grenada"],["GP","Guadeloupe"],["GU","Guam"],["GT","Guatemala"],["GN","Guinea"],["GW","Guinea-Bissau"],["GY","Guyana"],["HT","Haiti"],["HM","Heard Island and McDonald Islands"],["VA","Holy See (Vatican City State)"],["HN","Honduras"],["HK","Hong Kong"],["HU","Hungary"],["IS","Iceland"],["IN","India"],["ID","Indonesia"],["IR",["Islamic Republic of Iran","Iran"]],["IQ","Iraq"],["IE","Ireland"],["IL","Israel"],["IT","Italy"],["JM","Jamaica"],["JP","Japan"],["JO","Jordan"],["KZ","Kazakhstan"],["KE","Kenya"],["KI","Kiribati"],["KP","North Korea"],["KR","South Korea"],["KW","Kuwait"],["KG","Kyrgyzstan"],["LA","Lao People's Democratic Republic"],["LV","Latvia"],["LB","Lebanon"],["LS","Lesotho"],["LR","Liberia"],["LY","Libya"],["LI","Liechtenstein"],["LT","Lithuania"],["LU","Luxembourg"],["MO","Macao"],["MG","Madagascar"],["MW","Malawi"],["MY","Malaysia"],["MV","Maldives"],["ML","Mali"],["MT","Malta"],["MH","Marshall Islands"],["MQ","Martinique"],["MR","Mauritania"],["MU","Mauritius"],["YT","Mayotte"],["MX","Mexico"],["FM","Micronesia, Federated States of"],["MD","Moldova, Republic of"],["MC","Monaco"],["MN","Mongolia"],["MS","Montserrat"],["MA","Morocco"],["MZ","Mozambique"],["MM","Myanmar"],["NA","Namibia"],["NR","Nauru"],["NP","Nepal"],["NL","Netherlands"],["NC","New Caledonia"],["NZ","New Zealand"],["NI","Nicaragua"],["NE","Niger"],["NG","Nigeria"],["NU","Niue"],["NF","Norfolk Island"],["MK",["The Republic of North Macedonia","North Macedonia"]],["MP","Northern Mariana Islands"],["NO","Norway"],["OM","Oman"],["PK","Pakistan"],["PW","Palau"],["PS",["State of Palestine","Palestine"]],["PA","Panama"],["PG","Papua New Guinea"],["PY","Paraguay"],["PE","Peru"],["PH","Philippines"],["PN","Pitcairn"],["PL","Poland"],["PT","Portugal"],["PR","Puerto Rico"],["QA","Qatar"],["RE","Reunion"],["RO","Romania"],["RU",["Russian Federation","Russia"]],["RW","Rwanda"],["SH","Saint Helena"],["KN","Saint Kitts and Nevis"],["LC","Saint Lucia"],["PM","Saint Pierre and Miquelon"],["VC","Saint Vincent and the Grenadines"],["WS","Samoa"],["SM","San Marino"],["ST","Sao Tome and Principe"],["SA","Saudi Arabia"],["SN","Senegal"],["SC","Seychelles"],["SL","Sierra Leone"],["SG","Singapore"],["SK","Slovakia"],["SI","Slovenia"],["SB","Solomon Islands"],["SO","Somalia"],["ZA","South Africa"],["GS","South Georgia and the South Sandwich Islands"],["ES","Spain"],["LK","Sri Lanka"],["SD","Sudan"],["SR","Suriname"],["SJ","Svalbard and Jan Mayen"],["SZ","Eswatini"],["SE","Sweden"],["CH","Switzerland"],["SY","Syrian Arab Republic"],["TW","Taiwan"],["TJ","Tajikistan"],["TZ",["United Republic of Tanzania","Tanzania"]],["TH","Thailand"],["TL","Timor-Leste"],["TG","Togo"],["TK","Tokelau"],["TO","Tonga"],["TT","Trinidad and Tobago"],["TN","Tunisia"],["TR","Türkiye"],["TM","Turkmenistan"],["TC","Turks and Caicos Islands"],["TV","Tuvalu"],["UG","Uganda"],["UA","Ukraine"],["AE","United Arab Emirates"],["GB",["United Kingdom","UK","Great Britain"]],["US",["United States of America","United States","USA"]],["UM","United States Minor Outlying Islands"],["UY","Uruguay"],["UZ","Uzbekistan"],["VU","Vanuatu"],["VE","Venezuela"],["VN","Vietnam"],["VG","Virgin Islands, British"],["VI","Virgin Islands, U.S."],["WF","Wallis and Futuna"],["EH","Western Sahara"],["YE","Yemen"],["ZM","Zambia"],["ZW","Zimbabwe"],["AX","Åland Islands"],["BQ","Bonaire, Sint Eustatius and Saba"],["CW","Curaçao"],["GG","Guernsey"],["IM","Isle of Man"],["JE","Jersey"],["ME","Montenegro"],["BL","Saint Barthélemy"],["MF","Saint Martin (French part)"],["RS","Serbia"],["SX","Sint Maarten (Dutch part)"],["SS","South Sudan"],["XK","Kosovo"]],t=Object.fromEntries(a),r=Object.fromEntries([["AD","🇦🇩"],["AE","🇦🇪"],["AF","🇦🇫"],["AG","🇦🇬"],["AI","🇦🇮"],["AL","🇦🇱"],["AM","🇦🇲"],["AO","🇦🇴"],["AQ","🇦🇶"],["AR","🇦🇷"],["AS","🇦🇸"],["AT","🇦🇹"],["AU","🇦🇺"],["AW","🇦🇼"],["AX","🇦🇽"],["AZ","🇦🇿"],["BA","🇧🇦"],["BB","🇧🇧"],["BD","🇧🇩"],["BE","🇧🇪"],["BF","🇧🇫"],["BG","🇧🇬"],["BH","🇧🇭"],["BI","🇧🇮"],["BJ","🇧🇯"],["BL","🇧🇱"],["BM","🇧🇲"],["BN","🇧🇳"],["BO","🇧🇴"],["BQ","🇧🇶"],["BR","🇧🇷"],["BS","🇧🇸"],["BT","🇧🇹"],["BV","🇧🇻"],["BW","🇧🇼"],["BY","🇧🇾"],["BZ","🇧🇿"],["CA","🇨🇦"],["CC","🇨🇨"],["CD","🇨🇩"],["CF","🇨🇫"],["CG","🇨🇬"],["CH","🇨🇭"],["CI","🇨🇮"],["CK","🇨🇰"],["CL","🇨🇱"],["CM","🇨🇲"],["CN","🇨🇳"],["CO","🇨🇴"],["CR","🇨🇷"],["CU","🇨🇺"],["CV","🇨🇻"],["CW","🇨🇼"],["CX","🇨🇽"],["CY","🇨🇾"],["CZ","🇨🇿"],["DE","🇩🇪"],["DJ","🇩🇯"],["DK","🇩🇰"],["DM","🇩🇲"],["DO","🇩🇴"],["DZ","🇩🇿"],["EC","🇪🇨"],["EE","🇪🇪"],["EG","🇪🇬"],["EH","🇪🇭"],["ER","🇪🇷"],["ES","🇪🇸"],["ET","🇪🇹"],["FI","🇫🇮"],["FJ","🇫🇯"],["FK","🇫🇰"],["FM","🇫🇲"],["FO","🇫🇴"],["FR","🇫🇷"],["GA","🇬🇦"],["GB","🇬🇧"],["GD","🇬🇩"],["GE","🇬🇪"],["GF","🇬🇫"],["GG","🇬🇬"],["GH","🇬🇭"],["GI","🇬🇮"],["GL","🇬🇱"],["GM","🇬🇲"],["GN","🇬🇳"],["GP","🇬🇵"],["GQ","🇬🇶"],["GR","🇬🇷"],["GS","🇬🇸"],["GT","🇬🇹"],["GU","🇬🇺"],["GW","🇬🇼"],["GY","🇬🇾"],["HK","🇭🇰"],["HM","🇭🇲"],["HN","🇭🇳"],["HR","🇭🇷"],["HT","🇭🇹"],["HU","🇭🇺"],["ID","🇮🇩"],["IE","🇮🇪"],["IL","🇮🇱"],["IM","🇮🇲"],["IN","🇮🇳"],["IO","🇮🇴"],["IQ","🇮🇶"],["IR","🇮🇷"],["IS","🇮🇸"],["IT","🇮🇹"],["JE","🇯🇪"],["JM","🇯🇲"],["JO","🇯🇴"],["JP","🇯🇵"],["KE","🇰🇪"],["KG","🇰🇬"],["KH","🇰🇭"],["KI","🇰🇮"],["KM","🇰🇲"],["KN","🇰🇳"],["KP","🇰🇵"],["KR","🇰🇷"],["KW","🇰🇼"],["KY","🇰🇾"],["KZ","🇰🇿"],["LA","🇱🇦"],["LB","🇱🇧"],["LC","🇱🇨"],["LI","🇱🇮"],["LK","🇱🇰"],["LR","🇱🇷"],["LS","🇱🇸"],["LT","🇱🇹"],["LU","🇱🇺"],["LV","🇱🇻"],["LY","🇱🇾"],["MA","🇲🇦"],["MC","🇲🇨"],["MD","🇲🇩"],["ME","🇲🇪"],["MF","🇲🇫"],["MG","🇲🇬"],["MH","🇲🇭"],["MK","🇲🇰"],["ML","🇲🇱"],["MM","🇲🇲"],["MN","🇲🇳"],["MO","🇲🇴"],["MP","🇲🇵"],["MQ","🇲🇶"],["MR","🇲🇷"],["MS","🇲🇸"],["MT","🇲🇹"],["MU","🇲🇺"],["MV","🇲🇻"],["MW","🇲🇼"],["MX","🇲🇽"],["MY","🇲🇾"],["MZ","🇲🇿"],["NA","🇳🇦"],["NC","🇳🇨"],["NE","🇳🇪"],["NF","🇳🇫"],["NG","🇳🇬"],["NI","🇳🇮"],["NL","🇳🇱"],["NO","🇳🇴"],["NP","🇳🇵"],["NR","🇳🇷"],["NU","🇳🇺"],["NZ","🇳🇿"],["OM","🇴🇲"],["PA","🇵🇦"],["PE","🇵🇪"],["PF","🇵🇫"],["PG","🇵🇬"],["PH","🇵🇭"],["PK","🇵🇰"],["PL","🇵🇱"],["PM","🇵🇲"],["PN","🇵🇳"],["PR","🇵🇷"],["PS","🇵🇸"],["PT","🇵🇹"],["PW","🇵🇼"],["PY","🇵🇾"],["QA","🇶🇦"],["RE","🇷🇪"],["RO","🇷🇴"],["RS","🇷🇸"],["RU","🇷🇺"],["RW","🇷🇼"],["SA","🇸🇦"],["SB","🇸🇧"],["SC","🇸🇨"],["SD","🇸🇩"],["SE","🇸🇪"],["SG","🇸🇬"],["SH","🇸🇭"],["SI","🇸🇮"],["SJ","🇸🇯"],["SK","🇸🇰"],["SL","🇸🇱"],["SM","🇸🇲"],["SN","🇸🇳"],["SO","🇸🇴"],["SR","🇸🇷"],["SS","🇸🇸"],["ST","🇸🇹"],["SV","🇸🇻"],["SX","🇸🇽"],["SY","🇸🇾"],["SZ","🇸🇿"],["TC","🇹🇨"],["TD","🇹🇩"],["TF","🇹🇫"],["TG","🇹🇬"],["TH","🇹🇭"],["TJ","🇹🇯"],["TK","🇹🇰"],["TL","🇹🇱"],["TM","🇹🇲"],["TN","🇹🇳"],["TO","🇹🇴"],["TR","🇹🇷"],["TT","🇹🇹"],["TV","🇹🇻"],["TW","🇹🇼"],["TZ","🇹🇿"],["UA","🇺🇦"],["UG","🇺🇬"],["UM","🇺🇲"],["US","🇺🇸"],["UY","🇺🇾"],["UZ","🇺🇿"],["VA","🇻🇦"],["VC","🇻🇨"],["VE","🇻🇪"],["VG","🇻🇬"],["VI","🇻🇮"],["VN","🇻🇳"],["VU","🇻🇺"],["WF","🇼🇫"],["WS","🇼🇸"],["XK","🇽🇰"],["YE","🇾🇪"],["YT","🇾🇹"],["ZA","🇿🇦"],["ZM","🇿🇲"]])},2260777:[e=>{"use strict";e.s({createPercentages:()=>n,formatDate:()=>s,formatNumber:()=>o,formatNumberCompact:()=>u,getClientTimezone:()=>c,getCountryName:()=>S,getReferrerTitle:()=>m,labelFromType:()=>d,removeKeysFromObject:()=>i},2260777);var a=e.i(5739571),t=e.i(6320924);e.s({AnalyticsType:()=>r},9648692);var r=function(e){return e.Visitors="devices",e.TotalCount="total",e.BounceRate="bounceRate",e}({});let i=(e,a)=>Object.keys(e).reduce((t,r)=>(a.includes(r)||(t[r]=e[r]),t),{}),n=(e,a)=>{let t=e.map(a),r=Math.max(...t),i=t.reduce((e,a)=>e+a,0);return e=>{let t=a(e);return{relativeToMax:t/r,relativeToTotal:t/i}}},o=e=>e.toLocaleString("en-US"),s=e=>e.toLocaleDateString("en-US",{month:"short",day:"numeric"}),l=Intl.NumberFormat("en-US",{notation:"compact",compactDisplay:"short"});function u(e){return l.format(e)}let c=()=>Intl.DateTimeFormat().resolvedOptions().timeZone||"UTC",d=e=>{switch(e){case r.Visitors:return"Visitors";case r.TotalCount:return"Page Views";case r.BounceRate:return"Bounce Rate";default:return""}},m=(e,t)=>{if(""===e||"unknown"===e)return"Direct";let r=(0,a.default)(e,{require_tld:!1,require_protocol:!1})?new URL(e.startsWith("http")?e:`https://${e}`):null;return t?e:r?r.hostname:e},g=new Map(t.countries),S=e=>{let a=g.get(e);return a?Array.isArray(a)?a[0]:a:"Unknown"}},[9648692]],9890814:e=>{"use strict";e.s({InvocationByProject:()=>l});var a=e.i(6645307),t=e.i(2273091),r=e.i(3435607),i=e.i(284627),n=e.i(8185977),o=e.i(2260777),s=e.i(2462806);function l(e){let{type:l="serverlessFunctionInvocation",title:u,emptyState:c,hideXAxis:d=!1}=e,{data:m,isLoading:g,isRelativeTime:S,builderQuery:f}=(0,i.useSonarQuery)({event:l,rollups:{value:{measure:"count",aggregation:"sum"}},groupBy:["projectId","projectName"],limitRanking:"top_by_summary",limit:5,tailRollup:"others",summaryOnly:!1},{demoConfig:{rollups:{value:{base:1e3,variation:1e3}},groupValues:{projectId:["demo-project-id"],projectName:["Demo Project"]}}}),h=(0,n.useTimeseriesData)(m,{category:"projectName"}),p=(0,n.useSum)(m);return(0,a.jsx)(s.TeamsObservabilityConditionalCriticalContentMarker,{enabled:!g&&"incomingRequest"===l,children:(0,a.jsx)(t.LineChart,{builderQuery:f?.value,data:h??[],disableLegend:!0,emptyState:c||"No invocations in this time range",hideXAxis:d,isLoading:g,isRelativeTime:S,lineType:"linear",renderCustomLegend:()=>(0,a.jsx)(r.LargeLegendValue,{isLoading:g,title:u||"Invocations",valueString:(0,o.formatNumberCompact)(p??0)}),title:null===u?" ":(0,a.jsx)(r.LegendTitle,{title:u||"Invocations"})})})}},74051:e=>{"use strict";e.s({EdgeNetworkTab:()=>S,RequestsTable:()=>f});var a=e.i(6645307),t=e.i(6530772),r=e.i(3981742),i=e.i(9781438),n=e.i(7295052),o=e.i(3435607),s=e.i(5054575),l=e.i(284627),u=e.i(7489541),c=e.i(8185977),d=e.i(3602900),m=e.i(9890814),g=e.i(2238549);function S(){return(0,a.jsxs)("div",{className:"flex flex-col gap-y-4",children:[(0,a.jsx)(o.ChartCard,{children:(0,a.jsx)(g.ShareDomCopy,{title:"Edge Requests Invocations",children:(0,a.jsx)(m.InvocationByProject,{title:"Edge Requests",type:"incomingRequest"})})}),(0,a.jsx)(f,{})]})}function f(e){let{customLinkPath:o}=e,m=(0,u.useO11yNavigation)(),S=(0,t.useContext)(d.SonarContext),{data:f,isLoading:h}=(0,l.useSonarQuery)({event:"incomingRequest",rollups:{requests:{measure:"count",aggregation:"sum"}},groupBy:["projectId","projectName"],limit:100,tailRollup:"truncate",summaryOnly:!0}),p=(0,c.useTableData)(f),y=(0,t.useMemo)(()=>[{Header:"Project",accessor:"projectName",columnClassName:"pr-0",disableGlobalFilter:!1,sortDescFirst:!1,Cell:n.ProjectCell},{Header:"Requests",accessor:"requests",Cell:n.BarCell,cellFormatter:s.formatNumberCompact}],[]);return(0,a.jsx)(g.ShareDomCopy,{title:"Top Edge Requests - Edge Requests",children:(0,a.jsx)(i.SonarTable,{columns:y,data:p??[],defaultSort:[{id:"requests",desc:!0}],getHref:e=>m(o??"/edge-requests",{projectSlug:e.projectName}),isLoading:h,onRowHover:e=>{e?S.setHoveredRow?.({value:e.projectName}):S.setHoveredRow?.(void 0)},plugins:[r.useGlobalFilter,r.useSortBy,r.usePagination]})})}},5977814:e=>{"use strict";e.s({default:()=>g},5977814);var a=e.i(6645307),t=e.i(3435607),r=e.i(7489541),i=e.i(2238549),n=e.i(9890814),o=e.i(3126517),s=e.i(2273091),l=e.i(284627),u=e.i(8185977),c=e.i(5054575);function d(){let{data:e,isLoading:r,isRelativeTime:i,builderQuery:n}=(0,l.useSonarQuery)({event:"incomingRequest",rollups:{totalDataTransfer:{measure:"fdtTotalBytes",aggregation:"sum"}},groupBy:["projectId","projectName"],limitRanking:"top_by_summary",orderBy:"totalDataTransfer",limit:6,tailRollup:"truncate",summaryOnly:!1}),d=(0,u.useTimeseriesData)(e,{category:"projectName",value:"totalDataTransfer"}),m=(0,u.useSum)(e,{value:"totalDataTransfer"});return(0,a.jsx)(s.LineChart,{builderQuery:n?.totalDataTransfer,data:d??[],disableLegend:!0,formatValue:e=>(0,o.default)(e,{maximumFractionDigits:0,space:!1}),isLoading:r,isRelativeTime:i,lineType:"linear",renderCustomLegend:()=>(0,a.jsx)(t.LargeLegendValue,{isLoading:r,title:"Total",valueString:(0,c.formatBytes)(m??0)}),title:" "})}var m=e.i(74051);function g(){let e=(0,r.useO11yNavigation)();return(0,a.jsxs)("div",{className:"flex flex-col gap-y-6",children:[(0,a.jsx)("div",{className:"flex flex-col gap-y-2",children:(0,a.jsxs)(t.CardsWrapper,{children:[(0,a.jsx)(t.ChartCard,{className:"shadow-sm",children:(0,a.jsx)(i.ShareDomCopy,{title:"Edge Requests Invocations",children:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(t.CardHeader,{href:e("edge-requests"),title:"Edge Requests"}),(0,a.jsx)("div",{className:"-mt-0.5 h-[190px]",children:(0,a.jsx)(n.InvocationByProject,{title:null,type:"incomingRequest"})})]})})}),(0,a.jsx)(t.ChartCard,{className:"shadow-sm",children:(0,a.jsx)(i.ShareDomCopy,{title:"Fast Data Transfer",children:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(t.CardHeader,{href:e("fast-data-transfer"),title:"Fast Data Transfer"}),(0,a.jsx)("div",{className:"-mt-0.5 h-[190px]",children:(0,a.jsx)(d,{})})]})})})]})}),(0,a.jsx)("div",{className:"flex flex-col gap-y-2",children:(0,a.jsxs)(t.CardsWrapper,{className:"flex flex-col gap-y-2",children:[(0,a.jsx)(t.ChartCard,{className:"shadow-sm",children:(0,a.jsx)(i.ShareDomCopy,{title:"Vercel Functions Invocations",children:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(t.CardHeader,{href:e("vercel-functions"),title:"Vercel Functions"}),(0,a.jsx)("div",{className:"-mt-0.5 h-[190px]",children:(0,a.jsx)(n.InvocationByProject,{title:null,type:"serverlessFunctionInvocation"})})]})})}),(0,a.jsx)(t.ChartCard,{className:"shadow-sm",children:(0,a.jsx)(i.ShareDomCopy,{title:"Middleware Invocations",children:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(t.CardHeader,{href:e("middleware"),title:"Middleware Invocations"}),(0,a.jsx)("div",{className:"-mt-0.5 h-[190px]",children:(0,a.jsx)(n.InvocationByProject,{title:null,type:"middlewareInvocation"})})]})})})]})}),(0,a.jsx)(m.RequestsTable,{customLinkPath:"/"})]})}}}]);

//# sourceMappingURL=bfe0d49eab0268fa.js.map
//# debugId=c363d8b1-7c73-529c-882a-7054245c847f
