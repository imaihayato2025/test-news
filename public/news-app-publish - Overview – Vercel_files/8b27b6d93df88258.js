
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="1d0f7d2e-d092-53b4-b7e0-b68eddab6333")}catch(e){}}();
(globalThis.TURBOPACK=globalThis.TURBOPACK||[]).push(["object"==typeof document?document.currentScript:void 0,{8850072:e=>{"use strict";e.s({TemplateList:()=>l});var t=e.i(6645307),i=e.i(8924811),r=e.i(2362802),n=e.i(8692769),s=e.i(595691),a=e.i(8311023);function l(e){let{templates:l}=e;return(0,t.jsxs)("section",{className:"space-y-6",children:[(0,t.jsx)(a.SectionHeadline,{title:"Templates",subhead:" Jumpstart your app development process with pre-built solutions from Vercel."}),(0,t.jsx)("div",{className:"grid grid-flow-row auto-rows-auto grid-cols-1 gap-4 lg:grid-cols-2",children:l.map(e=>{let a,l;return e?(0,t.jsx)(n.Material,{className:"text-clip sm:transition-all sm:duration-100 sm:hover:drop-shadow",children:(0,t.jsxs)(r.Link,{className:"flex h-full flex-col overflow-hidden rounded",href:`${(a=e.slug,l=e.framework[0],`/templates/${(l||"next.js").toLowerCase()}/${a}`)}`,rel:"noopener noreferrer",target:"_blank",children:[(0,t.jsx)("div",{className:"relative min-h-[200px]",children:(0,t.jsx)(i.default,{alt:"Template thumbnail",layout:"fill",objectFit:"cover",priority:!0,src:`https:${e.thumbnail.file.url}`})}),(0,t.jsxs)("div",{className:"flex h-full flex-col gap-y-2 p-4",children:[(0,t.jsx)("h3",{className:"text-heading-16",children:e.name}),(0,t.jsx)("p",{className:"text-copy-14 mb-4 line-clamp-3 text-pretty text-gray-900",children:e.description}),(0,t.jsxs)("div",{className:"text-copy-12 mt-auto flex w-full items-center justify-between text-gray-900",children:[(0,t.jsxs)("span",{children:["By ",e.publisher]}),(0,t.jsxs)("button",{"aria-label":"View demo",className:"flex cursor-pointer gap-x-0.5 border-none bg-[unset] p-0 text-gray-900 transition hover:text-gray-1000",onClick:t=>{t.preventDefault(),window.open(e.demoUrl,"_blank","noopener")},role:"link",type:"button",children:[(0,t.jsx)("span",{className:"text-copy-12",children:"Demo"}),(0,t.jsx)(s.ExternalSmall,{})]})]})]})]})},e.slug):null})})]})}},7798946:e=>{"use strict";function t(e){return!!e.tagIds?.includes("tag_ai")}function i(e,i){return e.filter(e=>i.find(i=>i.id===e.integrationId&&t(i)))}e.s({filterConfigurationsByIntegrations:()=>i,isAiIntegration:()=>t}),e.i(7207682)},4783188:e=>{"use strict";e.s({InstallationAndResourceList:()=>el,filterResourcesAndConfigurations:()=>ea},4783188);var t=e.i(6645307),i=e.i(5535439),r=e.i(5674541),n=e.i(889716),s=e.i(8084653),a=e.i(6530772),l=e.i(437915);e.i(9074732);var o=e.i(3649433);e.i(5941325);var c=e.i(2405013);e.i(7196151);var d=e.i(5330315),u=e.i(7555208),h=e.i(3167682);e.i(9389778);var g=e.i(1310591),x=e.i(2470914),p=e.i(4122566),m=e.i(7798946),j=e.i(5175803),f=e.i(2254575),b=e.i(1985209),v=e.i(2362802),y=e.i(3514588),w=e.i(6727308),S=e.i(2240289),k=e.i(9973860),I=e.i(8774211),C=(0,I.createServerReference)("4058bbfb33e2b0287940f76d8a9653d409e5af4298",I.callServer,void 0,I.findSourceMapURL,"updateAccess"),N=e.i(1550899);function T(e){let{connectedProjects:i,teamSlug:l}=e,o=(0,a.useRef)(null),[c,d]=(0,a.useState)(!1),u=i.length;return(0,t.jsxs)("div",{className:"flex w-full md:hidden",ref:o,children:[(0,t.jsxs)(r.Button,{className:"flex-1 md:flex-none",onClick:()=>d(!0),size:"small",type:"secondary",children:["Show ",u," Connected Projects"]}),(0,t.jsx)(N.Drawer,{className:"pb-7",container:o.current||void 0,fixed:!0,onDismiss:()=>d(!1),show:c,children:(0,t.jsxs)(n.Stack,{gap:4,padding:4,children:[(0,t.jsxs)(s.Text,{color:"gray-900",weight:500,children:["Connected to ",u," projects"]}),(0,t.jsx)(n.Stack,{gap:4,children:i.map(e=>(0,t.jsx)(v.Link,{href:`/${l}/${e.name}`,children:(0,t.jsxs)(n.Stack,{align:"center",direction:"row",gap:1.5,children:[(0,t.jsx)(w.FaviconOrFramework,{project:e,size:20,style:{flexShrink:0}}),(0,t.jsx)(s.Text,{weight:500,children:e.name})]})},e.id))})]})})]})}function P(e){let{provider:i,configuration:r,teamSlug:a}=e;return i&&r.integration?(0,t.jsxs)("div",{children:[(0,t.jsx)(v.Link,{href:`/${a}/~/ai/${i.slug}`,children:(0,t.jsx)(f.Entity,{className:"rounded-t-md border border-gray-alpha-400 bg-background-100 transition-colors hover:bg-background-200",left:(0,t.jsx)(j.Avatar,{hash:r.integration.icon,size:36}),children:(0,t.jsxs)(n.Stack,{gap:.5,children:[(0,t.jsx)(s.Text,{size:14,weight:500,children:r.integration.name}),(0,t.jsx)(s.Text,{color:"gray-900",children:function(e){let t=e.models.length;return t?`${t} Model${1===t?"":"s"} Available`:e.description}(i)})]})})}),(0,t.jsxs)(n.Stack,{align:"center",className:"w-full rounded-b-md border border-t-0 border-gray-alpha-400 bg-background-200 p-4",direction:"row",justify:"space-between",children:[(0,t.jsx)(A,{configuration:r,projectIds:r.projects,teamSlug:a}),(0,t.jsx)(v.Link,{className:"hidden md:block",href:`/${a}/~/ai/${i.slug}`,underline:!1,children:(0,t.jsxs)(n.Stack,{align:"center",direction:"row",gap:1,children:[(0,t.jsx)(s.Text,{color:"blue-900",weight:500,children:"View Integration"}),(0,t.jsx)(b.ArrowCircleRight,{color:"green-700"})]})})]})]}):null}function A(e){let{configuration:i,projectIds:r,teamSlug:a}=e,{data:l}=(0,S.useProjects)(r),{team:o}=(0,y.useTeam)(),{hasProject:c}=(0,g.useProjectSlug)();if(!r||0===r.length||c)return(0,t.jsx)(k.ManageProjectConnectionModalClient,{configuration:i,configurationUrl:i.url,projects:(l??[]).filter(Boolean),size:"small",teamId:o?.id,updateAccess:C});if(!l)return(0,t.jsx)("div",{});let[d,...u]=l;return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(n.Stack,{align:"center",className:"hidden md:flex",direction:"row",gap:1.5,children:[(0,t.jsx)(s.Text,{color:"gray-900",size:13,weight:500,children:"Connected to"}),(0,t.jsxs)(n.Stack,{align:"center",direction:"row",gap:1.5,children:[(0,t.jsx)(w.FaviconOrFramework,{project:d,size:20,style:{flexShrink:0}}),(0,t.jsx)(v.Link,{className:"no-underline visited:text-inherit",href:`/${a}/${d.name}`,children:(0,t.jsx)(s.Text,{weight:500,children:d.name})}),u.length>0?(0,t.jsxs)(t.Fragment,{children:[" ",(0,t.jsxs)(s.Text,{as:"span",color:"gray-900",children:["and ",u.length," ",1===u.length?"other":"others"]})]}):null]})]}),(0,t.jsx)(T,{connectedProjects:[d,...u],teamSlug:a})]})}var L=e.i(6284911),R=e.i(663357);function D(e){let{params:n,onClick:s}=e,a=(0,i.useRouter)(),l=(0,i.usePathname)(),o=(0,i.useSearchParams)();return(0,t.jsx)(r.Button,{onClick:()=>{if(o&&l){let e=new URLSearchParams(o);n.forEach(t=>e.delete(t)),a.replace(`${l}?${e.toString()}`)}s&&s()},type:"secondary",children:"Clear Search"})}function M(e){let{showEmptyState:r,teamSlug:s}=e,l=(0,i.useSearchParams)(),o=(0,a.useRef)(null),c=e=>{window.history.pushState(null,"",(0,p.getAiListPath)({teamSlug:s,p:e}))};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.Stack,{align:"center",direction:"row",gap:3,children:(0,t.jsx)(L.SearchInput,{defaultValue:l?.get("browse")?"":l?.get("p")??void 0,name:"p",onChange:e=>c(e.target.value.trim()),placeholder:"Search connected providers...",suffixContainer:!1,suffixStyling:!1,width:"100%"})}),r?(0,t.jsx)(R.EmptyState.Root,{description:"No providers match your search.",secondary:!0,title:"No results found",children:(0,t.jsx)(D,{onClick:()=>{o.current?.reset(),c(null)},params:["p","filter"]})}):null]})}var B=e.i(8692769),$=e.i(555528),z=e.i(6465700),F=e.i(8325614);function W(e){let{providers:i,canInstall:r,onSuccess:n}=e,s=(0,a.useRef)(null);return(0,t.jsx)("ul",{className:"grid grid-flow-row auto-rows-auto grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-3",ref:s,children:i.map(e=>(0,t.jsx)(E,{canInstallIntegration:r,installed:e.installed,integration:e.integration,onSuccess:n,provider:e.provider},e.integration.id))})}function E(e){let{canInstallIntegration:i,provider:a,nativeProduct:l,integration:o,installed:c,onSuccess:d}=e,u=a?.models.map(e=>e.displayName);return(0,t.jsx)("li",{children:(0,t.jsxs)(B.Material,{className:"flex size-full flex-col gap-y-1 p-4",gap:4,type:"small",children:[(0,t.jsxs)("div",{className:"flex w-full items-start justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-x-4",children:[(0,t.jsx)(j.Avatar,{hash:o.icon,size:40}),(0,t.jsx)(s.Text,{as:"h3",className:"text-heading-16",weight:500,children:a?.name??o.name})]}),c?(0,t.jsx)(r.Button,{disabled:!0,size:"small",type:"secondary",children:"Installed"}):(0,t.jsx)(F.AddProviderButton,{canInstallIntegration:i,handleSuccess:d,integration:o,product:l,provider:a})]}),(0,t.jsxs)(n.Stack,{className:"h-full",gap:1,justify:"space-between",children:[(0,t.jsx)(s.Text,{className:"text-copy-14 ml-14",color:"gray-900",children:a?.description??o.shortDescription}),u?.length?(0,t.jsxs)(n.Stack,{className:"ml-14 truncate",direction:"row",gap:1.5,children:[(0,t.jsx)(s.Text,{weight:500,children:"Models:"}),(0,t.jsx)(s.Text,{className:"truncate",color:"gray-900",children:u.join(", ")}),(0,t.jsx)($.Tooltip,{text:u.join(", "),children:(0,t.jsx)(z.InformationFillSmall,{color:"gray-900"})})]}):null]})]})})}var H=(0,I.createServerReference)("4072c04066d6765b685f1ecfc5865e6cfc53581b53",I.callServer,void 0,I.findSourceMapURL,"revalidateAiList");function O(e){let{canInstallIntegration:i,teamSlug:r,providersWithIntegration:n}=e;return(0,t.jsxs)(t.Fragment,{children:[n.nativeIntegrations.length>0?(0,t.jsxs)("section",{className:"flex flex-col gap-y-6",children:[(0,t.jsxs)("header",{className:"space-y-1",children:[(0,t.jsx)(s.Text,{as:"h2",size:24,weight:600,children:"Native Integration Providers"}),(0,t.jsx)(s.Text,{color:"gray-900",children:"Adding a provider gets you access to the AI provider dashboard and enables billing via Vercel."})]}),(0,t.jsx)(W,{canInstall:i,onSuccess:()=>H(r),providers:n.nativeIntegrations})]}):null,n.connectableIntegrations.length>0?(0,t.jsxs)("section",{className:"flex flex-col gap-y-6",children:[(0,t.jsxs)("header",{className:"space-y-1",children:[(0,t.jsx)(s.Text,{as:"h2",size:24,weight:600,children:"Connectable Providers Accounts"}),(0,t.jsx)(s.Text,{color:"gray-900",children:"Connect to third-party AI services."})]}),(0,t.jsx)(W,{canInstall:i,onSuccess:()=>H(r),providers:n.connectableIntegrations})]}):null]})}var U=e.i(2506827),V=e.i(5485417);let _={src:e.i(4551999).default,width:66,height:53,blurWidth:0,blurHeight:0},K={src:e.i(5635448).default,width:66,height:53,blurWidth:0,blurHeight:0},G={src:e.i(6081682).default,width:97,height:60,blurWidth:0,blurHeight:0},q={src:e.i(2980779).default,width:97,height:60,blurWidth:0,blurHeight:0},J={src:e.i(149050).default,width:70,height:56,blurWidth:0,blurHeight:0},X={src:e.i(7022596).default,width:70,height:56,blurWidth:0,blurHeight:0},Q={src:e.i(9972027).default,width:170,height:56,blurWidth:0,blurHeight:0},Y={src:e.i(2979523).default,width:170,height:56,blurWidth:0,blurHeight:0},Z={src:e.i(1655830).default,width:73,height:52,blurWidth:0,blurHeight:0},ee={src:e.i(6221370).default,width:73,height:52,blurWidth:0,blurHeight:0},et={src:e.i(2924580).default,width:121,height:60,blurWidth:0,blurHeight:0},ei={src:e.i(4364142).default,width:121,height:60,blurWidth:0,blurHeight:0};function er(){let e=(0,i.useParams)(),r=String(e?.teamSlug);return(0,t.jsxs)("section",{className:"flex flex-col gap-y-6",children:[(0,t.jsxs)("header",{className:"space-y-1",children:[(0,t.jsx)(s.Text,{as:"h2",size:24,weight:600,children:"Use Cases"}),(0,t.jsx)(s.Text,{color:"gray-900",children:"Choose from a variety of use cases to get started with AI."})]}),(0,t.jsxs)("ul",{className:"flex gap-6",children:[(0,t.jsx)(en,{image:(0,t.jsx)(U.Image,{alt:"",srcDark:Y,srcLight:Q}),imageDesktop:(0,t.jsx)(U.Image,{alt:"",srcDark:X,srcLight:J}),link:`/${r}/~/ai/models/sonar-pro`,text:"Build a chatbot with access to the internet using Perplexity",title:"Build an AI Chatbot"}),(0,t.jsx)(en,{image:(0,t.jsx)(U.Image,{alt:"",srcDark:q,srcLight:G}),imageDesktop:(0,t.jsx)(U.Image,{alt:"",srcDark:K,srcLight:_}),link:`/${r}/~/ai/models/sdxl`,text:"Use Stable Diffusion XL to generate images with AI",title:"Generate images with AI"}),(0,t.jsx)(en,{image:(0,t.jsx)(U.Image,{alt:"",srcDark:ei,srcLight:et}),imageDesktop:(0,t.jsx)(U.Image,{alt:"",srcDark:ee,srcLight:Z}),link:`/${r}/~/ai/models/eleven-turbo-v2`,text:"Convert text into audio with ElevenLabs",title:"Convert text to speech"})]})]})}function en(e){let{title:i,text:r,image:a,imageDesktop:l,link:o}=e;return(0,t.jsx)("li",{className:"flex-[250px_1_0] md:basis-[340px]",children:(0,t.jsx)(v.Link,{className:"group no-underline",href:o,children:(0,t.jsxs)(B.Material,{className:"overflow-hidden divide-y divide-gray-400 md:h-[100px] md:flex-row md:divide-x md:divide-y-0",type:"small",children:[(0,t.jsxs)("figure",{className:"flex h-[100px] shrink-0 items-center justify-center bg-background-200 md:aspect-square md:h-full",children:[(0,t.jsx)("div",{className:"md:hidden",children:a}),(0,t.jsx)("div",{className:"hidden md:block",children:l})]}),(0,t.jsxs)("article",{className:"p-4 space-y-1.5",children:[(0,t.jsxs)(n.Stack,{align:"center",className:"text-gray-1000",direction:"row",gap:2,children:[(0,t.jsx)(s.Text,{as:"h3",size:16,weight:500,children:i}),(0,t.jsx)("span",{className:"block transition-transform group-hover:translate-x-1",children:(0,t.jsx)(V.ArrowRight,{size:14})})]}),(0,t.jsx)(s.Text,{color:"gray-900",children:r})]})]})})})}var es=e.i(8850072);function ea(e){let{searchParams:t,configurations:i,resources:r,providersWithIntegration:n,projectId:s,viewAll:a}=e,l=(0,m.filterConfigurationsByIntegrations)(i,n.connectableIntegrations.map(e=>e.integration)),o=t?.get("browse")?"":t?.get("p")?.toLowerCase(),c=l.filter(e=>!s||!e.projects||e.projects.includes(s)),d=o?c.filter(e=>e.integration?.name.toLowerCase().includes(o)&&(!s||!e.projects||e.projects.includes(s))):c,u=r.stores.filter(e=>!s||e.projectsMetadata.some(e=>e.projectId===s)),h=o?u.filter(e=>e.name.toLowerCase().includes(o)||e.product.name.toLowerCase().includes(o)||e.product.integration.name.toLowerCase().includes(o)):u,g=l.filter(e=>!c.includes(e)),x=r.stores.filter(e=>!u.includes(e)),p=x.length>0||g.length>0,j=l.length-g.length>0||r.stores.length-x.length>0,f=!!o&&0===d.length&&0===h.length,b=h.length+d.length+x.length+g.length;return{hasResourcesOrConfigurations:j,showEmptyState:f,filteredResources:a?h:h.slice(0,4),filteredConfigurations:a?d:d.slice(0,Math.max(4-h.length,0)),disconnectedResources:a?x:x.slice(0,Math.max(4-h.length-d.length,0)),disconnectedConfigurations:a?g:g.slice(0,Math.max(4-h.length-d.length-x.length,0)),hasDisconnectedResourcesOrConfigurations:p,totalItems:b}}function el(e){let{teamSlug:m,configurationUrls:j,providersWithIntegration:f,preloadedResources:b,preloadedConfigurations:v,children:y,canInstallIntegration:w,templates:S,projectId:k}=e,{projectSlug:I}=(0,g.useProjectSlug)(),{data:C}=(0,d.useResourceList)({teamSlug:m,protocolType:"ai",fallbackData:b}),{data:N}=(0,u.useConfigurations)({skipBillingData:!0,fallbackData:v,type:"external"}),T=(0,i.useSearchParams)(),[A,L]=(0,a.useState)(!1),{hasResourcesOrConfigurations:R,filteredConfigurations:D,filteredResources:B,showEmptyState:$,hasDisconnectedResourcesOrConfigurations:z,disconnectedResources:F,disconnectedConfigurations:W,totalItems:E}=ea({searchParams:T,configurations:N??v,resources:C??b,providersWithIntegration:f,projectId:k,viewAll:A});return(0,t.jsx)(h.InstallMarketplaceProductProvider,{protocolType:"ai",teamSlugOrPublic:{teamSlug:m},displayModalsInline:!1,children:R||z?(0,t.jsxs)(n.Stack,{gap:10,children:[(0,t.jsxs)(n.Stack,{gap:4,children:[R?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(M,{showEmptyState:$,teamSlug:m}),(0,t.jsxs)(n.Stack,{gap:4,children:[(0,t.jsx)(c.ResourceModalsProvider,{protocolType:"ai",children:B.map(e=>(0,t.jsx)(o.ResourceItem,{Badge:(0,t.jsx)("span",{className:"pl-2",children:(0,t.jsx)(x.BadgeOrIcon,{Icon:(0,t.jsx)(l.Dollar,{}),label:"Billed via Vercel",tooltip:"This integration is billed through Vercel",variant:"green-subtle"})}),item:e,resourceLinkFunc:()=>(0,p.getAiDetailPath)({teamSlug:m,integrationName:e.product.integration.name,resourceId:e.id,project:I})},e.id))}),D.map(e=>(0,t.jsx)(P,{configuration:{...e,url:j[e.id]},provider:f.connectableIntegrations.find(t=>t.integration.id===e.integrationId)?.provider,teamSlug:m},e.id))]})]}):null,z?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(s.Text,{size:16,children:"Connect existing AI Providers"}),(0,t.jsxs)(n.Stack,{gap:4,children:[(0,t.jsx)(c.ResourceModalsProvider,{protocolType:"ai",children:F.map(e=>(0,t.jsx)(o.ResourceItem,{alwaysShowConnectButton:!0,item:e,resourceLinkFunc:()=>(0,p.getAiDetailPath)({teamSlug:m,integrationName:e.product.integration.name,resourceId:e.id})},e.id))}),W.map(e=>(0,t.jsx)(P,{configuration:{...e,url:j[e.id]},provider:f.connectableIntegrations.find(t=>t.integration.id===e.integrationId)?.provider,teamSlug:m},e.id))]})]}):null,E>4&&!A?(0,t.jsx)(r.Button,{onClick:()=>L(!0),type:"secondary",typeName:"button",children:"View All"}):null]}),S.length>0?(0,t.jsx)(es.TemplateList,{templates:S}):null,y]}):(0,t.jsxs)(n.Stack,{gap:10,children:[(0,t.jsx)(O,{canInstallIntegration:w,providersWithIntegration:f,teamSlug:m}),S.length>0?(0,t.jsx)(es.TemplateList,{templates:S}):(0,t.jsx)(er,{}),y]})})}},8499431:e=>{"use strict";e.s({CreateAIResourceButton:()=>R});var t=e.i(6645307),i=e.i(5535439),r=e.i(5674541),n=e.i(889716),s=e.i(555528),a=e.i(8084653),l=e.i(8934201),o=e.i(6530772),c=e.i(3514588),d=e.i(2362802),u=e.i(4049272),h=e.i(4418725);e.i(6358385);var g=e.i(7146658),x=e.i(5346083),p=e.i(3959726),m=e.i(147614),j=e.i(7555208),f=e.i(541360),b=e.i(4325351);e.i(1477245);var v=e.i(3827171);e.i(9389778);var y=e.i(1310591),w=e.i(9466);e.i(7196151);var S=e.i(1915818),k=e.i(3334373);e.i(5941325);var I=e.i(8250207);e.i(6591346);var C=e.i(5037292),N=e.i(4122566),T=e.i(7798946),P=e.i(4871862);function A(e){let{active:r,onClose:n,teamSlug:s}=e,{team:a}=(0,c.useTeam)(),{hasProject:d,projectSlug:u}=(0,y.useProjectSlug)(),h=(0,i.useRouter)(),[g,p]=(0,o.useState)(null),[b,S]=(0,o.useState)(null),[P,A]=(0,o.useState)("select"),{data:R}=(0,k.useMarketplaceIntegrations)({protocolType:"ai"}),D=R?.flatMap(e=>e.products.map(t=>({product:t,integration:e}))),{data:M}=(0,j.useConfigurations)({skipBillingData:!0}),{data:B}=(0,x.useConnectableIntegrations)(),$=B?.filter(e=>(0,T.isAiIntegration)(e)&&!M?.some(t=>"external"===t.installationType&&t.integrationId===e.id)),z=()=>{A("select"),S(null),n()};return D&&$?"create"===P&&b?.type==="integration"?(0,t.jsx)(m.InstallExternalIntegrationModal,{account:a,integration:b.value,onAnimationDone:z,teamSlugOrPublic:{teamSlug:s}}):"connect"===P&&g&&a?(0,t.jsx)(v.CreateResourceConnectionModal,{active:!0,onAnimationDone:()=>p(null),onClickOutside:z,onConnectionCreated:()=>{z();let e=(0,w.getResourceDetailsPath)(g,a.slug,u);h.push(e)},resourceId:g.id,store:g}):(0,t.jsxs)(l.Modal.Modal,{active:r,onClickOutside:z,children:["select"===P?(0,t.jsx)(L,{connectableIntegrations:$,nativeProducts:D,onClose:n,onNext:()=>{A("create")},onSelectionChange:e=>S(e),selectedOption:b,teamSlug:s}):null,"create"===P&&b?.type==="product"?(0,t.jsx)(I.CreateResourceModal,{cancelLabel:"Back",initialConfigurationStatus:(0,f.getConfigurationStatusByIntegrationId)(M?.filter(e=>"marketplace"===e.installationType),b.value.integration.id),integration:b.value.integration,neonIntegrationStatus:{isNeonDisabled:!1,isLoading:!1},onBack:()=>A("select"),onIntegrationResourceCreate:e=>{if(s){if(d){p(e),A("connect");return}h.push((0,N.getAiDetailPath)({teamSlug:s,resourceId:e.id,integrationName:e.product.integration.slug}))}},product:(0,C.getProductWithSupportedProtocols)(b.value.product),teamSlug:s}):null]}):null}function L(e){let{connectableIntegrations:r,nativeProducts:s,onClose:o,onNext:c,onSelectionChange:h,selectedOption:x,teamSlug:m}=e,{canCreateIntegrationConfiguration:j,isLoading:f}=(0,p.useIntegrationPermissions)(),v=(0,i.useRouter)(),{permissions:y}=(0,S.useResourcePermissions)();return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(l.Modal.Body,{children:(0,t.jsxs)(n.Stack,{gap:6,children:[(0,t.jsx)(n.Stack,{gap:2,children:(0,t.jsx)(l.Modal.Title,{center:!0,children:"Install AI Provider"})}),(0,t.jsx)(n.Stack,{gap:4,children:(0,t.jsxs)(n.Stack,{gap:2,children:[s.length>0?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(n.Stack,{direction:"row",justify:"space-between",children:[(0,t.jsx)(a.Text,{size:16,weight:600,children:(0,b.browseProductsTitle)("ai")}),(0,t.jsx)(d.Link,{external:!0,href:`${u.MARKETPLACE_DOC_PAGE}/integrations/install-an-integration/product-integration`,target:"_blank",children:(0,t.jsx)(a.Text,{children:"Learn more"})})]}),s.map(e=>{let{product:i,integration:r}=e;return(0,t.jsx)(g.CreateResourceCard,{description:i.shortDescription,icon:{url:r.icon},isDisabled:!y.create,isSelected:x?.type==="product"&&x.value.product.id===i.id,name:i.name,onClick:()=>{h({value:{product:i,integration:r},type:"product"})},showCreateButton:!1,tooltip:{isEnabled:!y.create,text:(0,b.missingPermissionLabel)("create","ai")}},i.id)})]}):null,s.length>0&&r.length>0?(0,t.jsx)(n.Stack,{align:"center",direction:"row",justify:"center",padding:2,children:(0,t.jsx)(a.Text,{color:"gray-800",size:14,children:"or Connect Existing Account"})}):null,r.map(e=>(0,t.jsx)(g.CreateResourceCard,{description:e.shortDescription,icon:{url:e.icon},isDisabled:!j||f,isSelected:x?.type==="integration"&&x.value.id===e.id,name:e.name,onClick:()=>{h({type:"integration",value:e})},showCreateButton:!1,tooltip:{isEnabled:!j,text:(0,b.missingPermissionLabel)("create","ai")}},e.id))]})})]})}),(0,t.jsxs)(l.Modal.Actions,{children:[(0,t.jsx)(l.Modal.Action,{onClick:o,type:"secondary",children:"Cancel"}),(0,t.jsx)(l.Modal.Action,{buttonType:"button",disabled:!x,onClick:()=>{x&&("product"===x.type?v.push((0,P.getIntegrationCheckoutUrl)({params:{teamSlug:m??"",integrationSlug:x.value.integration.slug},searchParams:{productSlug:x.value.product.slug,cancelUrl:`${window.location.pathname}${window.location.search}`}})):c())},type:"secondary",children:"Continue"})]})]})}function R(){let[e,i]=(0,o.useState)(!1),n=(0,h.useTeamSlug)(),{permissions:a,isLoading:l}=(0,S.useResourcePermissions)(),{canCreateIntegrationConfiguration:c}=(0,p.useIntegrationPermissions)(),d=a.create||c;return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(s.Tooltip,{disableTriggers:d||l,text:(0,b.missingPermissionLabel)("create","ai"),children:(0,t.jsx)(r.Button,{disabled:!d,onClick:()=>i(!0),type:"default",typeName:"button",children:`Install ${b.resourceTitle.ai}`})}),n?(0,t.jsx)(A,{active:e,onClose:()=>i(!1),teamSlug:n}):null]})}}}]);

//# sourceMappingURL=33a3eea66b6781af.js.map
//# debugId=1d0f7d2e-d092-53b4-b7e0-b68eddab6333
