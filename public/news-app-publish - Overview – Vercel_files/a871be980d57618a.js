
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="bf1d20b5-76a9-547e-a0cd-edc170c9da71")}catch(e){}}();
(globalThis.TURBOPACK=globalThis.TURBOPACK||[]).push(["object"==typeof document?document.currentScript:void 0,{1567439:e=>{"use strict";e.s({isEqual:()=>a});var t=e.i(7831155);function a(e,a){return+(0,t.toDate)(e)==+(0,t.toDate)(a)}},2843192:[e=>{"use strict";e.s({Graph:()=>G},2843192);var t=e.i(6645307),a=e.i(6781187),r=e.i(6101805),i=e.i(7036948),s=e.i(6102013),n=e.i(2419587),l=e.i(7517602),o=e.i(7836556);e.s({AreaClosed:()=>p},3988872);var d=e.i(6530772),c=e.i(2784490),m=e.i(5615563),u=e.i(3197191),x=["x","x0","x1","y","y1","y0","yScale","data","defined","className","curve","innerRef","children"];function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}function p(e){var t=e.x,a=e.x0,r=e.x1,i=e.y,s=e.y1,n=e.y0,l=e.yScale,o=e.data,p=e.defined,g=e.className,f=e.curve,j=e.innerRef,y=e.children,b=function(e,t){if(null==e)return{};var a,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)a=s[r],t.indexOf(a)>=0||(i[a]=e[a]);return i}(e,x),v=(0,u.area)({x:t,x0:a,x1:r,defined:void 0===p?function(){return!0}:p,curve:f});return(null==n?v.y0(l.range()[0]):(0,m.default)(v.y0,n),i&&!s&&(0,m.default)(v.y1,i),s&&!i&&(0,m.default)(v.y1,s),y)?d.default.createElement(d.default.Fragment,null,y({path:v})):d.default.createElement("path",h({ref:j,className:(0,c.default)("visx-area-closed",g),d:v(void 0===o?[]:o)||""},b))}var g=e.i(5083139),f=e.i(5919491),j=e.i(1799819);e.s({Tooltip:()=>y.default},8273674);var y=e.i(2898878),y=y,b=e.i(9221992),v=e.i(2320147),w=e.i(212277),S=e.i(9855071),N=e.i(7632876),k=e.i(742567),D=e.i(2059154),C=e.i(7736448),L=e.i(3539972),T=e.i(714511),R=e.i(6041174),P=e.i(1567439);e.i(2942333);var A=e.i(4799907),I=e.i(104622),M=e.i(7151226),O=e.i(604868),F=e.i(8084653);e.i(9832893);var B=e.i(8433452),E=e.i(2260777),z=e.i(9443759);let H={top:25,right:30,bottom:50,left:60},$=(e,t)=>{let a=(0,B.roundDateWithGranularity)(e,t),r=(0,B.roundDateWithGranularity)(new Date,t);return(0,P.isEqual)(a,r)?"current":a<r?"past":"future"};function G(e){var c;let{data:m,width:u,type:x,overwriteUnitLabel:h,height:P,range:G,onSelectionChange:W,formatYAxis:U,variant:_="default",margin:V=H}=e,q=(0,O.useIsMobile)(),[Z,Q]=(0,d.useState)(null),X=(0,B.getGranularity)(G.from,G.to),Y="minimal"===_,K=(0,d.useMemo)(()=>m.map(e=>({date:10===e.key.length?(0,A.toZonedTime)(e.key,(0,E.getClientTimezone)()):new Date(e.key),total:e.total,devices:e.devices,bounceRate:e.bounceRate})),[m]),J=u-V.left-V.right,ee=P-V.top-V.bottom,et=e=>e.date,ea=e=>e[x],er=(0,w.bisector)(e=>e.date).left,ei=(0,S.extent)(K,et),es=(0,o.scaleTime)({range:[0,J],domain:ei}),en=(0,l.scaleLinear)({domain:[0,1.04*((0,N.max)(K,ea)||100)],range:[ee,0],nice:!0}),el=(0,d.useMemo)(()=>{let{from:e,to:t}=G,a=(0,C.differenceInDays)(t,e),r=(0,D.differenceInHours)(t,e),i=(0,L.differenceInMonths)(t,e);return X===M.Granularity.Hour?Math.min(12,Math.max(2,r)):X===M.Granularity.Day?Math.min(7,Math.max(2,a)):Math.min(12,Math.max(2,i))},[G,X]),{tooltipData:eo,tooltipLeft:ed,tooltipTop:ec,showTooltip:em,hideTooltip:eu}=(0,v.useTooltip)(),[ex,eh,ep]=(0,d.useMemo)(()=>{if(0===K.length)return[[],[]];let e="future"===$(K[K.length-1].date,X),t=K.findIndex(e=>"current"===$(e.date,X));return -1!==t||e?-1===t&&e?[[],[],K]:[K.slice(0,t),K.slice(t-1,t+1),K.slice(t+1)]:[K,[],[]]},[K,X]),eg=eh[eh.length-1],ef=e=>{let t=(e=>{if(0===K.length)return null;let t=es.invert(e),a=er(K,t,1),r=K[a-1],i=K[a];return i&&et(i)?t.valueOf()-r.date.valueOf()>i.date.valueOf()-t.valueOf()?i:r:null})(((0,i.localPoint)(e)||{x:0,y:0}).x-V.left);if(!t)return;let a={...t,range:(0,B.formatRangeWithGranularity)(t.date,X),relativeTime:(0,B.formatRelativeTime)(t.date,X)};if(X===M.Granularity.Hour){let e=(0,k.add)(t.date,{hours:1});a.end=(0,R.format)(e,"haaa")}em({tooltipData:a,tooltipLeft:es(et(t)),tooltipTop:en(ea(t))})},ej=(0,d.useMemo)(()=>24>=(0,D.differenceInHours)(G.to,G.from),[G]);return(0,t.jsxs)("div",{className:"relative *:select-none",children:[(0,t.jsx)("svg",{height:P,onMouseDown:(0,I.withAwaitPaint)(()=>{ej||q||eo&&Q(eo.date)}),onMouseLeave:(0,I.withAwaitPaint)(()=>{eu(),ej||Q(null)}),onMouseMove:(0,I.withAwaitPaint)(ef),onMouseUp:(0,I.withAwaitPaint)(()=>{if(ej||!Z||!eo)return;let e=(0,B.roundDateWithGranularity)(Z,X),t=(0,B.roundDateWithGranularity)(eo.date,X);if(e>t&&([e,t]=[t,e]),e.getTime()!==t.getTime()){let a=(0,T.subMinutes)((0,B.getDateRangeFromGranularity)(t,X).to,1);W?.([e,a])}Q(null)}),onTouchMove:(0,I.withAwaitPaint)(ef),onTouchStart:e=>{e.preventDefault()},width:"100%",children:(0,t.jsxs)(n.Group,{left:V.left,top:V.top,children:[Y?null:(0,t.jsx)(s.GridRows,{numTicks:3,pointerEvents:"none",scale:en,stroke:"var(--accents-2)",width:J}),(0,t.jsx)(p,{data:[...ex,...eh],fill:"var(--ds-blue-600)",fillOpacity:.1,style:{transition:"fill 0.2s"},x:e=>es(et(e)),y:e=>en(ea(e)),yScale:en}),(0,t.jsx)(j.LinePath,{data:ex,stroke:"var(--ds-blue-700)",strokeWidth:Y?1.5:2,x:e=>es(et(e)),y:e=>en(ea(e))}),(0,t.jsx)(j.LinePath,{data:eh,stroke:"var(--ds-blue-700)",strokeDasharray:"4,8",strokeWidth:Y?1.5:2,x:e=>es(et(e)),y:e=>en(ea(e))}),Y?null:(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(r.AxisLeft,{hideAxisLine:!0,hideTicks:!0,numTicks:3,scale:en,tickFormat:e=>{let t;return Number(t=e)%1!=0?"":U?U(Number(t)):(0,E.formatNumberCompact)(Number(t))},tickLabelProps:()=>({dx:"-0.5em",dy:"0.25em",textAnchor:"end",fontSize:12,fill:"var(--accents-4)"})}),(0,t.jsx)(a.AxisBottom,{hideAxisLine:!0,hideTicks:!0,numTicks:q?2:el,scale:es,tickFormat:e=>(0,B.formatWithGranularity)(e,0===e.getHours()&&X===M.Granularity.Hour?M.Granularity.Day:X),tickLabelProps:()=>({dy:"0.25em",fill:"var(--accents-4)",fontSize:12,textAnchor:"middle"}),top:ee})]}),Z&&eo?.date&&!ej?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("rect",{fill:"var(--geist-success)",fillOpacity:.1,height:ee,pointerEvents:"none",width:Math.abs(es(eo.date)-es(Z)),x:Math.min(es(Z),es(eo.date)),y:0}),(0,t.jsx)(f.Line,{from:{x:es(Z),y:0},opacity:.2,pointerEvents:"none",stroke:"var(--geist-success)",strokeWidth:1.5,to:{x:es(Z),y:ee}})]}):null,eo?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(f.Line,{from:{x:ed,y:0},pointerEvents:"none",stroke:"var(--geist-foreground)",strokeWidth:2,to:{x:ed,y:ee+7}}),eh.length&&eo.date.getTime()===eg.date.getTime()?(0,t.jsx)(g.Circle,{className:"size-2 animate-pulse rounded-full bg-[var(--geist-success)]",cx:ed,cy:ec,fill:"var(--geist-success)",pointerEvents:"none",r:4,style:{transformOrigin:`${ed||0}px ${ec||0}px`}}):null,(0,t.jsx)(g.Circle,{cx:ed,cy:ec,fill:"var(--geist-success)",pointerEvents:"none",r:4})]}):null]})}),eo?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(b.TooltipWithBounds,{className:`pointer-events-none absolute flex flex-col items-center justify-center whitespace-nowrap rounded bg-background-100 px-4 py-2 text-gray-1000 shadow-tooltip ${Y?"text-xs":"text-sm"}`,left:(ed??0)+V.left,style:{background:"auto"},top:40,children:(0,t.jsxs)("div",{className:"flex flex-col items-center gap-1",children:[(0,t.jsxs)("div",{className:"flex flex-row items-center gap-2",children:[(0,t.jsx)("div",{className:(0,z.cn)(Y?"size-1.5":"size-2","rounded-full","bg-[var(--geist-success)]")}),(0,t.jsx)("span",{className:"font-normal",children:h||(0,E.labelFromType)(x)}),(0,t.jsx)("span",{className:"font-mono font-medium",children:(c=ea(eo),U?U(c):(0,E.formatNumber)(c))})]}),(0,t.jsx)("span",{className:"text-gray-900",children:eo.range})]})},Math.random()),(0,t.jsx)(y.default,{className:"pointer-events-none absolute flex -translate-x-1/2 flex-col items-center justify-center whitespace-nowrap rounded-[99px] bg-[var(--geist-background)] px-[var(--geist-space-2x)] py-[var(--geist-space)] shadow-[var(--ds-shadow-tooltip)] dark:shadow-none",left:ed??0,offsetLeft:V.left,offsetTop:32,top:P-V.top-V.bottom,unstyled:!0,children:(0,t.jsx)(F.Text,{color:"gray-1000",size:12,weight:500,children:eo.relativeTime})})]}):null]})}},[3988872,8273674]],4372536:e=>{"use strict";e.s({useCanToggleWebAnalytics:()=>r});var t=e.i(3585235),a=e.i(5785123);let r=()=>{let{can:e}=(0,t.default)();return e(a.Action.Create,a.Resource.WebAnalytics)}},7779467:e=>{"use strict";e.s({VisitorCount:()=>n});var t=e.i(6645307),a=e.i(5163670),r=e.i(555528),i=e.i(3114489);function s(e){let{pulseReason:a,online:r}=e;return(0,t.jsxs)("span",{className:"relative inline-block size-2 rounded-full bg-[var(--accents-1)] shadow-[inset_0_0_0_1px_var(--accents-2)] transition-all delay-75 duration-150",children:[(0,t.jsx)("span",{className:"absolute left-0 top-0 size-full rounded-full bg-[#0cce6b] transition-transform duration-150",style:{transitionDuration:"150ms",transform:r?"scale(1)":"scale(0)",transitionTimingFunction:r?"ease-in":"ease-out"}}),a?(0,t.jsx)("span",{className:"absolute left-0 top-0 size-full animate-ping-once rounded-full bg-[#0cce6b] transition-colors",style:{opacity:+!!r}},a):null]})}function n(e){let{count:n,loading:l}=e;return(0,t.jsxs)("span",{className:"flex items-center gap-1.5",children:[(0,t.jsx)(s,{online:0!==n,pulseReason:n.toString()}),l&&0===n?(0,t.jsx)(a.Skeleton,{height:20,width:65}):(0,t.jsx)(r.Tooltip,{cursor:"default",position:"top",text:"Visitors in the past 3 minutes",children:(0,t.jsxs)("span",{className:"text-label-14",children:[(0,t.jsx)(i.AnimatedNumber,{value:n})," online"]})})]})}},8282024:e=>{"use strict";e.s({ProductionDeploymentCardSkeleton:()=>m});var t=e.i(6645307),a=e.i(6531164),r=e.i(611347),i=e.i(5163670),s=e.i(8811733),n=e.i(889716),l=e.i(8084653),o=e.i(5610210),d=e.i(878537),c=e.i(3240325);function m(e){let{visible:m=!0}=e;return(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)(r.Fieldset,{className:(0,o.clsx)("z-[1]","shadow-[0_1px_0_rgba(0,0,0,0.08),0_2px_2px_rgba(0,0,0,0.04)]","border-none","rounded-lg","bg-clip-padding","[&>div:first-child]:p-4",!m&&"invisible"),children:[(0,t.jsx)(a.FieldsetContent,{children:(0,t.jsxs)(d.default,{direction:["column","row"],children:[(0,t.jsx)(d.default,{className:"w-screen max-w-[38%] flex-none max-[860px]:max-w-full",children:(0,t.jsx)(i.Skeleton,{style:{paddingTop:"62.5%",minHeight:"100%"},width:"100%"})}),(0,t.jsx)(d.default,{className:"justify-start pt-2 max-[860px]:ml-0 max-[860px]:pl-1 max-[860px]:mt-[calc(var(--geist-gap)*var(--gap-ratio))]",children:(0,t.jsxs)(n.Stack,{gap:5.5,children:[(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)(n.Stack,{gap:2,children:[(0,t.jsx)(l.Text,{color:"gray-900",lineHeight:14,children:"Deployment"}),(0,t.jsx)(i.Skeleton,{height:16,width:190})]}),(0,t.jsx)(n.Stack,{align:"center",direction:"row",gap:2,children:(0,t.jsx)(i.Skeleton,{boxHeight:32,height:32,rounded:!0,width:32,className:"mr-2"})})]}),(0,t.jsxs)(n.Stack,{gap:2,children:[(0,t.jsx)(l.Text,{color:"gray-900",lineHeight:14,children:"Domains"}),(0,t.jsx)(i.Skeleton,{boxHeight:20,height:16,width:220})]}),(0,t.jsxs)("div",{className:"flex",children:[(0,t.jsxs)(n.Stack,{gap:2,children:[(0,t.jsx)(l.Text,{color:"gray-900",lineHeight:14,children:"Status"}),(0,t.jsx)(i.Skeleton,{boxHeight:22,height:16,width:60})]}),(0,t.jsx)(s.Spacer,{x:1,y:.75}),(0,t.jsxs)(n.Stack,{gap:2,children:[(0,t.jsx)(l.Text,{color:"gray-900",lineHeight:14,children:"Created"}),(0,t.jsx)(i.Skeleton,{boxHeight:22,height:16,width:180})]})]}),(0,t.jsxs)(n.Stack,{gap:2,children:[(0,t.jsx)(l.Text,{color:"gray-900",lineHeight:14,children:"Source"}),(0,t.jsxs)(n.Stack,{gap:.5,children:[(0,t.jsx)(i.Skeleton,{boxHeight:22,height:16,width:120}),(0,t.jsx)(i.Skeleton,{boxHeight:22,height:16,width:240})]})]})]})})]})}),(0,t.jsx)(c.DeploymentConfigurationSkeleton,{className:"rounded-b"})]})})}},9535475:e=>{"use strict";e.s({DeploymentCardContainer:()=>n,DeploymentCardStatusBar:()=>l,DeploymentCardStatusBarLeft:()=>o,DeploymentCardStatusBarRight:()=>d,getStatusBarVariant:()=>s});var t=e.i(6645307),a=e.i(5610210),r=e.i(6531164),i=e.i(611347);function s(e){let{productionDeploymentIsStale:t,upcomingDeployment:a,isLoading:r}=e;return r?"default":t?"warning":a?.aliasError?"error":"default"}function n(e){let{children:r,variant:i="default"}=e;return(0,t.jsx)("div",{className:(0,a.clsx)("material-base isolate !rounded-md border-x-0 border-b border-t-0","after:absolute after:-inset-px after:bottom-0 after:z-[-2] after:block after:rounded-md after:bg-gradient-to-b after:from-gray-300 after:from-40% after:to-90% after:content-['']","before:absolute before:inset-0 before:bottom-px before:z-[-1] before:block before:rounded-md before:content-['']",{"before:bg-background-100 after:to-gray-200":"light"===i,"before:bg-background-200 after:to-gray-300":"default"===i,"before:bg-red-300 after:to-red-400":"error"===i,"before:bg-amber-300 after:to-amber-400":"warning"===i}),children:r})}function l(e){let{variant:s="default",children:n,...l}=e;return(0,t.jsxs)(i.Fieldset,{className:(0,a.clsx)("relative w-full rounded-b-[7px] rounded-t-none shadow-none",{"bg-background-100":"light"===s,"bg-background-200":"default"===s,"bg-red-300 text-red-900":"error"===s,"bg-amber-200 text-amber-900":"warning"===s}),...l,children:["default"!==s&&"light"!==s?(0,t.jsx)("div",{className:"absolute inset-0",style:{backgroundImage:"error"===s?"repeating-linear-gradient(-45deg, transparent, transparent 16px, var(--ds-red-400) 16px, var(--ds-red-400) 32px)":"repeating-linear-gradient(-45deg, transparent, transparent 16px, var(--ds-amber-400) 16px, var(--ds-amber-400) 32px)",maskImage:"linear-gradient(to left, rgba(255, 255, 255, 0.3) 0%, rgba(255, 255, 255, 0) 30%)"}}):null,(0,t.jsx)(r.FieldsetContent,{className:"flex w-full items-center justify-between bg-transparent px-4 py-3 md:py-0 md:pl-4 md:pr-2",children:(0,t.jsx)("div",{className:"space-between text-copy-14 flex w-full flex-col items-start gap-x-2 gap-y-4 md:h-12 md:flex-row md:items-center",children:n})})]})}function o(e){let{children:r,className:i}=e;return(0,t.jsx)("div",{className:(0,a.clsx)("flex min-h-[44px] w-full items-center lg:min-h-full",i),children:r})}function d(e){let{children:a}=e;return(0,t.jsx)("div",{className:"w-full shrink-0 md:ml-auto md:w-auto md:text-right",children:a})}},4076993:e=>{"use strict";e.s({ProductionDeploymentBar:()=>D});var t=e.i(6645307),a=e.i(6530772),r=e.i(1296535),i=e.i(5674541),s=e.i(5163670),n=e.i(555528),l=e.i(6458203),o=e.i(643238),d=e.i(9590492),c=e.i(1735144),m=e.i(1093245),u=e.i(2362802),x=e.i(1164214),h=e.i(503726),p=e.i(3585235),g=e.i(5785123),f=e.i(2774739),j=e.i(4418725),y=e.i(5220264),b=e.i(587741),v=e.i(9542446),w=e.i(3900584),S=e.i(9535475),N=e.i(9371072),k=e.i(6700141);function D(e){let{loading:a=!0,project:r,upcomingDeployment:i,onCancelUpcomingDeployment:n,previousDeployment:l,aliasError:o,projectLink:d,productionDeployment:m,productionDeploymentIsStale:u}=e;return(0,t.jsx)(S.DeploymentCardStatusBar,{"data-testid":(0,x.tid)("production-deployment-bar","container",a?"loading":""),variant:(0,S.getStatusBarVariant)({productionDeploymentIsStale:u,upcomingDeployment:i,isLoading:a}),children:a?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(S.DeploymentCardStatusBarLeft,{children:(0,t.jsx)(s.Skeleton,{boxHeight:20,height:16,vcenter:!0,width:"40%"})}),(0,t.jsx)(S.DeploymentCardStatusBarRight,{children:(0,t.jsx)("div",{className:"flex h-auto items-center overflow-visible md:h-[20px]",children:(0,t.jsx)(s.Skeleton,{autoSize:!0,className:"h-[32px] w-full md:w-[32px]"})})})]}):o?(0,t.jsxs)(S.DeploymentCardStatusBarLeft,{children:[(0,t.jsx)(c.StopFill,{color:"red-900"}),"Failed to Assign Domain: ",o.message]}):u?(0,t.jsx)(C,{previousDeployment:l,productionDeployment:m,project:r}):i?(0,t.jsx)(T,{onCancelUpcomingDeployment:n,upcomingDeployment:i,project:r}):(0,t.jsx)(L,{project:r,projectLink:d})})}function C(e){let{project:s,productionDeployment:n,previousDeployment:l}=e,o=(0,j.useTeamSlug)(),c=s?.autoAssignCustomDomains??!0,x=s?.autoAssignCustomDomainsUpdatedBy==="system",h=`/${o??""}/${s?.name||""}/settings/environments/production`,{value:p}=(0,k.useEnableNewInstantRollbackFlow)(),[g,f]=(0,a.useState)(!1),y=(0,a.useCallback)(()=>c?(0,t.jsxs)("span",{className:"text-label-14",children:["Pushing a new deployment to production will remove the rollback."," ",(0,t.jsx)(u.Link,{className:"font-medium underline",external:!0,href:"https://vercel.com/docs/deployments/instant-rollback",children:"Learn More"})]}):x?(0,t.jsxs)("span",{className:"text-label-14",children:["To undo the rollback"," ",(0,t.jsx)(u.Link,{className:"font-medium underline",external:!0,href:"https://vercel.com/docs/deployments/promoting-a-deployment#promote-a-deployment-from-preview-to-production",children:"promote to production"})," ","or"," ",(0,t.jsx)(u.Link,{className:"font-medium underline",external:!0,href:h,children:"re-enable auto-assigning custom domains"})]}):(0,t.jsxs)("span",{className:"text-label-14",children:["Auto-assigning production domains is disabled for this project. To undo the rollback"," ",(0,t.jsx)(u.Link,{className:"font-medium underline",external:!0,href:"https://vercel.com/docs/deployments/promoting-a-deployment#promote-a-deployment-from-preview-to-production",children:"promote to production"})]}),[c,x,p,h,g]),b=new URLSearchParams;return b.set("environment","production"),b.set("status","ready,error,canceled"),l&&n&&b.set("range",JSON.stringify({start:new Date(n.createdAt).toISOString(),end:(0,r.addSeconds)(new Date(l.createdAt),1).toISOString()})),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(S.DeploymentCardStatusBarLeft,{children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(m.WarningFill,{color:"amber-900"}),(0,t.jsx)(y,{})]})}),(0,t.jsx)(S.DeploymentCardStatusBarRight,{children:(0,t.jsx)("div",{className:"flex h-auto items-center overflow-visible md:h-[20px]",children:p?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(N.UndoRollbackModal,{open:g,setOpen:f}),(0,t.jsx)(i.Button,{className:"w-full",onClick:()=>{f(e=>!e)},size:"small",type:"secondary",children:"Undo Rollback"})]}):(0,t.jsx)(u.ButtonLink,{className:"w-full",href:`/${o}/${s?.name??""}/deployments?${b.toString()}`,prefix:(0,t.jsx)(d.ListUnordered,{}),size:"small",type:"secondary",children:"Deployments"})})})]})}function L(e){let{project:a,projectLink:r}=e,i=(0,h.useAccount)(),s=i.team?.slug||i.user?.username,n=s&&a?`/${s}/${a.name}/settings/git`:void 0;return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(S.DeploymentCardStatusBarLeft,{children:r?(0,t.jsxs)("span",{className:"text-gray-900",children:["To update your Production Deployment, push to the"," ",a?.link?.productionBranch?(0,t.jsx)("span",{className:"font-mono",children:a.link.productionBranch}):"Repository Default"," ","branch."]}):(0,t.jsxs)("span",{className:"text-gray-900",children:["To deploy to Production, connect to git, or run"," ",(0,t.jsx)("span",{className:"font-mono",children:"vercel --prod"})," via the CLI."]})}),(0,t.jsxs)(S.DeploymentCardStatusBarRight,{children:[(0,t.jsxs)("div",{className:"flex w-full items-center gap-3 md:hidden",children:[(0,t.jsx)(v.DashboardButtonLink,{className:"w-full shrink",prefix:(0,t.jsx)(o.ListFilter,{color:"gray-900"}),route:"/[teamSlug]/[project]/deployments",search:{environment:"production"},size:"small",type:"secondary",children:"Deployments"}),(0,t.jsx)(u.ButtonLink,{as:n,className:"w-full shrink",href:"/docs/git#production-branch",prefix:(0,t.jsx)(l.BookOpen,{color:"gray-900"}),size:"small",tab:!0,type:"secondary",children:"Learn More"})]}),(0,t.jsxs)("div",{className:"hidden h-[20px] shrink-0 items-center gap-2 overflow-visible md:flex",children:[(0,t.jsx)(v.DashboardButtonLink,{prefix:(0,t.jsx)(o.ListFilter,{color:"gray-900"}),route:"/[teamSlug]/[project]/deployments",search:{environment:"production"},size:"small",type:"secondary",children:"Deployments"}),(0,t.jsx)(u.ButtonLink,{"aria-label":"Learn more",as:n,href:"/docs/git#production-branch",shape:"square",size:"small",svgOnly:!0,tab:!0,type:"secondary",children:(0,t.jsx)(l.BookOpen,{color:"gray-900"})})]})]})]})}function T(e){let{upcomingDeployment:a,onCancelUpcomingDeployment:r,project:s}=e,{user:l,team:o}=(0,h.useAccount)(),d=(0,f.useAgo)(a.createdAt),{can:c,isLoading:m}=(0,p.default)({projectIdOrName:s?.name}),u=null!==a.target?g.Resource.DeploymentFromProductionBranch:g.Resource.DeploymentPreview,x=c(g.Action.Update,u),j=!m&&x&&("QUEUED"===a.readyState||"BUILDING"===a.readyState);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(S.DeploymentCardStatusBarLeft,{className:"md:truncate",children:(0,t.jsx)("div",{className:"text-label-14 flex min-w-0 flex-1 items-center gap-2",children:(0,t.jsxs)("div",{className:"flex min-w-0 flex-col gap-1",children:[(0,t.jsxs)("div",{className:"flex min-w-0 items-center gap-2",children:[(0,t.jsx)(y.default,{className:"[&>*]:font-normal",deployment:a,label:!0}),(0,t.jsx)("span",{children:"·"}),(0,t.jsx)(R,{deployment:a,team:o,user:l})]}),(0,t.jsx)("div",{className:"flex md:hidden",children:(0,t.jsxs)("div",{className:"flex shrink-0 items-center gap-1",children:[(0,t.jsx)("span",{className:"text-gray-900",children:d}),(0,t.jsx)(w.DeploymentCreatorAvatar,{deployment:a,showIcon:!1,size:20}),(0,t.jsx)("span",{className:"text-gray-1000",children:(0,w.getDeploymentCreatorUsername)({deployment:a})})]})})]})})}),(0,t.jsx)(S.DeploymentCardStatusBarRight,{children:(0,t.jsxs)("div",{className:"text-label-14 flex flex-1 shrink-0 items-center gap-2",children:[(0,t.jsxs)("div",{className:"hidden items-center gap-1 md:flex",children:[(0,t.jsx)("span",{className:"text-gray-900",children:d}),(0,t.jsx)(w.DeploymentCreatorAvatar,{deployment:a,showIcon:!1,size:20}),(0,t.jsx)("span",{className:"text-gray-1000",children:(0,w.getDeploymentCreatorUsername)({deployment:a})})]}),(0,t.jsx)("div",{className:"flex h-auto w-full items-center overflow-visible md:h-[20px] md:w-auto",children:(0,t.jsx)(n.Tooltip,{className:"w-full md:w-auto",desktopOnly:!0,forceHide:j,text:"Missing permissions to cancel",children:(0,t.jsx)(i.Button,{className:"w-full md:w-auto",disabled:!j,onClick:r,size:"small",type:"secondary",children:"Cancel"})})})]})})]})}function R(e){let{deployment:r,user:i,team:s}=e,n=(0,b.pathFromDeployment)(r,{user:i,team:s}),l=(0,a.useMemo)(()=>{let{meta:e,source:t}=r;return e.githubDeployment&&e.githubCommitMessage?e.githubCommitMessage:e.bitbucketDeployment&&e.bitbucketCommitMessage?e.bitbucketCommitMessage:e.gitlabDeployment&&(e.gitlabCommitMessage||e.gitCommitMessage)?e.gitlabCommitMessage||e.gitCommitMessage:"cli"===t?"New Deployment created with Vercel CLI":t?null:"New Deployment created"},[r]);return(0,t.jsx)(u.Link,{className:"text-label-14 truncate",href:n,variant:"secondary",children:l})}},4135728:e=>{"use strict";e.s({ProjectAnalyticsCard:()=>N,ProjectAnalyticsCardSkeleton:()=>C});var t=e.i(6645307),a=e.i(8084653),r=e.i(3921802),i=e.i(5163670),s=e.i(5674541),n=e.i(1243142),l=e.i(1776806),o=e.i(3345839),d=e.i(2362802),c=e.i(6649026),m=e.i(1748110),u=e.i(2707427),x=e.i(2260777),h=e.i(2843192),p=e.i(9648692),g=e.i(4372536),f=e.i(9645893),j=e.i(1000331),y=e.i(6967562),b=e.i(7779467),v=e.i(7834378);let w={good:"green-subtle",bad:"red-subtle",neutral:"gray-subtle","no-data":"gray-subtle"},S={ssr:{timeout:3e3}};function N(e){let{teamSlug:a,projectSlug:r}=e,{data:i,isLoading:s}=(0,j.useDashboardProject)({teamSlug:a,projectSlug:r});return s||!i?(0,t.jsx)(C,{}):(0,y.isFeatureEnabled)(i.webAnalytics)?(0,t.jsx)(D,{project:i,teamSlug:a}):(0,t.jsx)(k,{project:i,teamSlug:a})}function k(e){let{project:a,teamSlug:r}=e,i=(0,g.useCanToggleWebAnalytics)();return(0,t.jsxs)(v.ProjectDetailsCard,{children:[(0,t.jsx)(v.ProjectCardDetailsHeader,{href:`/${r}/${a.name}/analytics`,title:"Analytics"}),(0,t.jsx)(v.ProjectCardDetailsContent,{children:(0,t.jsx)(v.ProjectCardDetailsEmptyState,{cta:(0,t.jsx)(d.ButtonLink,{className:"text-label-14 font-medium",disabled:!i,href:`/${r}/${a.name}/analytics?enable=1&source=project-overview-analytics-card`,size:"small",type:"tertiary",children:"Enable"}),icon:(0,t.jsx)(n.Analytics,{}),subtitle:"Track visitors and page views"})})]})}function D(e){let{teamSlug:i,project:s}=e,n=(0,u.getRangeFromPeriod)("7d"),{data:d,isLoading:g,error:j,mutate:y}=(0,o.useIsomorphicSWR)(`/api/web-analytics/overview${(0,c.encode)({from:n.from.toISOString(),to:n.to.toISOString(),teamId:i,projectId:s.name})}`,S),{data:N}=(0,o.useIsomorphicSWR)(`/api/web-analytics/overview${(0,c.encode)({from:(0,m.subDays)(n.from,7).toISOString(),to:(0,m.subDays)(n.to,7).toISOString(),teamId:i,projectId:s.name})}`,S),{data:k,isLoading:D}=(0,o.useIsomorphicSWR)(`/api/web-analytics/timeseries${(0,c.encode)({from:n.from.toISOString(),to:n.to.toISOString(),teamId:i,projectId:s.name,tz:(0,x.getClientTimezone)()})}`,S),{data:T,isLoading:R}=(0,o.useIsomorphicSWR)(`/api/web-analytics/realtime${(0,c.encode)({teamId:i,projectId:s.name})}`,{...S,refreshInterval:1e4});if(g&&!d||D&&!k)return(0,t.jsx)(C,{});if(j)return(0,t.jsx)(L,{onRetry:()=>{y()},projectSlug:s.name,teamSlug:i});let P=d?.devices??0,A=(0,f.getPercentageTrend)(N?.devices??0,P),I=!!s.webAnalytics?.hasData;return(0,t.jsxs)(v.ProjectDetailsCard,{className:"relative after:pointer-events-none after:absolute after:inset-0 after:rounded-md after:border after:border-solid after:border-[#fff]/15 after:content-[''] dark:after:hidden",children:[(0,t.jsx)(v.ProjectCardDetailsHeader,{duration:"1w",href:`/${i}/${s.name}/analytics`,title:"Analytics"}),(0,t.jsxs)(v.ProjectCardDetailsContent,{children:[(0,t.jsxs)("div",{className:"flex min-h-[44px] flex-col justify-between gap-1 px-4",children:[(0,t.jsxs)("div",{className:"flex h-[20px] items-center gap-2.5 overflow-visible",children:[I?(0,t.jsxs)(a.Text,{variant:"label-14",weight:500,children:[new Intl.NumberFormat("en-US",{notation:"compact",maximumFractionDigits:1,compactDisplay:"short"}).format(P)," Visitors"]}):(0,t.jsx)(a.Text,{color:"gray-900",variant:"label-14",children:"No data"}),"no-data"!==A.type?(0,t.jsxs)(r.Badge,{variant:w[A.type],children:[A.value,A.unit]}):null]}),(0,t.jsx)(b.VisitorCount,{count:T?.devices??0,loading:R})]}),(0,t.jsx)("div",{className:"mt-2.5 h-[138px] w-full",children:(0,t.jsx)(l.ParentSize,{children:e=>{let{width:a,height:r}=e;return(0,t.jsx)(h.Graph,{data:k?.data??[],height:r,margin:{top:0,left:0,right:0,bottom:0},range:n,type:p.AnalyticsType.Visitors,variant:"minimal",width:a})}})})]})]})}function C(){return(0,t.jsxs)(v.ProjectDetailsCard,{children:[(0,t.jsx)(v.ProjectCardDetailsHeader,{duration:"1w",title:"Analytics"}),(0,t.jsx)(v.ProjectCardDetailsContent,{children:(0,t.jsxs)("div",{className:"flex flex-col justify-between gap-1 px-4",children:[(0,t.jsxs)("div",{className:"flex gap-2.5",children:[(0,t.jsx)(i.Skeleton,{height:20,width:100}),(0,t.jsx)(i.Skeleton,{height:20})]}),(0,t.jsx)(i.Skeleton,{height:20,width:100})]})})]})}function L(e){let{teamSlug:a,projectSlug:r,onRetry:i}=e;return(0,t.jsxs)(v.ProjectDetailsCard,{children:[(0,t.jsx)(v.ProjectCardDetailsHeader,{duration:"1w",href:`/${a}/${r}/analytics`,title:"Analytics"}),(0,t.jsx)(v.ProjectCardDetailsContent,{children:(0,t.jsx)(v.ProjectCardDetailsEmptyState,{cta:(0,t.jsx)(s.Button,{className:"text-label-14 font-medium",onClick:i,size:"small",type:"tertiary",children:"Retry"}),icon:(0,t.jsx)(n.Analytics,{}),subtitle:"We couldn't load analytics data"})})]})}},4202269:e=>{"use strict";e.s({ProjectObservabilityCard:()=>u,ProjectObservabilityCardSkeleton:()=>h});var t=e.i(6645307),a=e.i(6530772),r=e.i(5163670),i=e.i(7466319),s=e.i(2260777),n=e.i(7834378),l=e.i(284627),o=e.i(2273091),d=e.i(4645627),c=e.i(6392382),m=e.i(2256286);function u(e){let{teamSlug:r,projectSlug:u}=e,h=(0,a.useRef)((0,i.subHours)(new Date,6)),p=(0,a.useRef)(new Date),g=h.current,f=p.current,{data:j,isLoading:y}=(0,l.useSonarQuery)({event:"incomingRequest",granularity:{minutes:15},rollups:{count:{measure:"count",aggregation:"sum"}},startTime:g,endTime:f},{disableRefetch:!0}),{data:b,isLoading:v,isRelativeTime:w}=(0,l.useSonarQuery)({event:"serverlessFunctionInvocation",granularity:{minutes:15},rollups:{total:{measure:"count",aggregation:"sum"},errors:{measure:"count",aggregation:"sum",filter:d.SERVERLESS_DEFAULT_ERROR_FILTER},timeouts:{measure:"count",aggregation:"sum",filter:d.SERVERLESS_TIMEOUT_FILTER}},limit:500,tailRollup:"truncate",summaryOnly:!1,startTime:g,endTime:f},{disableRefetch:!0}),S=j?.data?.map(e=>({name:e.timestamp.toISOString(),Requests:e.count}))??[],N=(0,a.useMemo)(()=>b?.data?b.data.map(e=>{let{timestamp:t,errors:a,timeouts:r,total:i}=e;return{name:t.toISOString(),Error:0===i?null:(0,c.calculatePercentage)(a,i),Timeout:0===i?null:(0,c.calculatePercentage)(r,i)}}):[],[b?.data]),k=Math.max(...N.flatMap(e=>[e.Error||0,e.Timeout||0])),D=Math.max(...S.map(e=>e.Requests)),C=(0,a.useMemo)(()=>b?.data?b.data.map(e=>{let{timestamp:t,total:a}=e;return{name:t.toISOString(),Invocations:a}}):[],[b?.data]);return(0,t.jsxs)(n.ProjectDetailsCard,{allowOverflow:!0,children:[(0,t.jsx)(n.ProjectCardDetailsHeader,{duration:"6h",href:`/${r}/${u}/observability?period=6h`,title:"Observability"}),(0,t.jsx)(n.ProjectCardDetailsContent,{className:"px-4 pt-0",children:(0,t.jsxs)("div",{className:"grid grid-cols-[auto_1fr] gap-4",children:[(0,t.jsx)(x,{isLoading:y,title:"Edge Requests",value:(0,s.formatNumberCompact)(j?.summary[0]?.count??0)}),(0,t.jsx)("div",{className:"mt-2.5 h-[35px] w-full",children:(0,t.jsx)(o.LineChart,{data:S,isLoading:y,isRelativeTime:w,emptyState:"",hideXAxis:!0,hideYAxis:!0,disableLegend:!0,disableZoom:!0,hideGrid:!0,syncId:"edge-requests",getColor:()=>"var(--geist-success)"})}),(0,t.jsx)(x,{isLoading:v,title:"Function Invocations",value:(0,s.formatNumberCompact)(b?.summary[0]?.total??0)}),(0,t.jsx)("div",{className:"mt-2.5 h-[35px] w-full",children:(0,t.jsx)(o.LineChart,{data:C,disableLegend:!0,disableZoom:!0,isLoading:v,isRelativeTime:w,syncId:"function-invocations",emptyState:"",hideXAxis:!0,hideYAxis:!0,hideGrid:!0,getColor:()=>"var(--geist-success)",...D>0?{yAxisDomain:[0,D]}:{}})}),(0,t.jsx)(x,{isLoading:v,title:"Error Rate",value:(0,m.formatPercentage)(b?.summary[0]?.errors??0,b?.summary[0]?.total??0)}),(0,t.jsx)("div",{className:"mt-2.5 h-[35px] w-full",children:(0,t.jsx)(o.LineChart,{data:N,disableLegend:!0,disableZoom:!0,emptyState:"",isLoading:v,isRelativeTime:w,getColor:e=>"Error"===e?"var(--geist-error)":"Timeout"===e?"var(--geist-warning)":"var(--geist-success)",syncId:"error-rate",hideXAxis:!0,hideTooltip:0===N.length,hideYAxis:!0,formatValue:c.formatPercentageChart,hideGrid:!0,yAxisDomain:[0,Math.max(5,k)]})})]})})]})}function x(e){let{title:a,value:i,isLoading:s}=e;return(0,t.jsxs)("div",{className:"self-center",children:[(0,t.jsx)("div",{className:"whitespace-nowrap text-gray-800",children:a}),(0,t.jsx)("div",{className:"font-gray-1000 font-medium",children:s?(0,t.jsx)(r.Skeleton,{}):i})]})}function h(){return(0,t.jsxs)(n.ProjectDetailsCard,{allowOverflow:!0,children:[(0,t.jsx)(n.ProjectCardDetailsHeader,{duration:"6h",href:"#",title:"Observability"}),(0,t.jsx)(n.ProjectCardDetailsContent,{className:"px-4 pt-0",children:(0,t.jsxs)("div",{className:"tailwind grid grid-cols-[auto_1fr] gap-4",children:[(0,t.jsx)(x,{isLoading:!0,title:"Edge Requests",value:""}),(0,t.jsx)("div",{className:"mt-2.5 h-[35px] w-full border-b border-gray-200"}),(0,t.jsx)(x,{isLoading:!0,title:"Function Invocations",value:""}),(0,t.jsx)("div",{className:"mt-2.5 h-[35px] w-full border-b border-gray-200"}),(0,t.jsx)(x,{isLoading:!0,title:"Error Rate",value:""}),(0,t.jsx)("div",{className:"mt-2.5 h-[35px] w-full border-b border-gray-200"})]})})]})}}}]);

//# sourceMappingURL=7dceaff8555e5390.js.map
//# debugId=bf1d20b5-76a9-547e-a0cd-edc170c9da71
